!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OracleDataProvider=t():e.OracleDataProvider=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./dist/index.js")}({"./dist/constants.js":
/*!***************************!*\
  !*** ./dist/constants.js ***!
  \***************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SCAM=-2]="SCAM",e[e.SUSPICIOUS=-1]="SUSPICIOUS",e[e.NOT_VERIFY=0]="NOT_VERIFY",e[e.DETAILED=1]="DETAILED",e[e.VERIFIED=2]="VERIFIED"}(t.STATUS_LIST||(t.STATUS_LIST={})),function(e){e[e.BETA=0]="BETA"}(t.DATA_PROVIDER_VERSIONS||(t.DATA_PROVIDER_VERSIONS={})),function(e){e.ERROR="error",e.OK="ok",e.EMPTY="empty"}(t.RESPONSE_STATUSES||(t.RESPONSE_STATUSES={})),function(e){e.INTEGER="integer",e.STRING="string",e.BINARY="binary",e.BOOLEAN="boolean"}(t.DATA_ENTRY_TYPES||(t.DATA_ENTRY_TYPES={})),function(e){e.VERSION="data_provider_version",e.NAME="data_provider_name",e.LINK="data_provider_link",e.EMAIL="data_provider_email",e.LANG_LIST="data_provider_lang_list",e.LOGO="data_provider_logo"}(t.DATA_PROVIDER_KEYS||(t.DATA_PROVIDER_KEYS={})),t.DATA_PROVIDER_DESCRIPTION_PATTERN="data_provider_description_<LANG>",function(e){e.VERSION="version_<ASSET_ID>",e.STATUS="status_<ASSET_ID>",e.LOGO="logo_<ASSET_ID>",e.DESCRIPTION="description_<LANG>_<ASSET_ID>",e.LINK="link_<ASSET_ID>",e.TICKER="ticker_<ASSET_ID>",e.EMAIL="email_<ASSET_ID>"}(t.ORACLE_ASSET_FIELD_PATTERN||(t.ORACLE_ASSET_FIELD_PATTERN={})),t.PATTERNS={ASSET_ID:"<ASSET_ID>",LANG:"<LANG>"}},"./dist/index.js":
/*!***********************!*\
  !*** ./dist/index.js ***!
  \***********************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./parse */"./dist/parse/index.js"),i=r(/*! ./utils */"./dist/utils/index.js"),T=r(/*! ./schemas */"./dist/schemas/index.js");function s(e){return T.DATA_TO_FIELDS.PROVIDER(e)}function o(e){return T.DATA_TO_FIELDS.ASSET(e)}function E(e){return i.isProvider(e)?s(e):o(e)}function S(e){return Array.isArray(e)?e:E(e)}t.getProviderData=function(e){return n.parseOracleData(i.toHash("key")(e))},t.getProviderAssets=function(e){return n.parseAssetData(i.toHash("key")(e))},t.getFieldsFromData=s,t.getFieldsFromAsset=o,t.getFields=E,t.getDifferenceByData=function(e,t){return i.getFieldsDiff(S(e),S(t))},t.getDifferenceByFields=function(e,t){return i.getFieldsDiff(e,t)},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(/*! ./constants */"./dist/constants.js"))},"./dist/parse/index.js":
/*!*****************************!*\
  !*** ./dist/parse/index.js ***!
  \*****************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../response */"./dist/response/index.js"),i=r(/*! ../constants */"./dist/constants.js"),T=r(/*! ../schemas */"./dist/schemas/index.js");function s(e,t){return e.replace(i.PATTERNS.ASSET_ID,"<"+t+">")}t.parseOracleData=function(e){try{var t=n.getFieldValue(e,i.DATA_PROVIDER_KEYS.VERSION,i.DATA_ENTRY_TYPES.INTEGER);return T.DATA_PROVIDER_VERSION_MAP[t](e)}catch(e){return{status:i.RESPONSE_STATUSES.ERROR,content:{},errors:[{path:"version",error:e}]}}},t.parseAssetData=function(e){return Object.keys(e).map(n.getAssetIdFromKey).filter(n.isString).map(function(t){try{var r=n.getFieldValue(e,s("version_<ASSET_ID>",t),i.DATA_ENTRY_TYPES.INTEGER),o=n.getFieldValue(e,s("status_<ASSET_ID>",t),i.DATA_ENTRY_TYPES.INTEGER);return T.ASSETS_VERSION_MAP[r](t,o)(e)}catch(e){return{status:i.RESPONSE_STATUSES.ERROR,content:{id:t},errors:[{path:"version",error:e}]}}})}},"./dist/response/index.js":
/*!********************************!*\
  !*** ./dist/response/index.js ***!
  \********************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../constants */"./dist/constants.js");function i(e,t,r){var n=e[t];if(!n)throw new Error("Has no field with name "+t);if(n.type!==r)throw new Error("Wrong field type! "+n.type+" is not equal to "+r);return n.value}t.schema=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=[];return function(t){var i=Object.create(null),T=e.reduce(function(e,n){return n(r)(e,t)},i);return r.length?{content:T,errors:r,status:n.RESPONSE_STATUSES.ERROR}:{content:T,status:n.RESPONSE_STATUSES.OK}}},t.processField=function(e,t,r,n){return function(T){return function(s,o){try{return s[t]=i(o,e,r),s}catch(e){(n||null==n)&&T.push({path:t,error:e})}return s}}},t.addAssetId=function(e){return function(t){return function(t){return t.id=e,t}}},t.processDescription=function(e,t){return function(r){return function(T,s){try{var o=i(s,n.DATA_PROVIDER_KEYS.LANG_LIST,n.DATA_ENTRY_TYPES.STRING),E=Object.create(null);o.split(",").forEach(function(T){var o=function(e,t){return t?"description_<LANG>_<ASSET_ID>".replace(n.PATTERNS.LANG,"<"+e+">").replace(n.PATTERNS.ASSET_ID,"<"+t+">"):n.DATA_PROVIDER_DESCRIPTION_PATTERN.replace(n.PATTERNS.LANG,"<"+e+">")}(T,e);try{E[T]=i(s,o,n.DATA_ENTRY_TYPES.STRING)}catch(e){(t||null==t)&&r.push({path:"description."+T,error:e})}}),Object.keys(E).length&&(T.description=E)}catch(e){(t||null==t)&&r.push({path:"description",error:e})}return T}}},t.getFieldValue=i,t.getAssetIdFromKey=function(e){var t="status_<ASSET_ID>".replace(n.PATTERNS.ASSET_ID,"");if(0!==e.indexOf(t))return null;var r=(e.match(/<(.+)?>/)||[])[1];return r&&"status_<ASSET_ID>".replace(n.PATTERNS.ASSET_ID,"<"+r+">")===e?r:null},t.isString=function(e){return"string"==typeof e}},"./dist/schemas/index.js":
/*!*******************************!*\
  !*** ./dist/schemas/index.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0});var T=r(/*! ../constants */"./dist/constants.js"),s=r(/*! ../response */"./dist/response/index.js"),o=r(/*! ../utils */"./dist/utils/index.js");t.DATA_PROVIDER_VERSION_MAP=((n={})[T.DATA_PROVIDER_VERSIONS.BETA]=s.schema(s.processField(T.DATA_PROVIDER_KEYS.VERSION,"version",T.DATA_ENTRY_TYPES.INTEGER),s.processField(T.DATA_PROVIDER_KEYS.NAME,"name",T.DATA_ENTRY_TYPES.STRING),s.processField(T.DATA_PROVIDER_KEYS.LINK,"link",T.DATA_ENTRY_TYPES.STRING),s.processField(T.DATA_PROVIDER_KEYS.EMAIL,"email",T.DATA_ENTRY_TYPES.STRING),s.processDescription()),n),t.ASSETS_VERSION_MAP=((i={})[T.DATA_PROVIDER_VERSIONS.BETA]=function(e,t){var r=o.replaceKey(e);switch(t){case T.STATUS_LIST.SCAM:case T.STATUS_LIST.SUSPICIOUS:case T.STATUS_LIST.NOT_VERIFY:return s.schema(s.processField(r("version_<ASSET_ID>"),"version",T.DATA_ENTRY_TYPES.INTEGER),s.addAssetId(e),s.processField(r("status_<ASSET_ID>"),"status",T.DATA_ENTRY_TYPES.INTEGER),s.processField(r("link_<ASSET_ID>"),"link",T.DATA_ENTRY_TYPES.STRING,!1),s.processField(r("ticker_<ASSET_ID>"),"ticker",T.DATA_ENTRY_TYPES.STRING,!1),s.processField(r("email_<ASSET_ID>"),"email",T.DATA_ENTRY_TYPES.STRING,!1),s.processDescription(e,!1));case T.STATUS_LIST.DETAILED:case T.STATUS_LIST.VERIFIED:return s.schema(s.processField(r("version_<ASSET_ID>"),"version",T.DATA_ENTRY_TYPES.INTEGER),s.addAssetId(e),s.processField(r("status_<ASSET_ID>"),"status",T.DATA_ENTRY_TYPES.INTEGER),s.processField(r("logo_<ASSET_ID>"),"logo",T.DATA_ENTRY_TYPES.STRING),s.processField(r("link_<ASSET_ID>"),"link",T.DATA_ENTRY_TYPES.STRING),s.processField(r("ticker_<ASSET_ID>"),"ticker",T.DATA_ENTRY_TYPES.STRING),s.processField(r("email_<ASSET_ID>"),"email",T.DATA_ENTRY_TYPES.STRING),s.processDescription(e))}},i),t.DATA_TO_FIELDS={PROVIDER:o.toFields(o.addVersion(T.DATA_PROVIDER_VERSIONS.BETA),o.toField("name",T.DATA_PROVIDER_KEYS.NAME,T.DATA_ENTRY_TYPES.STRING),o.toField("link",T.DATA_PROVIDER_KEYS.LINK,T.DATA_ENTRY_TYPES.STRING),o.toField("email",T.DATA_PROVIDER_KEYS.EMAIL,T.DATA_ENTRY_TYPES.STRING),o.descriptionToField()),ASSET:o.toFields(o.addAssetVersion(T.DATA_PROVIDER_VERSIONS.BETA),o.toAssetField("status","status_<ASSET_ID>",T.DATA_ENTRY_TYPES.INTEGER),o.toAssetField("logo","logo_<ASSET_ID>",T.DATA_ENTRY_TYPES.STRING),o.toAssetField("link","link_<ASSET_ID>",T.DATA_ENTRY_TYPES.STRING),o.toAssetField("ticker","ticker_<ASSET_ID>",T.DATA_ENTRY_TYPES.STRING),o.toAssetField("email","email_<ASSET_ID>",T.DATA_ENTRY_TYPES.STRING),o.toAssetDescription())}},"./dist/utils/index.js":
/*!*****************************!*\
  !*** ./dist/utils/index.js ***!
  \*****************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../constants */"./dist/constants.js");function i(e){return function(t){return t.reduce(function(t,r){return t[r[e]]=r,t},Object.create(null))}}function T(e,t){var r=typeof e;switch(t){case n.DATA_ENTRY_TYPES.INTEGER:if("number"!=typeof e)throw new Error("Wrong value type! "+r+" is not assignable to type number!");break;case n.DATA_ENTRY_TYPES.STRING:case n.DATA_ENTRY_TYPES.BINARY:if("string"!=typeof e)throw new Error("Wrong value type! "+r+" is not assignable to type string!");break;case n.DATA_ENTRY_TYPES.BOOLEAN:if("boolean"!=typeof e)throw new Error("Wrong value type! "+r+" is not assignable to type boolean!")}}function s(e,t){return function(r){return t?r.replace(n.PATTERNS.ASSET_ID,"<"+e+">").replace(n.PATTERNS.LANG,"<"+t+">"):r.replace(n.PATTERNS.ASSET_ID,"<"+e+">")}}t.getFieldsDiff=function(e,t){var r=i("key")(e);return t.filter(function(e){return!r[e.key]||r[e.key].type!==e.type||r[e.key].value!==e.value})},t.isProvider=function(e){return!["id","status"].every(function(t){return t in e})},t.toHash=i,t.toFields=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,r){var n=r(t);return Array.isArray(n)?e.push.apply(e,n):e.push(n),e},[])}},t.toField=function(e,t,r){return function(n){var i=n[e];if(null==i)throw new Error("Empty field "+e+"!");return T(i,r),{value:i,type:r,key:t}}},t.descriptionToField=function(){return function(e){var t=Object.keys(e.description||{}).join(","),r=Object.keys(e.description||{}).map(function(t){return{key:n.DATA_PROVIDER_DESCRIPTION_PATTERN.replace(n.PATTERNS.LANG,"<"+t+">"),type:n.DATA_ENTRY_TYPES.STRING,value:e.description[t]}});return r.push({key:n.DATA_PROVIDER_KEYS.LANG_LIST,type:n.DATA_ENTRY_TYPES.STRING,value:t}),r}},t.addVersion=function(e){return function(){return{key:n.DATA_PROVIDER_KEYS.VERSION,type:n.DATA_ENTRY_TYPES.INTEGER,value:e}}},t.addAssetVersion=function(e){return function(t){return{key:s(t.id)("version_<ASSET_ID>"),type:n.DATA_ENTRY_TYPES.INTEGER,value:e}}},t.toAssetField=function(e,t,r){return function(n){var i=n[e];return null==i?[]:(T(i,r),{key:s(n.id)(t),type:r,value:i})}},t.toAssetDescription=function(){return function(e){return Object.keys(e.description||{}).map(function(t){return{key:s(e.id,t)("description_<LANG>_<ASSET_ID>"),type:n.DATA_ENTRY_TYPES.STRING,value:e.description[t]}})}},t.replaceKey=s}})});
(function(a,b){if('function'==typeof define&&define.amd)define(['module'],b);else if('undefined'!=typeof exports)b(module);else{var c={exports:{}};b(c),a.parseJsonBignumber=c.exports}})(this,function(a){'use strict';a.exports=function(a){function b(a){return v.lastIndex=0,v.test(a)?'"'+a.replace(v,function(b){var a=w[b];return'string'==typeof a?a:'\\u'+('0000'+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(b){return b&&!!a.BigNumber&&(b instanceof a.BigNumber||a.BigNumber.isBigNumber(b))}function d(a,e){var f,g,h,i,j,k=s,l=e[a],m=c(l);switch(m&&!l.isFinite()&&(l=null),l&&'object'==typeof l&&'function'==typeof l.toJSON&&(l=l.toJSON(a)),'function'==typeof u&&(l=u.call(e,a,l)),typeof l){case'string':return m?l:b(l);case'number':return isFinite(l)?l+'':'null';case'boolean':return l+'';case'object':if(!l)return'null';if(s+=t,j=[],'[object Array]'===Object.prototype.toString.apply(l)){for(i=l.length,f=0;f<i;f+=1)j[f]=d(f,l)||'null';return h=0===j.length?'[]':s?'[\n'+s+j.join(',\n'+s)+'\n'+k+']':'['+j.join(',')+']',s=k,h}if(u&&'object'==typeof u)for(i=u.length,f=0;f<i;f+=1)'string'==typeof u[f]&&(g=u[f],h=d(g,l),h&&j.push(b(g)+(s?': ':':')+h));else for(g in l)Object.prototype.hasOwnProperty.call(l,g)&&(h=d(g,l),h&&j.push(b(g)+(s?': ':':')+h));return h=0===j.length?'{}':s?'{\n'+s+j.join(',\n'+s)+'\n'+k+'}':'{'+j.join(',')+'}',s=k,h;}}var e={strict:!1};a!==void 0&&null!==a&&!0===a.strict&&(e.strict=!0);var f,g,h,i,j={'"':'"',"\\":'\\',"/":'/',b:'\b',f:'\f',n:'\n',r:'\r',t:'\t'},k=function(a){throw{name:'SyntaxError',message:a,at:f,text:h}},l=function(a){return a&&a!==g&&k('Expected \''+a+'\' instead of \''+g+'\''),g=h.charAt(f),f+=1,g},m=function(){var a,b='';for('-'===g&&(b='-',l('-'));'0'<=g&&'9'>=g;)b+=g,l();if('.'===g)for(b+='.';l()&&'0'<=g&&'9'>=g;)b+=g;if('e'===g||'E'===g)for(b+=g,l(),('-'===g||'+'===g)&&(b+=g,l());'0'<=g&&'9'>=g;)b+=g,l();return a=+b,isFinite(a)?15<b.length?b:a:void k('Bad number')},n=function(){var a,b,c,d='';if('"'===g)for(;l();){if('"'===g)return l(),d;if('\\'!==g)d+=g;else if(l(),'u'===g){for(c=0,b=0;4>b&&(a=parseInt(l(),16),!!isFinite(a));b+=1)c=16*c+a;d+=String.fromCharCode(c)}else if('string'==typeof j[g])d+=j[g];else break}k('Bad string')},o=function(){for(;g&&' '>=g;)l()},p=function(){switch(g){case't':return l('t'),l('r'),l('u'),l('e'),!0;case'f':return l('f'),l('a'),l('l'),l('s'),l('e'),!1;case'n':return l('n'),l('u'),l('l'),l('l'),null;}k('Unexpected \''+g+'\'')},q=function(){var a=[];if('['===g){if(l('['),o(),']'===g)return l(']'),a;for(;g;){if(a.push(i()),o(),']'===g)return l(']'),a;l(','),o()}}k('Bad array')},r=function(){var a,b={};if('{'===g){if(l('{'),o(),'}'===g)return l('}'),b;for(;g;){if(a=n(),o(),l(':'),!0===e.strict&&Object.hasOwnProperty.call(b,a)&&k('Duplicate key "'+a+'"'),b[a]=i(),o(),'}'===g)return l('}'),b;l(','),o()}}k('Bad object')};i=function(){return o(),'{'===g?r():'['===g?q():'"'===g?n():'-'===g?m():'0'<=g&&'9'>=g?m():p()};var s,t,u,v=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,w={"":'\\b',"	":'\\t',"\n":'\\n',"":'\\f',"\r":'\\r','"':'\\"',"\\":'\\\\'},x=function(a,b,c){var e;if(s='',t='','number'==typeof c)for(e=0;e<c;e+=1)t+=' ';else'string'==typeof c&&(t=c);if(u=b,b&&'function'!=typeof b&&('object'!=typeof b||'number'!=typeof b.length))throw new Error('JSON.stringify');return d('',{"":a})},y=function(a,b){var c;return h=a+'',f=0,g=' ',c=i(),o(),g&&k('Syntax error'),'function'==typeof b?function a(c,d){var e,f=c[d];return f&&'object'==typeof f&&Object.keys(f).forEach(function(b){e=a(f,b),void 0===e?delete f[b]:f[b]=e}),b.call(c,d,f)}({"":c},''):c};return{parse:y,stringify:x}}});

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.workerWrapper=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){var v=factory(require,exports);if(v!==undefined)module.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports"],factory)}})(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Jsonifier=function(){function Jsonifier(){this._classes=Object.create(null)}Jsonifier.prototype.toJSON=function(data){var result={data:null,classes:[],paths:[]};if(!data){result.data=data;return result}switch(typeof data){case"object":if(this._isInstance(data)){this._addJSONObject(null,result,data)}else{result.data=this._addJSONObject(null,result,data)}break;case"function":this._addJSONFunction(null,result,data);break;default:result.data=data}return result};Jsonifier.stringify=function(data){var isSimple=Jsonifier._isFunction(data);if(isSimple){return{isSimple:isSimple,template:Jsonifier.toStringFunction(data)}}else{return{isSimple:isSimple,template:Jsonifier._wrapClass(data)}}};Jsonifier.createTemplate=function(Class,dependency){var originName=Jsonifier._getFnName(Class);var content="";dependency.forEach(function(Class){content+=Jsonifier._toStringClass(Class)+"\n"});content+=Jsonifier._toStringClass(Class)+"\n";content+="return "+originName;return"(function () {\n"+content+"\n})()"};Jsonifier.toStringFunction=function(func){var template="(function () {\n";template+="   return "+String(func)+"})();";return template};Jsonifier.prototype._addJSONObject=function(path,json,data){var _this=this;if(this._isInstance(data)){var classes=this._getInstanceClass(data);this._addClassToJSON(json,classes);json.paths.push({type:2,path:path,value:data,name:classes[classes.length-1].name})}Object.keys(data).forEach(function(key){var item=data[key];switch(typeof item){case"function":delete data[key];_this._addJSONFunction(path?path+"."+key:key,json,item);break;case"object":if(!item){data[key]=item}else{if(_this._isInstance(item)){delete data[key]}_this._addJSONObject(path?path+"."+key:key,json,item)}}});return data};Jsonifier.prototype._addJSONFunction=function(path,json,func){var type;var value;var name;if(Jsonifier._isFunction(func)){value=Jsonifier.toStringFunction(func);type=1}else{var classes=this._toStringClass(func);this._addClassToJSON(json,classes);type=0;name=classes[classes.length-1].name}json.paths.push({path:path,value:value,type:type,name:name})};Jsonifier.prototype._addClassToJSON=function(json,classData){var _this=this;if(Array.isArray(classData)){classData.forEach(function(data){return _this._addClassToJSON(json,data)})}else{var hasClass=json.classes.some(function(data){return data.name===classData.name});if(!hasClass){json.classes.push(classData)}}};Jsonifier.prototype._isInstance=function(some){var constructor=some.constructor;if(!constructor){return false}return!this._isNative(constructor)};Jsonifier.prototype._isNative=function(fn){return fn.toString().indexOf("[native code]")!==-1};Jsonifier.prototype._getInstanceClass=function(some){return this._toStringClass(some.constructor)};Jsonifier.prototype._toStringClass=function(rootConstructor){var _this=this;return Jsonifier._getClassParents(rootConstructor).map(function(item,i,list){var parent=list[i-1];return{name:Jsonifier._getFnName(item),value:_this._toStringTartetClass(item,parent)}})};Jsonifier.prototype._toStringTartetClass=function(target,parent){var targetName=Jsonifier._getFnName(target);if(this._classes[targetName]){return this._classes[targetName]}var template=Jsonifier._wrapClass(target);this._classes[targetName]=template;return template};Jsonifier._wrapClass=function(constructor){var name=Jsonifier._getFnName(constructor);return"(function () {\n"+Jsonifier._toStringClass(constructor)+"\n return "+name+"})();"};Jsonifier._toStringClass=function(data){return Jsonifier._getClassParents(data).reduce(function(template,item,index,list){return template+Jsonifier._toStringCurrentClass(item,list[index-1])},"")};Jsonifier._toStringCurrentClass=function(constructor,parent){var targetName=Jsonifier._getFnName(constructor);var template="";var Constructor=String(constructor)+";";if(Constructor.indexOf("class "+targetName)===0){template+=Constructor}else{template+="var "+targetName+" = "+Jsonifier._processSuper(Constructor,parent,false)+"\n";if(parent){template+="   "+targetName+".prototype = new "+this._getFnName(parent)+"();"+"\n";template+="   "+targetName+".prototype.constructor = "+targetName+";"+"\n"}Jsonifier._getContent(constructor.prototype,true).concat(Jsonifier._getContent(constructor,false)).forEach(function(content){var value=Jsonifier._processSuper(content.value,parent,content.isPrototype);if(content.isPrototype){template+="   "+targetName+".prototype."+content.name+" = "+value+";"+"\n"}else{template+="   "+targetName+"."+content.name+" = "+value+";"+"\n"}})}return template};Jsonifier._processSuper=function(content,parent,isPrototype){var reg=/\b(_super)\b/g;return parent&&parent.name&&content.replace(reg,function(){if(isPrototype){return parent.name+".prototype"}else{return parent.name}})||content};Jsonifier._getClassParents=function(constructor){var result=[constructor];var tmp=constructor;var item=Object.getPrototypeOf(tmp);while(item.prototype){result.push(item);tmp=item;item=Object.getPrototypeOf(tmp)}return result.reverse()};Jsonifier._isFunction=function(child){if(!child.prototype){return true}return Object.getOwnPropertyNames(child.prototype).length===1&&Jsonifier._getClassParents(child).length===1};Jsonifier._getFnName=function(fn){var s=fn.name&&["",fn.name]||fn.toString().match(/function ([^\(]+)/);return s&&s[1]||"anonymous"};Jsonifier._getContent=function(content,isPrototype){return Object.keys(content||{}).filter(function(name){return name!=="constructor"}).map(function(name){var item=content[name];var type=typeof item;var value;switch(type){case"string":value=item;break;case"object":try{value=JSON.stringify(item)}catch(e){throw new Error("Stringify error!")}break;default:value=String(item)}return{name:name,type:type,value:value,isPrototype:isPrototype}})};return Jsonifier}();exports.Jsonifier=Jsonifier})},{}],2:[function(require,module,exports){(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){var v=factory(require,exports);if(v!==undefined)module.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports"],factory)}})(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Parser=function(){function Parser(){this._classes=Object.create(null)}Parser.prototype.parse=function(data){data.classes.forEach(this._addClassData,this);if(!data.data&&data.paths.length){data.data=this._getPathData(data.paths.shift())}this._fill(data.data,data.paths);return data.data};Parser.prototype._fill=function(data,paths){var _this=this;paths.forEach(function(path){_this._set(data,path.path,_this._getPathData(path))})};Parser.prototype._set=function(target,path,data){var tmp=target;path.split(".").forEach(function(part,index,list){if(index===list.length-1){tmp[part]=data}else{if(!tmp[part]){tmp[part]=Object.create(null)}tmp=tmp[part]}})};Parser.prototype._getPathData=function(path){switch(path.type){case 0:return this._classes[path.name];case 1:return this._parseFunc(path.value);case 2:return this._parseInstance(path)}};Parser.prototype._parseInstance=function(path){var instance=Object.create(this._classes[path.name].prototype);Object.keys(path.value||{}).forEach(function(key){instance[key]=path.value[key]});return instance};Parser.prototype._addClassData=function(classData){if(!this._classes[classData.name]){var root=Parser._getRoot();if(root[classData.name]){this._classes[classData.name]=root[classData.name]}else{this._classes[classData.name]=this._parseFunc(classData.value);root[classData.name]=this._classes[classData.name]}}};Parser.prototype._parseFunc=function(template){return eval(template)};Parser._getRoot=function(){return self};return Parser}();exports.Parser=Parser})},{}],3:[function(require,module,exports){(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){var v=factory(require,exports);if(v!==undefined)module.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports"],factory)}})(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getWorkerBody(Jsonifier,Parser){return function(){function WorkerBody(stringifyMode){this._jsonify=new Jsonifier;this._parser=new Parser;this._stringifyMode=stringifyMode;this.setHandlers()}WorkerBody.prototype.setHandlers=function(){var _this=this;self.onmessage=function(message){_this.onMessage(_this._stringifyMode?JSON.parse(message.data):message.data)}};WorkerBody.prototype.onMessage=function(message){var _this=this;switch(message.type){case 0:this.process(function(){return _this.addLibs(message.libs)},message.id);break;case 1:this.process(function(){return _this.addProcessor(message)},message.id);break;case 2:this.doWork(message);break}};WorkerBody.prototype.addLibs=function(libs){libs.forEach(function(lib){return self.importScripts(lib)})};WorkerBody.prototype.addProcessor=function(data){var Child=eval(data.codeData.template);if(data.codeData.isSimple){this.child=Child(data.params)}else{this.child=new Child(data.params)}};WorkerBody.prototype.process=function(cb,id){try{cb();this.send({id:id,state:true,body:null})}catch(e){this.send({id:id,state:false,body:String(e)})}};WorkerBody.prototype.send=function(data){data.body=this._jsonify.toJSON(data.body);try{self.postMessage(this._stringifyMode?JSON.stringify(data):data)}catch(e){var toSet={id:data.id,state:false,body:String(e)};self.postMessage(this._stringifyMode?JSON.stringify(toSet):toSet)}};WorkerBody.prototype.doWork=function(message){var _this=this;try{var processor=eval(message.job);var params=this._parser.parse(message.params);var result=this.child?processor(this.child,params):processor(params);if(result&&result.then&&typeof result.then==="function"){result.then(function(data){_this.send({id:message.id,state:true,body:data})},function(error){if(error instanceof Error){error=String(error)}_this.send({id:message.id,state:false,body:error})})}else{this.send({id:message.id,state:true,body:result})}}catch(e){this.send({id:message.id,state:false,body:String(e)})}};return WorkerBody}()}exports.getWorkerBody=getWorkerBody})},{}],4:[function(require,module,exports){var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){var v=factory(require,exports);if(v!==undefined)module.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports","./Jsonifier","./Parser"],factory)}})(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Jsonifier_1=require("./Jsonifier");var Parser_1=require("./Parser");var Wrap=function(){function Wrap(worker,classData,libs,stringifyMode){var _this=this;this._worker=worker;this._actionsHash=Object.create(null);this._stringifyMode=stringifyMode;this._jsonify=new Jsonifier_1.Jsonifier;this._parser=new Parser_1.Parser;this._setHandlers();this._ready=Promise.all([this._addLibs(libs),this._addProcessor(classData)]).then(function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return args.every(Boolean)}).catch(function(e){_this.terminate();console.error(e);throw new Error(e)})}Wrap.prototype.process=function(cb,params){var _this=this;return this._ready.then(function(){return _this._sendMessage({type:2,params:_this._jsonify.toJSON(params),job:Jsonifier_1.Jsonifier.toStringFunction(cb)})})};Wrap.prototype.terminate=function(){var _this=this;Object.keys(this._actionsHash).forEach(function(id){_this._actionsHash[id].reject("Worker was terminated!");delete _this._actionsHash[id]});this._worker.terminate()};Wrap.prototype._setHandlers=function(){var _this=this;this._worker.onmessage=function(e){_this._onMessage(e.data)}};Wrap.prototype._onMessage=function(data){if(this._stringifyMode){data=JSON.parse(data)}if(!data.id){throw new Error(data)}var method=data.state?"resolve":"reject";this._actionsHash[data.id][method](this._parser.parse(data.body));delete this._actionsHash[data.id]};Wrap.prototype._sendMessage=function(body){var _this=this;var id=Date.now()+"-"+Math.random();return new Promise(function(resolve,reject){_this._actionsHash[id]={resolve:resolve,reject:reject};try{_this._worker.postMessage(_this._getSendData(body,id))}catch(e){console.error(e);reject(e)}})};Wrap.prototype._getSendData=function(body,id){var data=__assign({},body,{id:id});if(this._stringifyMode){return JSON.stringify(data)}else{return data}};Wrap.prototype._addLibs=function(libs){if(!libs||!libs.length){return Promise.resolve(true)}return this._sendMessage({type:0,libs:libs.map(function(item){var urlPart=(location.host+"/"+item).replace("//","/");return location.protocol+"//"+urlPart})})};Wrap.prototype._addProcessor=function(classData){if(!classData||!classData.child){return Promise.resolve(true)}return this._sendMessage({type:1,codeData:Jsonifier_1.Jsonifier.stringify(classData.child),params:classData.params})};return Wrap}();exports.Wrap=Wrap})},{"./Jsonifier":1,"./Parser":2}],5:[function(require,module,exports){var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){var v=factory(require,exports);if(v!==undefined)module.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports","./WorkerBody","./Jsonifier","./Wrap","./Parser"],factory)}})(function(require,exports){"use strict";var WorkerBody_1=require("./WorkerBody");var Jsonifier_1=require("./Jsonifier");var Wrap_1=require("./Wrap");var Parser_1=require("./Parser");var Main=function(){function Main(){this._options={libs:[],customWorker:WorkerBody_1.getWorkerBody(Jsonifier_1.Jsonifier,Parser_1.Parser),stringifyMode:false};this.classes={Jsonifier:Jsonifier_1.Jsonifier,Parser:Parser_1.Parser,WorkerBody:WorkerBody_1.getWorkerBody(Jsonifier_1.Jsonifier,Parser_1.Parser)}}Main.prototype.config=function(options){this._options=__assign({},this._options,options)};Main.prototype.getConfig=function(){return __assign({},this._options)};Main.prototype.create=function(arg1,arg2,arg3){var processor;var options;var params;if(typeof arg1==="function"){processor=arg1}else{if(this._isConfig(arg1)){options=arg1}}if(arg2){if(this._isConfig(arg2)){options=arg2}else{params=arg2;if(arg3){options=arg3}}}options=options||Object.create(null);var myOptions=__assign({},this._options,options);var worker=this._createWorker(myOptions.customWorker,myOptions.stringifyMode);return new Wrap_1.Wrap(worker,{child:processor,params:params},myOptions.libs,myOptions.stringifyMode)};Main.prototype._createWorker=function(customWorker,stringifyMode){var content=Jsonifier_1.Jsonifier.createTemplate(customWorker,[Jsonifier_1.Jsonifier,Parser_1.Parser]);var template="var MyWorker = "+content+"; new MyWorker("+stringifyMode+")";var blob=new Blob([template],{type:"application/javascript"});return new Worker(URL.createObjectURL(blob))};Main.prototype._isConfig=function(data){var _this=this;var keys=data&&Object.keys(data)||[];return keys.length&&keys.every(function(key){return _this._options[key]&&typeof data[key]===typeof _this._options[key]&&Array.isArray(data[key])===Array.isArray(_this._options[key])})};return Main}();return new Main})},{"./Jsonifier":1,"./Parser":2,"./WorkerBody":3,"./Wrap":4}]},{},[5])(5)});
/**!

 @license
 handlebars v4.0.10

Copyright (C) 2011-2016 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}var e=c(1)["default"];b.__esModule=!0;var f=c(2),g=e(f),h=c(35),i=e(h),j=c(36),k=c(41),l=c(42),m=e(l),n=c(39),o=e(n),p=c(34),q=e(p),r=g["default"].create,s=d();s.create=d,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3)["default"],f=c(1)["default"];b.__esModule=!0;var g=c(4),h=e(g),i=c(21),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(22),p=e(o),q=c(34),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(10),j=c(18),k=c(20),l=e(k),m="4.0.10";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=o;var p="[object Object]";d.prototype={constructor:d,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;b.log=q,b.createFrame=f.createFrame,b.logger=l["default"]},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,g=void 0,h=void 0;c&&(g=c.start.line,h=c.start.column,a+=" - "+g+":"+h);for(var i=Error.prototype.constructor.call(this,a),j=0;j<f.length;j++)this[f[j]]=i[f[j]];Error.captureStackTrace&&Error.captureStackTrace(this,d);try{c&&(this.lineNumber=g,e?Object.defineProperty(this,"column",{value:h,enumerable:!0}):this.column=h)}catch(k){}}var e=c(7)["default"];b.__esModule=!0;var f=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,b["default"]=d,a.exports=b["default"]},function(a,b,c){a.exports={"default":c(8),__esModule:!0}},function(a,b,c){var d=c(9);a.exports=function(a,b,c){return d.setDesc(a,b,c)}},function(a,b){var c=Object;a.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(a,b,c){"use strict";function d(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(11),g=e(f),h=c(12),i=e(h),j=c(13),k=e(j),l=c(14),m=e(l),n=c(15),o=e(n),p=c(16),q=e(p),r=c(17),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;h<l;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(6),f=d(e);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(19),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e,a.exports=b["default"]},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=s.COMPILER_REVISION;if(b!==c){if(b<c){var d=s.REVISION_CHANGES[c],e=s.REVISION_CHANGES[b];throw new r["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new r["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=p.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;h<i&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new r["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!=f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new r["default"]("No environment passed to template");if(!a||!a.main)throw new r["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new r["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:p.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=p.extend({},b,a)),c},nullContext:l({}),noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new r["default"]("must pass block params");if(a.useDepths&&!g)throw new r["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var e=void 0;if(c.fn&&c.fn!==i&&!function(){c.data=s.createFrame(c.data);var a=c.fn;e=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=s.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=p.extend({},c.partials,a.partials))}(),void 0===a&&e&&(a=e),void 0===a)throw new r["default"]("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?s.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),p.extend(b,g)}return b}var l=c(23)["default"],m=c(3)["default"],n=c(1)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var o=c(5),p=m(o),q=c(6),r=n(q),s=c(4)},function(a,b,c){a.exports={"default":c(24),__esModule:!0}},function(a,b,c){c(25),a.exports=c(30).Object.seal},function(a,b,c){var d=c(26);c(27)("seal",function(a){return function(b){return a&&d(b)?a(b):b}})},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(28),e=c(30),f=c(33);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(29),e=c(30),f=c(31),g="prototype",h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=m?d:n?d[b]:(d[b]||{})[g];m&&(c=b);for(i in c)j=!l&&s&&i in s,j&&i in r||(k=j?s[i]:c[i],r[i]=m&&"function"!=typeof s[i]?c[i]:p&&j?f(k,d):q&&s[i]==k?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};return b[g]=a[g],b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r[g]||(r[g]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,a.exports=h},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b){var c=a.exports={version:"1.2.6"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(32);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b){a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if("Program"===a.type)return a;h["default"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j["default"](b);return c.accept(h["default"].parse(a))}var e=c(1)["default"],f=c(3)["default"];b.__esModule=!0,b.parse=d;var g=c(37),h=e(g),i=c(38),j=e(i),k=c(40),l=f(k),m=c(5);b.parser=h["default"];var n={};m.extend(n,l)},function(a,b){"use strict";b.__esModule=!0;var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],
85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&"undefined"!=typeof n||(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1)["default"];b.__esModule=!0;var j=c(39),k=i(j);d.prototype=new k["default"],d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;i<j;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(){this.parents=[]}function e(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function f(a){e.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function g(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var h=c(1)["default"];b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;h<i;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1)["default"];b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=l.extend({},b),"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var i=c(1)["default"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(6),k=i(j),l=c(5),m=c(35),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(this.options.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(1)["default"];b.__esModule=!0;var h=c(4),i=c(6),j=g(i),k=c(5),l=c(43),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;h<i;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName),this.decorators=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;c<h;c++)this.replaceStack(function(e){
var f=g.nameLookup(e,b[c],a);return d?[" && ",f]:[" != null ? ",f," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;e<g;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(5),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b["default"]=e,a.exports=b["default"]}])});
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.R={})}(this,function(t){"use strict";function n(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function r(t){return function r(e){return 0===arguments.length||n(e)?r:t.apply(this,arguments)}}function e(t){return function e(u,i){switch(arguments.length){case 0:return e;case 1:return n(u)?e:r(function(n){return t(u,n)});default:return n(u)&&n(i)?e:n(u)?r(function(n){return t(n,i)}):n(i)?r(function(n){return t(u,n)}):t(u,i)}}}function u(t,n){t=t||[],n=n||[];var r,e=t.length,u=n.length,i=[];for(r=0;e>r;)i[i.length]=t[r],r+=1;for(r=0;u>r;)i[i.length]=n[r],r+=1;return i}function i(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,e){return n.apply(this,arguments)};case 4:return function(t,r,e,u){return n.apply(this,arguments)};case 5:return function(t,r,e,u,i){return n.apply(this,arguments)};case 6:return function(t,r,e,u,i,o){return n.apply(this,arguments)};case 7:return function(t,r,e,u,i,o,c){return n.apply(this,arguments)};case 8:return function(t,r,e,u,i,o,c,a){return n.apply(this,arguments)};case 9:return function(t,r,e,u,i,o,c,a,s){return n.apply(this,arguments)};case 10:return function(t,r,e,u,i,o,c,a,s,f){return n.apply(this,arguments)};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten")}}function o(t,r,e){return function(){for(var u=[],c=0,a=t,s=0;r.length>s||arguments.length>c;){var f;s>=r.length||n(r[s])&&arguments.length>c?(f=arguments[c],c+=1):f=r[s],u[s]=f,n(f)||(a-=1),s+=1}return a>0?i(a,o(t,u,e)):e.apply(this,u)}}function c(t){return function u(i,o,c){switch(arguments.length){case 0:return u;case 1:return n(i)?u:e(function(n,r){return t(i,n,r)});case 2:return n(i)&&n(o)?u:n(i)?e(function(n,r){return t(n,o,r)}):n(o)?e(function(n,r){return t(i,n,r)}):r(function(n){return t(i,o,n)});default:return n(i)&&n(o)&&n(c)?u:n(i)&&n(o)?e(function(n,r){return t(n,r,c)}):n(i)&&n(c)?e(function(n,r){return t(n,o,r)}):n(o)&&n(c)?e(function(n,r){return t(i,n,r)}):n(i)?r(function(n){return t(n,o,c)}):n(o)?r(function(n){return t(i,n,c)}):n(c)?r(function(n){return t(i,o,n)}):t(i,o,c)}}}function a(t){return"function"==typeof t["@@transducer/step"]}function s(t,n,r){return function(){if(0===arguments.length)return r();var e=Array.prototype.slice.call(arguments,0),u=e.pop();if(!At(u)){for(var i=0;t.length>i;){if("function"==typeof u[t[i]])return u[t[i]].apply(u,e);i+=1}if(a(u))return n.apply(null,e)(u)}return r.apply(this,arguments)}}function f(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}function l(t,n){this.xf=n,this.f=t,this.all=!0}function p(t,n){for(var r=0,e=n.length,u=Array(e);e>r;)u[r]=t(n[r]),r+=1;return u}function h(t){return"[object String]"===Object.prototype.toString.call(t)}function y(t){this.f=t}function d(t){return new y(t)}function g(t,n,r){for(var e=0,u=r.length;u>e;){if((n=t["@@transducer/step"](n,r[e]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e+=1}return t["@@transducer/result"](n)}function v(t,n,r){for(var e=r.next();!e.done;){if((n=t["@@transducer/step"](n,e.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e=r.next()}return t["@@transducer/result"](n)}function m(t,n,r,e){return t["@@transducer/result"](r[e](qt(t["@@transducer/step"],t),n))}function b(t,n,r){if("function"==typeof t&&(t=d(t)),_t(r))return g(t,n,r);if("function"==typeof r["fantasy-land/reduce"])return m(t,n,r,"fantasy-land/reduce");if(null!=r[kt])return v(t,n,r[kt]());if("function"==typeof r.next)return v(t,n,r);if("function"==typeof r.reduce)return m(t,n,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}function x(t,n){this.xf=n,this.f=t}function w(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function j(t,n){this.xf=n,this.f=t,this.any=!1}function A(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=Array(t)}function O(t){return"[object Function]"===Object.prototype.toString.call(t)}function S(t){return function n(r){for(var e,u,i,o=[],c=0,a=r.length;a>c;){if(_t(r[c]))for(i=0,u=(e=t?n(r[c]):r[c]).length;u>i;)o[o.length]=e[i],i+=1;else o[o.length]=r[c];c+=1}return o}}function E(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}function _(t){return RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}function q(t,n,r,e){var u=function(u){for(var i=n.length,o=0;i>o;){if(t===n[o])return r[o];o+=1}n[o+1]=t,r[o+1]=u;for(var c in t)u[c]=e?q(t[c],n,r,!0):t[c];return u};switch(mn(t)){case"Object":return u({});case"Array":return u([]);case"Date":return new Date(t.valueOf());case"RegExp":return _(t);default:return t}}function k(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function N(t,n){return function(){var r=arguments.length;if(0===r)return n();var e=arguments[r-1];return At(e)||"function"!=typeof e[t]?n.apply(this,arguments):e[t].apply(e,Array.prototype.slice.call(arguments,0,r-1))}}function I(){if(0===arguments.length)throw Error("pipe requires at least one argument");return i(arguments[0].length,Mt(k,arguments[0],On(arguments)))}function W(){if(0===arguments.length)throw Error("compose requires at least one argument");return I.apply(this,Sn(arguments))}function P(){if(0===arguments.length)throw Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),n=t.pop();return W(W.apply(this,Rt(gn,t)),n)}function C(t,n){return function(){var r=this;return t.apply(r,arguments).then(function(t){return n.call(r,t)})}}function T(){if(0===arguments.length)throw Error("pipeP requires at least one argument");return i(arguments[0].length,Mt(C,arguments[0],On(arguments)))}function B(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}function F(t,n,r){for(var e=0,u=r.length;u>e;){if(t(n,r[e]))return!0;e+=1}return!1}function R(t){var n=(t+"").match(/^function (\w*)/);return null==n?"":n[1]}function U(t,n,r,e){function u(t,n){return D(t,n,r.slice(),e.slice())}var i=B(t);return!F(function(t,n){return!F(u,n,t)},B(n),i)}function D(t,n,r,e){if(En(t,n))return!0;var u=mn(t);if(u!==mn(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===R(t.constructor))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!En(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!En(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===t)return e[i]===n;i-=1}switch(u){case"Map":return t.size===n.size&&U(t.entries(),n.entries(),r.concat([t]),e.concat([n]));case"Set":return t.size===n.size&&U(t.values(),n.values(),r.concat([t]),e.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=Ft(t);if(o.length!==Ft(n).length)return!1;var c=r.concat([t]),a=e.concat([n]);for(i=o.length-1;i>=0;){var s=o[i];if(!w(s,n)||!D(n[s],t[s],c,a))return!1;i-=1}return!0}function z(t,n,r){var e,u;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(e=1/n;t.length>r;){if(0===(u=t[r])&&1/u===e)return r;r+=1}return-1}if(n!==n){for(;t.length>r;){if("number"==typeof(u=t[r])&&u!==u)return r;r+=1}return-1}return t.indexOf(n,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,r);case"object":if(null===n)return t.indexOf(n,r)}for(;t.length>r;){if(_n(t[r],n))return r;r+=1}return-1}function M(t,n){return z(n,t,0)>=0}function L(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}function K(t){return function(){return!t.apply(this,arguments)}}function V(t,n){for(var r=0,e=n.length,u=[];e>r;)t(n[r])&&(u[u.length]=n[r]),r+=1;return u}function $(t){return"[object Object]"===Object.prototype.toString.call(t)}function H(t,n){this.xf=n,this.f=t}function J(t,n){var r=function(r){var e=n.concat([t]);return M(r,e)?"<Circular>":J(r,e)},e=function(t,n){return p(function(n){return L(n)+": "+r(t[n])},n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+p(r,t).join(", ")+"))";case"[object Array]":return"["+p(r,t).concat(e(t,In(function(t){return/^\d+$/.test(t)},Ft(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+r(t.valueOf())+")":""+t;case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):L(kn(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+r(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+r(t.valueOf())+")":L(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var u=""+t;if("[object Object]"!==u)return u}return"{"+e(t,Ft(t)).join(", ")+"}"}}function X(t,n,r,e){this.valueFn=t,this.valueAcc=n,this.keyFn=r,this.xf=e,this.inputs={}}function Y(t,n){this.xf=n,this.n=t}function Z(t,n){this.xf=n,this.n=t,this.i=0}function G(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=Array(t)}function Q(t,n){this.f=t,this.retained=[],this.xf=n}function tt(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}function nt(t,n){this.xf=n,this.f=t}function rt(t,n){this.xf=n,this.f=t,this.found=!1}function et(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}function ut(t,n){this.xf=n,this.f=t}function it(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}function ot(t){return t}function ct(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function at(t,n,r){var e,u=typeof t;switch(u){case"string":case"number":return 0===t&&1/t==-1/0?!!r._items["-0"]||(n&&(r._items["-0"]=!0),!1):null!==r._nativeSet?n?(e=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===e):r._nativeSet.has(t):u in r._items?t in r._items[u]||(n&&(r._items[u][t]=!0),!1):(n&&(r._items[u]={},r._items[u][t]=!0),!1);case"boolean":if(u in r._items){var i=t?1:0;return!!r._items[u][i]||(n&&(r._items[u][i]=!0),!1)}return n&&(r._items[u]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?n?(e=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===e):r._nativeSet.has(t):u in r._items?!!M(t,r._items[u])||(n&&r._items[u].push(t),!1):(n&&(r._items[u]=[t]),!1);case"undefined":return!!r._items[u]||(n&&(r._items[u]=!0),!1);case"object":if(null===t)return!!r._items.null||(n&&(r._items.null=!0),!1);default:return(u=Object.prototype.toString.call(t))in r._items?!!M(t,r._items[u])||(n&&r._items[u].push(t),!1):(n&&(r._items[u]=[t]),!1)}}function st(t){if(a(t))return t;if(_t(t))return $r;if("string"==typeof t)return Hr;if("object"==typeof t)return Jr;throw Error("Cannot create transformer for "+t)}function ft(t){return"[object Number]"===Object.prototype.toString.call(t)}function lt(t){return e(function(n,r){return i(Math.max(0,n.length-r.length),function(){return n.apply(this,t(r,arguments))})})}function pt(t,n){this.xf=n,this.f=t}function ht(t,n){this.xf=n,this.f=t}function yt(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var dt=r(function(t){return function(){return t}}),gt=dt(!1),vt=dt(!0),mt={"@@functional/placeholder":!0},bt=e(function(t,n){return+t+ +n}),xt=e(function(t,n){return 1===t?r(n):i(t,o(t,[],n))}),wt=r(function(t){return xt(t.length,function(){var n=0,r=arguments[0],e=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=r.apply(this,u(arguments,[n,e]));return n+=1,t},t.apply(this,i)})}),jt=c(function(t,n,r){if(n>=r.length||-r.length>n)return r;var e=(0>n?r.length:0)+n,i=u(r);return i[e]=t(r[e]),i}),At=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},Ot={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};l.prototype["@@transducer/init"]=Ot.init,l.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},l.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=f(this.xf["@@transducer/step"](t,!1))),t};var St=e(s(["all"],e(function(t,n){return new l(t,n)}),function(t,n){for(var r=0;n.length>r;){if(!t(n[r]))return!1;r+=1}return!0})),Et=e(function(t,n){return n>t?n:t}),_t=r(function(t){return!!At(t)||!!t&&("object"==typeof t&&(!h(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))});y.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap")},y.prototype["@@transducer/result"]=function(t){return t},y.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)};var qt=e(function(t,n){return i(t.length,function(){return t.apply(n,arguments)})}),kt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";x.prototype["@@transducer/init"]=Ot.init,x.prototype["@@transducer/result"]=Ot.result,x.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))};var Nt=e(function(t,n){return new x(t,n)}),It=Object.prototype.toString,Wt=function(){return"[object Arguments]"===It.call(arguments)?function(t){return"[object Arguments]"===It.call(t)}:function(t){return w("callee",t)}},Pt=!{toString:null}.propertyIsEnumerable("toString"),Ct=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Tt=function(){return arguments.propertyIsEnumerable("length")}(),Bt=function(t,n){for(var r=0;t.length>r;){if(t[r]===n)return!0;r+=1}return!1},Ft=r("function"!=typeof Object.keys||Tt?function(t){if(Object(t)!==t)return[];var n,r,e=[],u=Tt&&Wt(t);for(n in t)!w(n,t)||u&&"length"===n||(e[e.length]=n);if(Pt)for(r=6;r>=0;)w(n=Ct[r],t)&&!Bt(e,n)&&(e[e.length]=n),r-=1;return e}:function(t){return Object(t)!==t?[]:Object.keys(t)}),Rt=e(s(["fantasy-land/map","map"],Nt,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return xt(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return b(function(r,e){return r[e]=t(n[e]),r},{},Ft(n));default:return p(t,n)}})),Ut=e(function(t,n){for(var r=n,e=0;t.length>e;){if(null==r)return;r=r[t[e]],e+=1}return r}),Dt=e(function(t,n){return Ut([t],n)}),zt=e(function(t,n){return Rt(Dt(t),n)}),Mt=c(b),Lt=r(function(t){return xt(Mt(Et,0,zt("length",t)),function(){for(var n=0,r=t.length;r>n;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0})}),Kt=e(function(t,n){return t&&n});j.prototype["@@transducer/init"]=Ot.init,j.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},j.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=f(this.xf["@@transducer/step"](t,!0))),t};var Vt=e(function(t,n){return new j(t,n)}),$t=e(s(["any"],Vt,function(t,n){for(var r=0;n.length>r;){if(t(n[r]))return!0;r+=1}return!1})),Ht=r(function(t){return xt(Mt(Et,0,zt("length",t)),function(){for(var n=0,r=t.length;r>n;){if(t[n].apply(this,arguments))return!0;n+=1}return!1})}),Jt=e(function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(r){return t(r)(n(r))}:b(function(t,r){return u(t,Rt(r,n))},[],t)});A.prototype["@@transducer/init"]=Ot.init,A.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},A.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},A.prototype.store=function(t){this.acc[this.pos]=t,(this.pos+=1)===this.acc.length&&(this.pos=0,this.full=!0)},A.prototype.getCopy=function(){return u(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))};var Xt=e(s([],e(function(t,n){return new A(t,n)}),function(t,n){for(var r=0,e=n.length-(t-1),u=Array(0>e?0:e);e>r;)u[r]=Array.prototype.slice.call(n,r,r+t),r+=1;return u})),Yt=e(function(t,n){return u(n,[t])}),Zt=e(function(t,n){return t.apply(this,n)}),Gt=r(function(t){for(var n=Ft(t),r=n.length,e=[],u=0;r>u;)e[u]=t[n[u]],u+=1;return e}),Qt=r(function t(n){return n=Rt(function(n){return"function"==typeof n?n:t(n)},n),xt(Mt(Et,0,zt("length",Gt(n))),function(){var t=arguments;return Rt(function(n){return Zt(n,t)},n)})}),tn=e(function(t,n){return n(t)}),nn=c(function(t,n,r){var e=t(n),u=t(r);return u>e?-1:e>u?1:0}),rn=c(function(t,n,r){var e={};for(var u in r)e[u]=r[u];return e[t]=n,e}),en=Number.isInteger||function(t){return t<<0===t},un=r(function(t){return null==t}),on=c(function t(n,r,e){if(0===n.length)return r;var u=n[0];if(n.length>1){var i=!un(e)&&w(u,e)?e[u]:en(n[1])?[]:{};r=t(Array.prototype.slice.call(n,1),r,i)}if(en(u)&&At(e)){var o=[].concat(e);return o[u]=r,o}return rn(u,r,e)}),cn=e(function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(t){return n.call(this,t)};case 2:return function(t,r){return n.call(this,t,r)};case 3:return function(t,r,e){return n.call(this,t,r,e)};case 4:return function(t,r,e,u){return n.call(this,t,r,e,u)};case 5:return function(t,r,e,u,i){return n.call(this,t,r,e,u,i)};case 6:return function(t,r,e,u,i,o){return n.call(this,t,r,e,u,i,o)};case 7:return function(t,r,e,u,i,o,c){return n.call(this,t,r,e,u,i,o,c)};case 8:return function(t,r,e,u,i,o,c,a){return n.call(this,t,r,e,u,i,o,c,a)};case 9:return function(t,r,e,u,i,o,c,a,s){return n.call(this,t,r,e,u,i,o,c,a,s)};case 10:return function(t,r,e,u,i,o,c,a,s,f){return n.call(this,t,r,e,u,i,o,c,a,s,f)};default:throw Error("First argument to nAry must be a non-negative integer no greater than ten")}}),an=r(function(t){return cn(2,t)}),sn=e(function(t,n){var r=xt(t,n);return xt(t,function(){return b(Jt,Rt(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),fn=r(function(t){return sn(t.length,t)}),ln=e(function(t,n){return O(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:fn(Kt)(t,n)}),pn=r(function(t){return xt(t.length,t)}),hn=pn(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}),yn=function(t){return{"@@transducer/init":Ot.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,r){var e=t["@@transducer/step"](n,r);return e["@@transducer/reduced"]?E(e):e}}},dn=function(t){var n=yn(t);return{"@@transducer/init":Ot.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,r){return _t(r)?b(n,t,r):b(n,t,[r])}}},gn=e(s(["fantasy-land/chain","chain"],e(function(t,n){return Rt(t,dn(n))}),function(t,n){return"function"==typeof n?function(r){return t(n(r))(r)}:S(!1)(Rt(t,n))})),vn=c(function(t,n,r){if(t>n)throw Error("min must not be greater than max in clamp(min, max, value)");return t>r?t:r>n?n:r}),mn=r(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),bn=r(function(t){return null!=t&&"function"==typeof t.clone?t.clone():q(t,[],[],!0)}),xn=r(function(t){return function(n,r){return t(n,r)?-1:t(r,n)?1:0}}),wn=r(function(t){return!t}),jn=fn(wn),An=c(N("slice",function(t,n,r){return Array.prototype.slice.call(r,t,n)})),On=r(N("tail",An(1,1/0))),Sn=r(function(t){return h(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}),En=e(function(t,n){return t===n?0!==t||1/t==1/n:t!==t&&n!==n}),_n=e(function(t,n){return D(t,n,[],[])}),qn=function(t){return(10>t?"0":"")+t},kn="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+qn(t.getUTCMonth()+1)+"-"+qn(t.getUTCDate())+"T"+qn(t.getUTCHours())+":"+qn(t.getUTCMinutes())+":"+qn(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};H.prototype["@@transducer/init"]=Ot.init,H.prototype["@@transducer/result"]=Ot.result,H.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t};var Nn=e(s(["filter"],e(function(t,n){return new H(t,n)}),function(t,n){return $(n)?b(function(r,e){return t(n[e])&&(r[e]=n[e]),r},{},Ft(n)):V(t,n)})),In=e(function(t,n){return Nn(K(t),n)}),Wn=r(function(t){return J(t,[])}),Pn=e(function(t,n){if(At(t)){if(At(n))return t.concat(n);throw new TypeError(Wn(n)+" is not an array")}if(h(t)){if(h(n))return t+n;throw new TypeError(Wn(n)+" is not a string")}if(null!=t&&O(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&O(t.concat))return t.concat(n);throw new TypeError(Wn(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),Cn=r(function(t){return i(Mt(Et,0,Rt(function(t){return t[0].length},t)),function(){for(var n=0;t.length>n;){if(t[n][0].apply(this,arguments))return t[n][1].apply(this,arguments);n+=1}})}),Tn=e(function(t,n){if(t>10)throw Error("Constructor with greater than ten arguments");return 0===t?function(){return new n}:pn(cn(t,function(t,r,e,u,i,o,c,a,s,f){switch(arguments.length){case 1:return new n(t);case 2:return new n(t,r);case 3:return new n(t,r,e);case 4:return new n(t,r,e,u);case 5:return new n(t,r,e,u,i);case 6:return new n(t,r,e,u,i,o);case 7:return new n(t,r,e,u,i,o,c);case 8:return new n(t,r,e,u,i,o,c,a);case 9:return new n(t,r,e,u,i,o,c,a,s);case 10:return new n(t,r,e,u,i,o,c,a,s,f)}}))}),Bn=r(function(t){return Tn(t.length,t)}),Fn=e(M),Rn=e(function(t,n){return xt(Mt(Et,0,zt("length",n)),function(){var r=arguments,e=this;return t.apply(e,p(function(t){return t.apply(e,r)},n))})});X.prototype["@@transducer/init"]=Ot.init,X.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(w(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},X.prototype["@@transducer/step"]=function(t,n){var r=this.keyFn(n);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],n),t};var Un=o(4,[],s([],o(4,[],function(t,n,r,e){return new X(t,n,r,e)}),function(t,n,r,e){return b(function(e,u){var i=r(u);return e[i]=t(w(i,e)?e[i]:n,u),e},{},e)})),Dn=Un(function(t,n){return t+1},0),zn=bt(-1),Mn=e(function(t,n){return null==n||n!==n?t:n}),Ln=c(function(t,n,r){var e=t(n),u=t(r);return e>u?-1:u>e?1:0}),Kn=e(function(t,n){for(var r=[],e=0,u=t.length;u>e;)M(t[e],n)||M(t[e],r)||(r[r.length]=t[e]),e+=1;return r}),Vn=c(function(t,n,r){for(var e=[],u=0,i=n.length;i>u;)F(t,n[u],r)||F(t,n[u],e)||e.push(n[u]),u+=1;return e}),$n=e(function(t,n){var r={};for(var e in n)r[e]=n[e];return delete r[t],r}),Hn=c(function(t,n,r){var e=Array.prototype.slice.call(r,0);return e.splice(t,n),e}),Jn=c(function(t,n,r){return jt(dt(n),t,r)}),Xn=e(function t(n,r){switch(n.length){case 0:return r;case 1:return en(n[0])?Hn(n[0],1,r):$n(n[0],r);default:var e=n[0],u=Array.prototype.slice.call(n,1);return null==r[e]?r:en(n[0])?Jn(e,t(u,r[e]),r):rn(e,t(u,r[e]),r)}}),Yn=e(function(t,n){return t/n});Y.prototype["@@transducer/init"]=Ot.init,Y.prototype["@@transducer/result"]=Ot.result,Y.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)};var Zn=e(s(["drop"],e(function(t,n){return new Y(t,n)}),function(t,n){return An(Math.max(0,t),1/0,n)}));Z.prototype["@@transducer/init"]=Ot.init,Z.prototype["@@transducer/result"]=Ot.result,Z.prototype["@@transducer/step"]=function(t,n){this.i+=1;var r=0===this.n?t:this.xf["@@transducer/step"](t,n);return 0>this.n||this.n>this.i?r:f(r)};var Gn=e(s(["take"],e(function(t,n){return new Z(t,n)}),function(t,n){return An(0,0>t?1/0:t,n)}));G.prototype["@@transducer/init"]=Ot.init,G.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},G.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},G.prototype.store=function(t){this.acc[this.pos]=t,(this.pos+=1)===this.acc.length&&(this.pos=0,this.full=!0)};var Qn=e(s([],e(function(t,n){return new G(t,n)}),function(t,n){return Gn(n.length>t?n.length-t:0,n)}));Q.prototype["@@transducer/init"]=Ot.init,Q.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},Q.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},Q.prototype.flush=function(t,n){return t=b(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},Q.prototype.retain=function(t,n){return this.retained.push(n),t};var tr=e(s([],e(function(t,n){return new Q(t,n)}),function(t,n){for(var r=n.length-1;r>=0&&t(n[r]);)r-=1;return An(0,r+1,n)}));tt.prototype["@@transducer/init"]=Ot.init,tt.prototype["@@transducer/result"]=Ot.result,tt.prototype["@@transducer/step"]=function(t,n){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(r=!0):this.seenFirstValue=!0,this.lastValue=n,r?t:this.xf["@@transducer/step"](t,n)};var nr=e(function(t,n){return new tt(t,n)}),rr=e(function(t,n){var r=0>t?n.length+t:t;return h(n)?n.charAt(r):n[r]}),er=rr(-1),ur=e(s([],nr,function(t,n){var r=[],e=1,u=n.length;if(0!==u)for(r[0]=n[0];u>e;)t(er(r),n[e])||(r[r.length]=n[e]),e+=1;return r})),ir=r(s([],nr(_n),ur(_n)));nt.prototype["@@transducer/init"]=Ot.init,nt.prototype["@@transducer/result"]=Ot.result,nt.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)};var or=e(s(["dropWhile"],e(function(t,n){return new nt(t,n)}),function(t,n){for(var r=0,e=n.length;e>r&&t(n[r]);)r+=1;return An(r,1/0,n)})),cr=e(function(t,n){return t||n}),ar=e(function(t,n){return O(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:fn(cr)(t,n)}),sr=r(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():At(t)?[]:h(t)?"":$(t)?{}:Wt(t)?function(){return arguments}():void 0}),fr=e(function(t,n){return Zn(0>t?0:n.length-t,n)}),lr=e(function(t,n){return _n(fr(t.length,n),t)}),pr=c(function(t,n,r){return _n(t(n),t(r))}),hr=c(function(t,n,r){return _n(n[t],r[t])}),yr=e(function t(n,r){var e,u,i,o={};for(u in r)i=typeof(e=n[u]),o[u]="function"===i?e(r[u]):e&&"object"===i?t(e,r[u]):r[u];return o});rt.prototype["@@transducer/init"]=Ot.init,rt.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},rt.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=f(this.xf["@@transducer/step"](t,n))),t};var dr=e(s(["find"],e(function(t,n){return new rt(t,n)}),function(t,n){for(var r=0,e=n.length;e>r;){if(t(n[r]))return n[r];r+=1}}));et.prototype["@@transducer/init"]=Ot.init,et.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},et.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=f(this.xf["@@transducer/step"](t,this.idx))),t};var gr=e(s([],e(function(t,n){return new et(t,n)}),function(t,n){for(var r=0,e=n.length;e>r;){if(t(n[r]))return r;r+=1}return-1}));ut.prototype["@@transducer/init"]=Ot.init,ut.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},ut.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t};var vr=e(s([],e(function(t,n){return new ut(t,n)}),function(t,n){for(var r=n.length-1;r>=0;){if(t(n[r]))return n[r];r-=1}}));it.prototype["@@transducer/init"]=Ot.init,it.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},it.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t};var mr=e(s([],e(function(t,n){return new it(t,n)}),function(t,n){for(var r=n.length-1;r>=0;){if(t(n[r]))return r;r-=1}return-1})),br=r(S(!0)),xr=r(function(t){return xt(t.length,function(n,r){var e=Array.prototype.slice.call(arguments,0);return e[0]=r,e[1]=n,t.apply(this,e)})}),wr=e(N("forEach",function(t,n){for(var r=n.length,e=0;r>e;)t(n[e]),e+=1;return n})),jr=e(function(t,n){for(var r=Ft(n),e=0;r.length>e;){var u=r[e];t(n[u],u,n),e+=1}return n}),Ar=r(function(t){for(var n={},r=0;t.length>r;)n[t[r][0]]=t[r][1],r+=1;return n}),Or=e(N("groupBy",Un(function(t,n){return null==t&&(t=[]),t.push(n),t},null))),Sr=e(function(t,n){for(var r=[],e=0,u=n.length;u>e;){for(var i=e+1;u>i&&t(n[i-1],n[i]);)i+=1;r.push(n.slice(e,i)),e=i}return r}),Er=e(function(t,n){return t>n}),_r=e(function(t,n){return t>=n}),qr=e(w),kr=e(function(t,n){return t in n}),Nr=rr(0),Ir=r(ot),Wr=c(function(t,n,r){return xt(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})}),Pr=bt(1),Cr=Un(function(t,n){return n},null),Tr=e(function(t,n){return"function"!=typeof n.indexOf||At(n)?z(n,t,0):n.indexOf(t)}),Br=An(0,-1),Fr=c(function(t,n,r){return V(function(n){return F(t,n,r)},n)}),Rr=c(function(t,n,r){t=r.length>t&&t>=0?t:r.length;var e=Array.prototype.slice.call(r,0);return e.splice(t,0,n),e}),Ur=c(function(t,n,r){return t=r.length>t&&t>=0?t:r.length,[].concat(Array.prototype.slice.call(r,0,t),n,Array.prototype.slice.call(r,t))});ct.prototype.add=function(t){return!at(t,!0,this)},ct.prototype.has=function(t){return at(t,!1,this)};var Dr=e(function(t,n){for(var r,e,u=new ct,i=[],o=0;n.length>o;)r=t(e=n[o]),u.add(r)&&i.push(e),o+=1;return i}),zr=Dr(Ir),Mr=e(function(t,n){var r,e;return t.length>n.length?(r=t,e=n):(r=n,e=t),zr(V(xr(M)(r),e))}),Lr=e(N("intersperse",function(t,n){for(var r=[],e=0,u=n.length;u>e;)e===u-1?r.push(n[e]):r.push(n[e],t),e+=1;return r})),Kr="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,e=arguments.length;e>r;){var u=arguments[r];if(null!=u)for(var i in u)w(i,u)&&(n[i]=u[i]);r+=1}return n},Vr=e(function(t,n){var r={};return r[t]=n,r}),$r={"@@transducer/init":Array,"@@transducer/step":function(t,n){return t.push(n),t},"@@transducer/result":ot},Hr={"@@transducer/init":String,"@@transducer/step":function(t,n){return t+n},"@@transducer/result":ot},Jr={"@@transducer/init":Object,"@@transducer/step":function(t,n){return Kr(t,_t(n)?Vr(n[0],n[1]):n)},"@@transducer/result":ot},Xr=c(function(t,n,r){return a(t)?b(n(t),t["@@transducer/init"](),r):b(n(st(t)),q(t,[],[],!1),r)}),Yr=r(function(t){for(var n=Ft(t),r=n.length,e=0,u={};r>e;){var i=n[e],o=t[i],c=w(o,u)?u[o]:u[o]=[];c[c.length]=i,e+=1}return u}),Zr=r(function(t){for(var n=Ft(t),r=n.length,e=0,u={};r>e;){var i=n[e];u[t[i]]=i,e+=1}return u}),Gr=e(function(t,n){return xt(t+1,function(){var r=arguments[t];if(null!=r&&O(r[n]))return r[n].apply(r,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Wn(r)+' does not have a method named "'+n+'"')})}),Qr=e(function(t,n){return null!=n&&n.constructor===t||n instanceof t}),te=r(function(t){return null!=t&&_n(t,sr(t))}),ne=Gr(1,"join"),re=r(function(t){return Rn(function(){return Array.prototype.slice.call(arguments,0)},t)}),ee=r(function(t){var n,r=[];for(n in t)r[r.length]=n;return r}),ue=e(function(t,n){if("function"!=typeof n.lastIndexOf||At(n)){for(var r=n.length-1;r>=0;){if(_n(n[r],t))return r;r-=1}return-1}return n.lastIndexOf(t)}),ie=r(function(t){return null!=t&&ft(t.length)?t.length:NaN}),oe=e(function(t,n){return function(r){return function(e){return Rt(function(t){return n(t,e)},r(t(e)))}}}),ce=r(function(t){return oe(rr(t),Jn(t))}),ae=r(function(t){return oe(Ut(t),on(t))}),se=r(function(t){return oe(Dt(t),rn(t))}),fe=e(function(t,n){return n>t}),le=e(function(t,n){return n>=t}),pe=c(function(t,n,r){for(var e=0,u=r.length,i=[],o=[n];u>e;)o=t(o[0],r[e]),i[e]=o[1],e+=1;return[o[0],i]}),he=c(function(t,n,r){for(var e=r.length-1,u=[],i=[n];e>=0;)i=t(r[e],i[0]),u[e]=i[1],e-=1;return[u,i[0]]}),ye=e(function(t,n){return b(function(r,e){return r[e]=t(n[e],e,n),r},{},Ft(n))}),de=e(function(t,n){return n.match(t)||[]}),ge=e(function(t,n){return en(t)?!en(n)||1>n?NaN:(t%n+n)%n:NaN}),ve=c(function(t,n,r){return t(r)>t(n)?r:n}),me=Mt(bt,0),be=r(function(t){return me(t)/t.length}),xe=r(function(t){var n=t.length;if(0===n)return NaN;var r=2-n%2,e=(n-r)/2;return be(Array.prototype.slice.call(t,0).sort(function(t,n){return n>t?-1:t>n?1:0}).slice(e,e+r))}),we=e(function(t,n){var r={};return i(n.length,function(){var e=t.apply(this,arguments);return w(e,r)||(r[e]=n.apply(this,arguments)),r[e]})}),je=we(function(){return Wn(arguments)}),Ae=e(function(t,n){return Kr({},t,n)}),Oe=r(function(t){return Kr.apply(null,[{}].concat(t))}),Se=c(function(t,n,r){var e,u={};for(e in n)w(e,n)&&(u[e]=w(e,r)?t(e,n[e],r[e]):n[e]);for(e in r)w(e,r)&&!w(e,u)&&(u[e]=r[e]);return u}),Ee=c(function t(n,r,e){return Se(function(r,e,u){return $(e)&&$(u)?t(n,e,u):n(r,e,u)},r,e)}),_e=e(function(t,n){return Ee(function(t,n,r){return n},t,n)}),qe=e(function(t,n){return Ee(function(t,n,r){return r},t,n)}),ke=c(function(t,n,r){return Ee(function(n,r,e){return t(r,e)},n,r)}),Ne=c(function(t,n,r){return Se(function(n,r,e){return t(r,e)},n,r)}),Ie=e(function(t,n){return t>n?n:t}),We=c(function(t,n,r){return t(r)<t(n)?r:n}),Pe=e(function(t,n){return t%n}),Ce=e(function(t,n){return t*n}),Te=r(function(t){return-t}),Be=e(K(s(["any"],Vt,$t))),Fe=r(function(t){return xt(0>t?1:t+1,function(){return rr(t,arguments)})}),Re=c(function(t,n,r){return t(n(r))}),Ue=r(function(t){return[t]}),De=e(function(t,n){for(var r={},e={},u=0,i=t.length;i>u;)e[t[u]]=1,u+=1;for(var o in n)e.hasOwnProperty(o)||(r[o]=n[o]);return r}),ze=r(function(t){var n,r=!1;return i(t.length,function(){return r?n:(r=!0,n=t.apply(this,arguments))})}),Me=function(t){return{value:t,map:function(n){return Me(n(t))}}},Le=c(function(t,n,r){return t(function(t){return Me(n(t))})(r).value}),Ke=e(function(t,n){return[t,n]}),Ve=lt(u),$e=lt(xr(u)),He=re([Nn,In]),Je=c(function(t,n,r){return _n(Ut(t,r),n)}),Xe=c(function(t,n,r){return Mn(t,Ut(n,r))}),Ye=c(function(t,n,r){return n.length>0&&t(Ut(n,r))}),Ze=e(function(t,n){for(var r={},e=0;t.length>e;)t[e]in n&&(r[t[e]]=n[t[e]]),e+=1;return r}),Ge=e(function(t,n){for(var r={},e=0,u=t.length;u>e;){var i=t[e];r[i]=n[i],e+=1}return r}),Qe=e(function(t,n){var r={};for(var e in n)t(n[e],e,n)&&(r[e]=n[e]);return r}),tu=e(function(t,n){return u([t],n)}),nu=Mt(Ce,1),ru=e(function(t,n){return xt(n.length,function(){for(var r=[],e=0;n.length>e;)r.push(n[e].call(this,arguments[e])),e+=1;return t.apply(this,r.concat(Array.prototype.slice.call(arguments,n.length)))})}),eu=ru(p,[Ge,Ir]),uu=c(function(t,n,r){return _n(n,r[t])}),iu=c(function(t,n,r){return Qr(t,r[n])}),ou=c(function(t,n,r){return null!=r&&w(n,r)?r[n]:t}),cu=c(function(t,n,r){return t(r[n])}),au=e(function(t,n){for(var r=t.length,e=[],u=0;r>u;)e[u]=n[t[u]],u+=1;return e}),su=e(function(t,n){if(!ft(t)||!ft(n))throw new TypeError("Both arguments to range must be numbers");for(var r=[],e=t;n>e;)r.push(e),e+=1;return r}),fu=c(function(t,n,r){for(var e=r.length-1;e>=0;)n=t(r[e],n),e-=1;return n}),lu=o(4,[],function(t,n,r,e){return b(function(r,e){return t(r,e)?n(r,e):f(r)},r,e)}),pu=r(f),hu=e(function(t,n){var r,e=+n,u=0;if(0>e||isNaN(e))throw new RangeError("n must be a non-negative number");for(r=Array(e);e>u;)r[u]=t(u),u+=1;return r}),yu=e(function(t,n){return hu(dt(t),n)}),du=c(function(t,n,r){return r.replace(t,n)}),gu=c(function(t,n,r){for(var e=0,u=r.length,i=[n];u>e;)n=t(n,r[e]),i[e+1]=n,e+=1;return i}),vu=e(function(t,n){return"function"==typeof n.sequence?n.sequence(t):fu(function(t,n){return Jt(Rt(tu,t),n)},t([]),n)}),mu=c(function(t,n,r){return Le(t,dt(n),r)}),bu=e(function(t,n){return Array.prototype.slice.call(n,0).sort(t)}),xu=e(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,r){var e=t(n),u=t(r);return u>e?-1:e>u?1:0})}),wu=e(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,r){for(var e=0,u=0;0===e&&t.length>u;)e=t[u](n,r),u+=1;return e})}),ju=Gr(1,"split"),Au=e(function(t,n){return[An(0,t,n),An(t,ie(n),n)]}),Ou=e(function(t,n){if(0>=t)throw Error("First argument to splitEvery must be a positive integer");for(var r=[],e=0;n.length>e;)r.push(An(e,e+=t,n));return r}),Su=e(function(t,n){for(var r=0,e=n.length,u=[];e>r&&!t(n[r]);)u.push(n[r]),r+=1;return[u,Array.prototype.slice.call(n,r)]}),Eu=e(function(t,n){return _n(Gn(t.length,n),t)}),_u=e(function(t,n){return+t-+n}),qu=e(function(t,n){return Pn(Kn(t,n),Kn(n,t))}),ku=c(function(t,n,r){return Pn(Vn(t,n,r),Vn(t,r,n))}),Nu=e(function(t,n){for(var r=n.length-1;r>=0&&t(n[r]);)r-=1;return An(r+1,1/0,n)});pt.prototype["@@transducer/init"]=Ot.init,pt.prototype["@@transducer/result"]=Ot.result,pt.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):f(t)};var Iu=e(s(["takeWhile"],e(function(t,n){return new pt(t,n)}),function(t,n){for(var r=0,e=n.length;e>r&&t(n[r]);)r+=1;return An(0,r,n)}));ht.prototype["@@transducer/init"]=Ot.init,ht.prototype["@@transducer/result"]=Ot.result,ht.prototype["@@transducer/step"]=function(t,n){return this.f(n),this.xf["@@transducer/step"](t,n)};var Wu=e(s([],e(function(t,n){return new ht(t,n)}),function(t,n){return t(n),n})),Pu=e(function(t,n){if(!yt(t))throw new TypeError("test requires a value of type RegExp as its first argument; received "+Wn(t));return _(t).test(n)}),Cu=Gr(0,"toLowerCase"),Tu=r(function(t){var n=[];for(var r in t)w(r,t)&&(n[n.length]=[r,t[r]]);return n}),Bu=r(function(t){var n=[];for(var r in t)n[n.length]=[r,t[r]];return n}),Fu=Gr(0,"toUpperCase"),Ru=xt(4,function(t,n,r,e){return b(t("function"==typeof n?d(n):n),r,e)}),Uu=r(function(t){for(var n=0,r=[];t.length>n;){for(var e=t[n],u=0;e.length>u;)void 0===r[u]&&(r[u]=[]),r[u].push(e[u]),u+=1;n+=1}return r}),Du=c(function(t,n,r){return"function"==typeof r["fantasy-land/traverse"]?r["fantasy-land/traverse"](n,t):vu(t,Rt(n,r))}),zu="\t\n\v\f\r \u2028\u2029\ufeff",Mu=r(!("function"==typeof String.prototype.trim)||zu.trim()?function(t){var n=RegExp("^["+zu+"]["+zu+"]*"),r=RegExp("["+zu+"]["+zu+"]*$");return t.replace(n,"").replace(r,"")}:function(t){return t.trim()}),Lu=e(function(t,n){return i(t.length,function(){try{return t.apply(this,arguments)}catch(t){return n.apply(this,u([t],arguments))}})}),Ku=r(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),Vu=r(function(t){return cn(1,t)}),$u=e(function(t,n){return xt(t,function(){for(var r,e=1,u=n,i=0;t>=e&&"function"==typeof u;)r=e===t?arguments.length:i+u.length,u=u.apply(this,Array.prototype.slice.call(arguments,i,r)),e+=1,i=r;return u})}),Hu=e(function(t,n){for(var r=t(n),e=[];r&&r.length;)e[e.length]=r[0],r=t(r[1]);return e}),Ju=e(W(zr,u)),Xu=e(function(t,n){for(var r,e=0,u=n.length,i=[];u>e;)F(t,r=n[e],i)||(i[i.length]=r),e+=1;return i}),Yu=c(function(t,n,r){return Xu(t,u(n,r))}),Zu=c(function(t,n,r){return t(r)?r:n(r)}),Gu=gn(ot),Qu=c(function(t,n,r){for(var e=r;!t(e);)e=n(e);return e}),ti=r(function(t){var n,r=[];for(n in t)r[r.length]=t[n];return r}),ni=function(t){return{value:t,"fantasy-land/map":function(){return this}}},ri=e(function(t,n){return t(ni)(n).value}),ei=c(function(t,n,r){return t(r)?n(r):r}),ui=e(function(t,n){for(var r in t)if(w(r,t)&&!t[r](n[r]))return!1;return!0}),ii=e(function(t,n){return ui(Rt(_n,t),n)}),oi=e(function(t,n){return In(xr(M)(t),n)}),ci=e(function(t,n){for(var r,e=0,u=t.length,i=n.length,o=[];u>e;){for(r=0;i>r;)o[o.length]=[t[e],n[r]],r+=1;e+=1}return o}),ai=e(function(t,n){for(var r=[],e=0,u=Math.min(t.length,n.length);u>e;)r[e]=[t[e],n[e]],e+=1;return r}),si=e(function(t,n){for(var r=0,e=Math.min(t.length,n.length),u={};e>r;)u[t[r]]=n[r],r+=1;return u}),fi=c(function(t,n,r){for(var e=[],u=0,i=Math.min(n.length,r.length);i>u;)e[u]=t(n[u],r[u]),u+=1;return e});t.F=gt,t.T=vt,t.__=mt,t.add=bt,t.addIndex=wt,t.adjust=jt,t.all=St,t.allPass=Lt,t.always=dt,t.and=Kt,t.any=$t,t.anyPass=Ht,t.ap=Jt,t.aperture=Xt,t.append=Yt,t.apply=Zt,t.applySpec=Qt,t.applyTo=tn,t.ascend=nn,t.assoc=rn,t.assocPath=on,t.binary=an,t.bind=qt,t.both=ln,t.call=hn,t.chain=gn,t.clamp=vn,t.clone=bn,t.comparator=xn,t.complement=jn,t.compose=W,t.composeK=P,t.composeP=function(){if(0===arguments.length)throw Error("composeP requires at least one argument");return T.apply(this,Sn(arguments))},t.concat=Pn,t.cond=Cn,t.construct=Bn,t.constructN=Tn,t.contains=Fn,t.converge=Rn,t.countBy=Dn,t.curry=pn,t.curryN=xt,t.dec=zn,t.defaultTo=Mn,t.descend=Ln,t.difference=Kn,t.differenceWith=Vn,t.dissoc=$n,t.dissocPath=Xn,t.divide=Yn,t.drop=Zn,t.dropLast=Qn,t.dropLastWhile=tr,t.dropRepeats=ir,t.dropRepeatsWith=ur,t.dropWhile=or,t.either=ar,t.empty=sr,t.endsWith=lr,t.eqBy=pr,t.eqProps=hr,t.equals=_n,t.evolve=yr,t.filter=Nn,t.find=dr,t.findIndex=gr,t.findLast=vr,t.findLastIndex=mr,t.flatten=br,t.flip=xr,t.forEach=wr,t.forEachObjIndexed=jr,t.fromPairs=Ar,t.groupBy=Or,t.groupWith=Sr,t.gt=Er,t.gte=_r,t.has=qr,t.hasIn=kr,t.head=Nr,t.identical=En,t.identity=Ir,t.ifElse=Wr,t.inc=Pr,t.indexBy=Cr,t.indexOf=Tr,t.init=Br,t.innerJoin=Fr,t.insert=Rr,t.insertAll=Ur,t.intersection=Mr,t.intersperse=Lr,t.into=Xr,t.invert=Yr,t.invertObj=Zr,t.invoker=Gr,t.is=Qr,t.isEmpty=te,t.isNil=un,t.join=ne,t.juxt=re,t.keys=Ft,t.keysIn=ee,t.last=er,t.lastIndexOf=ue,t.length=ie,t.lens=oe,t.lensIndex=ce,t.lensPath=ae,t.lensProp=se,t.lift=fn,t.liftN=sn,t.lt=fe,t.lte=le,t.map=Rt,t.mapAccum=pe,t.mapAccumRight=he,t.mapObjIndexed=ye,t.match=de,t.mathMod=ge,t.max=Et,t.maxBy=ve,t.mean=be,t.median=xe,t.memoize=je,t.memoizeWith=we,t.merge=Ae,t.mergeAll=Oe,t.mergeDeepLeft=_e,t.mergeDeepRight=qe,t.mergeDeepWith=ke,t.mergeDeepWithKey=Ee,t.mergeWith=Ne,t.mergeWithKey=Se,t.min=Ie,t.minBy=We,t.modulo=Pe,t.multiply=Ce,t.nAry=cn,t.negate=Te,t.none=Be,t.not=wn,t.nth=rr,t.nthArg=Fe,t.o=Re,t.objOf=Vr,t.of=Ue,t.omit=De,t.once=ze,t.or=cr,t.over=Le,t.pair=Ke,t.partial=Ve,t.partialRight=$e,t.partition=He,t.path=Ut,t.pathEq=Je,t.pathOr=Xe,t.pathSatisfies=Ye,t.pick=Ze,t.pickAll=Ge,t.pickBy=Qe,t.pipe=I,t.pipeK=function(){if(0===arguments.length)throw Error("pipeK requires at least one argument");return P.apply(this,Sn(arguments))},t.pipeP=T,t.pluck=zt,t.prepend=tu,t.product=nu,t.project=eu,t.prop=Dt,t.propEq=uu,t.propIs=iu,t.propOr=ou,t.propSatisfies=cu,t.props=au,t.range=su,t.reduce=Mt,t.reduceBy=Un,t.reduceRight=fu,t.reduceWhile=lu,t.reduced=pu,t.reject=In,t.remove=Hn,t.repeat=yu,t.replace=du,t.reverse=Sn,t.scan=gu,t.sequence=vu,t.set=mu,t.slice=An,t.sort=bu,t.sortBy=xu,t.sortWith=wu,t.split=ju,t.splitAt=Au,t.splitEvery=Ou,t.splitWhen=Su,t.startsWith=Eu,t.subtract=_u,t.sum=me,t.symmetricDifference=qu,t.symmetricDifferenceWith=ku,t.tail=On,t.take=Gn,t.takeLast=fr,t.takeLastWhile=Nu,t.takeWhile=Iu,t.tap=Wu,t.test=Pu,t.times=hu,t.toLower=Cu,t.toPairs=Tu,t.toPairsIn=Bu,t.toString=Wn,t.toUpper=Fu,t.transduce=Ru,t.transpose=Uu,t.traverse=Du,t.trim=Mu,t.tryCatch=Lu,t.type=mn,t.unapply=Ku,t.unary=Vu,t.uncurryN=$u,t.unfold=Hu,t.union=Ju,t.unionWith=Yu,t.uniq=zr,t.uniqBy=Dr,t.uniqWith=Xu,t.unless=Zu,t.unnest=Gu,t.until=Qu,t.update=Jn,t.useWith=ru,t.values=Gt,t.valuesIn=ti,t.view=ri,t.when=ei,t.where=ui,t.whereEq=ii,t.without=oi,t.xprod=ci,t.zip=ai,t.zipObj=si,t.zipWith=fi,Object.defineProperty(t,"__esModule",{value:!0})});

/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
!function(a,b){a(function(){"use strict";function a(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function c(a,b){var c,d,e=a.length;if(!e||!b)return!1;for(c=b.toLowerCase(),d=0;d<e;++d)if(c===a[d].toLowerCase())return!0;return!1}function d(a){for(var b in a)i.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function e(a){return(a||"").substr(0,500)}function f(a,b){this.ua=e(a),this._cache={},this.maxPhoneWidth=b||600}var g={};g.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-8703F|Tab2A7-10F|TB2-X30L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},g.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
tabletPattern:/android|ipad|playbook|silk/i};var h,i=Object.prototype.hasOwnProperty;return g.FALLBACK_PHONE="UnknownPhone",g.FALLBACK_TABLET="UnknownTablet",g.FALLBACK_MOBILE="UnknownMobile",h="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,c,e,f,j,k=g.mobileDetectRules;for(a in k.props)if(i.call(k.props,a)){for(b=k.props[a],h(b)||(b=[b]),f=b.length,e=0;e<f;++e)c=b[e],j=c.indexOf("[VER]"),j>=0&&(c=c.substring(0,j)+"([\\w._\\+]+)"+c.substring(j+5)),b[e]=new RegExp(c,"i");k.props[a]=b}d(k.oss),d(k.phones),d(k.tablets),d(k.uas),d(k.utils),k.oss0={WindowsPhoneOS:k.oss.WindowsPhoneOS,WindowsMobileOS:k.oss.WindowsMobileOS}}(),g.findMatch=function(a,b){for(var c in a)if(i.call(a,c)&&a[c].test(b))return c;return null},g.findMatches=function(a,b){var c=[];for(var d in a)i.call(a,d)&&a[d].test(b)&&c.push(d);return c},g.getVersionStr=function(a,b){var c,d,e,f,h=g.mobileDetectRules.props;if(i.call(h,a))for(c=h[a],e=c.length,d=0;d<e;++d)if(f=c[d].exec(b),null!==f)return f[1];return null},g.getVersion=function(a,b){var c=g.getVersionStr(a,b);return c?g.prepareVersionNo(c):NaN},g.prepareVersionNo=function(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)},g.isMobileFallback=function(a){return g.detectMobileBrowsers.fullPattern.test(a)||g.detectMobileBrowsers.shortPattern.test(a.substr(0,4))},g.isTabletFallback=function(a){return g.detectMobileBrowsers.tabletPattern.test(a)},g.prepareDetectionCache=function(a,c,d){if(a.mobile===b){var e,h,i;return(h=g.findMatch(g.mobileDetectRules.tablets,c))?(a.mobile=a.tablet=h,void(a.phone=null)):(e=g.findMatch(g.mobileDetectRules.phones,c))?(a.mobile=a.phone=e,void(a.tablet=null)):void(g.isMobileFallback(c)?(i=f.isPhoneSized(d),i===b?(a.mobile=g.FALLBACK_MOBILE,a.tablet=a.phone=null):i?(a.mobile=a.phone=g.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=g.FALLBACK_TABLET,a.phone=null)):g.isTabletFallback(c)?(a.mobile=a.tablet=g.FALLBACK_TABLET,a.phone=null):a.mobile=a.tablet=a.phone=null)}},g.mobileGrade=function(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2,"C")},g.detectOS=function(a){return g.findMatch(g.mobileDetectRules.oss0,a)||g.findMatch(g.mobileDetectRules.oss,a)},g.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},f.prototype={constructor:f,mobile:function(){return g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=g.findMatch(g.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===b&&(this._cache.userAgents=g.findMatches(g.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===b&&(this._cache.os=g.detectOS(this.ua)),this._cache.os},version:function(a){return g.getVersion(a,this.ua)},versionStr:function(a){return g.getVersionStr(a,this.ua)},is:function(b){return c(this.userAgents(),b)||a(b,this.os())||a(b,this.phone())||a(b,this.tablet())||c(g.findMatches(g.mobileDetectRules.utils,this.ua),b)},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return f.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===b&&(this._cache.grade=g.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?f.isPhoneSized=function(a){return a<0?b:g.getDeviceSmallerSide()<=a}:f.isPhoneSized=function(){},f._impl=g,f.version="1.4.3 2018-09-08",f})}(function(a){if("undefined"!=typeof module&&module.exports)return function(a){module.exports=a()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(a){window.MobileDetect=a()};throw new Error("unknown environment")}());
/* mousetrap v1.6.1 craig.is/killing/mice */
(function(r,v,f){function w(a,b,g){a.addEventListener?a.addEventListener(b,g,!1):a.attachEvent("on"+b,g)}function A(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return p[a.which]?p[a.which]:t[a.which]?t[a.which]:String.fromCharCode(a.which).toLowerCase()}function F(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function x(a){return"shift"==a||"ctrl"==a||"alt"==a||
"meta"==a}function B(a,b){var g,c,d,f=[];g=a;"+"===g?g=["+"]:(g=g.replace(/\+{2}/g,"+plus"),g=g.split("+"));for(d=0;d<g.length;++d)c=g[d],C[c]&&(c=C[c]),b&&"keypress"!=b&&D[c]&&(c=D[c],f.push("shift")),x(c)&&f.push(c);g=c;d=b;if(!d){if(!n){n={};for(var q in p)95<q&&112>q||p.hasOwnProperty(q)&&(n[p[q]]=q)}d=n[g]?"keydown":"keypress"}"keypress"==d&&f.length&&(d="keydown");return{key:c,modifiers:f,action:d}}function E(a,b){return null===a||a===v?!1:a===b?!0:E(a.parentNode,b)}function c(a){function b(a){a=
a||{};var b=!1,l;for(l in n)a[l]?b=!0:n[l]=0;b||(y=!1)}function g(a,b,u,e,c,g){var l,m,k=[],f=u.type;if(!h._callbacks[a])return[];"keyup"==f&&x(a)&&(b=[a]);for(l=0;l<h._callbacks[a].length;++l)if(m=h._callbacks[a][l],(e||!m.seq||n[m.seq]==m.level)&&f==m.action){var d;(d="keypress"==f&&!u.metaKey&&!u.ctrlKey)||(d=m.modifiers,d=b.sort().join(",")===d.sort().join(","));d&&(d=e&&m.seq==e&&m.level==g,(!e&&m.combo==c||d)&&h._callbacks[a].splice(l,1),k.push(m))}return k}function f(a,b,c,e){h.stopCallback(b,
b.target||b.srcElement,c,e)||!1!==a(b,c)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0)}function d(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=A(a);b&&("keyup"==a.type&&z===b?z=!1:h.handleKey(b,F(a),a))}function p(a,c,u,e){function l(c){return function(){y=c;++n[a];clearTimeout(r);r=setTimeout(b,1E3)}}function g(c){f(u,c,a);"keyup"!==e&&(z=A(c));setTimeout(b,10)}for(var d=n[a]=0;d<c.length;++d){var m=d+1===c.length?g:l(e||
B(c[d+1]).action);q(c[d],m,e,a,d)}}function q(a,b,c,e,d){h._directMap[a+":"+c]=b;a=a.replace(/\s+/g," ");var f=a.split(" ");1<f.length?p(a,f,b,c):(c=B(a,c),h._callbacks[c.key]=h._callbacks[c.key]||[],g(c.key,c.modifiers,{type:c.action},e,a,d),h._callbacks[c.key][e?"unshift":"push"]({callback:b,modifiers:c.modifiers,action:c.action,seq:e,level:d,combo:a}))}var h=this;a=a||v;if(!(h instanceof c))return new c(a);h.target=a;h._callbacks={};h._directMap={};var n={},r,z=!1,t=!1,y=!1;h._handleKey=function(a,
c,d){var e=g(a,c,d),k;c={};var h=0,l=!1;for(k=0;k<e.length;++k)e[k].seq&&(h=Math.max(h,e[k].level));for(k=0;k<e.length;++k)e[k].seq?e[k].level==h&&(l=!0,c[e[k].seq]=1,f(e[k].callback,d,e[k].combo,e[k].seq)):l||f(e[k].callback,d,e[k].combo);e="keypress"==d.type&&t;d.type!=y||x(a)||e||b(c);t=l&&"keydown"==d.type};h._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)q(a[d],b,c)};w(a,"keypress",d);w(a,"keydown",d);w(a,"keyup",d)}if(r){var p={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",
18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},t={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},D={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta","return":"enter",
escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},n;for(f=1;20>f;++f)p[111+f]="f"+f;for(f=0;9>=f;++f)p[f+96]=f.toString();c.prototype.bind=function(a,b,c){a=a instanceof Array?a:[a];this._bindMultiple.call(this,a,b,c);return this};c.prototype.unbind=function(a,b){return this.bind.call(this,a,function(){},b)};c.prototype.trigger=function(a,b){if(this._directMap[a+":"+b])this._directMap[a+":"+b]({},a);return this};c.prototype.reset=function(){this._callbacks={};
this._directMap={};return this};c.prototype.stopCallback=function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")||E(b,this.target)?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable};c.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)};c.addKeycodes=function(a){for(var b in a)a.hasOwnProperty(b)&&(p[b]=a[b]);n=null};c.init=function(){var a=c(v),b;for(b in a)"_"!==b.charAt(0)&&(c[b]=function(b){return function(){return a[b].apply(a,
arguments)}}(b))};c.init();r.Mousetrap=c;"undefined"!==typeof module&&module.exports&&(module.exports=c);"function"===typeof define&&define.amd&&define(function(){return c})}})("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null);

/*!
 * clipboard.js v1.7.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){function o(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=o},{}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}var r=t("./closest");e.exports=o},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var c=t("./is"),l=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i),e=o.toString()}return e}e.exports=o},{}],6:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;r<a;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],7:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function t(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function t(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function t(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function t(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function t(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function t(){this.removeFake()}},{key:"action",set:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=c})},{select:5}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=i(e),u=i(n),f=i(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})}},{key:"onClick",value:function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),container:this.container,trigger:n,emitter:this})}},{key:"defaultAction",value:function t(e){return l("action",e)}},{key:"defaultTarget",value:function t(e){var n=l("target",e);if(n)return document.querySelector(n)}},{key:"defaultText",value:function t(e){return l("text",e)}},{key:"destroy",value:function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],n="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return n.forEach(function(t){o=o&&!!document.queryCommandSupported(t)}),o}}]),e}(u.default);t.exports=p})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});
/*!
	Papa Parse
	v4.3.7
	https://github.com/mholt/PapaParse
	License: MIT
*/
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&"undefined"!=typeof exports?module.exports=b():a.Papa=b()}(this,function(){"use strict";function a(a,b){b=b||{};var c=b.dynamicTyping||!1;if(r(c)&&(b.dynamicTypingFunction=c,c={}),b.dynamicTyping=c,b.worker&&z.WORKERS_SUPPORTED){var h=k();return h.userStep=b.step,h.userChunk=b.chunk,h.userComplete=b.complete,h.userError=b.error,b.step=r(b.step),b.chunk=r(b.chunk),b.complete=r(b.complete),b.error=r(b.error),delete b.worker,void h.postMessage({input:a,config:b,workerId:h.id})}var i=null;return"string"==typeof a?i=b.download?new d(b):new f(b):a.readable===!0&&r(a.read)&&r(a.on)?i=new g(b):(t.File&&a instanceof File||a instanceof Object)&&(i=new e(b)),i.stream(a)}function b(a,b){function c(){"object"==typeof b&&("string"==typeof b.delimiter&&1===b.delimiter.length&&z.BAD_DELIMITERS.indexOf(b.delimiter)===-1&&(j=b.delimiter),("boolean"==typeof b.quotes||b.quotes instanceof Array)&&(h=b.quotes),"string"==typeof b.newline&&(k=b.newline),"string"==typeof b.quoteChar&&(l=b.quoteChar),"boolean"==typeof b.header&&(i=b.header))}function d(a){if("object"!=typeof a)return[];var b=[];for(var c in a)b.push(c);return b}function e(a,b){var c="";"string"==typeof a&&(a=JSON.parse(a)),"string"==typeof b&&(b=JSON.parse(b));var d=a instanceof Array&&a.length>0,e=!(b[0]instanceof Array);if(d&&i){for(var g=0;g<a.length;g++)g>0&&(c+=j),c+=f(a[g],g);b.length>0&&(c+=k)}for(var h=0;h<b.length;h++){for(var l=d?a.length:b[h].length,m=0;m<l;m++){m>0&&(c+=j);var n=d&&e?a[m]:m;c+=f(b[h][n],m)}h<b.length-1&&(c+=k)}return c}function f(a,b){if("undefined"==typeof a||null===a)return"";a=a.toString().replace(m,l+l);var c="boolean"==typeof h&&h||h instanceof Array&&h[b]||g(a,z.BAD_DELIMITERS)||a.indexOf(j)>-1||" "===a.charAt(0)||" "===a.charAt(a.length-1);return c?l+a+l:a}function g(a,b){for(var c=0;c<b.length;c++)if(a.indexOf(b[c])>-1)return!0;return!1}var h=!1,i=!0,j=",",k="\r\n",l='"';c();var m=new RegExp(l,"g");if("string"==typeof a&&(a=JSON.parse(a)),a instanceof Array){if(!a.length||a[0]instanceof Array)return e(null,a);if("object"==typeof a[0])return e(d(a[0]),a)}else if("object"==typeof a)return"string"==typeof a.data&&(a.data=JSON.parse(a.data)),a.data instanceof Array&&(a.fields||(a.fields=a.meta&&a.meta.fields),a.fields||(a.fields=a.data[0]instanceof Array?a.fields:d(a.data[0])),a.data[0]instanceof Array||"object"==typeof a.data[0]||(a.data=[a.data])),e(a.fields||[],a.data||[]);throw"exception: Unable to serialize unrecognized input"}function c(a){function b(a){var b=p(a);b.chunkSize=parseInt(b.chunkSize),a.step||a.chunk||(b.chunkSize=null),this._handle=new h(b),this._handle.streamer=this,this._config=b}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},b.call(this,a),this.parseChunk=function(a){if(this.isFirstChunk&&r(this._config.beforeFirstChunk)){var b=this._config.beforeFirstChunk(a);void 0!==b&&(a=b)}this.isFirstChunk=!1;var c=this._partialLine+a;this._partialLine="";var d=this._handle.parse(c,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var e=d.meta.cursor;this._finished||(this._partialLine=c.substring(e-this._baseIndex),this._baseIndex=e),d&&d.data&&(this._rowCount+=d.data.length);var f=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(v)t.postMessage({results:d,workerId:z.WORKER_ID,finished:f});else if(r(this._config.chunk)){if(this._config.chunk(d,this._handle),this._paused)return;d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),!f||!r(this._config.complete)||d&&d.meta.aborted||this._config.complete(this._completeResults,this._input),f||d&&d.meta.paused||this._nextChunk(),d}},this._sendError=function(a){r(this._config.error)?this._config.error(a):v&&this._config.error&&t.postMessage({workerId:z.WORKER_ID,error:a,finished:!1})}}function d(a){function b(a){var b=a.getResponseHeader("Content-Range");return null===b?-1:parseInt(b.substr(b.lastIndexOf("/")+1))}a=a||{},a.chunkSize||(a.chunkSize=z.RemoteChunkSize),c.call(this,a);var d;u?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(a){this._input=a,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),u||(d.onload=q(this._chunkLoaded,this),d.onerror=q(this._chunkError,this)),d.open("GET",this._input,!u),this._config.downloadRequestHeaders){var a=this._config.downloadRequestHeaders;for(var b in a)d.setRequestHeader(b,a[b])}if(this._config.chunkSize){var c=this._start+this._config.chunkSize-1;d.setRequestHeader("Range","bytes="+this._start+"-"+c),d.setRequestHeader("If-None-Match","webkit-no-cache")}try{d.send()}catch(a){this._chunkError(a.message)}u&&0===d.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==d.readyState){if(d.status<200||d.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>b(d),this.parseChunk(d.responseText)}},this._chunkError=function(a){var b=d.statusText||a;this._sendError(b)}}function e(a){a=a||{},a.chunkSize||(a.chunkSize=z.LocalChunkSize),c.call(this,a);var b,d,e="undefined"!=typeof FileReader;this.stream=function(a){this._input=a,d=a.slice||a.webkitSlice||a.mozSlice,e?(b=new FileReader,b.onload=q(this._chunkLoaded,this),b.onerror=q(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var c=Math.min(this._start+this._config.chunkSize,this._input.size);a=d.call(a,this._start,c)}var f=b.readAsText(a,this._config.encoding);e||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(b.error.message)}}function f(a){a=a||{},c.call(this,a);var b,d;this.stream=function(a){return b=a,d=a,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var a=this._config.chunkSize,b=a?d.substr(0,a):d;return d=a?d.substr(a):"",this._finished=!d,this.parseChunk(b)}}}function g(a){a=a||{},c.call(this,a);var b=[],d=!0;this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){b.length?this.parseChunk(b.shift()):d=!0},this._streamData=q(function(a){try{b.push("string"==typeof a?a:a.toString(this._config.encoding)),d&&(d=!1,this.parseChunk(b.shift()))}catch(a){this._streamError(a)}},this),this._streamError=q(function(a){this._streamCleanUp(),this._sendError(a.message)},this),this._streamEnd=q(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(a){function b(){if(x&&o&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+z.DefaultDelimiter+"'"),o=!1),a.skipEmptyLines)for(var b=0;b<x.data.length;b++)1===x.data[b].length&&""===x.data[b][0]&&x.data.splice(b--,1);return c()&&d(),g()}function c(){return a.header&&0===w.length}function d(){if(x){for(var a=0;c()&&a<x.data.length;a++)for(var b=0;b<x.data[a].length;b++)w.push(x.data[a][b]);x.data.splice(0,1)}}function e(b){return a.dynamicTypingFunction&&void 0===a.dynamicTyping[b]&&(a.dynamicTyping[b]=a.dynamicTypingFunction(b)),(a.dynamicTyping[b]||a.dynamicTyping)===!0}function f(a,b){return e(a)?"true"===b||"TRUE"===b||"false"!==b&&"FALSE"!==b&&k(b):b}function g(){if(!x||!a.header&&!a.dynamicTyping)return x;for(var b=0;b<x.data.length;b++){for(var c=a.header?{}:[],d=0;d<x.data[b].length;d++){var e=d,g=x.data[b][d];a.header&&(e=d>=w.length?"__parsed_extra":w[d]),g=f(e,g),"__parsed_extra"===e?(c[e]=c[e]||[],c[e].push(g)):c[e]=g}x.data[b]=c,a.header&&(d>w.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+w.length+" fields but parsed "+d,b):d<w.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+w.length+" fields but parsed "+d,b))}return a.header&&x.meta&&(x.meta.fields=w),x}function h(b,c,d){for(var e,f,g,h=[",","\t","|",";",z.RECORD_SEP,z.UNIT_SEP],j=0;j<h.length;j++){var k=h[j],l=0,m=0,n=0;g=void 0;for(var o=new i({delimiter:k,newline:c,preview:10}).parse(b),p=0;p<o.data.length;p++)if(d&&1===o.data[p].length&&0===o.data[p][0].length)n++;else{var q=o.data[p].length;m+=q,"undefined"!=typeof g?q>1&&(l+=Math.abs(q-g),g=q):g=q}o.data.length>0&&(m/=o.data.length-n),("undefined"==typeof f||l<f)&&m>1.99&&(f=l,e=k)}return a.delimiter=e,{successful:!!e,bestDelimiter:e}}function j(a){a=a.substr(0,1048576);var b=a.split("\r"),c=a.split("\n"),d=c.length>1&&c[0].length<b[0].length;if(1===b.length||d)return"\n";for(var e=0,f=0;f<b.length;f++)"\n"===b[f][0]&&e++;return e>=b.length/2?"\r\n":"\r"}function k(a){var b=q.test(a);return b?parseFloat(a):a}function l(a,b,c,d){x.errors.push({type:a,code:b,message:c,row:d})}var m,n,o,q=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,s=this,t=0,u=!1,v=!1,w=[],x={data:[],errors:[],meta:{}};if(r(a.step)){var y=a.step;a.step=function(d){if(x=d,c())b();else{if(b(),0===x.data.length)return;t+=d.data.length,a.preview&&t>a.preview?n.abort():y(x,s)}}}this.parse=function(c,d,e){if(a.newline||(a.newline=j(c)),o=!1,a.delimiter)r(a.delimiter)&&(a.delimiter=a.delimiter(c),x.meta.delimiter=a.delimiter);else{var f=h(c,a.newline,a.skipEmptyLines);f.successful?a.delimiter=f.bestDelimiter:(o=!0,a.delimiter=z.DefaultDelimiter),x.meta.delimiter=a.delimiter}var g=p(a);return a.preview&&a.header&&g.preview++,m=c,n=new i(g),x=n.parse(m,d,e),b(),u?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),m=m.substr(n.getCharIndex())},this.resume=function(){u=!1,s.streamer.parseChunk(m)},this.aborted=function(){return v},this.abort=function(){v=!0,n.abort(),x.meta.aborted=!0,r(a.complete)&&a.complete(x),m=""}}function i(a){a=a||{};var b=a.delimiter,c=a.newline,d=a.comments,e=a.step,f=a.preview,g=a.fastMode;if(void 0===a.quoteChar)var h='"';else var h=a.quoteChar;if(("string"!=typeof b||z.BAD_DELIMITERS.indexOf(b)>-1)&&(b=","),d===b)throw"Comment character same as delimiter";d===!0?d="#":("string"!=typeof d||z.BAD_DELIMITERS.indexOf(d)>-1)&&(d=!1),"\n"!=c&&"\r"!=c&&"\r\n"!=c&&(c="\n");var i=0,j=!1;this.parse=function(a,k,l){function m(a){x.push(a),A=i}function n(b){return l?p():("undefined"==typeof b&&(b=a.substr(i)),z.push(b),i=s,m(z),w&&q(),p())}function o(b){i=b,m(z),z=[],E=a.indexOf(c,i)}function p(a){return{data:x,errors:y,meta:{delimiter:b,linebreak:c,aborted:j,truncated:!!a,cursor:A+(k||0)}}}function q(){e(p()),x=[],y=[]}if("string"!=typeof a)throw"Input must be a string";var s=a.length,t=b.length,u=c.length,v=d.length,w=r(e);i=0;var x=[],y=[],z=[],A=0;if(!a)return p();if(g||g!==!1&&a.indexOf(h)===-1){for(var B=a.split(c),C=0;C<B.length;C++){var z=B[C];if(i+=z.length,C!==B.length-1)i+=c.length;else if(l)return p();if(!d||z.substr(0,v)!==d){if(w){if(x=[],m(z.split(b)),q(),j)return p()}else m(z.split(b));if(f&&C>=f)return x=x.slice(0,f),p(!0)}}return p()}for(var D=a.indexOf(b,i),E=a.indexOf(c,i),F=new RegExp(h+h,"g");;)if(a[i]!==h)if(d&&0===z.length&&a.substr(i,v)===d){if(E===-1)return p();i=E+u,E=a.indexOf(c,i),D=a.indexOf(b,i)}else if(D!==-1&&(D<E||E===-1))z.push(a.substring(i,D)),i=D+t,D=a.indexOf(b,i);else{if(E===-1)break;if(z.push(a.substring(i,E)),o(E+u),w&&(q(),j))return p();if(f&&x.length>=f)return p(!0)}else{var G=i;for(i++;;){var G=a.indexOf(h,G+1);if(G===-1)return l||y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:i}),n();if(G===s-1){var H=a.substring(i,G).replace(F,h);return n(H)}if(a[G+1]!==h){if(a[G+1]===b){z.push(a.substring(i,G).replace(F,h)),i=G+1+t,D=a.indexOf(b,i),E=a.indexOf(c,i);break}if(a.substr(G+1,u)===c){if(z.push(a.substring(i,G).replace(F,h)),o(G+1+u),D=a.indexOf(b,i),w&&(q(),j))return p();if(f&&x.length>=f)return p(!0);break}y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:x.length,index:i}),G++}else G++}}return n()},this.abort=function(){j=!0},this.getCharIndex=function(){return i}}function j(){var a=document.getElementsByTagName("script");return a.length?a[a.length-1].src:""}function k(){if(!z.WORKERS_SUPPORTED)return!1;if(!w&&null===z.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var a=z.SCRIPT_PATH||s;a+=(a.indexOf("?")!==-1?"&":"?")+"papaworker";var b=new t.Worker(a);return b.onmessage=l,b.id=y++,x[b.id]=b,b}function l(a){var b=a.data,c=x[b.workerId],d=!1;if(b.error)c.userError(b.error,b.file);else if(b.results&&b.results.data){var e=function(){d=!0,m(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},f={abort:e,pause:n,resume:n};if(r(c.userStep)){for(var g=0;g<b.results.data.length&&(c.userStep({data:[b.results.data[g]],errors:b.results.errors,meta:b.results.meta},f),!d);g++);delete b.results}else r(c.userChunk)&&(c.userChunk(b.results,f,b.file),delete b.results)}b.finished&&!d&&m(b.workerId,b.results)}function m(a,b){var c=x[a];r(c.userComplete)&&c.userComplete(b),c.terminate(),delete x[a]}function n(){throw"Not implemented."}function o(a){var b=a.data;if("undefined"==typeof z.WORKER_ID&&b&&(z.WORKER_ID=b.workerId),"string"==typeof b.input)t.postMessage({workerId:z.WORKER_ID,results:z.parse(b.input,b.config),finished:!0});else if(t.File&&b.input instanceof File||b.input instanceof Object){var c=z.parse(b.input,b.config);c&&t.postMessage({workerId:z.WORKER_ID,results:c,finished:!0})}}function p(a){if("object"!=typeof a)return a;var b=a instanceof Array?[]:{};for(var c in a)b[c]=p(a[c]);return b}function q(a,b){return function(){a.apply(b,arguments)}}function r(a){return"function"==typeof a}var s,t=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:{}}(),u=!t.document&&!!t.postMessage,v=u&&/(\?|&)papaworker(=|&|$)/.test(t.location.search),w=!1,x={},y=0,z={};if(z.parse=a,z.unparse=b,z.RECORD_SEP=String.fromCharCode(30),z.UNIT_SEP=String.fromCharCode(31),z.BYTE_ORDER_MARK="\ufeff",z.BAD_DELIMITERS=["\r","\n",'"',z.BYTE_ORDER_MARK],z.WORKERS_SUPPORTED=!u&&!!t.Worker,z.SCRIPT_PATH=null,z.LocalChunkSize=10485760,z.RemoteChunkSize=5242880,z.DefaultDelimiter=",",z.Parser=i,z.ParserHandle=h,z.NetworkStreamer=d,z.FileStreamer=e,z.StringStreamer=f,z.ReadableStreamStreamer=g,t.jQuery){var A=t.jQuery;A.fn.parse=function(a){function b(){if(0===f.length)return void(r(a.complete)&&a.complete());var b=f[0];if(r(a.before)){var e=a.before(b.file,b.inputElem);if("object"==typeof e){if("abort"===e.action)return void c("AbortError",b.file,b.inputElem,e.reason);if("skip"===e.action)return void d();"object"==typeof e.config&&(b.instanceConfig=A.extend(b.instanceConfig,e.config))}else if("skip"===e)return void d()}var g=b.instanceConfig.complete;b.instanceConfig.complete=function(a){r(g)&&g(a,b.file,b.inputElem),d()},z.parse(b.file,b.instanceConfig)}function c(b,c,d,e){r(a.error)&&a.error({name:b},c,d,e)}function d(){f.splice(0,1),b()}var e=a.config||{},f=[];return this.each(function(a){var b="INPUT"===A(this).prop("tagName").toUpperCase()&&"file"===A(this).attr("type").toLowerCase()&&t.FileReader;if(!b||!this.files||0===this.files.length)return!0;for(var c=0;c<this.files.length;c++)f.push({file:this.files[c],inputElem:this,instanceConfig:A.extend({},e)})}),b(),this}}return v?t.onmessage=o:z.WORKERS_SUPPORTED&&(s=j(),document.body?document.addEventListener("DOMContentLoaded",function(){w=!0},!0):w=!0),d.prototype=Object.create(c.prototype),d.prototype.constructor=d,e.prototype=Object.create(c.prototype),e.prototype.constructor=e,f.prototype=Object.create(f.prototype),f.prototype.constructor=f,g.prototype=Object.create(c.prototype),g.prototype.constructor=g,z});
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader = false;
	if (typeof define === 'function' && define.amd) {
		define(factory);
		registeredInModuleLoader = true;
	}
	if (typeof exports === 'object') {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function init (converter) {
		function api (key, value, attributes) {
			var result;
			if (typeof document === 'undefined') {
				return;
			}

			// Write

			if (arguments.length > 1) {
				attributes = extend({
					path: '/'
				}, api.defaults, attributes);

				if (typeof attributes.expires === 'number') {
					var expires = new Date();
					expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
					attributes.expires = expires;
				}

				// We're using "expires" because "max-age" is not supported by IE
				attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

				try {
					result = JSON.stringify(value);
					if (/^[\{\[]/.test(result)) {
						value = result;
					}
				} catch (e) {}

				if (!converter.write) {
					value = encodeURIComponent(String(value))
						.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
				} else {
					value = converter.write(value, key);
				}

				key = encodeURIComponent(String(key));
				key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
				key = key.replace(/[\(\)]/g, escape);

				var stringifiedAttributes = '';

				for (var attributeName in attributes) {
					if (!attributes[attributeName]) {
						continue;
					}
					stringifiedAttributes += '; ' + attributeName;
					if (attributes[attributeName] === true) {
						continue;
					}
					stringifiedAttributes += '=' + attributes[attributeName];
				}
				return (document.cookie = key + '=' + value + stringifiedAttributes);
			}

			// Read

			if (!key) {
				result = {};
			}

			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all. Also prevents odd result when
			// calling "get()"
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var rdecode = /(%[0-9A-Z]{2})+/g;
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!this.json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = parts[0].replace(rdecode, decodeURIComponent);
					cookie = converter.read ?
						converter.read(cookie, name) : converter(cookie, name) ||
						cookie.replace(rdecode, decodeURIComponent);

					if (this.json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					if (key === name) {
						result = cookie;
						break;
					}

					if (!key) {
						result[name] = cookie;
					}
				} catch (e) {}
			}

			return result;
		}

		api.set = api;
		api.get = function (key) {
			return api.call(api, key);
		};
		api.getJSON = function () {
			return api.apply({
				json: true
			}, [].slice.call(arguments));
		};
		api.defaults = {};

		api.remove = function (key, attributes) {
			api(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));

(function () {
    'use strict';

    var MODULES_MAP = {
        'ts-utils': 'tsUtils',
        'bignumber.js': 'BigNumber',
        'ts-api-validator': 'tsApiValidator',
        'parse-json-bignumber': 'parseJsonBignumber',
        'papaparse': 'Papa',
        'waves-api': 'WavesAPI',
        'identity-img': 'identityImg',
        '@waves/data-entities': 'dataEntities',
        '@waves/signature-generator': 'wavesSignatureGenerator',
        '@ledgerhq/hw-transport-u2f': 'TransportU2F',
        '@ledgerhq/hw-transport-node-hid': 'TransportU2F',
        '@waves/ledger': 'WavesLedgerJs',
        '@waves/signature-adapter': 'wavesSignatureAdapter',
        'ramda': 'R',
        'data-service': 'ds',
        'handlebars': 'Handlebars',
        '@waves/waves-browser-bus': 'bus',
        'worker-wrapper': 'workerWrapper',
        '@waves/oracle-data': 'OracleDataProvider'
    };

    function getModule(require) {
        return function (name) {
            if (name in MODULES_MAP && MODULES_MAP.hasOwnProperty(name)) {
                return tsUtils.get(window, MODULES_MAP[name]);
            } else if (require) {
                return require(name);
            } else {
                throw new Error('Not loaded module with name "' + name);
            }
        };
    }

    window.require = getModule(window.require);
})();

(function(f){var dependency=[];var main="index";var name="ts-utils";if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f(0,main,dependency)}else if(typeof define==="function"&&define.amd){if(name){define(name,dependency,f.bind(null,1,main,dependency))}else{define(dependency,f.bind(null,1,main,dependency))}}else{var g=void 0;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}f.call(g,2,main,dependency)}})(function(type,main,dependencyString,dependency){var body=function(define){var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();(function(){define("src/Iterator",["require","exports"],function(require,exports){"use strict";exports.__esModule=true;var Iterator=function(){function Iterator(some){this._step=0;this._list=some}Iterator.prototype.next=function(){if(this._step<this._list.length){var result={done:false,value:this._list[this._step]};this._step++;return result}else{return{done:true}}};return Iterator}();exports.Iterator=Iterator})})();(function(){define("src/Path",["require","exports","src/Iterator"],function(require,exports,Iterator_1){"use strict";exports.__esModule=true;var Path=function(){function Path(path){this._path=path;this.length=this._path.length}Path.prototype.reverse=function(){return new Path(this._path.slice().reverse())};Path.prototype.iterator=function(){var _this=this;return new Iterator_1.Iterator(this._path.map(function(item,index){return _this.getItemData(index)}))};Path.prototype.slice=function(start,end){return new Path(this._path.slice(start,end))};Path.prototype.forEach=function(cb,context){var _this=this;return this._path.forEach(function(item,index){cb.call(context,_this.getItemData(index),index)})};Path.prototype.some=function(cb,context){var _this=this;return this._path.some(function(item,index){return cb.call(context,_this.getItemData(index),index)})};Path.prototype.toString=function(){return this._path.map(function(item,i){switch(item.type){case 0:return i===0?item.name:"."+item.name;case 1:return"["+item.name+"]"}}).join("")};Path.prototype.getItemData=function(index){var container=Path.getContainer(this._path[index].type);var nextContainer=this._path[index+1]&&Path.getContainer(this._path[index+1].type)||null;return{name:this._path[index].name,container:container,nextContainer:nextContainer}};Path.parse=function(path){var parts=[];path.split(".").forEach(function(key){if(key===""){parts.push({type:0,key:key})}else{var names=key.match(/(\w+)|((\w+)\[(\d+)\])/g);if(names){names.forEach(function(name){var num=Number(name);if(String(num)===name){parts.push({type:1,name:num})}else{parts.push({type:0,name:name})}})}}});return new Path(parts)};Path.getContainer=function(type){switch(type){case 0:return Object.create(null);case 1:return[]}};return Path}();exports.Path=Path})})();(function(){define("src/utils",["require","exports","src/Path"],function(require,exports,Path_1){"use strict";exports.__esModule=true;var TYPES={string:"[object String]",number:"[object Number]",boolean:"[object Boolean]",object:"[object Object]",array:"[object Array]"};var toString=Object.prototype.toString;exports.DEFAULT_NUMBER_SEPARATOR=",";function isObject(param){return toString.call(param)===TYPES.object}exports.isObject=isObject;function isEmpty(param){return param==null}exports.isEmpty=isEmpty;function isNotEmpty(param){return param!=null}exports.isNotEmpty=isNotEmpty;function isString(param){return toString.call(param)===TYPES.string}exports.isString=isString;function isNumber(param){return toString.call(param)===TYPES.number}exports.isNumber=isNumber;function isArray(param){return toString.call(param)===TYPES.array}exports.isArray=isArray;function isBoolean(param){return toString.call(param)===TYPES.boolean}exports.isBoolean=isBoolean;function isNull(param){return param===null}exports.isNull=isNull;function isUndefined(param){return param===undefined}exports.isUndefined=isUndefined;function isNaNCheck(param){return isNumber(param)&&isNaN(param)}exports.isNaNCheck=isNaNCheck;function isFunction(param){return typeof param==="function"}exports.isFunction=isFunction;function typeOf(param){var type=typeof param;switch(type){case"object":if(param===null){return"null"}else{var checkList=[{check:isArray,type:"array"},{check:isObject,type:"object"},{check:isString,type:"string"},{check:isNumber,type:"number"},{check:isBoolean,type:"boolean"}];var $type_1="null";checkList.some(function(item){if(item.check(param)){$type_1=item.type}return $type_1!=="null"});return $type_1}default:return type}}exports.typeOf=typeOf;function numToLength(num,length){var str=String(num);for(var i=str.length;i<length;i++){str="0"+str}return str}exports.numToLength=numToLength;function round(num,len){len=len||2;return Number(Math.round(Number(num+"e"+len))+"e-"+len)}exports.round=round;function splitRange(num,separator,processor){separator=isEmpty(separator)?exports.DEFAULT_NUMBER_SEPARATOR:separator;if(processor){num=processor(num)}var str=String(num);var numData=str.split(".");var integral=numData[0],fractional=numData[1];integral=integral.split("").reverse().join("");integral=integral.replace(/(\d{3})/g,"$1"+separator).split("").reverse().join("").trim();if(fractional){return integral+"."+fractional}return integral}exports.splitRange=splitRange;function each(param,callback,context){if(typeof param!=="object"||!param){return null}if(context){return Array.isArray(param)?param.forEach(callback,context):Object.keys(param).forEach(function(key){return callback.call(context,param[key],key)})}else{return Array.isArray(param)?param.forEach(callback):Object.keys(param).forEach(function(key){return callback(param[key],key)})}}exports.each=each;function some(param,callback){return Object.keys(param).some(function(key){return callback(param[key],key)})}exports.some=some;function get(data,path){var tmp=data;var parts=isString(path)?Path_1.Path.parse(path):path;parts.some(function(item){if(typeof tmp==="object"&&tmp!==null&&item.name in tmp){tmp=tmp[item.name]}else{tmp=null;return true}});return tmp}exports.get=get;function set(data,path,value){var tmp=data;var parts=isString(path)?Path_1.Path.parse(path):path;parts.forEach(function(itemData,index){var isLast=index===parts.length-1;if(isLast){tmp[itemData.name]=value}else{if(typeof tmp[itemData.name]!=="object"){tmp[itemData.name]=itemData.nextContainer}tmp=tmp[itemData.name]}})}exports.set=set;function getLayers(data,path){var tmp=data;var layers=[{name:null,data:data,parent:null}];var parts=isString(path)?Path_1.Path.parse(path):path;parts.forEach(function(item){if(tmp){layers.push({name:item.name,data:tmp[item.name],parent:tmp});tmp=tmp[item.name]}else{layers=null}});return layers}exports.getLayers=getLayers;function unset(data,path){(getLayers(data,path)||[]).reverse().some(function(item,index){if(index===0){if(item.parent){delete item.parent[item.name]}}else{if(item.parent&&Object.keys(item.data).length===0){delete item.parent[item.name]}}})}exports.unset=unset;var counter=0;function uniqueId(prefix){if(prefix===void 0){prefix=""}return""+prefix+counter++}exports.uniqueId=uniqueId;function result(param){if(isFunction(param)){return param()}else{return param}}exports.result=result;function getPaths(param){var paths=[];function getIterate(parents,array){var iterate=function(value,key){var newLine=parents.slice();newLine.push({type:array?1:0,name:key});if(isObject(value)){each(value,getIterate(newLine))}else if(isArray(value)){each(value,getIterate(newLine,true))}else{paths.push(newLine)}};return iterate}var firstLine=[];each(param,getIterate(firstLine,isArray(param)));return paths.map(function(pathParts){return new Path_1.Path(pathParts)})}exports.getPaths=getPaths;function clone(data){switch(typeof data){case"object":if(data===null){return null}if(Array.isArray(data)){return data.slice()}else{return __assign({},data)}default:return data}}exports.clone=clone;function cloneDeep(data){switch(typeof data){case"object":var paths=getPaths(data);var $clone_1=isArray(data)?[]:Object.create(null);paths.forEach(function(path){var value=get(data,path);set($clone_1,path,value)});return $clone_1;default:return data}}exports.cloneDeep=cloneDeep;function merge(origin){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}args.forEach(function(part){var paths=getPaths(part);paths.forEach(function(path){var value=get(part,path);set(origin,path,value)})});return origin}exports.merge=merge;function defaults(target){var args=[];for(var _i=1;_i<arguments.length;_i++){args[_i-1]=arguments[_i]}var paths=getPaths(target).map(String);args.reverse().forEach(function(item){var itemPaths=getPaths(item);itemPaths.forEach(function(path){var stringPath=path.toString();if(paths.indexOf(stringPath)===-1){paths.push(stringPath);set(target,path,get(item,path))}})});return target}exports.defaults=defaults;function camelCase(text){return text.split(/\W|_/).map(function(item,index){switch(index){case 0:return item;default:return item.charAt(0).toUpperCase()+item.substr(1)}}).join("")}exports.camelCase=camelCase})})();(function(){define("src/filters",["require","exports","src/utils"],function(require,exports,utils_1){"use strict";exports.__esModule=true;var EMPTY_FUNCS_MAP={skipNumber:utils_1.isNumber,skipString:utils_1.isString,skipNotEmpty:utils_1.isNotEmpty,skipNull:utils_1.isNull,skipUndefined:utils_1.isUndefined};function filterList(){var filters=[];for(var _i=0;_i<arguments.length;_i++){filters[_i]=arguments[_i]}if(!filters.length){return function(){return true}}return function(item){return filters.every(function(filter){return filter(item)})}}exports.filterList=filterList;function not(processor){if(processor){return function(data){return!processor(data)}}else{return function(data){return!data}}}exports.not=not;function empty(options){if(!options){return Boolean}var functions=[];utils_1.each(options,function(value,optionName){if(EMPTY_FUNCS_MAP[optionName]&&value){functions.push(EMPTY_FUNCS_MAP[optionName])}});if(!functions.length){return Boolean}else{return function(data){return functions.some(function(f){return f(data)})||!!data}}}exports.empty=empty;function contains(data){if(typeof data==="object"){var keys_1=Object.keys(data);return function(localData){if(!utils_1.isObject(localData)){return false}return keys_1.every(function(key){return data[key]===localData[key]})}}else{return function(localData){return data===localData}}}exports.contains=contains;function containsDeep(data){var paths=utils_1.getPaths(data);var check=function(localData){return paths.every(function(parts){return utils_1.get(data,parts)===utils_1.get(localData,parts)})};return function(localData){if(typeof localData==="object"){return check(localData)}else{return false}}}exports.containsDeep=containsDeep;function notContains(data){return not(contains(data))}exports.notContains=notContains;function notContainsDeep(data){return not(containsDeep(data))}exports.notContainsDeep=notContainsDeep;function roundFilter(len){return function(num){return utils_1.round(num,len)}}exports.roundFilter=roundFilter;function splitRangeFilter(processor,separator){return function(num){return utils_1.splitRange(num,separator,processor)}}exports.splitRangeFilter=splitRangeFilter;function roundSplit(len,separator){return splitRangeFilter(roundFilter(len),separator)}exports.roundSplit=roundSplit;function equal(some,noStrict){if(noStrict){return function(data){return some==data}}return function(data){return some===data}}exports.equal=equal;function notEqual(some,noStrict){return not(equal(some,noStrict))}exports.notEqual=notEqual;var dateParsers=[{pattern:"YYYY",handler:function(localDate){return String(localDate.getFullYear())}},{pattern:"YY",handler:function(localDate){return String(localDate.getFullYear()).substr(2)}},{pattern:"MM",handler:function(localDate){return String(utils_1.numToLength(localDate.getMonth()+1,2))}},{pattern:"M",handler:function(localDate){return String(localDate.getMonth()+1)}},{pattern:"DD",handler:function(localDate){return String(utils_1.numToLength(localDate.getDate(),2))}},{pattern:"D",handler:function(localDate){return String(localDate.getDate())}},{pattern:"hh",handler:function(localDate){return String(utils_1.numToLength(localDate.getHours(),2))}},{pattern:"h",handler:function(localDate){return String(localDate.getHours())}},{pattern:"mm",handler:function(localDate){return String(utils_1.numToLength(localDate.getMinutes(),2))}},{pattern:"m",handler:function(localDate){return String(localDate.getMinutes())}},{pattern:"ss",handler:function(localDate){return String(utils_1.numToLength(localDate.getSeconds(),2))}},{pattern:"s",handler:function(localDate){return String(localDate.getSeconds())}}];function date(pattern,processor){var localPatterns=[];var forFind=pattern;var parse;dateParsers.forEach(function(datePattern){if(forFind.indexOf(datePattern.pattern)!==-1){forFind=forFind.replace(datePattern.pattern,"");localPatterns.push(datePattern)}});if(processor){parse=function(toParse){var result=processor(toParse);return utils_1.isNumber(result)?new Date(result):result}}else{parse=function(data){return utils_1.isNumber(data)?new Date(data):data}}return function(localDate){var _date=parse(localDate);return localPatterns.reduce(function(result,datePattern){return result.replace(datePattern.pattern,datePattern.handler(_date))},pattern)}}exports.date=date;function getBinaryFilter(data){var dataPaths=utils_1.getPaths(data);if(dataPaths.length===1){var path_1=dataPaths[0];var value_1=utils_1.get(data,path_1);return function(item){var itemValue=utils_1.get(item,path_1);return itemValue>value_1?-1:itemValue===value_1?0:1}}else{var pathsStr_1=dataPaths.map(String);var pathsHash_1=Object.create(null);dataPaths.forEach(function(path){pathsHash_1[String(path)]=utils_1.get(data,path)});return function(item){var map=dataPaths.map(function(path,i){var itemValue=utils_1.get(item,path);var pathStr=pathsStr_1[i];return itemValue>pathsHash_1[pathStr]?-1:itemValue===pathsHash_1[pathStr]?0:1});var witoutZero=map.filter(Boolean);if(witoutZero.length===0){return 0}else{return witoutZero[0]}}}}exports.getBinaryFilter=getBinaryFilter})})();(function(){define("src/Signal",["require","exports","src/utils"],function(require,exports,utils_2){"use strict";exports.__esModule=true;var Signal=function(){function Signal(){this.cid=utils_2.uniqueId("signal");this._handlers=[]}Signal.prototype.on=function(handler,context,receiver){this._handlers.push({isOnce:false,handler:handler,context:context,receiver:receiver})};Signal.prototype.once=function(handler,context,receiver){this._handlers.push({isOnce:true,handler:handler,context:context,receiver:receiver})};Signal.prototype.off=function(handler,receiver){for(var i=this._handlers.length;i--;){var handlerData=this._handlers[i];if(!handlerData){continue}if(handlerData.handler===handler){if(handlerData.receiver){if(receiver){if(handlerData.receiver===receiver){this._handlers.splice(i,1);handlerData.receiver.stopReceive(this,handler)}}else{throw new Error("Can't remove this handler without receiver!")}}else{this._handlers.splice(i,1)}}}};Signal.prototype.dispatch=function(some){var _this=this;this._handlers.slice().forEach(function(handlerData){if(handlerData.isOnce){_this.off(handlerData.handler,handlerData.receiver)}handlerData.handler.call(handlerData.context,some)})};return Signal}();exports.Signal=Signal})})();(function(){define("src/Receiver",["require","exports","src/Signal"],function(require,exports,Signal_1){"use strict";exports.__esModule=true;var Receiver=function(){function Receiver(){}Receiver.prototype.receive=function(signal,handler,context){receive.call(this,signal,handler,context,false)};Receiver.prototype.receiveOnce=function(signal,handler,context){receive.call(this,signal,handler,context,true)};Receiver.prototype.stopReceive=function(arg1,arg2){var _this=this;if(!this.__received){return null}var signal=isSignal(arg1)?arg1:null;var handler=signal?arg2:arg1;if(!signal){Object.keys(this.__received).forEach(function(cid){_this.stopReceive(_this.__received[cid].signal,arg2)});return null}if(!this.__received[signal.cid]||!this.__received[signal.cid].handlers){return null}if(!handler){this.__received[signal.cid].handlers.slice().forEach(function(myHandler){_this.stopReceive(arg1,myHandler)});return null}var handlers=this.__received[signal.cid].handlers;for(var i=handlers.length;i--;){if(handlers[i]===arg2){handlers.splice(i,1);this.__received[signal.cid].signal.off(arg2,this)}}if(!handlers.length){delete this.__received[signal.cid]}};return Receiver}();exports.Receiver=Receiver;function receive(signal,handler,context,isOnce){if(!this.__received){this.__received=Object.create(null)}if(isOnce){signal.once(handler,context,this)}else{signal.on(handler,context,this)}if(!this.__received[signal.cid]){this.__received[signal.cid]={handlers:[handler],signal:signal}}else{this.__received[signal.cid].handlers.push(handler)}}function isSignal(some){return some&&some instanceof Signal_1.Signal}})})();(function(){define("src/utilsWithFilters",["require","exports","src/utils","src/filters"],function(require,exports,utils_3,filters_1){"use strict";exports.__esModule=true;function find(some,target){var filter=utils_3.isFunction(target)?target:filters_1.contains(target);var result=null;if(utils_3.isArray(some)){some.some(function(data){if(filter(data)){result=data;return true}})}else{Object.keys(some).some(function(key){if(filter(some[key])){result=some[key];return true}})}return result}exports.find=find;function binaryFind(some,target){var result={index:-1,value:null};var delta=0;var step=function(arr){var index=Math.floor(arr.length/2);var item=arr[index];switch(target(item)){case-1:step(arr.slice(0,index));break;case 0:result={index:index+delta,value:item};break;case 1:delta+=index;step(arr.slice(index));break}};step(some.slice());return result}exports.binaryFind=binaryFind})})();(function(){define("src/tree/BaseTree",["require","exports","src/utils"],function(require,exports,utils_4){"use strict";exports.__esModule=true;var BaseTree=function(){function BaseTree(data,parent,options){var _this=this;this.children=[];this.parent=parent;this.id=data.id;this.data=utils_4.cloneDeep(data.data);this.ChildConstructor=options&&options.Child||BaseTree;this.getRoot().registerChild(this);if(data.children){data.children.forEach(function(item){_this.children.push(new _this.ChildConstructor(item,_this,options))})}}BaseTree.prototype.getChildren=function(){return this.children||[]};BaseTree.prototype.toArray=function(){var result=[this];if(this.children){this.children.forEach(function(item){result.push.apply(result,item.toArray())})}return result};BaseTree.prototype.getData=function(){return this.data||Object.create(null)};BaseTree.prototype.set=function(key,value){this.data[key]=value};BaseTree.prototype.get=function(key){return this.getData()[key]};BaseTree.prototype.getExtended=function(key){var result=this.get(key);return result==null?this.parent.getExtended(key):result};BaseTree.prototype.getParent=function(){return this.parent};BaseTree.prototype.getRoot=function(){return this.parent.getRoot()};return BaseTree}();exports.BaseTree=BaseTree})})();(function(){define("src/tree/Tree",["require","exports","src/tree/BaseTree","src/filters"],function(require,exports,BaseTree_1,filters_2){"use strict";exports.__esModule=true;var Tree=function(_super){__extends(Tree,_super);function Tree(data,options){return _super.call(this,data,null,options)||this}Tree.prototype.where=function(data){var _this=this;var filter=typeof data==="object"?filters_2.containsDeep(data):filters_2.contains(data);return Object.keys(this._childHash).reduce(function(result,item,i){if(filter(_this._childHash[item].getData())){result.push(_this._childHash[item])}return result},[])};Tree.prototype.registerChild=function(child){if(!this._childHash){this._childHash=Object.create(null)}if(child!==this){if(this._childHash[child.id]){throw new Error("Duplicate ID")}else{this._childHash[child.id]=child}}};Tree.prototype.getPath=function(id){var item=this.find(id);if(!item){return null}var result=[];var tmp=item;do{result.push(tmp.id);tmp=tmp.getParent()}while(tmp.getParent());return result.reverse()};Tree.prototype.getRoot=function(){return this};Tree.prototype.find=function(id){return this._childHash[id]};return Tree}(BaseTree_1.BaseTree);exports.Tree=Tree})})();(function(){define("index",["require","exports","src/utils","src/filters","src/Signal","src/utilsWithFilters","src/Path","src/Iterator","src/Receiver","src/tree/BaseTree","src/tree/Tree"],function(require,exports,utils_5,filters_3,Signal_2,utilsWithFilters_1,Path_2,Iterator_2,Receiver_1,BaseTree_2,Tree_1){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}exports.__esModule=true;__export(utils_5);__export(filters_3);__export(Signal_2);__export(utilsWithFilters_1);__export(Path_2);__export(Iterator_2);__export(Receiver_1);__export(BaseTree_2);__export(Tree_1)})})()};var global=this;var camelCase=function(str){return str.split(/\W|_/).map(function(part,i){return i===0?part:part.charAt(0).toUpperCase()+part.substr(1)}).join("")};var exports=Object.create(null);var myRequire;switch(type){case 0:myRequire=function(name){if(dependencyString.indexOf(name)!==-1){return require(name)}else{if(name in exports){return exports[name]}throw new Error("Can't find module \""+name+'"')}};break;default:myRequire=function(name){var index=dependencyString.indexOf(name);if(index===-1){if(name in exports){return exports[name]}throw new Error("Can't find module \""+name+'"')}else{return dependency&&dependency[index]||global[name]||global[camelCase(name)]}}}var define=function(moduleName,moduleDependency,callback){exports[moduleName]={};var args=moduleDependency.map(function(dependencyName){switch(dependencyName){case"require":return myRequire;case"exports":return exports[moduleName];default:return myRequire(dependencyName)}});var result=callback.apply(global,args);if(result!=null&&Object.keys(exports[moduleName]).length===0){exports[moduleName]=result}};body(define);if("ts-utils"&&type===2){global[camelCase("ts-utils")]=exports[main]}return exports[main]});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.dataEntities=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var storage={remapAsset:function(data){return data}};var config;(function(config){function get(key){return storage[key]}config.get=get;function set(key,value){if(typeof key==="string"){storage[key]=value}else{Object.keys(key).forEach(function(configKey){return set(configKey,key[configKey])})}}config.set=set})(config=exports.config||(exports.config={}))},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_1=require("../libs/bignumber");var config_1=require("../config");var Asset=function(){function Asset(assetObject){assetObject=config_1.config.get("remapAsset")(assetObject);this.quantity=assetObject.quantity instanceof bignumber_1.BigNumber?assetObject.quantity:new bignumber_1.BigNumber(assetObject.quantity);this.ticker=assetObject.ticker||null;this.id=assetObject.id;this.name=assetObject.name;this.precision=assetObject.precision;this.description=assetObject.description;this.height=assetObject.height;this.timestamp=assetObject.timestamp;this.sender=assetObject.sender;this.reissuable=assetObject.reissuable;this.displayName=assetObject.ticker||assetObject.name}Asset.prototype.toJSON=function(){return{ticker:this.ticker,id:this.id,name:this.name,precision:this.precision,description:this.description,height:this.height,timestamp:this.timestamp,sender:this.sender,quantity:this.quantity,reissuable:this.reissuable}};Asset.prototype.toString=function(){return this.id};Asset.isAsset=function(object){return object instanceof Asset};return Asset}();exports.Asset=Asset},{"../config":1,"../libs/bignumber":7}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var AssetPair=function(){function AssetPair(amountAsset,priceAsset){this.amountAsset=amountAsset;this.priceAsset=priceAsset;this.precisionDifference=this.priceAsset.precision-this.amountAsset.precision}AssetPair.prototype.toJSON=function(){return{amountAsset:this.amountAsset.id,priceAsset:this.priceAsset.id}};AssetPair.prototype.toString=function(){return this.amountAsset+"/"+this.priceAsset};AssetPair.isAssetPair=function(object){return object instanceof AssetPair};return AssetPair}();exports.AssetPair=AssetPair},{}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_1=require("../libs/bignumber");var utils_1=require("../utils");var Money=function(){function Money(coins,asset){var divider=Money._getDivider(asset.precision);this.asset=asset;this._coins=utils_1.toBigNumber(coins).dp(0);this._tokens=this._coins.div(divider)}Money.prototype.getCoins=function(){return this._coins.plus(0)};Money.prototype.getTokens=function(){return this._tokens.plus(0)};Money.prototype.toCoins=function(){return this._coins.toFixed(0)};Money.prototype.toTokens=function(){return this._tokens.toFixed(this.asset.precision)};Money.prototype.toFormat=function(precision){return this._tokens.toFormat(precision)};Money.prototype.add=function(money){this._matchAssets(money);var inputCoins=money.getCoins();var result=this._coins.plus(inputCoins);return new Money(result,this.asset)};Money.prototype.plus=function(money){return this.add(money)};Money.prototype.sub=function(money){this._matchAssets(money);var inputCoins=money.getCoins();var result=this._coins.minus(inputCoins);return new Money(result,this.asset)};Money.prototype.minus=function(money){return this.sub(money)};Money.prototype.times=function(money){this._matchAssets(money);return new Money(this.getTokens().times(money.getTokens()),this.asset)};Money.prototype.div=function(money){this._matchAssets(money);return new Money(this.getTokens().div(money.getTokens()),this.asset)};Money.prototype.eq=function(money){this._matchAssets(money);return this._coins.eq(money.getCoins())};Money.prototype.lt=function(money){this._matchAssets(money);return this._coins.lt(money.getCoins())};Money.prototype.lte=function(money){this._matchAssets(money);return this._coins.lte(money.getCoins())};Money.prototype.gt=function(money){this._matchAssets(money);return this._coins.gt(money.getCoins())};Money.prototype.gte=function(money){this._matchAssets(money);return this._coins.gte(money.getCoins())};Money.prototype.safeSub=function(money){if(this.asset.id===money.asset.id){return this.sub(money)}return this};Money.prototype.toNonNegative=function(){if(this.getTokens().lt(0)){return this.cloneWithTokens(0)}return this};Money.prototype.cloneWithCoins=function(coins){return new Money(new bignumber_1.BigNumber(coins),this.asset)};Money.prototype.cloneWithTokens=function(tokens){var coins=Money._tokensToCoins(tokens,this.asset.precision);return new Money(coins,this.asset)};Money.prototype.convertTo=function(asset,exchangeRate){return Money.convert(this,asset,utils_1.toBigNumber(exchangeRate))};Money.prototype.toJSON=function(){return{assetId:this.asset.id,tokens:this.toTokens()}};Money.prototype.toString=function(){return this.toTokens()+" "+this.asset.id};Money.prototype._matchAssets=function(money){if(this.asset.id!==money.asset.id){throw new Error("You cannot apply arithmetic operations to Money created with different assets")}};Money.max=function(){var moneyList=[];for(var _i=0;_i<arguments.length;_i++){moneyList[_i]=arguments[_i]}return moneyList.reduce(function(max,money){return max.gte(money)?max:money})};Money.min=function(){var moneyList=[];for(var _i=0;_i<arguments.length;_i++){moneyList[_i]=arguments[_i]}return moneyList.reduce(function(min,money){return min.lte(money)?min:money})};Money.isMoney=function(object){return object instanceof Money};Money.convert=function(money,asset,exchangeRate){if(money.asset===asset){return money}else{var difference=money.asset.precision-asset.precision;var divider=new bignumber_1.BigNumber(10).pow(difference);var coins=money.getCoins();var result=coins.multipliedBy(exchangeRate).div(divider).toFixed(0,bignumber_1.BigNumber.ROUND_DOWN);return new Money(new bignumber_1.BigNumber(result),asset)}};Money.fromTokens=function(count,asset){var tokens=utils_1.toBigNumber(count);return new Money(tokens.times(new bignumber_1.BigNumber(10).pow(asset.precision)),asset)};Money.fromCoins=function(count,asset){return new Money(count,asset)};Money._tokensToCoins=function(tokens,precision){var divider=Money._getDivider(precision);tokens=new bignumber_1.BigNumber(tokens).toFixed(precision);return new bignumber_1.BigNumber(tokens).multipliedBy(divider)};Money._getDivider=function(precision){return new bignumber_1.BigNumber(10).pow(precision)};return Money}();exports.Money=Money},{"../libs/bignumber":7,"../utils":8}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_1=require("../libs/bignumber");var utils_1=require("../utils");var OrderPrice=function(){function OrderPrice(coins,pair){var divider=OrderPrice._getMatcherDivider(pair.precisionDifference);this.pair=pair;this._matcherCoins=coins;this._tokens=this._matcherCoins.div(divider)}OrderPrice.prototype.getMatcherCoins=function(){return this._matcherCoins.plus(0)};OrderPrice.prototype.getTokens=function(){return this._tokens.plus(0)};OrderPrice.prototype.toMatcherCoins=function(){return this._matcherCoins.toFixed(0)};OrderPrice.prototype.toTokens=function(){return this._tokens.toFixed(this.pair.priceAsset.precision)};OrderPrice.prototype.toFormat=function(){return this._tokens.toFormat(this.pair.priceAsset.precision)};OrderPrice.prototype.toJSON=function(){return{amountAssetId:this.pair.amountAsset.id,priceAssetId:this.pair.priceAsset.id,priceTokens:this.toTokens()}};OrderPrice.prototype.toString=function(){return this.toTokens()+" "+this.pair.amountAsset.id+"/"+this.pair.priceAsset.id};OrderPrice.fromMatcherCoins=function(coins,pair){OrderPrice._checkAmount(coins);return new OrderPrice(utils_1.toBigNumber(coins),pair)};OrderPrice.fromTokens=function(tokens,pair){OrderPrice._checkAmount(tokens);tokens=utils_1.toBigNumber(tokens).toFixed(pair.priceAsset.precision);var divider=OrderPrice._getMatcherDivider(pair.precisionDifference);var coins=new bignumber_1.BigNumber(tokens).times(divider);return new OrderPrice(coins,pair)};OrderPrice._getMatcherDivider=function(precision){return new bignumber_1.BigNumber(10).pow(precision).multipliedBy(OrderPrice._MATCHER_SCALE)};OrderPrice.isOrderPrice=function(object){return object instanceof OrderPrice};OrderPrice._checkAmount=function(amount){if(!(["string","number"].includes(typeof amount)||amount instanceof bignumber_1.BigNumber)){throw new Error("Please use strings to create instances of OrderPrice")}};OrderPrice._MATCHER_SCALE=new bignumber_1.BigNumber(10).pow(8);return OrderPrice}();exports.OrderPrice=OrderPrice},{"../libs/bignumber":7,"../utils":8}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_1=require("./libs/bignumber");exports.BigNumber=bignumber_1.BigNumber;var Asset_1=require("./entities/Asset");exports.Asset=Asset_1.Asset;var Money_1=require("./entities/Money");exports.Money=Money_1.Money;var OrderPrice_1=require("./entities/OrderPrice");exports.OrderPrice=OrderPrice_1.OrderPrice;var AssetPair_1=require("./entities/AssetPair");exports.AssetPair=AssetPair_1.AssetPair;var config_1=require("./config");exports.config=config_1.config},{"./config":1,"./entities/Asset":2,"./entities/AssetPair":3,"./entities/Money":4,"./entities/OrderPrice":5,"./libs/bignumber":7}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_js_1=require("bignumber.js");exports.BigNumber=bignumber_js_1.default;bignumber_js_1.default.config({ROUNDING_MODE:bignumber_js_1.default.ROUND_DOWN})},{"bignumber.js":9}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_1=require("./libs/bignumber");function toBigNumber(some){return some instanceof bignumber_1.BigNumber?some:new bignumber_1.BigNumber(some)}exports.toBigNumber=toBigNumber},{"./libs/bignumber":7}],9:[function(require,module,exports){(function(globalObject){"use strict";var BigNumber,isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(configObject){var div,convertBase,parseNumeric,P=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},ONE=new BigNumber(1),DECIMAL_PLACES=20,ROUNDING_MODE=4,TO_EXP_NEG=-7,TO_EXP_POS=21,MIN_EXP=-1e7,MAX_EXP=1e7,CRYPTO=false,MODULO_MODE=1,POW_PRECISION=0,FORMAT={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},ALPHABET="0123456789abcdefghijklmnopqrstuvwxyz";function BigNumber(n,b){var alphabet,c,e,i,isNum,len,str,x=this;if(!(x instanceof BigNumber)){return new BigNumber(n,b)}if(b==null){if(n instanceof BigNumber){x.s=n.s;x.e=n.e;x.c=(n=n.c)?n.slice():n;return}isNum=typeof n=="number";if(isNum&&n*0==0){x.s=1/n<0?(n=-n,-1):1;if(n===~~n){for(e=0,i=n;i>=10;i/=10,e++);x.e=e;x.c=[n];return}str=n+""}else{if(!isNumeric.test(str=n+""))return parseNumeric(x,str,isNum);x.s=str.charCodeAt(0)==45?(str=str.slice(1),-1):1}}else{intCheck(b,2,ALPHABET.length,"Base");str=n+"";if(b==10){x=new BigNumber(n instanceof BigNumber?n:str);return round(x,DECIMAL_PLACES+x.e+1,ROUNDING_MODE)}isNum=typeof n=="number";if(isNum){if(n*0!=0)return parseNumeric(x,str,isNum,b);x.s=1/n<0?(str=str.slice(1),-1):1;if(BigNumber.DEBUG&&str.replace(/^0\.0*|\./,"").length>15){throw Error(tooManyDigits+n)}isNum=false}else{x.s=str.charCodeAt(0)===45?(str=str.slice(1),-1):1;if(b>10&&b<37)str=str.toLowerCase()}alphabet=ALPHABET.slice(0,b);e=i=0;for(len=str.length;i<len;i++){if(alphabet.indexOf(c=str.charAt(i))<0){if(c=="."){if(i>e){e=len;continue}}return parseNumeric(x,n+"",isNum,b)}}str=convertBase(str,b,10,x.s)}if((e=str.indexOf("."))>-1)str=str.replace(".","");if((i=str.search(/e/i))>0){if(e<0)e=i;e+=+str.slice(i+1);str=str.substring(0,i)}else if(e<0){e=str.length}for(i=0;str.charCodeAt(i)===48;i++);for(len=str.length;str.charCodeAt(--len)===48;);str=str.slice(i,++len);if(str){len-=i;if(isNum&&BigNumber.DEBUG&&len>15&&(n>MAX_SAFE_INTEGER||n!==mathfloor(n))){throw Error(tooManyDigits+x.s*n)}e=e-i-1;if(e>MAX_EXP){x.c=x.e=null}else if(e<MIN_EXP){x.c=[x.e=0]}else{x.e=e;x.c=[];i=(e+1)%LOG_BASE;if(e<0)i+=LOG_BASE;if(i<len){if(i)x.c.push(+str.slice(0,i));for(len-=LOG_BASE;i<len;){x.c.push(+str.slice(i,i+=LOG_BASE))}str=str.slice(i);i=LOG_BASE-str.length}else{i-=len}for(;i--;str+="0");x.c.push(+str)}}else{x.c=[x.e=0]}}BigNumber.clone=clone;BigNumber.ROUND_UP=0;BigNumber.ROUND_DOWN=1;BigNumber.ROUND_CEIL=2;BigNumber.ROUND_FLOOR=3;BigNumber.ROUND_HALF_UP=4;BigNumber.ROUND_HALF_DOWN=5;BigNumber.ROUND_HALF_EVEN=6;BigNumber.ROUND_HALF_CEIL=7;BigNumber.ROUND_HALF_FLOOR=8;BigNumber.EUCLID=9;BigNumber.config=BigNumber.set=function(obj){var p,v;if(obj!=null){if(typeof obj=="object"){if(obj.hasOwnProperty(p="DECIMAL_PLACES")){v=obj[p];intCheck(v,0,MAX,p);DECIMAL_PLACES=v}if(obj.hasOwnProperty(p="ROUNDING_MODE")){v=obj[p];intCheck(v,0,8,p);ROUNDING_MODE=v}if(obj.hasOwnProperty(p="EXPONENTIAL_AT")){v=obj[p];if(isArray(v)){intCheck(v[0],-MAX,0,p);intCheck(v[1],0,MAX,p);TO_EXP_NEG=v[0];TO_EXP_POS=v[1]}else{intCheck(v,-MAX,MAX,p);TO_EXP_NEG=-(TO_EXP_POS=v<0?-v:v)}}if(obj.hasOwnProperty(p="RANGE")){v=obj[p];if(isArray(v)){intCheck(v[0],-MAX,-1,p);intCheck(v[1],1,MAX,p);MIN_EXP=v[0];MAX_EXP=v[1]}else{intCheck(v,-MAX,MAX,p);if(v){MIN_EXP=-(MAX_EXP=v<0?-v:v)}else{throw Error(bignumberError+p+" cannot be zero: "+v)}}}if(obj.hasOwnProperty(p="CRYPTO")){v=obj[p];if(v===!!v){if(v){if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)){CRYPTO=v}else{CRYPTO=!v;throw Error(bignumberError+"crypto unavailable")}}else{CRYPTO=v}}else{throw Error(bignumberError+p+" not true or false: "+v)}}if(obj.hasOwnProperty(p="MODULO_MODE")){v=obj[p];intCheck(v,0,9,p);MODULO_MODE=v}if(obj.hasOwnProperty(p="POW_PRECISION")){v=obj[p];intCheck(v,0,MAX,p);POW_PRECISION=v}if(obj.hasOwnProperty(p="FORMAT")){v=obj[p];if(typeof v=="object")FORMAT=v;else throw Error(bignumberError+p+" not an object: "+v)}if(obj.hasOwnProperty(p="ALPHABET")){v=obj[p];if(typeof v=="string"&&!/^.$|\.|(.).*\1/.test(v)){ALPHABET=v}else{throw Error(bignumberError+p+" invalid: "+v)}}}else{throw Error(bignumberError+"Object expected: "+obj)}}return{DECIMAL_PLACES:DECIMAL_PLACES,ROUNDING_MODE:ROUNDING_MODE,EXPONENTIAL_AT:[TO_EXP_NEG,TO_EXP_POS],RANGE:[MIN_EXP,MAX_EXP],CRYPTO:CRYPTO,MODULO_MODE:MODULO_MODE,POW_PRECISION:POW_PRECISION,FORMAT:FORMAT,ALPHABET:ALPHABET}};BigNumber.isBigNumber=function(v){return v instanceof BigNumber||v&&v._isBigNumber===true||false};BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,P.lt)};BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,P.gt)};BigNumber.random=function(){var pow2_53=9007199254740992;var random53bitInt=Math.random()*pow2_53&2097151?function(){return mathfloor(Math.random()*pow2_53)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(dp){var a,b,e,k,v,i=0,c=[],rand=new BigNumber(ONE);if(dp==null)dp=DECIMAL_PLACES;else intCheck(dp,0,MAX);k=mathceil(dp/LOG_BASE);if(CRYPTO){if(crypto.getRandomValues){a=crypto.getRandomValues(new Uint32Array(k*=2));for(;i<k;){v=a[i]*131072+(a[i+1]>>>11);if(v>=9e15){b=crypto.getRandomValues(new Uint32Array(2));a[i]=b[0];a[i+1]=b[1]}else{c.push(v%1e14);i+=2}}i=k/2}else if(crypto.randomBytes){a=crypto.randomBytes(k*=7);for(;i<k;){v=(a[i]&31)*281474976710656+a[i+1]*1099511627776+a[i+2]*4294967296+a[i+3]*16777216+(a[i+4]<<16)+(a[i+5]<<8)+a[i+6];if(v>=9e15){crypto.randomBytes(7).copy(a,i)}else{c.push(v%1e14);i+=7}}i=k/7}else{CRYPTO=false;throw Error(bignumberError+"crypto unavailable")}}if(!CRYPTO){for(;i<k;){v=random53bitInt();if(v<9e15)c[i++]=v%1e14}}k=c[--i];dp%=LOG_BASE;if(k&&dp){v=POWS_TEN[LOG_BASE-dp];c[i]=mathfloor(k/v)*v}for(;c[i]===0;c.pop(),i--);if(i<0){c=[e=0]}else{for(e=-1;c[0]===0;c.splice(0,1),e-=LOG_BASE);for(i=1,v=c[0];v>=10;v/=10,i++);if(i<LOG_BASE)e-=LOG_BASE-i}rand.e=e;rand.c=c;return rand}}();convertBase=function(){var decimal="0123456789";function toBaseOut(str,baseIn,baseOut,alphabet){var j,arr=[0],arrL,i=0,len=str.length;for(;i<len;){for(arrL=arr.length;arrL--;arr[arrL]*=baseIn);arr[0]+=alphabet.indexOf(str.charAt(i++));for(j=0;j<arr.length;j++){if(arr[j]>baseOut-1){if(arr[j+1]==null)arr[j+1]=0;arr[j+1]+=arr[j]/baseOut|0;arr[j]%=baseOut}}}return arr.reverse()}return function(str,baseIn,baseOut,sign,callerIsToString){var alphabet,d,e,k,r,x,xc,y,i=str.indexOf("."),dp=DECIMAL_PLACES,rm=ROUNDING_MODE;if(i>=0){k=POW_PRECISION;POW_PRECISION=0;str=str.replace(".","");y=new BigNumber(baseIn);x=y.pow(str.length-i);POW_PRECISION=k;y.c=toBaseOut(toFixedPoint(coeffToString(x.c),x.e,"0"),10,baseOut,decimal);y.e=y.c.length}xc=toBaseOut(str,baseIn,baseOut,callerIsToString?(alphabet=ALPHABET,decimal):(alphabet=decimal,ALPHABET));e=k=xc.length;for(;xc[--k]==0;xc.pop());if(!xc[0])return alphabet.charAt(0);if(i<0){--e}else{x.c=xc;x.e=e;x.s=sign;x=div(x,y,dp,rm,baseOut);xc=x.c;r=x.r;e=x.e}d=e+dp+1;i=xc[d];k=baseOut/2;r=r||d<0||xc[d+1]!=null;r=rm<4?(i!=null||r)&&(rm==0||rm==(x.s<0?3:2)):i>k||i==k&&(rm==4||r||rm==6&&xc[d-1]&1||rm==(x.s<0?8:7));if(d<1||!xc[0]){str=r?toFixedPoint(alphabet.charAt(1),-dp,alphabet.charAt(0)):alphabet.charAt(0)}else{xc.length=d;if(r){for(--baseOut;++xc[--d]>baseOut;){xc[d]=0;if(!d){++e;xc=[1].concat(xc)}}}for(k=xc.length;!xc[--k];);for(i=0,str="";i<=k;str+=alphabet.charAt(xc[i++]));str=toFixedPoint(str,e,alphabet.charAt(0))}return str}}();div=function(){function multiply(x,k,base){var m,temp,xlo,xhi,carry=0,i=x.length,klo=k%SQRT_BASE,khi=k/SQRT_BASE|0;for(x=x.slice();i--;){xlo=x[i]%SQRT_BASE;xhi=x[i]/SQRT_BASE|0;m=khi*xlo+xhi*klo;temp=klo*xlo+m%SQRT_BASE*SQRT_BASE+carry;carry=(temp/base|0)+(m/SQRT_BASE|0)+khi*xhi;x[i]=temp%base}if(carry)x=[carry].concat(x);return x}function compare(a,b,aL,bL){var i,cmp;if(aL!=bL){cmp=aL>bL?1:-1}else{for(i=cmp=0;i<aL;i++){if(a[i]!=b[i]){cmp=a[i]>b[i]?1:-1;break}}}return cmp}function subtract(a,b,aL,base){var i=0;for(;aL--;){a[aL]-=i;i=a[aL]<b[aL]?1:0;a[aL]=i*base+a[aL]-b[aL]}for(;!a[0]&&a.length>1;a.splice(0,1));}return function(x,y,dp,rm,base){var cmp,e,i,more,n,prod,prodL,q,qc,rem,remL,rem0,xi,xL,yc0,yL,yz,s=x.s==y.s?1:-1,xc=x.c,yc=y.c;if(!xc||!xc[0]||!yc||!yc[0]){return new BigNumber(!x.s||!y.s||(xc?yc&&xc[0]==yc[0]:!yc)?NaN:xc&&xc[0]==0||!yc?s*0:s/0)}q=new BigNumber(s);qc=q.c=[];e=x.e-y.e;s=dp+e+1;if(!base){base=BASE;e=bitFloor(x.e/LOG_BASE)-bitFloor(y.e/LOG_BASE);s=s/LOG_BASE|0}for(i=0;yc[i]==(xc[i]||0);i++);if(yc[i]>(xc[i]||0))e--;if(s<0){qc.push(1);more=true}else{xL=xc.length;yL=yc.length;i=0;s+=2;n=mathfloor(base/(yc[0]+1));if(n>1){yc=multiply(yc,n,base);xc=multiply(xc,n,base);yL=yc.length;xL=xc.length}xi=yL;rem=xc.slice(0,yL);remL=rem.length;for(;remL<yL;rem[remL++]=0);yz=yc.slice();yz=[0].concat(yz);yc0=yc[0];if(yc[1]>=base/2)yc0++;do{n=0;cmp=compare(yc,rem,yL,remL);if(cmp<0){rem0=rem[0];if(yL!=remL)rem0=rem0*base+(rem[1]||0);n=mathfloor(rem0/yc0);if(n>1){if(n>=base)n=base-1;prod=multiply(yc,n,base);prodL=prod.length;remL=rem.length;while(compare(prod,rem,prodL,remL)==1){n--;subtract(prod,yL<prodL?yz:yc,prodL,base);prodL=prod.length;cmp=1}}else{if(n==0){cmp=n=1}prod=yc.slice();prodL=prod.length}if(prodL<remL)prod=[0].concat(prod);subtract(rem,prod,remL,base);remL=rem.length;if(cmp==-1){while(compare(yc,rem,yL,remL)<1){n++;subtract(rem,yL<remL?yz:yc,remL,base);remL=rem.length}}}else if(cmp===0){n++;rem=[0]}qc[i++]=n;if(rem[0]){rem[remL++]=xc[xi]||0}else{rem=[xc[xi]];remL=1}}while((xi++<xL||rem[0]!=null)&&s--);more=rem[0]!=null;if(!qc[0])qc.splice(0,1)}if(base==BASE){for(i=1,s=qc[0];s>=10;s/=10,i++);round(q,dp+(q.e=i+e*LOG_BASE-1)+1,rm,more)}else{q.e=e;q.r=+more}return q}}();function format(n,i,rm,id){var c0,e,ne,len,str;if(rm==null)rm=ROUNDING_MODE;else intCheck(rm,0,8);if(!n.c)return n.toString();c0=n.c[0];ne=n.e;if(i==null){str=coeffToString(n.c);str=id==1||id==2&&ne<=TO_EXP_NEG?toExponential(str,ne):toFixedPoint(str,ne,"0")}else{n=round(new BigNumber(n),i,rm);e=n.e;str=coeffToString(n.c);len=str.length;if(id==1||id==2&&(i<=e||e<=TO_EXP_NEG)){for(;len<i;str+="0",len++);str=toExponential(str,e)}else{i-=ne;str=toFixedPoint(str,e,"0");if(e+1>len){if(--i>0)for(str+=".";i--;str+="0");}else{i+=e-len;if(i>0){if(e+1==len)str+=".";for(;i--;str+="0");}}}}return n.s<0&&c0?"-"+str:str}function maxOrMin(args,method){var m,n,i=0;if(isArray(args[0]))args=args[0];m=new BigNumber(args[0]);for(;++i<args.length;){n=new BigNumber(args[i]);if(!n.s){m=n;break}else if(method.call(m,n)){m=n}}return m}function normalise(n,c,e){var i=1,j=c.length;for(;!c[--j];c.pop());for(j=c[0];j>=10;j/=10,i++);if((e=i+e*LOG_BASE-1)>MAX_EXP){n.c=n.e=null}else if(e<MIN_EXP){n.c=[n.e=0]}else{n.e=e;n.c=c}return n}parseNumeric=function(){var basePrefix=/^(-?)0([xbo])(?=\w[\w.]*$)/i,dotAfter=/^([^.]+)\.$/,dotBefore=/^\.([^.]+)$/,isInfinityOrNaN=/^-?(Infinity|NaN)$/,whitespaceOrPlus=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(x,str,isNum,b){var base,s=isNum?str:str.replace(whitespaceOrPlus,"");if(isInfinityOrNaN.test(s)){x.s=isNaN(s)?null:s<0?-1:1;x.c=x.e=null}else{if(!isNum){s=s.replace(basePrefix,function(m,p1,p2){base=(p2=p2.toLowerCase())=="x"?16:p2=="b"?2:8;return!b||b==base?p1:m});if(b){base=b;s=s.replace(dotAfter,"$1").replace(dotBefore,"0.$1")}if(str!=s)return new BigNumber(s,base)}if(BigNumber.DEBUG){throw Error(bignumberError+"Not a"+(b?" base "+b:"")+" number: "+str)}x.c=x.e=x.s=null}}}();function round(x,sd,rm,r){var d,i,j,k,n,ni,rd,xc=x.c,pows10=POWS_TEN;if(xc){out:{for(d=1,k=xc[0];k>=10;k/=10,d++);i=sd-d;if(i<0){i+=LOG_BASE;j=sd;n=xc[ni=0];rd=n/pows10[d-j-1]%10|0}else{ni=mathceil((i+1)/LOG_BASE);if(ni>=xc.length){if(r){for(;xc.length<=ni;xc.push(0));n=rd=0;d=1;i%=LOG_BASE;j=i-LOG_BASE+1}else{break out}}else{n=k=xc[ni];for(d=1;k>=10;k/=10,d++);i%=LOG_BASE;j=i-LOG_BASE+d;rd=j<0?0:n/pows10[d-j-1]%10|0}}r=r||sd<0||xc[ni+1]!=null||(j<0?n:n%pows10[d-j-1]);r=rm<4?(rd||r)&&(rm==0||rm==(x.s<0?3:2)):rd>5||rd==5&&(rm==4||r||rm==6&&(i>0?j>0?n/pows10[d-j]:0:xc[ni-1])%10&1||rm==(x.s<0?8:7));if(sd<1||!xc[0]){xc.length=0;if(r){sd-=x.e+1;xc[0]=pows10[(LOG_BASE-sd%LOG_BASE)%LOG_BASE];x.e=-sd||0}else{xc[0]=x.e=0}return x}if(i==0){xc.length=ni;k=1;ni--}else{xc.length=ni+1;k=pows10[LOG_BASE-i];xc[ni]=j>0?mathfloor(n/pows10[d-j]%pows10[j])*k:0}if(r){for(;;){if(ni==0){for(i=1,j=xc[0];j>=10;j/=10,i++);j=xc[0]+=k;for(k=1;j>=10;j/=10,k++);if(i!=k){x.e++;if(xc[0]==BASE)xc[0]=1}break}else{xc[ni]+=k;if(xc[ni]!=BASE)break;xc[ni--]=0;k=1}}}for(i=xc.length;xc[--i]===0;xc.pop());}if(x.e>MAX_EXP){x.c=x.e=null}else if(x.e<MIN_EXP){x.c=[x.e=0]}}return x}P.absoluteValue=P.abs=function(){var x=new BigNumber(this);if(x.s<0)x.s=1;return x};P.comparedTo=function(y,b){return compare(this,new BigNumber(y,b))};P.decimalPlaces=P.dp=function(dp,rm){var c,n,v,x=this;if(dp!=null){intCheck(dp,0,MAX);if(rm==null)rm=ROUNDING_MODE;else intCheck(rm,0,8);return round(new BigNumber(x),dp+x.e+1,rm)}if(!(c=x.c))return null;n=((v=c.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE;if(v=c[v])for(;v%10==0;v/=10,n--);if(n<0)n=0;return n};P.dividedBy=P.div=function(y,b){return div(this,new BigNumber(y,b),DECIMAL_PLACES,ROUNDING_MODE)};P.dividedToIntegerBy=P.idiv=function(y,b){return div(this,new BigNumber(y,b),0,1)};P.exponentiatedBy=P.pow=function(n,m){var half,isModExp,k,more,nIsBig,nIsNeg,nIsOdd,y,x=this;n=new BigNumber(n);if(n.c&&!n.isInteger()){throw Error(bignumberError+"Exponent not an integer: "+n)}if(m!=null)m=new BigNumber(m);nIsBig=n.e>14;if(!x.c||!x.c[0]||x.c[0]==1&&!x.e&&x.c.length==1||!n.c||!n.c[0]){y=new BigNumber(Math.pow(+x.valueOf(),nIsBig?2-isOdd(n):+n));return m?y.mod(m):y}nIsNeg=n.s<0;if(m){if(m.c?!m.c[0]:!m.s)return new BigNumber(NaN);isModExp=!nIsNeg&&x.isInteger()&&m.isInteger();if(isModExp)x=x.mod(m)}else if(n.e>9&&(x.e>0||x.e<-1||(x.e==0?x.c[0]>1||nIsBig&&x.c[1]>=24e7:x.c[0]<8e13||nIsBig&&x.c[0]<=9999975e7))){k=x.s<0&&isOdd(n)?-0:0;if(x.e>-1)k=1/k;return new BigNumber(nIsNeg?1/k:k)}else if(POW_PRECISION){k=mathceil(POW_PRECISION/LOG_BASE+2)}if(nIsBig){half=new BigNumber(.5);nIsOdd=isOdd(n)}else{nIsOdd=n%2}if(nIsNeg)n.s=1;y=new BigNumber(ONE);for(;;){if(nIsOdd){y=y.times(x);if(!y.c)break;if(k){if(y.c.length>k)y.c.length=k}else if(isModExp){y=y.mod(m)}}if(nIsBig){n=n.times(half);round(n,n.e+1,1);if(!n.c[0])break;nIsBig=n.e>14;nIsOdd=isOdd(n)}else{n=mathfloor(n/2);if(!n)break;nIsOdd=n%2}x=x.times(x);if(k){if(x.c&&x.c.length>k)x.c.length=k}else if(isModExp){x=x.mod(m)}}if(isModExp)return y;if(nIsNeg)y=ONE.div(y);return m?y.mod(m):k?round(y,POW_PRECISION,ROUNDING_MODE,more):y};P.integerValue=function(rm){var n=new BigNumber(this);if(rm==null)rm=ROUNDING_MODE;else intCheck(rm,0,8);return round(n,n.e+1,rm)};P.isEqualTo=P.eq=function(y,b){return compare(this,new BigNumber(y,b))===0};P.isFinite=function(){return!!this.c};P.isGreaterThan=P.gt=function(y,b){return compare(this,new BigNumber(y,b))>0};P.isGreaterThanOrEqualTo=P.gte=function(y,b){return(b=compare(this,new BigNumber(y,b)))===1||b===0};P.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2};P.isLessThan=P.lt=function(y,b){return compare(this,new BigNumber(y,b))<0};P.isLessThanOrEqualTo=P.lte=function(y,b){return(b=compare(this,new BigNumber(y,b)))===-1||b===0};P.isNaN=function(){return!this.s};P.isNegative=function(){return this.s<0};P.isPositive=function(){return this.s>0};P.isZero=function(){return!!this.c&&this.c[0]==0};P.minus=function(y,b){var i,j,t,xLTy,x=this,a=x.s;y=new BigNumber(y,b);b=y.s;if(!a||!b)return new BigNumber(NaN);if(a!=b){y.s=-b;return x.plus(y)}var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return xc?(y.s=-b,y):new BigNumber(yc?x:NaN);if(!xc[0]||!yc[0]){return yc[0]?(y.s=-b,y):new BigNumber(xc[0]?x:ROUNDING_MODE==3?-0:0)}}xe=bitFloor(xe);ye=bitFloor(ye);xc=xc.slice();if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc}else{ye=xe;t=yc}t.reverse();for(b=a;b--;t.push(0));t.reverse()}else{j=(xLTy=(a=xc.length)<(b=yc.length))?a:b;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}}}if(xLTy)t=xc,xc=yc,yc=t,y.s=-y.s;b=(j=yc.length)-(i=xc.length);if(b>0)for(;b--;xc[i++]=0);b=BASE-1;for(;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=b);--xc[i];xc[j]+=BASE}xc[j]-=yc[j]}for(;xc[0]==0;xc.splice(0,1),--ye);if(!xc[0]){y.s=ROUNDING_MODE==3?-1:1;y.c=[y.e=0];return y}return normalise(y,xc,ye)};P.modulo=P.mod=function(y,b){var q,s,x=this;y=new BigNumber(y,b);if(!x.c||!y.s||y.c&&!y.c[0]){return new BigNumber(NaN)}else if(!y.c||x.c&&!x.c[0]){return new BigNumber(x)}if(MODULO_MODE==9){s=y.s;y.s=1;q=div(x,y,0,3);y.s=s;q.s*=s}else{q=div(x,y,0,MODULO_MODE)}y=x.minus(q.times(y));if(!y.c[0]&&MODULO_MODE==1)y.s=x.s;return y};P.multipliedBy=P.times=function(y,b){var c,e,i,j,k,m,xcL,xlo,xhi,ycL,ylo,yhi,zc,base,sqrtBase,x=this,xc=x.c,yc=(y=new BigNumber(y,b)).c;if(!xc||!yc||!xc[0]||!yc[0]){if(!x.s||!y.s||xc&&!xc[0]&&!yc||yc&&!yc[0]&&!xc){y.c=y.e=y.s=null}else{y.s*=x.s;if(!xc||!yc){y.c=y.e=null}else{y.c=[0];y.e=0}}return y}e=bitFloor(x.e/LOG_BASE)+bitFloor(y.e/LOG_BASE);y.s*=x.s;xcL=xc.length;ycL=yc.length;if(xcL<ycL)zc=xc,xc=yc,yc=zc,i=xcL,xcL=ycL,ycL=i;for(i=xcL+ycL,zc=[];i--;zc.push(0));base=BASE;sqrtBase=SQRT_BASE;for(i=ycL;--i>=0;){c=0;ylo=yc[i]%sqrtBase;yhi=yc[i]/sqrtBase|0;for(k=xcL,j=i+k;j>i;){xlo=xc[--k]%sqrtBase;xhi=xc[k]/sqrtBase|0;m=yhi*xlo+xhi*ylo;xlo=ylo*xlo+m%sqrtBase*sqrtBase+zc[j]+c;c=(xlo/base|0)+(m/sqrtBase|0)+yhi*xhi;zc[j--]=xlo%base}zc[j]=c}if(c){++e}else{zc.splice(0,1)}return normalise(y,zc,e)};P.negated=function(){var x=new BigNumber(this);x.s=-x.s||null;return x};P.plus=function(y,b){var t,x=this,a=x.s;y=new BigNumber(y,b);b=y.s;if(!a||!b)return new BigNumber(NaN);if(a!=b){y.s=-b;return x.minus(y)}var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return new BigNumber(a/0);if(!xc[0]||!yc[0])return yc[0]?y:new BigNumber(xc[0]?x:a*0)}xe=bitFloor(xe);ye=bitFloor(ye);xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc}else{a=-a;t=xc}t.reverse();for(;a--;t.push(0));t.reverse()}a=xc.length;b=yc.length;if(a-b<0)t=yc,yc=xc,xc=t,b=a;for(a=0;b;){a=(xc[--b]=xc[b]+yc[b]+a)/BASE|0;xc[b]=BASE===xc[b]?0:xc[b]%BASE}if(a){xc=[a].concat(xc);++ye}return normalise(y,xc,ye)};P.precision=P.sd=function(sd,rm){var c,n,v,x=this;if(sd!=null&&sd!==!!sd){intCheck(sd,1,MAX);if(rm==null)rm=ROUNDING_MODE;else intCheck(rm,0,8);return round(new BigNumber(x),sd,rm)}if(!(c=x.c))return null;v=c.length-1;n=v*LOG_BASE+1;if(v=c[v]){for(;v%10==0;v/=10,n--);for(v=c[0];v>=10;v/=10,n++);}if(sd&&x.e+1>n)n=x.e+1;return n};P.shiftedBy=function(k){intCheck(k,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER);return this.times("1e"+k)};P.squareRoot=P.sqrt=function(){var m,n,r,rep,t,x=this,c=x.c,s=x.s,e=x.e,dp=DECIMAL_PLACES+4,half=new BigNumber("0.5");if(s!==1||!c||!c[0]){return new BigNumber(!s||s<0&&(!c||c[0])?NaN:c?x:1/0)}s=Math.sqrt(+x);if(s==0||s==1/0){n=coeffToString(c);if((n.length+e)%2==0)n+="0";s=Math.sqrt(n);e=bitFloor((e+1)/2)-(e<0||e%2);if(s==1/0){n="1e"+e}else{n=s.toExponential();n=n.slice(0,n.indexOf("e")+1)+e}r=new BigNumber(n)}else{r=new BigNumber(s+"")}if(r.c[0]){e=r.e;s=e+dp;if(s<3)s=0;for(;;){t=r;r=half.times(t.plus(div(x,t,dp,1)));if(coeffToString(t.c).slice(0,s)===(n=coeffToString(r.c)).slice(0,s)){if(r.e<e)--s;n=n.slice(s-3,s+1);if(n=="9999"||!rep&&n=="4999"){if(!rep){round(t,t.e+DECIMAL_PLACES+2,0);if(t.times(t).eq(x)){r=t;break}}dp+=4;s+=4;rep=1}else{if(!+n||!+n.slice(1)&&n.charAt(0)=="5"){round(r,r.e+DECIMAL_PLACES+2,1);m=!r.times(r).eq(x)}break}}}}return round(r,r.e+DECIMAL_PLACES+1,ROUNDING_MODE,m)};P.toExponential=function(dp,rm){if(dp!=null){intCheck(dp,0,MAX);dp++}return format(this,dp,rm,1)};P.toFixed=function(dp,rm){if(dp!=null){intCheck(dp,0,MAX);dp=dp+this.e+1}return format(this,dp,rm)};P.toFormat=function(dp,rm){var str=this.toFixed(dp,rm);if(this.c){var i,arr=str.split("."),g1=+FORMAT.groupSize,g2=+FORMAT.secondaryGroupSize,groupSeparator=FORMAT.groupSeparator,intPart=arr[0],fractionPart=arr[1],isNeg=this.s<0,intDigits=isNeg?intPart.slice(1):intPart,len=intDigits.length;if(g2)i=g1,g1=g2,g2=i,len-=i;if(g1>0&&len>0){i=len%g1||g1;intPart=intDigits.substr(0,i);for(;i<len;i+=g1){intPart+=groupSeparator+intDigits.substr(i,g1)}if(g2>0)intPart+=groupSeparator+intDigits.slice(i);if(isNeg)intPart="-"+intPart}str=fractionPart?intPart+FORMAT.decimalSeparator+((g2=+FORMAT.fractionGroupSize)?fractionPart.replace(new RegExp("\\d{"+g2+"}\\B","g"),"$&"+FORMAT.fractionGroupSeparator):fractionPart):intPart}return str};P.toFraction=function(md){var arr,d,d0,d1,d2,e,exp,n,n0,n1,q,s,x=this,xc=x.c;if(md!=null){n=new BigNumber(md);if(!n.isInteger()&&(n.c||n.s!==1)||n.lt(ONE)){throw Error(bignumberError+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+md)}}if(!xc)return x.toString();d=new BigNumber(ONE);n1=d0=new BigNumber(ONE);d1=n0=new BigNumber(ONE);s=coeffToString(xc);e=d.e=s.length-x.e-1;d.c[0]=POWS_TEN[(exp=e%LOG_BASE)<0?LOG_BASE+exp:exp];md=!md||n.comparedTo(d)>0?e>0?d:n1:n;exp=MAX_EXP;MAX_EXP=1/0;n=new BigNumber(s);n0.c[0]=0;for(;;){q=div(n,d,0,1);d2=d0.plus(q.times(d1));if(d2.comparedTo(md)==1)break;d0=d1;d1=d2;n1=n0.plus(q.times(d2=n1));n0=d2;d=n.minus(q.times(d2=d));n=d2}d2=div(md.minus(d0),d1,0,1);n0=n0.plus(d2.times(n1));d0=d0.plus(d2.times(d1));n0.s=n1.s=x.s;e*=2;arr=div(n1,d1,e,ROUNDING_MODE).minus(x).abs().comparedTo(div(n0,d0,e,ROUNDING_MODE).minus(x).abs())<1?[n1.toString(),d1.toString()]:[n0.toString(),d0.toString()];MAX_EXP=exp;return arr};P.toNumber=function(){return+this};P.toPrecision=function(sd,rm){if(sd!=null)intCheck(sd,1,MAX);return format(this,sd,rm,2)};P.toString=function(b){var str,n=this,s=n.s,e=n.e;if(e===null){if(s){str="Infinity";if(s<0)str="-"+str}else{str="NaN"}}else{str=coeffToString(n.c);if(b==null){str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(str,e):toFixedPoint(str,e,"0")}else{intCheck(b,2,ALPHABET.length,"Base");str=convertBase(toFixedPoint(str,e,"0"),10,b,s,true)}if(s<0&&n.c[0])str="-"+str}return str};P.valueOf=P.toJSON=function(){var str,n=this,e=n.e;if(e===null)return n.toString();str=coeffToString(n.c);str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(str,e):toFixedPoint(str,e,"0");return n.s<0?"-"+str:str};P._isBigNumber=true;if(configObject!=null)BigNumber.set(configObject);return BigNumber}function bitFloor(n){var i=n|0;return n>0||n===i?i:i-1}function coeffToString(a){var s,z,i=1,j=a.length,r=a[0]+"";for(;i<j;){s=a[i++]+"";z=LOG_BASE-s.length;for(;z--;s="0"+s);r+=s}for(j=r.length;r.charCodeAt(--j)===48;);return r.slice(0,j+1||1)}function compare(x,y){var a,b,xc=x.c,yc=y.c,i=x.s,j=y.s,k=x.e,l=y.e;if(!i||!j)return null;a=xc&&!xc[0];b=yc&&!yc[0];if(a||b)return a?b?0:-j:i;if(i!=j)return i;a=i<0;b=k==l;if(!xc||!yc)return b?0:!xc^a?1:-1;if(!b)return k>l^a?1:-1;j=(k=xc.length)<(l=yc.length)?k:l;for(i=0;i<j;i++)if(xc[i]!=yc[i])return xc[i]>yc[i]^a?1:-1;return k==l?0:k>l^a?1:-1}function intCheck(n,min,max,name){if(n<min||n>max||n!==(n<0?mathceil(n):mathfloor(n))){throw Error(bignumberError+(name||"Argument")+(typeof n=="number"?n<min||n>max?" out of range: ":" not an integer: ":" not a primitive number: ")+n)}}function isArray(obj){return Object.prototype.toString.call(obj)=="[object Array]"}function isOdd(n){var k=n.c.length-1;return bitFloor(n.e/LOG_BASE)==k&&n.c[k]%2!=0}function toExponential(str,e){return(str.length>1?str.charAt(0)+"."+str.slice(1):str)+(e<0?"e":"e+")+e}function toFixedPoint(str,e,z){var len,zs;if(e<0){for(zs=z+".";++e;zs+=z);str=zs+str}else{len=str.length;if(++e>len){for(zs=z,e-=len;--e;zs+=z);str+=zs}else if(e<len){str=str.slice(0,e)+"."+str.slice(e)}}return str}BigNumber=clone();BigNumber["default"]=BigNumber.BigNumber=BigNumber;if(typeof define=="function"&&define.amd){define(function(){return BigNumber})}else if(typeof module!="undefined"&&module.exports){module.exports=BigNumber}else{if(!globalObject){globalObject=typeof self!="undefined"&&self?self:window}globalObject.BigNumber=BigNumber}})(this)},{}]},{},[6])(6)});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.wavesSignatureGenerator=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Config_1=require("./config/Config");var index_1=require("./index");var dictionary_1=require("./dictionary");var Seed=function(){function Seed(phrase){if(phrase.length<Config_1.config.get("minimalSeedLength")){throw new Error("Your seed length is less than allowed in config")}var keys=index_1.utils.crypto.buildKeyPair(phrase);this.phrase=phrase;this.address=index_1.utils.crypto.buildRawAddress(keys.publicKey);this.keyPair={privateKey:index_1.libs.base58.encode(keys.privateKey),publicKey:index_1.libs.base58.encode(keys.publicKey)};Object.freeze(this);Object.freeze(this.keyPair)}Seed.prototype.encrypt=function(password,encryptionRounds){return Seed.encryptSeedPhrase(this.phrase,password,encryptionRounds)};Seed.encryptSeedPhrase=function(seedPhrase,password,encryptionRounds){if(encryptionRounds===void 0){encryptionRounds=5e3}if(password&&password.length<8){}if(encryptionRounds<1e3){}if(seedPhrase.length<Config_1.config.get("minimalSeedLength")){throw new Error("The seed phrase you are trying to encrypt is too short")}return index_1.utils.crypto.encryptSeed(seedPhrase,password,encryptionRounds)};Seed.decryptSeedPhrase=function(encryptedSeedPhrase,password,encryptionRounds){if(encryptionRounds===void 0){encryptionRounds=5e3}var wrongPasswordMessage="The password is wrong";var phrase;try{phrase=index_1.utils.crypto.decryptSeed(encryptedSeedPhrase,password,encryptionRounds)}catch(e){throw new Error(wrongPasswordMessage)}if(phrase===""||phrase.length<Config_1.config.get("minimalSeedLength")){throw new Error(wrongPasswordMessage)}return phrase};Seed.create=function(words){if(words===void 0){words=15}var phrase=Seed._generateNewSeed(words);var minimumSeedLength=Config_1.config.get("minimalSeedLength");if(phrase.length<minimumSeedLength){throw new Error("The resulted seed length is less than the minimum length ("+minimumSeedLength+")")}return new Seed(phrase)};Seed.fromExistingPhrase=function(phrase){var minimumSeedLength=Config_1.config.get("minimalSeedLength");if(phrase.length<minimumSeedLength){throw new Error("The resulted seed length is less than the minimum length ("+minimumSeedLength+")")}return new Seed(phrase)};Seed._generateNewSeed=function(length){var random=index_1.utils.crypto.generateRandomUint32Array(length);var wordCount=dictionary_1.default.length;var phrase=[];for(var i=0;i<length;i++){var wordIndex=random[i]%wordCount;phrase.push(dictionary_1.default[wordIndex])}random.set(new Uint8Array(random.length));return phrase.join(" ")};return Seed}();exports.Seed=Seed},{"./config/Config":3,"./dictionary":5,"./index":6}],2:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var data_entities_1=require("@waves/data-entities");var base64_js_1=require("base64-js");var base58_1=require("../libs/base58");var convert_1=require("../utils/convert");var concat_1=require("../utils/concat");var constants_1=require("../constants");var __1=require("..");var constants_2=require("../constants");function blockchainifyAssetId(assetId){if(!assetId)throw new Error("Asset ID should not be empty");return assetId===constants_2.WAVES_ID?constants_2.WAVES_BLOCKCHAIN_ID:assetId}function getAliasBytes(alias){var aliasBytes=convert_1.default.stringToByteArrayWithSize(alias);return[constants_2.ALIAS_VERSION,__1.config.getNetworkByte()].concat(aliasBytes)}function isNonEmptyBase64String(value){var pure=value.replace("base64:","");return pure.length>0&&pure.length%4===0}var ByteProcessor=function(){function ByteProcessor(name){this.name=name}return ByteProcessor}();exports.ByteProcessor=ByteProcessor;var Base58=function(_super){__extends(Base58,_super);function Base58(){return _super!==null&&_super.apply(this,arguments)||this}Base58.prototype.process=function(value){var bytes=base58_1.default.decode(value);return Promise.resolve(bytes)};return Base58}(ByteProcessor);exports.Base58=Base58;var Base64=function(_super){__extends(Base64,_super);function Base64(){return _super!==null&&_super.apply(this,arguments)||this}Base64.prototype.process=function(value){if(typeof value!=="string")throw new Error("You should pass a string to BinaryDataEntry constructor");if(isNonEmptyBase64String(value)){if(value.slice(0,7)!=="base64:")throw new Error('Blob should be encoded in base64 and prefixed with "base64:"');var b64=value.slice(7);var bytes=Uint8Array.from(base64_js_1.toByteArray(b64));var lengthBytes=Uint8Array.from(convert_1.default.shortToByteArray(bytes.length));return Promise.resolve(concat_1.concatUint8Arrays(lengthBytes,bytes))}else{return Promise.resolve(Uint8Array.from([]))}};return Base64}(ByteProcessor);exports.Base64=Base64;var Bool=function(_super){__extends(Bool,_super);function Bool(){return _super!==null&&_super.apply(this,arguments)||this}Bool.prototype.process=function(value){var bytes=convert_1.default.booleanToBytes(value);return Promise.resolve(Uint8Array.from(bytes))};return Bool}(ByteProcessor);exports.Bool=Bool;var Byte=function(_super){__extends(Byte,_super);function Byte(){return _super!==null&&_super.apply(this,arguments)||this}Byte.prototype.process=function(value){if(typeof value!=="number")throw new Error("You should pass a number to Byte constructor");if(value<0||value>255)throw new Error("Byte value must fit between 0 and 255");return Promise.resolve(Uint8Array.from([value]))};return Byte}(ByteProcessor);exports.Byte=Byte;var Long=function(_super){__extends(Long,_super);function Long(){return _super!==null&&_super.apply(this,arguments)||this}Long.prototype.process=function(value){var bytes;if(typeof value==="number"){bytes=convert_1.default.longToByteArray(value)}else{if(typeof value==="string"){value=new data_entities_1.BigNumber(value)}bytes=convert_1.default.bigNumberToByteArray(value)}return Promise.resolve(Uint8Array.from(bytes))};return Long}(ByteProcessor);exports.Long=Long;var Short=function(_super){__extends(Short,_super);function Short(){return _super!==null&&_super.apply(this,arguments)||this}Short.prototype.process=function(value){if(typeof value!=="number")throw new Error("You should pass a number to Short constructor");if(value<0||value>65535)throw new Error("Short value must fit between 0 and 65535");return Promise.resolve(Uint8Array.from(convert_1.default.shortToByteArray(value)))};return Short}(ByteProcessor);exports.Short=Short;var StringWithLength=function(_super){__extends(StringWithLength,_super);function StringWithLength(){return _super!==null&&_super.apply(this,arguments)||this}StringWithLength.prototype.process=function(value){var bytesWithLength=convert_1.default.stringToByteArrayWithSize(value);return Promise.resolve(Uint8Array.from(bytesWithLength))};return StringWithLength}(ByteProcessor);exports.StringWithLength=StringWithLength;var Alias=function(_super){__extends(Alias,_super);function Alias(){return _super!==null&&_super.apply(this,arguments)||this}Alias.prototype.process=function(value){var aliasBytes=getAliasBytes(value);var aliasBytesWithLength=convert_1.default.bytesToByteArrayWithSize(aliasBytes);return Promise.resolve(Uint8Array.from(aliasBytesWithLength))};return Alias}(ByteProcessor);exports.Alias=Alias;var AssetId=function(_super){__extends(AssetId,_super);function AssetId(){return _super!==null&&_super.apply(this,arguments)||this}AssetId.prototype.process=function(value){value=blockchainifyAssetId(value);var bytes=value?concat_1.concatUint8Arrays(Uint8Array.from([1]),base58_1.default.decode(value)):Uint8Array.from([0]);return Promise.resolve(bytes)};return AssetId}(ByteProcessor);exports.AssetId=AssetId;var Attachment=function(_super){__extends(Attachment,_super);function Attachment(){return _super!==null&&_super.apply(this,arguments)||this}Attachment.prototype.process=function(value){if(typeof value==="string"){value=Uint8Array.from(convert_1.default.stringToByteArray(value))}if(value.length>constants_2.TRANSFER_ATTACHMENT_BYTE_LIMIT){throw new Error("Maximum attachment length is exceeded")}var valueWithLength=convert_1.default.bytesToByteArrayWithSize(value);return Promise.resolve(Uint8Array.from(valueWithLength))};return Attachment}(ByteProcessor);exports.Attachment=Attachment;var MandatoryAssetId=function(_super){__extends(MandatoryAssetId,_super);function MandatoryAssetId(){return _super!==null&&_super.apply(this,arguments)||this}MandatoryAssetId.prototype.process=function(value){value=blockchainifyAssetId(value);return Promise.resolve(base58_1.default.decode(value))};return MandatoryAssetId}(ByteProcessor);exports.MandatoryAssetId=MandatoryAssetId;var OrderType=function(_super){__extends(OrderType,_super);function OrderType(){return _super!==null&&_super.apply(this,arguments)||this}OrderType.prototype.process=function(value){if(value==="buy"){return Bool.prototype.process.call(this,false)}else if(value==="sell"){return Bool.prototype.process.call(this,true)}else{throw new Error('There are no other order types besides "buy" and "sell"')}};return OrderType}(ByteProcessor);exports.OrderType=OrderType;var Recipient=function(_super){__extends(Recipient,_super);function Recipient(){return _super!==null&&_super.apply(this,arguments)||this}Recipient.prototype.process=function(value){if(value.length<=30){var aliasBytes=getAliasBytes(value);return Promise.resolve(Uint8Array.from(aliasBytes))}else{var addressBytes=base58_1.default.decode(value);return Promise.resolve(Uint8Array.from(addressBytes))}};return Recipient}(ByteProcessor);exports.Recipient=Recipient;var ScriptVersion=function(_super){__extends(ScriptVersion,_super);function ScriptVersion(){return _super!==null&&_super.apply(this,arguments)||this}ScriptVersion.prototype.process=function(value){if(isNonEmptyBase64String(value)){return Promise.resolve(Uint8Array.from([constants_1.SET_SCRIPT_LANG_VERSION]))}else{return Promise.resolve(Uint8Array.from([0]))}};return ScriptVersion}(ByteProcessor);exports.ScriptVersion=ScriptVersion;var Transfers=function(_super){__extends(Transfers,_super);function Transfers(){return _super!==null&&_super.apply(this,arguments)||this}Transfers.prototype.process=function(values){var recipientProcessor=new Recipient(constants_1.STUB_NAME);var amountProcessor=new Long(constants_1.STUB_NAME);var promises=[];for(var i=0;i<values.length;i++){promises.push(recipientProcessor.process(values[i].recipient));promises.push(amountProcessor.process(values[i].amount))}return Promise.all(promises).then(function(elements){var length=convert_1.default.shortToByteArray(values.length);var lengthBytes=Uint8Array.from(length);return concat_1.concatUint8Arrays.apply(void 0,[lengthBytes].concat(elements))})};return Transfers}(ByteProcessor);exports.Transfers=Transfers;var INTEGER_DATA_TYPE=0;var BOOLEAN_DATA_TYPE=1;var BINARY_DATA_TYPE=2;var STRING_DATA_TYPE=3;var IntegerDataEntry=function(_super){__extends(IntegerDataEntry,_super);function IntegerDataEntry(){return _super!==null&&_super.apply(this,arguments)||this}IntegerDataEntry.prototype.process=function(value){return Long.prototype.process.call(this,value).then(function(longBytes){var typeByte=Uint8Array.from([INTEGER_DATA_TYPE]);return concat_1.concatUint8Arrays(typeByte,longBytes)})};return IntegerDataEntry}(ByteProcessor);exports.IntegerDataEntry=IntegerDataEntry;var BooleanDataEntry=function(_super){__extends(BooleanDataEntry,_super);function BooleanDataEntry(){return _super!==null&&_super.apply(this,arguments)||this}BooleanDataEntry.prototype.process=function(value){return Bool.prototype.process.call(this,value).then(function(boolByte){var typeByte=Uint8Array.from([BOOLEAN_DATA_TYPE]);return concat_1.concatUint8Arrays(typeByte,boolByte)})};return BooleanDataEntry}(ByteProcessor);exports.BooleanDataEntry=BooleanDataEntry;var BinaryDataEntry=function(_super){__extends(BinaryDataEntry,_super);function BinaryDataEntry(){return _super!==null&&_super.apply(this,arguments)||this}BinaryDataEntry.prototype.process=function(value){return Base64.prototype.process.call(this,value).then(function(binaryBytes){var typeByte=Uint8Array.from([BINARY_DATA_TYPE]);return Promise.resolve(concat_1.concatUint8Arrays(typeByte,binaryBytes))})};return BinaryDataEntry}(ByteProcessor);exports.BinaryDataEntry=BinaryDataEntry;var StringDataEntry=function(_super){__extends(StringDataEntry,_super);function StringDataEntry(){return _super!==null&&_super.apply(this,arguments)||this}StringDataEntry.prototype.process=function(value){return StringWithLength.prototype.process.call(this,value).then(function(stringBytes){var typeByte=Uint8Array.from([STRING_DATA_TYPE]);return concat_1.concatUint8Arrays(typeByte,stringBytes)})};return StringDataEntry}(ByteProcessor);exports.StringDataEntry=StringDataEntry;var DataEntries=function(_super){__extends(DataEntries,_super);function DataEntries(){return _super!==null&&_super.apply(this,arguments)||this}DataEntries.prototype.process=function(entries){var _this=this;var lengthBytes=Uint8Array.from(convert_1.default.shortToByteArray(entries.length));if(entries.length){return Promise.all(entries.map(function(entry){var prependKeyBytes=function(valueBytes){return StringWithLength.prototype.process.call(_this,entry.key).then(function(keyBytes){return concat_1.concatUint8Arrays(keyBytes,valueBytes)})};switch(entry.type){case"integer":return IntegerDataEntry.prototype.process.call(_this,entry.value).then(prependKeyBytes);case"boolean":return BooleanDataEntry.prototype.process.call(_this,entry.value).then(prependKeyBytes);case"binary":return BinaryDataEntry.prototype.process.call(_this,entry.value).then(prependKeyBytes);case"string":return StringDataEntry.prototype.process.call(_this,entry.value).then(prependKeyBytes);default:throw new Error('There is no data type "'+entry.type+'"')}})).then(function(entriesBytes){var bytes=concat_1.concatUint8Arrays.apply(void 0,[lengthBytes].concat(entriesBytes));if(bytes.length>constants_1.DATA_ENTRIES_BYTE_LIMIT)throw new Error("Data transaction is too large (140KB max)");return bytes})}else{return Promise.resolve(Uint8Array.from([0,0]))}};return DataEntries}(ByteProcessor);exports.DataEntries=DataEntries},{"..":6,"../constants":4,"../libs/base58":8,"../utils/concat":14,"../utils/convert":15,"@waves/data-entities":undefined,"base64-js":17}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var __1=require("../");var DEFAULT_CONFIG={networkByte:__1.MAINNET_BYTE,logLevel:"warning",minimalSeedLength:15};var Config=function(){function Config(){this.props=Object.assign(Object.create(null),DEFAULT_CONFIG)}Config.prototype.getNetworkByte=function(){return this.props.networkByte};Config.prototype.getLogLevel=function(){return this.props.logLevel};Config.prototype.set=function(config){Object.assign(this.props,config)};Config.prototype.get=function(key){return this.props[key]};Config.prototype.clear=function(){this.props=Object.assign(Object.create(null),DEFAULT_CONFIG)};return Config}();exports.config=new Config},{"../":6}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WAVES_ID="WAVES";exports.WAVES_BLOCKCHAIN_ID="";exports.MAINNET_BYTE="W".charCodeAt(0);exports.TESTNET_BYTE="T".charCodeAt(0);exports.ADDRESS_VERSION=1;exports.ALIAS_VERSION=2;exports.SET_SCRIPT_LANG_VERSION=1;exports.TRANSFER_ATTACHMENT_BYTE_LIMIT=140;exports.DATA_TX_SIZE_WITHOUT_ENTRIES=52;exports.DATA_ENTRIES_BYTE_LIMIT=140*1024-exports.DATA_TX_SIZE_WITHOUT_ENTRIES;exports.INITIAL_NONCE=0;exports.PRIVATE_KEY_LENGTH=32;exports.PUBLIC_KEY_LENGTH=32;exports.STUB_NAME="reservedName"},{}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},{}],6:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./constants"));__export(require("./byteProcessor/ByteProcessor"));__export(require("./config/Config"));__export(require("./signatureFactory/SignatureFactory"));__export(require("./Seed"));__export(require("./dictionary"));var base58_1=require("./libs/base58");var converters_1=require("./libs/converters");var axlsign_1=require("./libs/axlsign");var blake2b=require("./libs/blake2b");var sha3_1=require("./libs/sha3");var secure_random_1=require("./libs/secure-random");var base64=require("base64-js");var concat_1=require("./utils/concat");var convert_1=require("./utils/convert");var crypto_1=require("./utils/crypto");exports.libs={base64:base64,base58:base58_1.default,converters:converters_1.default,axlsign:axlsign_1.default,blake2b:blake2b,secureRandom:secure_random_1.default,keccak256:sha3_1.keccak256};exports.utils={concatUint8Arrays:concat_1.concatUint8Arrays,convert:convert_1.default,crypto:crypto_1.default}},{"./Seed":1,"./byteProcessor/ByteProcessor":2,"./config/Config":3,"./constants":4,"./dictionary":5,"./libs/axlsign":7,"./libs/base58":8,"./libs/blake2b":9,"./libs/converters":10,"./libs/secure-random":11,"./libs/sha3":12,"./signatureFactory/SignatureFactory":13,"./utils/concat":14,"./utils/convert":15,"./utils/crypto":16,"base64-js":17}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var axlsign=Object.create(null);var gf=function(init){var i,r=new Float64Array(16);if(init)for(i=0;i<init.length;i++)r[i]=init[i];return r};var _0=new Uint8Array(16);var _9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(x,i,h,l){x[i]=h>>24&255;x[i+1]=h>>16&255;x[i+2]=h>>8&255;x[i+3]=h&255;x[i+4]=l>>24&255;x[i+5]=l>>16&255;x[i+6]=l>>8&255;x[i+7]=l&255}function vn(x,xi,y,yi,n){var i,d=0;for(i=0;i<n;i++)d|=x[xi+i]^y[yi+i];return(1&d-1>>>8)-1}function crypto_verify_32(x,xi,y,yi){return vn(x,xi,y,yi,32)}function set25519(r,a){for(var i=0;i<16;i++)r[i]=a[i]|0}function car25519(o){var i,v,c=1;for(i=0;i<16;i++){v=o[i]+c+65535;c=Math.floor(v/65536);o[i]=v-c*65536}o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){var t,c=~(b-1);for(var i=0;i<16;i++){t=c&(p[i]^q[i]);p[i]^=t;q[i]^=t}}function pack25519(o,n){var i,j,b;var m=gf(),t=gf();for(i=0;i<16;i++)t[i]=n[i];car25519(t);car25519(t);car25519(t);for(j=0;j<2;j++){m[0]=t[0]-65517;for(i=1;i<15;i++){m[i]=t[i]-65535-(m[i-1]>>16&1);m[i-1]&=65535}m[15]=t[15]-32767-(m[14]>>16&1);b=m[15]>>16&1;m[14]&=65535;sel25519(t,m,1-b)}for(i=0;i<16;i++){o[2*i]=t[i]&255;o[2*i+1]=t[i]>>8}}function neq25519(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);pack25519(c,a);pack25519(d,b);return crypto_verify_32(c,0,d,0)}function par25519(a){var d=new Uint8Array(32);pack25519(d,a);return d[0]&1}function unpack25519(o,n){for(var i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}function A(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]+b[i]}function Z(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]-b[i]}function M(o,a,b){var v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];v=a[0];t0+=v*b0;t1+=v*b1;t2+=v*b2;t3+=v*b3;t4+=v*b4;t5+=v*b5;t6+=v*b6;t7+=v*b7;t8+=v*b8;t9+=v*b9;t10+=v*b10;t11+=v*b11;t12+=v*b12;t13+=v*b13;t14+=v*b14;t15+=v*b15;v=a[1];t1+=v*b0;t2+=v*b1;t3+=v*b2;t4+=v*b3;t5+=v*b4;t6+=v*b5;t7+=v*b6;t8+=v*b7;t9+=v*b8;t10+=v*b9;t11+=v*b10;t12+=v*b11;t13+=v*b12;t14+=v*b13;t15+=v*b14;t16+=v*b15;v=a[2];t2+=v*b0;t3+=v*b1;t4+=v*b2;t5+=v*b3;t6+=v*b4;t7+=v*b5;t8+=v*b6;t9+=v*b7;t10+=v*b8;t11+=v*b9;t12+=v*b10;t13+=v*b11;t14+=v*b12;t15+=v*b13;t16+=v*b14;t17+=v*b15;v=a[3];t3+=v*b0;t4+=v*b1;t5+=v*b2;t6+=v*b3;t7+=v*b4;t8+=v*b5;t9+=v*b6;t10+=v*b7;t11+=v*b8;t12+=v*b9;t13+=v*b10;t14+=v*b11;t15+=v*b12;t16+=v*b13;t17+=v*b14;t18+=v*b15;v=a[4];t4+=v*b0;t5+=v*b1;t6+=v*b2;t7+=v*b3;t8+=v*b4;t9+=v*b5;t10+=v*b6;t11+=v*b7;t12+=v*b8;t13+=v*b9;t14+=v*b10;t15+=v*b11;t16+=v*b12;t17+=v*b13;t18+=v*b14;t19+=v*b15;v=a[5];t5+=v*b0;t6+=v*b1;t7+=v*b2;t8+=v*b3;t9+=v*b4;t10+=v*b5;t11+=v*b6;t12+=v*b7;t13+=v*b8;t14+=v*b9;t15+=v*b10;t16+=v*b11;t17+=v*b12;t18+=v*b13;t19+=v*b14;t20+=v*b15;v=a[6];t6+=v*b0;t7+=v*b1;t8+=v*b2;t9+=v*b3;t10+=v*b4;t11+=v*b5;t12+=v*b6;t13+=v*b7;t14+=v*b8;t15+=v*b9;t16+=v*b10;t17+=v*b11;t18+=v*b12;t19+=v*b13;t20+=v*b14;t21+=v*b15;v=a[7];t7+=v*b0;t8+=v*b1;t9+=v*b2;t10+=v*b3;t11+=v*b4;t12+=v*b5;t13+=v*b6;t14+=v*b7;t15+=v*b8;t16+=v*b9;t17+=v*b10;t18+=v*b11;t19+=v*b12;t20+=v*b13;t21+=v*b14;t22+=v*b15;v=a[8];t8+=v*b0;t9+=v*b1;t10+=v*b2;t11+=v*b3;t12+=v*b4;t13+=v*b5;t14+=v*b6;t15+=v*b7;t16+=v*b8;t17+=v*b9;t18+=v*b10;t19+=v*b11;t20+=v*b12;t21+=v*b13;t22+=v*b14;t23+=v*b15;v=a[9];t9+=v*b0;t10+=v*b1;t11+=v*b2;t12+=v*b3;t13+=v*b4;t14+=v*b5;t15+=v*b6;t16+=v*b7;t17+=v*b8;t18+=v*b9;t19+=v*b10;t20+=v*b11;t21+=v*b12;t22+=v*b13;t23+=v*b14;t24+=v*b15;v=a[10];t10+=v*b0;t11+=v*b1;t12+=v*b2;t13+=v*b3;t14+=v*b4;t15+=v*b5;t16+=v*b6;t17+=v*b7;t18+=v*b8;t19+=v*b9;t20+=v*b10;t21+=v*b11;t22+=v*b12;t23+=v*b13;t24+=v*b14;t25+=v*b15;v=a[11];t11+=v*b0;t12+=v*b1;t13+=v*b2;t14+=v*b3;t15+=v*b4;t16+=v*b5;t17+=v*b6;t18+=v*b7;t19+=v*b8;t20+=v*b9;t21+=v*b10;t22+=v*b11;t23+=v*b12;t24+=v*b13;t25+=v*b14;t26+=v*b15;v=a[12];t12+=v*b0;t13+=v*b1;t14+=v*b2;t15+=v*b3;t16+=v*b4;t17+=v*b5;t18+=v*b6;t19+=v*b7;t20+=v*b8;t21+=v*b9;t22+=v*b10;t23+=v*b11;t24+=v*b12;t25+=v*b13;t26+=v*b14;t27+=v*b15;v=a[13];t13+=v*b0;t14+=v*b1;t15+=v*b2;t16+=v*b3;t17+=v*b4;t18+=v*b5;t19+=v*b6;t20+=v*b7;t21+=v*b8;t22+=v*b9;t23+=v*b10;t24+=v*b11;t25+=v*b12;t26+=v*b13;t27+=v*b14;t28+=v*b15;v=a[14];t14+=v*b0;t15+=v*b1;t16+=v*b2;t17+=v*b3;t18+=v*b4;t19+=v*b5;t20+=v*b6;t21+=v*b7;t22+=v*b8;t23+=v*b9;t24+=v*b10;t25+=v*b11;t26+=v*b12;t27+=v*b13;t28+=v*b14;t29+=v*b15;v=a[15];t15+=v*b0;t16+=v*b1;t17+=v*b2;t18+=v*b3;t19+=v*b4;t20+=v*b5;t21+=v*b6;t22+=v*b7;t23+=v*b8;t24+=v*b9;t25+=v*b10;t26+=v*b11;t27+=v*b12;t28+=v*b13;t29+=v*b14;t30+=v*b15;t0+=38*t16;t1+=38*t17;t2+=38*t18;t3+=38*t19;t4+=38*t20;t5+=38*t21;t6+=38*t22;t7+=38*t23;t8+=38*t24;t9+=38*t25;t10+=38*t26;t11+=38*t27;t12+=38*t28;t13+=38*t29;t14+=38*t30;c=1;v=t0+c+65535;c=Math.floor(v/65536);t0=v-c*65536;v=t1+c+65535;c=Math.floor(v/65536);t1=v-c*65536;v=t2+c+65535;c=Math.floor(v/65536);t2=v-c*65536;v=t3+c+65535;c=Math.floor(v/65536);t3=v-c*65536;v=t4+c+65535;c=Math.floor(v/65536);t4=v-c*65536;v=t5+c+65535;c=Math.floor(v/65536);t5=v-c*65536;v=t6+c+65535;c=Math.floor(v/65536);t6=v-c*65536;v=t7+c+65535;c=Math.floor(v/65536);t7=v-c*65536;v=t8+c+65535;c=Math.floor(v/65536);t8=v-c*65536;v=t9+c+65535;c=Math.floor(v/65536);t9=v-c*65536;v=t10+c+65535;c=Math.floor(v/65536);t10=v-c*65536;v=t11+c+65535;c=Math.floor(v/65536);t11=v-c*65536;v=t12+c+65535;c=Math.floor(v/65536);t12=v-c*65536;v=t13+c+65535;c=Math.floor(v/65536);t13=v-c*65536;v=t14+c+65535;c=Math.floor(v/65536);t14=v-c*65536;v=t15+c+65535;c=Math.floor(v/65536);t15=v-c*65536;t0+=c-1+37*(c-1);c=1;v=t0+c+65535;c=Math.floor(v/65536);t0=v-c*65536;v=t1+c+65535;c=Math.floor(v/65536);t1=v-c*65536;v=t2+c+65535;c=Math.floor(v/65536);t2=v-c*65536;v=t3+c+65535;c=Math.floor(v/65536);t3=v-c*65536;v=t4+c+65535;c=Math.floor(v/65536);t4=v-c*65536;v=t5+c+65535;c=Math.floor(v/65536);t5=v-c*65536;v=t6+c+65535;c=Math.floor(v/65536);t6=v-c*65536;v=t7+c+65535;c=Math.floor(v/65536);t7=v-c*65536;v=t8+c+65535;c=Math.floor(v/65536);t8=v-c*65536;v=t9+c+65535;c=Math.floor(v/65536);t9=v-c*65536;v=t10+c+65535;c=Math.floor(v/65536);t10=v-c*65536;v=t11+c+65535;c=Math.floor(v/65536);t11=v-c*65536;v=t12+c+65535;c=Math.floor(v/65536);t12=v-c*65536;v=t13+c+65535;c=Math.floor(v/65536);t13=v-c*65536;v=t14+c+65535;c=Math.floor(v/65536);t14=v-c*65536;v=t15+c+65535;c=Math.floor(v/65536);t15=v-c*65536;t0+=c-1+37*(c-1);o[0]=t0;o[1]=t1;o[2]=t2;o[3]=t3;o[4]=t4;o[5]=t5;o[6]=t6;o[7]=t7;o[8]=t8;o[9]=t9;o[10]=t10;o[11]=t11;o[12]=t12;o[13]=t13;o[14]=t14;o[15]=t15}function S(o,a){M(o,a,a)}function inv25519(o,i){var c=gf();var a;for(a=0;a<16;a++)c[a]=i[a];for(a=253;a>=0;a--){S(c,c);if(a!==2&&a!==4)M(c,c,i)}for(a=0;a<16;a++)o[a]=c[a]}function pow2523(o,i){var c=gf();var a;for(a=0;a<16;a++)c[a]=i[a];for(a=250;a>=0;a--){S(c,c);if(a!==1)M(c,c,i)}for(a=0;a<16;a++)o[a]=c[a]}function crypto_scalarmult(q,n,p){var z=new Uint8Array(32);var x=new Float64Array(80);var r,i;var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf();for(i=0;i<31;i++)z[i]=n[i];z[31]=n[31]&127|64;z[0]&=248;unpack25519(x,p);for(i=0;i<16;i++){b[i]=x[i];d[i]=a[i]=c[i]=0}a[0]=d[0]=1;for(i=254;i>=0;--i){r=z[i>>>3]>>>(i&7)&1;sel25519(a,b,r);sel25519(c,d,r);A(e,a,c);Z(a,a,c);A(c,b,d);Z(b,b,d);S(d,e);S(f,a);M(a,c,a);M(c,b,e);A(e,a,c);Z(a,a,c);S(b,a);Z(c,d,f);M(a,c,_121665);A(a,a,d);M(c,c,a);M(a,d,f);M(d,b,x);S(b,e);sel25519(a,b,r);sel25519(c,d,r)}for(i=0;i<16;i++){x[i+16]=a[i];x[i+32]=c[i];x[i+48]=b[i];x[i+64]=d[i]}var x32=x.subarray(32);var x16=x.subarray(16);inv25519(x32,x32);M(x16,x16,x32);pack25519(q,x16);return 0}function crypto_scalarmult_base(q,n){return crypto_scalarmult(q,n,_9)}var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(hh,hl,m,n){var wh=new Int32Array(16),wl=new Int32Array(16);var bh0,bh1,bh2,bh3,bh4,bh5,bh6,bh7,bl0,bl1,bl2,bl3,bl4,bl5,bl6,bl7,th,tl,i,j,h,l,a,b,c,d;var ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7];var pos=0;while(n>=128){for(i=0;i<16;i++){j=8*i+pos;wh[i]=m[j+0]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3];wl[i]=m[j+4]<<24|m[j+5]<<16|m[j+6]<<8|m[j+7]}for(i=0;i<80;i++){bh0=ah0;bh1=ah1;bh2=ah2;bh3=ah3;bh4=ah4;bh5=ah5;bh6=ah6;bh7=ah7;bl0=al0;bl1=al1;bl2=al2;bl3=al3;bl4=al4;bl5=al5;bl6=al6;bl7=al7;h=ah7;l=al7;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=(ah4>>>14|al4<<32-14)^(ah4>>>18|al4<<32-18)^(al4>>>41-32|ah4<<32-(41-32));l=(al4>>>14|ah4<<32-14)^(al4>>>18|ah4<<32-18)^(ah4>>>41-32|al4<<32-(41-32));a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=ah4&ah5^~ah4&ah6;l=al4&al5^~al4&al6;a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=K[i*2];l=K[i*2+1];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=wh[i%16];l=wl[i%16];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;th=c&65535|d<<16;tl=a&65535|b<<16;h=th;l=tl;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=(ah0>>>28|al0<<32-28)^(al0>>>34-32|ah0<<32-(34-32))^(al0>>>39-32|ah0<<32-(39-32));l=(al0>>>28|ah0<<32-28)^(ah0>>>34-32|al0<<32-(34-32))^(ah0>>>39-32|al0<<32-(39-32));a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;h=ah0&ah1^ah0&ah2^ah1&ah2;l=al0&al1^al0&al2^al1&al2;a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;bh7=c&65535|d<<16;bl7=a&65535|b<<16;h=bh3;l=bl3;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=th;l=tl;a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;bh3=c&65535|d<<16;bl3=a&65535|b<<16;ah1=bh0;ah2=bh1;ah3=bh2;ah4=bh3;ah5=bh4;ah6=bh5;ah7=bh6;ah0=bh7;al1=bl0;al2=bl1;al3=bl2;al4=bl3;al5=bl4;al6=bl5;al7=bl6;al0=bl7;if(i%16===15){for(j=0;j<16;j++){h=wh[j];l=wl[j];a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=wh[(j+9)%16];l=wl[(j+9)%16];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;th=wh[(j+1)%16];tl=wl[(j+1)%16];h=(th>>>1|tl<<32-1)^(th>>>8|tl<<32-8)^th>>>7;l=(tl>>>1|th<<32-1)^(tl>>>8|th<<32-8)^(tl>>>7|th<<32-7);a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;th=wh[(j+14)%16];tl=wl[(j+14)%16];h=(th>>>19|tl<<32-19)^(tl>>>61-32|th<<32-(61-32))^th>>>6;l=(tl>>>19|th<<32-19)^(th>>>61-32|tl<<32-(61-32))^(tl>>>6|th<<32-6);a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;wh[j]=c&65535|d<<16;wl[j]=a&65535|b<<16}}}h=ah0;l=al0;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[0];l=hl[0];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[0]=ah0=c&65535|d<<16;hl[0]=al0=a&65535|b<<16;h=ah1;l=al1;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[1];l=hl[1];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[1]=ah1=c&65535|d<<16;hl[1]=al1=a&65535|b<<16;h=ah2;l=al2;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[2];l=hl[2];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[2]=ah2=c&65535|d<<16;hl[2]=al2=a&65535|b<<16;h=ah3;l=al3;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[3];l=hl[3];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[3]=ah3=c&65535|d<<16;hl[3]=al3=a&65535|b<<16;h=ah4;l=al4;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[4];l=hl[4];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[4]=ah4=c&65535|d<<16;hl[4]=al4=a&65535|b<<16;h=ah5;l=al5;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[5];l=hl[5];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[5]=ah5=c&65535|d<<16;hl[5]=al5=a&65535|b<<16;h=ah6;l=al6;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[6];l=hl[6];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[6]=ah6=c&65535|d<<16;hl[6]=al6=a&65535|b<<16;h=ah7;l=al7;a=l&65535;b=l>>>16;c=h&65535;d=h>>>16;h=hh[7];l=hl[7];a+=l&65535;b+=l>>>16;c+=h&65535;d+=h>>>16;b+=a>>>16;c+=b>>>16;d+=c>>>16;hh[7]=ah7=c&65535|d<<16;hl[7]=al7=a&65535|b<<16;pos+=128;n-=128}return n}function crypto_hash(out,m,n){var hh=new Int32Array(8);var hl=new Int32Array(8);var x=new Uint8Array(256);var i,b=n;hh[0]=1779033703;hh[1]=3144134277;hh[2]=1013904242;hh[3]=2773480762;hh[4]=1359893119;hh[5]=2600822924;hh[6]=528734635;hh[7]=1541459225;hl[0]=4089235720;hl[1]=2227873595;hl[2]=4271175723;hl[3]=1595750129;hl[4]=2917565137;hl[5]=725511199;hl[6]=4215389547;hl[7]=327033209;crypto_hashblocks_hl(hh,hl,m,n);n%=128;for(i=0;i<n;i++)x[i]=m[b-n+i];x[n]=128;n=256-128*(n<112?1:0);x[n-9]=0;ts64(x,n-8,b/536870912|0,b<<3);crypto_hashblocks_hl(hh,hl,x,n);for(i=0;i<8;i++)ts64(out,8*i,hh[i],hl[i]);return 0}function add(p,q){var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();Z(a,p[1],p[0]);Z(t,q[1],q[0]);M(a,a,t);A(b,p[0],p[1]);A(t,q[0],q[1]);M(b,b,t);M(c,p[3],q[3]);M(c,c,D2);M(d,p[2],q[2]);A(d,d,d);Z(e,b,a);Z(f,d,c);A(g,d,c);A(h,b,a);M(p[0],e,f);M(p[1],h,g);M(p[2],g,f);M(p[3],e,h)}function cswap(p,q,b){for(var i=0;i<4;i++){sel25519(p[i],q[i],b)}}function pack(r,p){var tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]);M(tx,p[0],zi);M(ty,p[1],zi);pack25519(r,ty);r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){var b,i;set25519(p[0],gf0);set25519(p[1],gf1);set25519(p[2],gf1);set25519(p[3],gf0);for(i=255;i>=0;--i){b=s[i/8|0]>>(i&7)&1;cswap(p,q,b);add(q,p);add(p,p);cswap(p,q,b)}}function scalarbase(p,s){var q=[gf(),gf(),gf(),gf()];set25519(q[0],X);set25519(q[1],Y);set25519(q[2],gf1);M(q[3],X,Y);scalarmult(p,q,s)}var L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(r,x){var carry,i,j,k;for(i=63;i>=32;--i){carry=0;for(j=i-32,k=i-12;j<k;++j){x[j]+=carry-16*x[i]*L[j-(i-32)];carry=x[j]+128>>8;x[j]-=carry*256}x[j]+=carry;x[i]=0}carry=0;for(j=0;j<32;j++){x[j]+=carry-(x[31]>>4)*L[j];carry=x[j]>>8;x[j]&=255}for(j=0;j<32;j++)x[j]-=carry*L[j];for(i=0;i<32;i++){x[i+1]+=x[i]>>8;r[i]=x[i]&255}}function reduce(r){var x=new Float64Array(64);var i;for(i=0;i<64;i++)x[i]=r[i];for(i=0;i<64;i++)r[i]=0;modL(r,x)}function crypto_sign_direct(sm,m,n,sk){var d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64);var x=new Float64Array(64);var p=[gf(),gf(),gf(),gf()];var i,j;for(i=0;i<n;i++)sm[64+i]=m[i];for(i=0;i<32;i++)sm[32+i]=sk[i];crypto_hash(r,sm.subarray(32),n+32);reduce(r);scalarbase(p,r);pack(sm,p);for(i=0;i<32;i++)sm[i+32]=sk[32+i];crypto_hash(h,sm,n+64);reduce(h);for(i=0;i<64;i++)x[i]=0;for(i=0;i<32;i++)x[i]=r[i];for(i=0;i<32;i++){for(j=0;j<32;j++){x[i+j]+=h[i]*sk[j]}}modL(sm.subarray(32),x);return n+64}function crypto_sign_direct_rnd(sm,m,n,sk,rnd){var d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64);var x=new Float64Array(64);var p=[gf(),gf(),gf(),gf()];var i,j;sm[0]=254;for(i=1;i<32;i++)sm[i]=255;for(i=0;i<32;i++)sm[32+i]=sk[i];for(i=0;i<n;i++)sm[64+i]=m[i];for(i=0;i<64;i++)sm[n+64+i]=rnd[i];crypto_hash(r,sm,n+128);reduce(r);scalarbase(p,r);pack(sm,p);for(i=0;i<32;i++)sm[i+32]=sk[32+i];crypto_hash(h,sm,n+64);reduce(h);for(i=0;i<64;i++)sm[n+64+i]=0;for(i=0;i<64;i++)x[i]=0;for(i=0;i<32;i++)x[i]=r[i];for(i=0;i<32;i++){for(j=0;j<32;j++){x[i+j]+=h[i]*sk[j]}}modL(sm.subarray(32,n+64),x);return n+64}function curve25519_sign(sm,m,n,sk,opt_rnd){var edsk=new Uint8Array(64);var p=[gf(),gf(),gf(),gf()];for(var i=0;i<32;i++)edsk[i]=sk[i];edsk[0]&=248;edsk[31]&=127;edsk[31]|=64;scalarbase(p,edsk);pack(edsk.subarray(32),p);var signBit=edsk[63]&128;var smlen;if(opt_rnd){smlen=crypto_sign_direct_rnd(sm,m,n,edsk,opt_rnd)}else{smlen=crypto_sign_direct(sm,m,n,edsk)}sm[63]|=signBit;return smlen}function unpackneg(r,p){var t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf();set25519(r[2],gf1);unpack25519(r[1],p);S(num,r[1]);M(den,num,D);Z(num,num,r[2]);A(den,r[2],den);S(den2,den);S(den4,den2);M(den6,den4,den2);M(t,den6,num);M(t,t,den);pow2523(t,t);M(t,t,num);M(t,t,den);M(t,t,den);M(r[0],t,den);S(chk,r[0]);M(chk,chk,den);if(neq25519(chk,num))M(r[0],r[0],I);S(chk,r[0]);M(chk,chk,den);if(neq25519(chk,num))return-1;if(par25519(r[0])===p[31]>>7)Z(r[0],gf0,r[0]);M(r[3],r[0],r[1]);return 0}function crypto_sign_open(m,sm,n,pk){var i,mlen;var t=new Uint8Array(32),h=new Uint8Array(64);var p=[gf(),gf(),gf(),gf()],q=[gf(),gf(),gf(),gf()];mlen=-1;if(n<64)return-1;if(unpackneg(q,pk))return-1;for(i=0;i<n;i++)m[i]=sm[i];for(i=0;i<32;i++)m[i+32]=pk[i];crypto_hash(h,m,n);reduce(h);scalarmult(p,q,h);scalarbase(q,sm.subarray(32));add(p,q);pack(t,p);n-=64;if(crypto_verify_32(sm,0,t,0)){for(i=0;i<n;i++)m[i]=0;return-1}for(i=0;i<n;i++)m[i]=sm[i+64];mlen=n;return mlen}function convertPublicKey(pk){var z=new Uint8Array(32),x=gf(),a=gf(),b=gf();unpack25519(x,pk);A(a,x,gf1);Z(b,x,gf1);inv25519(a,a);M(a,a,b);pack25519(z,a);return z}function curve25519_sign_open(m,sm,n,pk){var edpk=convertPublicKey(pk);edpk[31]|=sm[63]&128;sm[63]&=127;return crypto_sign_open(m,sm,n,edpk)}function checkArrayTypes(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var t,i;for(i=0;i<arguments.length;i++){if((t=Object.prototype.toString.call(arguments[i]))!=="[object Uint8Array]")throw new TypeError("unexpected type "+t+", use Uint8Array")}}axlsign.sharedKey=function(secretKey,publicKey){checkArrayTypes(publicKey,secretKey);if(publicKey.length!==32)throw new Error("wrong public key length");if(secretKey.length!==32)throw new Error("wrong secret key length");var sharedKey=new Uint8Array(32);crypto_scalarmult(sharedKey,secretKey,publicKey);return sharedKey};axlsign.signMessage=function(secretKey,msg,opt_random){checkArrayTypes(msg,secretKey);if(secretKey.length!==32)throw new Error("wrong secret key length");if(opt_random){checkArrayTypes(opt_random);if(opt_random.length!==64)throw new Error("wrong random data length");var buf=new Uint8Array(128+msg.length);curve25519_sign(buf,msg,msg.length,secretKey,opt_random);return new Uint8Array(buf.subarray(0,64+msg.length))}else{var signedMsg=new Uint8Array(64+msg.length);curve25519_sign(signedMsg,msg,msg.length,secretKey);return signedMsg}};axlsign.openMessage=function(publicKey,signedMsg){checkArrayTypes(signedMsg,publicKey);if(publicKey.length!==32)throw new Error("wrong public key length");var tmp=new Uint8Array(signedMsg.length);var mlen=curve25519_sign_open(tmp,signedMsg,signedMsg.length,publicKey);if(mlen<0)return null;var m=new Uint8Array(mlen);for(var i=0;i<m.length;i++)m[i]=tmp[i];return m};axlsign.sign=function(secretKey,msg,opt_random){checkArrayTypes(secretKey,msg);if(secretKey.length!==32)throw new Error("wrong secret key length");if(opt_random){checkArrayTypes(opt_random);if(opt_random.length!==64)throw new Error("wrong random data length")}var buf=new Uint8Array((opt_random?128:64)+msg.length);curve25519_sign(buf,msg,msg.length,secretKey,opt_random);var signature=new Uint8Array(64);for(var i=0;i<signature.length;i++)signature[i]=buf[i];return signature};axlsign.verify=function(publicKey,msg,signature){checkArrayTypes(msg,signature,publicKey);if(signature.length!==64)throw new Error("wrong signature length");if(publicKey.length!==32)throw new Error("wrong public key length");var sm=new Uint8Array(64+msg.length);var m=new Uint8Array(64+msg.length);var i;for(i=0;i<64;i++)sm[i]=signature[i];for(i=0;i<msg.length;i++)sm[i+64]=msg[i];return curve25519_sign_open(m,sm,sm.length,publicKey)>=0};axlsign.generateKeyPair=function(seed){checkArrayTypes(seed);if(seed.length!==32)throw new Error("wrong seed length");var sk=new Uint8Array(32);var pk=new Uint8Array(32);for(var i=0;i<32;i++)sk[i]=seed[i];crypto_scalarmult_base(pk,sk);sk[0]&=248;sk[31]&=127;sk[31]|=64;pk[31]&=127;return{public:pk,private:sk}};exports.default=axlsign},{}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var ALPHABET_MAP=ALPHABET.split("").reduce(function(map,c,i){map[c]=i;return map},{});exports.default={encode:function(buffer){if(!buffer.length)return"";var digits=[0];for(var i=0;i<buffer.length;i++){for(var j=0;j<digits.length;j++){digits[j]<<=8}digits[0]+=buffer[i];var carry=0;for(var k=0;k<digits.length;k++){digits[k]+=carry;carry=digits[k]/58|0;digits[k]%=58}while(carry){digits.push(carry%58);carry=carry/58|0}}for(var i=0;buffer[i]===0&&i<buffer.length-1;i++){digits.push(0)}return digits.reverse().map(function(digit){return ALPHABET[digit]}).join("")},decode:function(string){string=String(string);if(!string.length)return new Uint8Array(0);var bytes=[0];for(var i=0;i<string.length;i++){var c=string[i];if(!(c in ALPHABET_MAP)){throw'There is no character "'+c+'" in the Base58 sequence!'}for(var j=0;j<bytes.length;j++){bytes[j]*=58}bytes[0]+=ALPHABET_MAP[c];var carry=0;for(var j=0;j<bytes.length;j++){bytes[j]+=carry;carry=bytes[j]>>8;bytes[j]&=255}while(carry){bytes.push(carry&255);carry>>=8}}for(var i=0;string[i]==="1"&&i<string.length-1;i++){bytes.push(0)}return new Uint8Array(bytes.reverse())}}},{}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(input){var ret;if(input instanceof Uint8Array){ret=input}else if(input instanceof Buffer){ret=new Uint8Array(input)}else if(typeof input==="string"){ret=new Uint8Array(Buffer.from(input,"utf8"))}else{throw new Error(ERROR_MSG_INPUT)}return ret}function toHex(bytes){return Array.prototype.map.call(bytes,function(n){return(n<16?"0":"")+n.toString(16)}).join("")}function uint32ToHex(val){return(4294967296+val).toString(16).substring(1)}function debugPrint(label,arr,size){var msg="\n"+label+" = ";for(var i=0;i<arr.length;i+=2){if(size===32){msg+=uint32ToHex(arr[i]).toUpperCase();msg+=" ";msg+=uint32ToHex(arr[i+1]).toUpperCase()}else if(size===64){msg+=uint32ToHex(arr[i+1]).toUpperCase();msg+=uint32ToHex(arr[i]).toUpperCase()}else throw new Error("Invalid size "+size);if(i%6===4){msg+="\n"+new Array(label.length+4).join(" ")}else if(i<arr.length-2){msg+=" "}}}function testSpeed(hashFn,N,M){var startMs=(new Date).getTime();var input=new Uint8Array(N);for(var i=0;i<N;i++){input[i]=i%256}var genMs=(new Date).getTime();startMs=genMs;for(i=0;i<M;i++){var hashHex=hashFn(input);var hashMs=(new Date).getTime();var ms=hashMs-startMs;startMs=hashMs}}function ADD64AA(v,a,b){var o0=v[a]+v[b];var o1=v[a+1]+v[b+1];if(o0>=4294967296){o1++}v[a]=o0;v[a+1]=o1}function ADD64AC(v,a,b0,b1){var o0=v[a]+b0;if(b0<0){o0+=4294967296}var o1=v[a+1]+b1;if(o0>=4294967296){o1++}v[a]=o0;v[a+1]=o1}function B2B_GET32(arr,i){return arr[i]^arr[i+1]<<8^arr[i+2]<<16^arr[i+3]<<24}function B2B_G(a,b,c,d,ix,iy){var x0=m[ix];var x1=m[ix+1];var y0=m[iy];var y1=m[iy+1];ADD64AA(v,a,b);ADD64AC(v,a,x0,x1);var xor0=v[d]^v[a];var xor1=v[d+1]^v[a+1];v[d]=xor1;v[d+1]=xor0;ADD64AA(v,c,d);xor0=v[b]^v[c];xor1=v[b+1]^v[c+1];v[b]=xor0>>>24^xor1<<8;v[b+1]=xor1>>>24^xor0<<8;ADD64AA(v,a,b);ADD64AC(v,a,y0,y1);xor0=v[d]^v[a];xor1=v[d+1]^v[a+1];v[d]=xor0>>>16^xor1<<16;v[d+1]=xor1>>>16^xor0<<16;ADD64AA(v,c,d);xor0=v[b]^v[c];xor1=v[b+1]^v[c+1];v[b]=xor1>>>31^xor0<<1;v[b+1]=xor0>>>31^xor1<<1}var BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]);var SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3];var SIGMA82=new Uint8Array(SIGMA8.map(function(x){return x*2}));var v=new Uint32Array(32);var m=new Uint32Array(32);function blake2bCompress(ctx,last){var i=0;for(i=0;i<16;i++){v[i]=ctx.h[i];v[i+16]=BLAKE2B_IV32[i]}v[24]=v[24]^ctx.t;v[25]=v[25]^ctx.t/4294967296;if(last){v[28]=~v[28];v[29]=~v[29]}for(i=0;i<32;i++){m[i]=B2B_GET32(ctx.b,4*i)}for(i=0;i<12;i++){B2B_G(0,8,16,24,SIGMA82[i*16+0],SIGMA82[i*16+1]);B2B_G(2,10,18,26,SIGMA82[i*16+2],SIGMA82[i*16+3]);B2B_G(4,12,20,28,SIGMA82[i*16+4],SIGMA82[i*16+5]);B2B_G(6,14,22,30,SIGMA82[i*16+6],SIGMA82[i*16+7]);B2B_G(0,10,20,30,SIGMA82[i*16+8],SIGMA82[i*16+9]);B2B_G(2,12,22,24,SIGMA82[i*16+10],SIGMA82[i*16+11]);B2B_G(4,14,16,26,SIGMA82[i*16+12],SIGMA82[i*16+13]);B2B_G(6,8,18,28,SIGMA82[i*16+14],SIGMA82[i*16+15])}for(i=0;i<16;i++){ctx.h[i]=ctx.h[i]^v[i]^v[i+16]}}function blake2bInit(outlen,key){if(outlen===0||outlen>64){throw new Error("Illegal output length, expected 0 < length <= 64")}if(key&&key.length>64){throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64")}var ctx={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:outlen};for(var i=0;i<16;i++){ctx.h[i]=BLAKE2B_IV32[i]}var keylen=key?key.length:0;ctx.h[0]^=16842752^keylen<<8^outlen;if(key){blake2bUpdate(ctx,key);ctx.c=128}return ctx}exports.blake2bInit=blake2bInit;function blake2bUpdate(ctx,input){for(var i=0;i<input.length;i++){if(ctx.c===128){ctx.t+=ctx.c;blake2bCompress(ctx,false);ctx.c=0}ctx.b[ctx.c++]=input[i]}}exports.blake2bUpdate=blake2bUpdate;function blake2bFinal(ctx){ctx.t+=ctx.c;while(ctx.c<128){ctx.b[ctx.c++]=0}blake2bCompress(ctx,true);var out=new Uint8Array(ctx.outlen);for(var i=0;i<ctx.outlen;i++){out[i]=ctx.h[i>>2]>>8*(i&3)}return out}exports.blake2bFinal=blake2bFinal;function blake2b(input,key,outlen){outlen=outlen||64;input=normalizeInput(input);var ctx=blake2bInit(outlen,key);blake2bUpdate(ctx,input);return blake2bFinal(ctx)}exports.blake2b=blake2b;function blake2bHex(input,key,outlen){var output=blake2b(input,key,outlen);return toHex(output)}exports.blake2bHex=blake2bHex},{}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CryptoJS=require("crypto-js");var converters=function(){var charToNibble={};var nibbleToChar=[];var i;for(i=0;i<=9;++i){var character=i.toString();charToNibble[character]=i;nibbleToChar.push(character)}for(i=10;i<=15;++i){var lowerChar=String.fromCharCode("a".charCodeAt(0)+i-10);var upperChar=String.fromCharCode("A".charCodeAt(0)+i-10);charToNibble[lowerChar]=i;charToNibble[upperChar]=i;nibbleToChar.push(lowerChar)}return{byteArrayToHexString:function(bytes){var str="";for(var i_1=0;i_1<bytes.length;++i_1){if(bytes[i_1]<0){bytes[i_1]+=256}str+=nibbleToChar[bytes[i_1]>>4]+nibbleToChar[bytes[i_1]&15]}return str},stringToByteArray:function(str){str=unescape(encodeURIComponent(str));var bytes=new Array(str.length);for(var i_2=0;i_2<str.length;++i_2)bytes[i_2]=str.charCodeAt(i_2);return bytes},hexStringToByteArray:function(str){var bytes=[];var i=0;if(0!==str.length%2){bytes.push(charToNibble[str.charAt(0)]);++i}for(;i<str.length-1;i+=2)bytes.push((charToNibble[str.charAt(i)]<<4)+charToNibble[str.charAt(i+1)]);return bytes},stringToHexString:function(str){return this.byteArrayToHexString(this.stringToByteArray(str))},hexStringToString:function(hex){return this.byteArrayToString(this.hexStringToByteArray(hex))},checkBytesToIntInput:function(bytes,numBytes,opt_startIndex){var startIndex=opt_startIndex||0;if(startIndex<0){throw new Error("Start index should not be negative")}if(bytes.length<startIndex+numBytes){throw new Error("Need at least "+numBytes+" bytes to convert to an integer")}return startIndex},byteArrayToSignedShort:function(bytes,opt_startIndex){var index=this.checkBytesToIntInput(bytes,2,opt_startIndex);var value=bytes[index];value+=bytes[index+1]<<8;return value},byteArrayToSignedInt32:function(bytes,opt_startIndex){var index=this.checkBytesToIntInput(bytes,4,opt_startIndex);var value=bytes[index];value+=bytes[index+1]<<8;value+=bytes[index+2]<<16;value+=bytes[index+3]<<24;return value},byteArrayToBigInteger:function(bytes,opt_startIndex){var index=this.checkBytesToIntInput(bytes,8,opt_startIndex);var value=new BigInteger("0",10);var temp1,temp2;for(var i_3=7;i_3>=0;i_3--){temp1=value.multiply(new BigInteger("256",10));temp2=temp1.add(new BigInteger(bytes[opt_startIndex+i_3].toString(10),10));value=temp2}return value},byteArrayToWordArray:function(byteArray){var i=0,offset=0,word=0,len=byteArray.length;var words=new Uint32Array((len/4|0)+(len%4==0?0:1));while(i<len-len%4){words[offset++]=byteArray[i++]<<24|byteArray[i++]<<16|byteArray[i++]<<8|byteArray[i++]}if(len%4!=0){word=byteArray[i++]<<24;if(len%4>1){word=word|byteArray[i++]<<16}if(len%4>2){word=word|byteArray[i++]<<8}words[offset]=word}var wordArray=new Object;wordArray.sigBytes=len;wordArray.words=words;return wordArray},wordArrayToByteArray:function(wordArray){return converters.wordArrayToByteArrayImpl(wordArray,true)},wordArrayToByteArrayImpl:function(wordArray,isFirstByteHasSign){var len=wordArray.words.length;if(len==0){return new Array(0)}var byteArray=new Array(wordArray.sigBytes);var offset=0,word,i;for(i=0;i<len-1;i++){word=wordArray.words[i];byteArray[offset++]=isFirstByteHasSign?word>>24:word>>24&255;byteArray[offset++]=word>>16&255;byteArray[offset++]=word>>8&255;byteArray[offset++]=word&255}word=wordArray.words[len-1];byteArray[offset++]=isFirstByteHasSign?word>>24:word>>24&255;if(wordArray.sigBytes%4==0){byteArray[offset++]=word>>16&255;byteArray[offset++]=word>>8&255;byteArray[offset++]=word&255}if(wordArray.sigBytes%4>1){byteArray[offset++]=word>>16&255}if(wordArray.sigBytes%4>2){byteArray[offset++]=word>>8&255}return byteArray},byteArrayToString:function(bytes,opt_startIndex,length){if(length==0){return""}if(opt_startIndex&&length){var index=this.checkBytesToIntInput(bytes,parseInt(length,10),parseInt(opt_startIndex,10));bytes=bytes.slice(opt_startIndex,opt_startIndex+length)}return decodeURIComponent(escape(String.fromCharCode.apply(null,bytes)))},byteArrayToShortArray:function(byteArray){var shortArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var i;for(i=0;i<16;i++){shortArray[i]=byteArray[i*2]|byteArray[i*2+1]<<8}return shortArray},shortArrayToByteArray:function(shortArray){var byteArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var i;for(i=0;i<16;i++){byteArray[2*i]=shortArray[i]&255;byteArray[2*i+1]=shortArray[i]>>8}return byteArray},shortArrayToHexString:function(ary){var res="";for(var i_4=0;i_4<ary.length;i_4++){res+=nibbleToChar[ary[i_4]>>4&15]+nibbleToChar[ary[i_4]&15]+nibbleToChar[ary[i_4]>>12&15]+nibbleToChar[ary[i_4]>>8&15]}return res},intToBytes_:function(x,numBytes,unsignedMax,opt_bigEndian){var signedMax=Math.floor(unsignedMax/2);var negativeMax=(signedMax+1)*-1;if(x!=Math.floor(x)||x<negativeMax||x>unsignedMax){throw new Error(x+" is not a "+numBytes*8+" bit integer")}var bytes=[];var current;var numberType=x>=0&&x<=signedMax?0:x>signedMax&&x<=unsignedMax?1:2;if(numberType==2){x=x*-1-1}for(var i_5=0;i_5<numBytes;i_5++){if(numberType==2){current=255-x%256}else{current=x%256}if(opt_bigEndian){bytes.unshift(current)}else{bytes.push(current)}if(numberType==1){x=Math.floor(x/256)}else{x=x>>8}}return bytes},int32ToBytes:function(x,opt_bigEndian){return converters.intToBytes_(x,4,4294967295,opt_bigEndian)},int16ToBytes:function(x,opt_bigEndian){return converters.intToBytes_(x,2,65535,opt_bigEndian)},wordArrayToByteArrayEx:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var u8=new Uint8Array(sigBytes);for(var i_6=0;i_6<sigBytes;i_6++){var byte=words[i_6>>>2]>>>24-i_6%4*8&255;u8[i_6]=byte}return u8},byteArrayToWordArrayEx:function(u8arr){var len=u8arr.length;var words=[];for(var i_7=0;i_7<len;i_7++){words[i_7>>>2]|=(u8arr[i_7]&255)<<24-i_7%4*8}return CryptoJS.lib.WordArray.create(words,len)}}}();exports.default=converters},{"crypto-js":26}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function nodeRandom(count,options){var crypto=require("crypto");var buf=crypto.randomBytes(count);switch(options.type){case"Array":return[].slice.call(buf);case"Buffer":return buf;case"Uint8Array":var arr=new Uint8Array(count);for(var i=0;i<count;++i){arr[i]=buf.readUInt8(i)}return arr;default:throw new Error(options.type+" is unsupported.")}}function browserRandom(count,options){var nativeArr=new Uint8Array(count);var crypto=self.crypto||self.msCrypto;crypto.getRandomValues(nativeArr);switch(options.type){case"Array":return[].slice.call(nativeArr);case"Buffer":try{var b=new Buffer(1)}catch(e){throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}return new Buffer(nativeArr);case"Uint8Array":return nativeArr;default:throw new Error(options.type+" is unsupported.")}}function secureRandom(count,options){options=options||{type:"Array"};if(typeof window!=="undefined"||typeof self!=="undefined"){return browserRandom(count,options)}else if(typeof exports==="object"&&typeof module!=="undefined"){return nodeRandom(count,options)}else{throw new Error("Your environment is not defined")}}exports.default={secureRandom:secureRandom,randomArray:function(byteCount){return secureRandom(byteCount,{type:"Array"})},randomUint8Array:function(byteCount){return secureRandom(byteCount,{type:"Uint8Array"})},randomBuffer:function(byteCount){return secureRandom(byteCount,{type:"Buffer"})}}},{crypto:undefined}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var sha3={};var HEX_CHARS="0123456789abcdef".split("");var SHAKE_PADDING=[31,7936,2031616,520093696];var KECCAK_PADDING=[1,256,65536,16777216];var PADDING=[6,1536,393216,100663296];var SHIFT=[0,8,16,24];var RC=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var BITS=[224,256,384,512];var SHAKE_BITS=[128,256];var OUTPUT_TYPES=["hex","buffer","arrayBuffer","array"];var createOutputMethod=function(bits,padding,outputType){return function(message){return new Keccak(bits,padding,bits).update(message)[outputType]()}};var createShakeOutputMethod=function(bits,padding,outputType){return function(message,outputBits){return new Keccak(bits,padding,outputBits).update(message)[outputType]()}};var createMethod=function(bits,padding){var method=createOutputMethod(bits,padding,"hex");method.create=function(){return new Keccak(bits,padding,bits)};method.update=function(message){return method.create().update(message)};for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createOutputMethod(bits,padding,type)}return method};var createShakeMethod=function(bits,padding){var method=createShakeOutputMethod(bits,padding,"hex");method.create=function(outputBits){return new Keccak(bits,padding,outputBits)};method.update=function(message,outputBits){return method.create(outputBits).update(message)};for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createShakeOutputMethod(bits,padding,type)}return method};var algorithms=[{name:"keccak",padding:KECCAK_PADDING,bits:BITS,createMethod:createMethod},{name:"sha3",padding:PADDING,bits:BITS,createMethod:createMethod},{name:"shake",padding:SHAKE_PADDING,bits:SHAKE_BITS,createMethod:createShakeMethod}];var methods={},methodNames=[];for(var i=0;i<algorithms.length;++i){var algorithm=algorithms[i];var bits=algorithm.bits;for(var j=0;j<bits.length;++j){var methodName=algorithm.name+"_"+bits[j];methodNames.push(methodName);methods[methodName]=algorithm.createMethod(bits[j],algorithm.padding)}}function Keccak(bits,padding,outputBits){this.blocks=[];this.s=[];this.padding=padding;this.outputBits=outputBits;this.reset=true;this.block=0;this.start=0;this.blockCount=1600-(bits<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=outputBits>>5;this.extraBytes=(outputBits&31)>>3;for(var i=0;i<50;++i){this.s[i]=0}}Keccak.prototype.update=function(message){var notString=typeof message!=="string";if(notString&&message.constructor===ArrayBuffer){message=new Uint8Array(message)}var length=message.length,blocks=this.blocks,byteCount=this.byteCount;var blockCount=this.blockCount,index=0,s=this.s,i,code;while(index<length){if(this.reset){this.reset=false;blocks[0]=this.block;for(i=1;i<blockCount+1;++i){blocks[i]=0}}if(notString){for(i=this.start;index<length&&i<byteCount;++index){blocks[i>>2]|=message[index]<<SHIFT[i++&3]}}else{for(i=this.start;index<length&&i<byteCount;++index){code=message.charCodeAt(index);if(code<128){blocks[i>>2]|=code<<SHIFT[i++&3]}else if(code<2048){blocks[i>>2]|=(192|code>>6)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}else if(code<55296||code>=57344){blocks[i>>2]|=(224|code>>12)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}else{code=65536+((code&1023)<<10|message.charCodeAt(++index)&1023);blocks[i>>2]|=(240|code>>18)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>12&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code>>6&63)<<SHIFT[i++&3];blocks[i>>2]|=(128|code&63)<<SHIFT[i++&3]}}}this.lastByteIndex=i;if(i>=byteCount){this.start=i-byteCount;this.block=blocks[blockCount];for(i=0;i<blockCount;++i){s[i]^=blocks[i]}f(s);this.reset=true}else{this.start=i}}return this};Keccak.prototype.finalize=function(){var blocks=this.blocks;var i=this.lastByteIndex,blockCount=this.blockCount,s=this.s;blocks[i>>2]|=this.padding[i&3];if(this.lastByteIndex===this.byteCount){blocks[0]=blocks[blockCount];for(i=1;i<blockCount+1;++i){blocks[i]=0}}blocks[blockCount-1]|=2147483648;for(i=0;i<blockCount;++i){s[i]^=blocks[i]}f(s)};Keccak.prototype.toString=Keccak.prototype.hex=function(){this.finalize();var blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks;var extraBytes=this.extraBytes,i=0,j=0;var hex="",block;while(j<outputBlocks){for(i=0;i<blockCount&&j<outputBlocks;++i,++j){block=s[i];hex+=HEX_CHARS[block>>4&15]+HEX_CHARS[block&15]+HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]+HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]+HEX_CHARS[block>>28&15]+HEX_CHARS[block>>24&15]}if(j%blockCount===0){f(s);i=0}}if(extraBytes){block=s[i];if(extraBytes>0){hex+=HEX_CHARS[block>>4&15]+HEX_CHARS[block&15]}if(extraBytes>1){hex+=HEX_CHARS[block>>12&15]+HEX_CHARS[block>>8&15]}if(extraBytes>2){hex+=HEX_CHARS[block>>20&15]+HEX_CHARS[block>>16&15]}}return hex};Keccak.prototype.arrayBuffer=function(){this.finalize();var blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks;var extraBytes=this.extraBytes,i=0,j=0;var bytes=this.outputBits>>3;var buffer;if(extraBytes){buffer=new ArrayBuffer(outputBlocks+1<<2)}else{buffer=new ArrayBuffer(bytes)}var array=new Uint32Array(buffer);while(j<outputBlocks){for(i=0;i<blockCount&&j<outputBlocks;++i,++j){array[j]=s[i]}if(j%blockCount===0){f(s)}}if(extraBytes){array[i]=s[i];buffer=buffer.slice(0,bytes)}return buffer};Keccak.prototype.buffer=Keccak.prototype.arrayBuffer;Keccak.prototype.digest=Keccak.prototype.array=function(){this.finalize();var blockCount=this.blockCount,s=this.s,outputBlocks=this.outputBlocks;var extraBytes=this.extraBytes,i=0,j=0;var array=[];var offset,block;while(j<outputBlocks){for(i=0;i<blockCount&&j<outputBlocks;++i,++j){offset=j<<2;block=s[i];array[offset]=block&255;array[offset+1]=block>>8&255;array[offset+2]=block>>16&255;array[offset+3]=block>>24&255}if(j%blockCount===0){f(s)}}if(extraBytes){offset=j<<2;block=s[i];if(extraBytes>0){array[offset]=block&255}if(extraBytes>1){array[offset+1]=block>>8&255}if(extraBytes>2){array[offset+2]=block>>16&255}}return array};var f=function(s){var h,l,n,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b10,b11,b12,b13,b14,b15,b16,b17,b18,b19,b20,b21,b22,b23,b24,b25,b26,b27,b28,b29,b30,b31,b32,b33,b34,b35,b36,b37,b38,b39,b40,b41,b42,b43,b44,b45,b46,b47,b48,b49;for(n=0;n<48;n+=2){c0=s[0]^s[10]^s[20]^s[30]^s[40];c1=s[1]^s[11]^s[21]^s[31]^s[41];c2=s[2]^s[12]^s[22]^s[32]^s[42];c3=s[3]^s[13]^s[23]^s[33]^s[43];c4=s[4]^s[14]^s[24]^s[34]^s[44];c5=s[5]^s[15]^s[25]^s[35]^s[45];c6=s[6]^s[16]^s[26]^s[36]^s[46];c7=s[7]^s[17]^s[27]^s[37]^s[47];c8=s[8]^s[18]^s[28]^s[38]^s[48];c9=s[9]^s[19]^s[29]^s[39]^s[49];h=c8^(c2<<1|c3>>>31);l=c9^(c3<<1|c2>>>31);s[0]^=h;s[1]^=l;s[10]^=h;s[11]^=l;s[20]^=h;s[21]^=l;s[30]^=h;s[31]^=l;s[40]^=h;s[41]^=l;h=c0^(c4<<1|c5>>>31);l=c1^(c5<<1|c4>>>31);s[2]^=h;s[3]^=l;s[12]^=h;s[13]^=l;s[22]^=h;s[23]^=l;s[32]^=h;s[33]^=l;s[42]^=h;s[43]^=l;h=c2^(c6<<1|c7>>>31);l=c3^(c7<<1|c6>>>31);s[4]^=h;s[5]^=l;s[14]^=h;s[15]^=l;s[24]^=h;s[25]^=l;s[34]^=h;s[35]^=l;s[44]^=h;s[45]^=l;h=c4^(c8<<1|c9>>>31);l=c5^(c9<<1|c8>>>31);s[6]^=h;s[7]^=l;s[16]^=h;s[17]^=l;s[26]^=h;s[27]^=l;s[36]^=h;s[37]^=l;s[46]^=h;s[47]^=l;h=c6^(c0<<1|c1>>>31);l=c7^(c1<<1|c0>>>31);s[8]^=h;s[9]^=l;s[18]^=h;s[19]^=l;s[28]^=h;s[29]^=l;s[38]^=h;s[39]^=l;s[48]^=h;s[49]^=l;b0=s[0];b1=s[1];b32=s[11]<<4|s[10]>>>28;b33=s[10]<<4|s[11]>>>28;b14=s[20]<<3|s[21]>>>29;b15=s[21]<<3|s[20]>>>29;b46=s[31]<<9|s[30]>>>23;b47=s[30]<<9|s[31]>>>23;b28=s[40]<<18|s[41]>>>14;b29=s[41]<<18|s[40]>>>14;b20=s[2]<<1|s[3]>>>31;b21=s[3]<<1|s[2]>>>31;b2=s[13]<<12|s[12]>>>20;b3=s[12]<<12|s[13]>>>20;b34=s[22]<<10|s[23]>>>22;b35=s[23]<<10|s[22]>>>22;b16=s[33]<<13|s[32]>>>19;b17=s[32]<<13|s[33]>>>19;b48=s[42]<<2|s[43]>>>30;b49=s[43]<<2|s[42]>>>30;b40=s[5]<<30|s[4]>>>2;b41=s[4]<<30|s[5]>>>2;b22=s[14]<<6|s[15]>>>26;b23=s[15]<<6|s[14]>>>26;b4=s[25]<<11|s[24]>>>21;b5=s[24]<<11|s[25]>>>21;b36=s[34]<<15|s[35]>>>17;b37=s[35]<<15|s[34]>>>17;b18=s[45]<<29|s[44]>>>3;b19=s[44]<<29|s[45]>>>3;b10=s[6]<<28|s[7]>>>4;b11=s[7]<<28|s[6]>>>4;b42=s[17]<<23|s[16]>>>9;b43=s[16]<<23|s[17]>>>9;b24=s[26]<<25|s[27]>>>7;b25=s[27]<<25|s[26]>>>7;b6=s[36]<<21|s[37]>>>11;b7=s[37]<<21|s[36]>>>11;b38=s[47]<<24|s[46]>>>8;b39=s[46]<<24|s[47]>>>8;b30=s[8]<<27|s[9]>>>5;b31=s[9]<<27|s[8]>>>5;b12=s[18]<<20|s[19]>>>12;b13=s[19]<<20|s[18]>>>12;b44=s[29]<<7|s[28]>>>25;b45=s[28]<<7|s[29]>>>25;b26=s[38]<<8|s[39]>>>24;b27=s[39]<<8|s[38]>>>24;b8=s[48]<<14|s[49]>>>18;b9=s[49]<<14|s[48]>>>18;s[0]=b0^~b2&b4;s[1]=b1^~b3&b5;s[10]=b10^~b12&b14;s[11]=b11^~b13&b15;s[20]=b20^~b22&b24;s[21]=b21^~b23&b25;s[30]=b30^~b32&b34;s[31]=b31^~b33&b35;s[40]=b40^~b42&b44;s[41]=b41^~b43&b45;s[2]=b2^~b4&b6;s[3]=b3^~b5&b7;s[12]=b12^~b14&b16;s[13]=b13^~b15&b17;s[22]=b22^~b24&b26;s[23]=b23^~b25&b27;s[32]=b32^~b34&b36;s[33]=b33^~b35&b37;s[42]=b42^~b44&b46;s[43]=b43^~b45&b47;s[4]=b4^~b6&b8;s[5]=b5^~b7&b9;s[14]=b14^~b16&b18;s[15]=b15^~b17&b19;s[24]=b24^~b26&b28;s[25]=b25^~b27&b29;s[34]=b34^~b36&b38;s[35]=b35^~b37&b39;s[44]=b44^~b46&b48;s[45]=b45^~b47&b49;s[6]=b6^~b8&b0;s[7]=b7^~b9&b1;s[16]=b16^~b18&b10;s[17]=b17^~b19&b11;s[26]=b26^~b28&b20;s[27]=b27^~b29&b21;s[36]=b36^~b38&b30;s[37]=b37^~b39&b31;s[46]=b46^~b48&b40;s[47]=b47^~b49&b41;s[8]=b8^~b0&b2;s[9]=b9^~b1&b3;s[18]=b18^~b10&b12;s[19]=b19^~b11&b13;s[28]=b28^~b20&b22;s[29]=b29^~b21&b23;s[38]=b38^~b30&b32;s[39]=b39^~b31&b33;s[48]=b48^~b40&b42;s[49]=b49^~b41&b43;s[0]^=RC[n];s[1]^=RC[n+1]}};exports.keccak256=methods.keccak_256},{}],13:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};Object.defineProperty(exports,"__esModule",{value:true});var __1=require("..");var concat_1=require("../utils/concat");var crypto_1=require("../utils/crypto");var ERRORS={NO_DATA:{code:"NO_DATA",message:"No data"},FIELD_ERROR:{code:"FIELD_ERROR",message:"Invalid field",field:null}};function generate(fields){var errors=[];if(!fields||!fields.length){errors.push(ERRORS.NO_DATA)}var storedFields=Object.create(null);var byteProviders=[];fields.forEach(function(field){if(field instanceof __1.ByteProcessor){storedFields[field.name]=field;byteProviders.push(function(data){try{return field.process(data[field.name])}catch(e){throw __assign({},ERRORS.FIELD_ERROR,{field:field.name,message:e.message})}})}else if(typeof field==="number"){byteProviders.push(Uint8Array.from([field]))}else{errors.push(__assign({},ERRORS.FIELD_ERROR,{field:field}))}});if(errors.length){throw errors}var SignatureGenerator=function(){function SignatureGenerator(hashMap){if(hashMap===void 0){hashMap={}}var _this=this;this._errors=[];this._rawData=Object.keys(storedFields).reduce(function(store,key){store[key]=hashMap[key];return store},{});this._dataHolders=byteProviders.map(function(provider){if(typeof provider==="function"){try{return provider(_this._rawData)}catch(e){_this._errors.push(e)}}else{return provider}});if(this._errors.length){throw this._errors}}SignatureGenerator.prototype.getSignature=function(privateKey){return this.getBytes().then(function(dataBytes){return crypto_1.default.buildTransactionSignature(dataBytes,privateKey)})};SignatureGenerator.prototype.getBytes=function(){return Promise.all(this._dataHolders).then(function(multipleDataBytes){if(multipleDataBytes.length===1){return multipleDataBytes[0]}else{return concat_1.concatUint8Arrays.apply(void 0,multipleDataBytes)}})};SignatureGenerator.prototype.getDebugBytes=function(){var _this=this;return Promise.all(fields.map(function(field,i){var value=field&&field.name?_this._rawData[field.name]:null;var result=_this._dataHolders[i];if(result instanceof Promise){return result.then(function(bytes){return{bytes:bytes,from:field&&field.name||field,value:value}})}else{return Promise.resolve({bytes:result,from:field,value:value})}}))};SignatureGenerator.prototype.getExactBytes=function(fieldName){if(!(fieldName in storedFields)){throw new Error("There is no field '"+fieldName+"' in 'RequestDataType class")}var byteProcessor=storedFields[fieldName];var userData=this._rawData[fieldName];return byteProcessor.process(userData)};return SignatureGenerator}();return SignatureGenerator}exports.generate=generate;exports.TX_NUMBER_MAP=Object.create(null);exports.TX_TYPE_MAP=Object.create(null);exports.CREATE_ORDER_SIGNATURE=generate([new __1.Base58("senderPublicKey"),new __1.Base58("matcherPublicKey"),new __1.AssetId("amountAsset"),new __1.AssetId("priceAsset"),new __1.OrderType("orderType"),new __1.Long("price"),new __1.Long("amount"),new __1.Long("timestamp"),new __1.Long("expiration"),new __1.Long("matcherFee")]);exports.AUTH_ORDER_SIGNATURE=generate([new __1.Base58("senderPublicKey"),new __1.Long("timestamp")]);exports.CANCEL_ORDER_SIGNATURE=generate([new __1.Base58("senderPublicKey"),new __1.Base58("orderId")]);var ISSUE=generate([3,2,new __1.Byte("chainId"),new __1.Base58("senderPublicKey"),new __1.StringWithLength("name"),new __1.StringWithLength("description"),new __1.Long("quantity"),new __1.Byte("precision"),new __1.Bool("reissuable"),new __1.Long("fee"),new __1.Long("timestamp"),0]);exports.TX_NUMBER_MAP[3]=ISSUE;exports.TX_TYPE_MAP["issue"]=ISSUE;var TRANSFER=generate([4,2,new __1.Base58("senderPublicKey"),new __1.AssetId("assetId"),new __1.AssetId("feeAssetId"),new __1.Long("timestamp"),new __1.Long("amount"),new __1.Long("fee"),new __1.Recipient("recipient"),new __1.Attachment("attachment")]);exports.TX_NUMBER_MAP[4]=TRANSFER;exports.TX_TYPE_MAP["transfer"]=TRANSFER;var REISSUE=generate([5,2,new __1.Byte("chainId"),new __1.Base58("senderPublicKey"),new __1.MandatoryAssetId("assetId"),new __1.Long("quantity"),new __1.Bool("reissuable"),new __1.Long("fee"),new __1.Long("timestamp")]);exports.TX_NUMBER_MAP[5]=REISSUE;exports.TX_TYPE_MAP["reissue"]=REISSUE;var BURN=generate([6,2,new __1.Byte("chainId"),new __1.Base58("senderPublicKey"),new __1.MandatoryAssetId("assetId"),new __1.Long("quantity"),new __1.Long("fee"),new __1.Long("timestamp")]);exports.TX_NUMBER_MAP[6]=BURN;exports.TX_TYPE_MAP["burn"]=BURN;var LEASE=generate([8,2,0,new __1.Base58("senderPublicKey"),new __1.Recipient("recipient"),new __1.Long("amount"),new __1.Long("fee"),new __1.Long("timestamp")]);exports.TX_NUMBER_MAP[8]=LEASE;exports.TX_TYPE_MAP["lease"]=LEASE;var CANCEL_LEASING=generate([9,2,new __1.Byte("chainId"),new __1.Base58("senderPublicKey"),new __1.Long("fee"),new __1.Long("timestamp"),new __1.Base58("transactionId")]);exports.TX_NUMBER_MAP[9]=CANCEL_LEASING;exports.TX_TYPE_MAP["cancelLeasing"]=CANCEL_LEASING;var CREATE_ALIAS=generate([10,2,new __1.Base58("senderPublicKey"),new __1.Alias("alias"),new __1.Long("fee"),new __1.Long("timestamp")]);exports.TX_NUMBER_MAP[10]=CREATE_ALIAS;exports.TX_TYPE_MAP["createAlias"]=CREATE_ALIAS;var MASS_TRANSFER=generate([11,1,new __1.Base58("senderPublicKey"),new __1.AssetId("assetId"),new __1.Transfers("transfers"),new __1.Long("timestamp"),new __1.Long("fee"),new __1.Attachment("attachment")]);exports.TX_NUMBER_MAP[11]=MASS_TRANSFER;exports.TX_TYPE_MAP["massTransfer"]=MASS_TRANSFER;var DATA=generate([12,1,new __1.Base58("senderPublicKey"),new __1.DataEntries("data"),new __1.Long("timestamp"),new __1.Long("fee")]);exports.TX_NUMBER_MAP[12]=DATA;exports.TX_TYPE_MAP["data"]=DATA;var SET_SCRIPT=generate([13,1,new __1.Byte("chainId"),new __1.Base58("senderPublicKey"),new __1.ScriptVersion("script"),new __1.Base64("script"),new __1.Long("fee"),new __1.Long("timestamp")]);exports.TX_NUMBER_MAP[13]=SET_SCRIPT;exports.TX_TYPE_MAP["setScript"]=SET_SCRIPT;var SPONSORSHIP=generate([14,1,new __1.Base58("senderPublicKey"),new __1.Base58("assetId"),new __1.Long("minSponsoredAssetFee"),new __1.Long("fee"),new __1.Long("timestamp")]);exports.TX_NUMBER_MAP[14]=SPONSORSHIP;exports.TX_TYPE_MAP["sponsorship"]=SPONSORSHIP},{"..":6,"../utils/concat":14,"../utils/crypto":16}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function concatUint8Arrays(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(args.length<2){throw new Error("Two or more Uint8Array are expected")}if(!args.every(function(arg){return arg instanceof Uint8Array})){throw new Error("One of arguments is not a Uint8Array")}var count=args.length;var sumLength=args.reduce(function(sum,arr){return sum+arr.length},0);var result=new Uint8Array(sumLength);var curLength=0;for(var i=0;i<count;i++){result.set(args[i],curLength);curLength+=args[i].length}return result}exports.concatUint8Arrays=concatUint8Arrays},{}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var converters_1=require("../libs/converters");var data_entities_1=require("@waves/data-entities");function performBitwiseAnd(a,b){var sa=a.toString(2).split(".")[0];var sb=b.toString(2).split(".")[0];var len=Math.min(sa.length,sb.length);var s1=sa.slice(sa.length-len);var s2=sb.slice(sb.length-len);var result=new Array(len);for(var i=len-1;i>=0;i--){result[i]=s1[i]==="1"&&s2[i]==="1"?"1":"0"}return parseInt(result.join(""),2)}exports.default={booleanToBytes:function(input){if(typeof input!=="boolean"){throw new Error("Boolean input is expected")}return input?[1]:[0]},shortToByteArray:function(input){if(typeof input!=="number"){throw new Error("Numeric input is expected")}return converters_1.default.int16ToBytes(input,true)},bytesToByteArrayWithSize:function(input){if(!(input instanceof Array||input instanceof Uint8Array)){throw new Error("Byte array or Uint8Array input is expected")}else if(input instanceof Array&&!input.every(function(n){return typeof n==="number"})){throw new Error("Byte array contains non-numeric elements")}if(!(input instanceof Array)){input=Array.prototype.slice.call(input)}var lengthBytes=converters_1.default.int16ToBytes(input.length,true);return lengthBytes.concat(input)},longToByteArray:function(input){if(typeof input!=="number"){throw new Error("Numeric input is expected")}var bytes=new Array(7);for(var k=7;k>=0;k--){bytes[k]=input&255;input=input/256}return bytes},bigNumberToByteArray:function(input){if(!(input instanceof data_entities_1.BigNumber)){throw new Error("BigNumber input is expected")}var performBitwiseAnd255=performBitwiseAnd.bind(null,new data_entities_1.BigNumber(255));var bytes=new Array(7);for(var k=7;k>=0;k--){bytes[k]=performBitwiseAnd255(input);input=input.div(256)}return bytes},stringToByteArray:function(input){if(typeof input==="number"){input=String(input)}if(typeof input!=="string"){throw new Error("String input is expected")}return converters_1.default.stringToByteArray(input)},stringToByteArrayWithSize:function(input){if(typeof input==="number"){input=String(input)}if(typeof input!=="string"){throw new Error("String input is expected")}var stringBytes=converters_1.default.stringToByteArray(input);var lengthBytes=converters_1.default.int16ToBytes(stringBytes.length,true);return lengthBytes.concat(stringBytes)}}},{"../libs/converters":10,"@waves/data-entities":undefined}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var CryptoJS=require("crypto-js");var axlsign_1=require("../libs/axlsign");var base58_1=require("../libs/base58");var blake=require("../libs/blake2b");var converters_1=require("../libs/converters");var secure_random_1=require("../libs/secure-random");var sha3_1=require("../libs/sha3");var concat_1=require("./concat");var __1=require("../");var constants_1=require("../constants");function sha256(input){var bytes;if(typeof input==="string"){bytes=converters_1.default.stringToByteArray(input)}else{bytes=input}var wordArray=converters_1.default.byteArrayToWordArrayEx(Uint8Array.from(bytes));var resultWordArray=CryptoJS.SHA256(wordArray);return converters_1.default.wordArrayToByteArrayEx(resultWordArray)}function blake2b(input){return blake.blake2b(input,null,32)}function keccak(input){return sha3_1.keccak256.array(input)}function hashChain(input){return keccak(blake2b(input))}function buildSeedHash(seedBytes){var nonce=new Uint8Array(converters_1.default.int32ToBytes(constants_1.INITIAL_NONCE,true));var seedBytesWithNonce=concat_1.concatUint8Arrays(nonce,seedBytes);var seedHash=hashChain(seedBytesWithNonce);return sha256(seedHash)}function strengthenPassword(password,rounds){if(rounds===void 0){rounds=5e3}while(rounds--)password=converters_1.default.byteArrayToHexString(sha256(password));return password}exports.default={buildTransactionSignature:function(dataBytes,privateKey){if(!dataBytes||!(dataBytes instanceof Uint8Array)){throw new Error("Missing or invalid data")}if(!privateKey||typeof privateKey!=="string"){throw new Error("Missing or invalid private key")}var privateKeyBytes=base58_1.default.decode(privateKey);if(privateKeyBytes.length!==constants_1.PRIVATE_KEY_LENGTH){throw new Error("Invalid public key")}var signature=axlsign_1.default.sign(privateKeyBytes,dataBytes,secure_random_1.default.randomUint8Array(64));return base58_1.default.encode(signature)},isValidSignature:function(dataBytes,signature,publicKey){if(!dataBytes||!(dataBytes instanceof Uint8Array)){throw new Error("Missing or invalid data")}if(!signature||typeof signature!=="string"){throw new Error("Missing or invalid signature")}if(!publicKey||typeof publicKey!=="string"){throw new Error("Missing or invalid public key")}var signatureBytes=base58_1.default.decode(signature);var publicKeyBytes=base58_1.default.decode(publicKey);if(publicKeyBytes.length!==constants_1.PUBLIC_KEY_LENGTH){throw new Error("Invalid public key")}return axlsign_1.default.verify(publicKeyBytes,dataBytes,signatureBytes)},buildTransactionId:function(dataBytes){if(!dataBytes||!(dataBytes instanceof Uint8Array)){throw new Error("Missing or invalid data")}var hash=blake2b(dataBytes);return base58_1.default.encode(hash)},buildKeyPair:function(seed){if(!seed||typeof seed!=="string"){throw new Error("Missing or invalid seed phrase")}var seedBytes=Uint8Array.from(converters_1.default.stringToByteArray(seed));var seedHash=buildSeedHash(seedBytes);var keys=axlsign_1.default.generateKeyPair(seedHash);return{privateKey:keys.private,publicKey:keys.public}},isValidAddress:function(address){if(!address||typeof address!=="string"){throw new Error("Missing or invalid address")}var addressBytes=base58_1.default.decode(address);if(addressBytes[0]!==1||addressBytes[1]!==__1.config.getNetworkByte()){return false}var key=addressBytes.slice(0,22);var check=addressBytes.slice(22,26);var keyHash=hashChain(key).slice(0,4);for(var i=0;i<4;i++){if(check[i]!==keyHash[i]){return false}}return true},buildRawAddress:function(publicKeyBytes){if(!publicKeyBytes||publicKeyBytes.length!==constants_1.PUBLIC_KEY_LENGTH||!(publicKeyBytes instanceof Uint8Array)){throw new Error("Missing or invalid public key")}var prefix=Uint8Array.from([constants_1.ADDRESS_VERSION,__1.config.getNetworkByte()]);var publicKeyHashPart=Uint8Array.from(hashChain(publicKeyBytes).slice(0,20));var rawAddress=concat_1.concatUint8Arrays(prefix,publicKeyHashPart);var addressHash=Uint8Array.from(hashChain(rawAddress).slice(0,4));return base58_1.default.encode(concat_1.concatUint8Arrays(rawAddress,addressHash))},encryptSeed:function(seed,password,encryptionRounds){if(!seed||typeof seed!=="string"){throw new Error("Seed is required")}if(!password||typeof password!=="string"){throw new Error("Password is required")}password=strengthenPassword(password,encryptionRounds);return CryptoJS.AES.encrypt(seed,password).toString()},decryptSeed:function(encryptedSeed,password,encryptionRounds){if(!encryptedSeed||typeof encryptedSeed!=="string"){throw new Error("Encrypted seed is required")}if(!password||typeof password!=="string"){throw new Error("Password is required")}password=strengthenPassword(password,encryptionRounds);var hexSeed=CryptoJS.AES.decrypt(encryptedSeed,password);return converters_1.default.hexStringToString(hexSeed.toString())},generateRandomUint32Array:function(length){if(!length||length<0){throw new Error("Missing or invalid array length")}var a=secure_random_1.default.randomUint8Array(length);var b=secure_random_1.default.randomUint8Array(length);var result=new Uint32Array(length);for(var i=0;i<length;i++){var hash=converters_1.default.byteArrayToHexString(sha256(""+a[i]+b[i]));var randomValue=parseInt(hash.slice(0,13),16);result.set([randomValue],i)}return result}}},{"../":6,"../constants":4,"../libs/axlsign":7,"../libs/base58":8,"../libs/blake2b":9,"../libs/converters":10,"../libs/secure-random":11,"../libs/sha3":12,"./concat":14,"crypto-js":26}],17:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;for(var i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],18:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./enc-base64"),require("./md5"),require("./evpkdf"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;var SBOX=[];var INV_SBOX=[];var SUB_MIX_0=[];var SUB_MIX_1=[];var SUB_MIX_2=[];var SUB_MIX_3=[];var INV_SUB_MIX_0=[];var INV_SUB_MIX_1=[];var INV_SUB_MIX_2=[];var INV_SUB_MIX_3=[];(function(){var d=[];for(var i=0;i<256;i++){if(i<128){d[i]=i<<1}else{d[i]=i<<1^283}}var x=0;var xi=0;for(var i=0;i<256;i++){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^sx&255^99;SBOX[x]=sx;INV_SBOX[sx]=x;var x2=d[x];var x4=d[x2];var x8=d[x4];var t=d[sx]*257^sx*16843008;SUB_MIX_0[x]=t<<24|t>>>8;SUB_MIX_1[x]=t<<16|t>>>16;SUB_MIX_2[x]=t<<8|t>>>24;SUB_MIX_3[x]=t;var t=x8*16843009^x4*65537^x2*257^x*16843008;INV_SUB_MIX_0[sx]=t<<24|t>>>8;INV_SUB_MIX_1[sx]=t<<16|t>>>16;INV_SUB_MIX_2[sx]=t<<8|t>>>24;INV_SUB_MIX_3[sx]=t;if(!x){x=xi=1}else{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]]}}})();var RCON=[0,1,2,4,8,16,32,64,128,27,54];var AES=C_algo.AES=BlockCipher.extend({_doReset:function(){if(this._nRounds&&this._keyPriorReset===this._key){return}var key=this._keyPriorReset=this._key;var keyWords=key.words;var keySize=key.sigBytes/4;var nRounds=this._nRounds=keySize+6;var ksRows=(nRounds+1)*4;var keySchedule=this._keySchedule=[];for(var ksRow=0;ksRow<ksRows;ksRow++){if(ksRow<keySize){keySchedule[ksRow]=keyWords[ksRow]}else{var t=keySchedule[ksRow-1];if(!(ksRow%keySize)){t=t<<8|t>>>24;t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[t&255];t^=RCON[ksRow/keySize|0]<<24}else if(keySize>6&&ksRow%keySize==4){t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[t&255]}keySchedule[ksRow]=keySchedule[ksRow-keySize]^t}}var invKeySchedule=this._invKeySchedule=[];for(var invKsRow=0;invKsRow<ksRows;invKsRow++){var ksRow=ksRows-invKsRow;if(invKsRow%4){var t=keySchedule[ksRow]}else{var t=keySchedule[ksRow-4]}if(invKsRow<4||ksRow<=4){invKeySchedule[invKsRow]=t}else{invKeySchedule[invKsRow]=INV_SUB_MIX_0[SBOX[t>>>24]]^INV_SUB_MIX_1[SBOX[t>>>16&255]]^INV_SUB_MIX_2[SBOX[t>>>8&255]]^INV_SUB_MIX_3[SBOX[t&255]]}}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX)},decryptBlock:function(M,offset){var t=M[offset+1];M[offset+1]=M[offset+3];M[offset+3]=t;this._doCryptBlock(M,offset,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX);var t=M[offset+1];M[offset+1]=M[offset+3];M[offset+3]=t},_doCryptBlock:function(M,offset,keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX){var nRounds=this._nRounds;var s0=M[offset]^keySchedule[0];var s1=M[offset+1]^keySchedule[1];var s2=M[offset+2]^keySchedule[2];var s3=M[offset+3]^keySchedule[3];var ksRow=4;for(var round=1;round<nRounds;round++){var t0=SUB_MIX_0[s0>>>24]^SUB_MIX_1[s1>>>16&255]^SUB_MIX_2[s2>>>8&255]^SUB_MIX_3[s3&255]^keySchedule[ksRow++];var t1=SUB_MIX_0[s1>>>24]^SUB_MIX_1[s2>>>16&255]^SUB_MIX_2[s3>>>8&255]^SUB_MIX_3[s0&255]^keySchedule[ksRow++];var t2=SUB_MIX_0[s2>>>24]^SUB_MIX_1[s3>>>16&255]^SUB_MIX_2[s0>>>8&255]^SUB_MIX_3[s1&255]^keySchedule[ksRow++];var t3=SUB_MIX_0[s3>>>24]^SUB_MIX_1[s0>>>16&255]^SUB_MIX_2[s1>>>8&255]^SUB_MIX_3[s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2;s3=t3}var t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[s3&255])^keySchedule[ksRow++];var t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[s0&255])^keySchedule[ksRow++];var t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[s1&255])^keySchedule[ksRow++];var t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[s2&255])^keySchedule[ksRow++];M[offset]=t0;M[offset+1]=t1;M[offset+2]=t2;M[offset+3]=t3},keySize:256/32});C.AES=BlockCipher._createHelper(AES)})();return CryptoJS.AES})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],19:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./evpkdf"))}else if(typeof define==="function"&&define.amd){define(["./core","./evpkdf"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.lib.Cipher||function(undefined){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var WordArray=C_lib.WordArray;var BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm;var C_enc=C.enc;var Utf8=C_enc.Utf8;var Base64=C_enc.Base64;var C_algo=C.algo;var EvpKDF=C_algo.EvpKDF;var Cipher=C_lib.Cipher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),createEncryptor:function(key,cfg){return this.create(this._ENC_XFORM_MODE,key,cfg)},createDecryptor:function(key,cfg){return this.create(this._DEC_XFORM_MODE,key,cfg)},init:function(xformMode,key,cfg){this.cfg=this.cfg.extend(cfg);this._xformMode=xformMode;this._key=key;this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this);this._doReset()},process:function(dataUpdate){this._append(dataUpdate);return this._process()},finalize:function(dataUpdate){if(dataUpdate){this._append(dataUpdate)}var finalProcessedData=this._doFinalize();return finalProcessedData},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(key){if(typeof key=="string"){return PasswordBasedCipher}else{return SerializableCipher}}return function(cipher){return{encrypt:function(message,key,cfg){return selectCipherStrategy(key).encrypt(cipher,message,key,cfg)},decrypt:function(ciphertext,key,cfg){return selectCipherStrategy(key).decrypt(cipher,ciphertext,key,cfg)}}}}()});var StreamCipher=C_lib.StreamCipher=Cipher.extend({_doFinalize:function(){var finalProcessedBlocks=this._process(!!"flush");return finalProcessedBlocks},blockSize:1});var C_mode=C.mode={};var BlockCipherMode=C_lib.BlockCipherMode=Base.extend({createEncryptor:function(cipher,iv){return this.Encryptor.create(cipher,iv)},createDecryptor:function(cipher,iv){return this.Decryptor.create(cipher,iv)},init:function(cipher,iv){this._cipher=cipher;this._iv=iv}});var CBC=C_mode.CBC=function(){var CBC=BlockCipherMode.extend();CBC.Encryptor=CBC.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;xorBlock.call(this,words,offset,blockSize);cipher.encryptBlock(words,offset);this._prevBlock=words.slice(offset,offset+blockSize)}});CBC.Decryptor=CBC.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var thisBlock=words.slice(offset,offset+blockSize);cipher.decryptBlock(words,offset);xorBlock.call(this,words,offset,blockSize);this._prevBlock=thisBlock}});function xorBlock(words,offset,blockSize){var iv=this._iv;if(iv){var block=iv;this._iv=undefined}else{var block=this._prevBlock}for(var i=0;i<blockSize;i++){words[offset+i]^=block[i]}}return CBC}();var C_pad=C.pad={};var Pkcs7=C_pad.Pkcs7={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;var paddingWord=nPaddingBytes<<24|nPaddingBytes<<16|nPaddingBytes<<8|nPaddingBytes;var paddingWords=[];for(var i=0;i<nPaddingBytes;i+=4){paddingWords.push(paddingWord)}var padding=WordArray.create(paddingWords,nPaddingBytes);data.concat(padding)},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};var BlockCipher=C_lib.BlockCipher=Cipher.extend({cfg:Cipher.cfg.extend({mode:CBC,padding:Pkcs7}),reset:function(){Cipher.reset.call(this);var cfg=this.cfg;var iv=cfg.iv;var mode=cfg.mode;if(this._xformMode==this._ENC_XFORM_MODE){var modeCreator=mode.createEncryptor}else{var modeCreator=mode.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==modeCreator){this._mode.init(this,iv&&iv.words)}else{this._mode=modeCreator.call(mode,this,iv&&iv.words);this._mode.__creator=modeCreator}},_doProcessBlock:function(words,offset){this._mode.processBlock(words,offset)},_doFinalize:function(){var padding=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){padding.pad(this._data,this.blockSize);var finalProcessedBlocks=this._process(!!"flush")}else{var finalProcessedBlocks=this._process(!!"flush");padding.unpad(finalProcessedBlocks)}return finalProcessedBlocks},blockSize:128/32});var CipherParams=C_lib.CipherParams=Base.extend({init:function(cipherParams){this.mixIn(cipherParams)},toString:function(formatter){return(formatter||this.formatter).stringify(this)}});var C_format=C.format={};var OpenSSLFormatter=C_format.OpenSSL={stringify:function(cipherParams){var ciphertext=cipherParams.ciphertext;var salt=cipherParams.salt;if(salt){var wordArray=WordArray.create([1398893684,1701076831]).concat(salt).concat(ciphertext)}else{var wordArray=ciphertext}return wordArray.toString(Base64)},parse:function(openSSLStr){var ciphertext=Base64.parse(openSSLStr);var ciphertextWords=ciphertext.words;if(ciphertextWords[0]==1398893684&&ciphertextWords[1]==1701076831){var salt=WordArray.create(ciphertextWords.slice(2,4));ciphertextWords.splice(0,4);ciphertext.sigBytes-=16}return CipherParams.create({ciphertext:ciphertext,salt:salt})}};var SerializableCipher=C_lib.SerializableCipher=Base.extend({cfg:Base.extend({format:OpenSSLFormatter}),encrypt:function(cipher,message,key,cfg){cfg=this.cfg.extend(cfg);var encryptor=cipher.createEncryptor(key,cfg);var ciphertext=encryptor.finalize(message);var cipherCfg=encryptor.cfg;return CipherParams.create({ciphertext:ciphertext,key:key,iv:cipherCfg.iv,algorithm:cipher,mode:cipherCfg.mode,padding:cipherCfg.padding,blockSize:cipher.blockSize,formatter:cfg.format})},decrypt:function(cipher,ciphertext,key,cfg){cfg=this.cfg.extend(cfg);ciphertext=this._parse(ciphertext,cfg.format);var plaintext=cipher.createDecryptor(key,cfg).finalize(ciphertext.ciphertext);return plaintext},_parse:function(ciphertext,format){if(typeof ciphertext=="string"){return format.parse(ciphertext,this)}else{return ciphertext}}});var C_kdf=C.kdf={};var OpenSSLKdf=C_kdf.OpenSSL={execute:function(password,keySize,ivSize,salt){if(!salt){salt=WordArray.random(64/8)}var key=EvpKDF.create({keySize:keySize+ivSize}).compute(password,salt);var iv=WordArray.create(key.words.slice(keySize),ivSize*4);key.sigBytes=keySize*4;return CipherParams.create({key:key,iv:iv,salt:salt})}};var PasswordBasedCipher=C_lib.PasswordBasedCipher=SerializableCipher.extend({cfg:SerializableCipher.cfg.extend({kdf:OpenSSLKdf}),encrypt:function(cipher,message,password,cfg){cfg=this.cfg.extend(cfg);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize);cfg.iv=derivedParams.iv;var ciphertext=SerializableCipher.encrypt.call(this,cipher,message,derivedParams.key,cfg);ciphertext.mixIn(derivedParams);return ciphertext},decrypt:function(cipher,ciphertext,password,cfg){cfg=this.cfg.extend(cfg);ciphertext=this._parse(ciphertext,cfg.format);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize,ciphertext.salt);cfg.iv=derivedParams.iv;var plaintext=SerializableCipher.decrypt.call(this,cipher,ciphertext,derivedParams.key,cfg);return plaintext}})}()})},{"./core":20,"./evpkdf":23}],20:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory()}else if(typeof define==="function"&&define.amd){define([],factory)}else{root.CryptoJS=factory()}})(this,function(){var CryptoJS=CryptoJS||function(Math,undefined){var create=Object.create||function(){function F(){}return function(obj){var subtype;F.prototype=obj;subtype=new F;F.prototype=null;return subtype}}();var C={};var C_lib=C.lib={};var Base=C_lib.Base=function(){return{extend:function(overrides){var subtype=create(this);if(overrides){subtype.mixIn(overrides)}if(!subtype.hasOwnProperty("init")||this.init===subtype.init){subtype.init=function(){subtype.$super.init.apply(this,arguments)}}subtype.init.prototype=subtype;subtype.$super=this;return subtype},create:function(){var instance=this.extend();instance.init.apply(instance,arguments);return instance},init:function(){},mixIn:function(properties){for(var propertyName in properties){if(properties.hasOwnProperty(propertyName)){this[propertyName]=properties[propertyName]}}if(properties.hasOwnProperty("toString")){this.toString=properties.toString}},clone:function(){return this.init.prototype.extend(this)}}}();var WordArray=C_lib.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[];if(sigBytes!=undefined){this.sigBytes=sigBytes}else{this.sigBytes=words.length*4}},toString:function(encoder){return(encoder||Hex).stringify(this)},concat:function(wordArray){var thisWords=this.words;var thatWords=wordArray.words;var thisSigBytes=this.sigBytes;var thatSigBytes=wordArray.sigBytes;this.clamp();if(thisSigBytes%4){for(var i=0;i<thatSigBytes;i++){var thatByte=thatWords[i>>>2]>>>24-i%4*8&255;thisWords[thisSigBytes+i>>>2]|=thatByte<<24-(thisSigBytes+i)%4*8}}else{for(var i=0;i<thatSigBytes;i+=4){thisWords[thisSigBytes+i>>>2]=thatWords[i>>>2]}}this.sigBytes+=thatSigBytes;return this},clamp:function(){var words=this.words;var sigBytes=this.sigBytes;words[sigBytes>>>2]&=4294967295<<32-sigBytes%4*8;words.length=Math.ceil(sigBytes/4)},clone:function(){var clone=Base.clone.call(this);clone.words=this.words.slice(0);return clone},random:function(nBytes){var words=[];var r=function(m_w){var m_w=m_w;var m_z=987654321;var mask=4294967295;return function(){m_z=36969*(m_z&65535)+(m_z>>16)&mask;m_w=18e3*(m_w&65535)+(m_w>>16)&mask;var result=(m_z<<16)+m_w&mask;result/=4294967296;result+=.5;return result*(Math.random()>.5?1:-1)}};for(var i=0,rcache;i<nBytes;i+=4){var _r=r((rcache||Math.random())*4294967296);rcache=_r()*987654071;words.push(_r()*4294967296|0)}return new WordArray.init(words,nBytes)}});var C_enc=C.enc={};var Hex=C_enc.Hex={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var hexChars=[];for(var i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;hexChars.push((bite>>>4).toString(16));hexChars.push((bite&15).toString(16))}return hexChars.join("")},parse:function(hexStr){var hexStrLength=hexStr.length;var words=[];for(var i=0;i<hexStrLength;i+=2){words[i>>>3]|=parseInt(hexStr.substr(i,2),16)<<24-i%8*4}return new WordArray.init(words,hexStrLength/2)}};var Latin1=C_enc.Latin1={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var latin1Chars=[];for(var i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;latin1Chars.push(String.fromCharCode(bite))}return latin1Chars.join("")},parse:function(latin1Str){var latin1StrLength=latin1Str.length;var words=[];for(var i=0;i<latin1StrLength;i++){words[i>>>2]|=(latin1Str.charCodeAt(i)&255)<<24-i%4*8}return new WordArray.init(words,latin1StrLength)}};var Utf8=C_enc.Utf8={stringify:function(wordArray){try{return decodeURIComponent(escape(Latin1.stringify(wordArray)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(utf8Str){return Latin1.parse(unescape(encodeURIComponent(utf8Str)))}};var BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm=Base.extend({reset:function(){this._data=new WordArray.init;this._nDataBytes=0},_append:function(data){if(typeof data=="string"){data=Utf8.parse(data)}this._data.concat(data);this._nDataBytes+=data.sigBytes},_process:function(doFlush){var data=this._data;var dataWords=data.words;var dataSigBytes=data.sigBytes;var blockSize=this.blockSize;var blockSizeBytes=blockSize*4;var nBlocksReady=dataSigBytes/blockSizeBytes;if(doFlush){nBlocksReady=Math.ceil(nBlocksReady)}else{nBlocksReady=Math.max((nBlocksReady|0)-this._minBufferSize,0)}var nWordsReady=nBlocksReady*blockSize;var nBytesReady=Math.min(nWordsReady*4,dataSigBytes);if(nWordsReady){for(var offset=0;offset<nWordsReady;offset+=blockSize){this._doProcessBlock(dataWords,offset)}var processedWords=dataWords.splice(0,nWordsReady);data.sigBytes-=nBytesReady}return new WordArray.init(processedWords,nBytesReady)},clone:function(){var clone=Base.clone.call(this);clone._data=this._data.clone();return clone},_minBufferSize:0});var Hasher=C_lib.Hasher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),init:function(cfg){this.cfg=this.cfg.extend(cfg);this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this);this._doReset()},update:function(messageUpdate){this._append(messageUpdate);this._process();return this},finalize:function(messageUpdate){if(messageUpdate){this._append(messageUpdate)}var hash=this._doFinalize();return hash},blockSize:512/32,_createHelper:function(hasher){return function(message,cfg){return new hasher.init(cfg).finalize(message)}},_createHmacHelper:function(hasher){return function(message,key){return new C_algo.HMAC.init(hasher,key).finalize(message)}}});var C_algo=C.algo={};return C}(Math);return CryptoJS})},{}],21:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var C_enc=C.enc;var Base64=C_enc.Base64={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var map=this._map;wordArray.clamp();var base64Chars=[];for(var i=0;i<sigBytes;i+=3){var byte1=words[i>>>2]>>>24-i%4*8&255;var byte2=words[i+1>>>2]>>>24-(i+1)%4*8&255;var byte3=words[i+2>>>2]>>>24-(i+2)%4*8&255;var triplet=byte1<<16|byte2<<8|byte3;for(var j=0;j<4&&i+j*.75<sigBytes;j++){base64Chars.push(map.charAt(triplet>>>6*(3-j)&63))}}var paddingChar=map.charAt(64);if(paddingChar){while(base64Chars.length%4){base64Chars.push(paddingChar)}}return base64Chars.join("")},parse:function(base64Str){var base64StrLength=base64Str.length;var map=this._map;var reverseMap=this._reverseMap;if(!reverseMap){reverseMap=this._reverseMap=[];for(var j=0;j<map.length;j++){reverseMap[map.charCodeAt(j)]=j}}var paddingChar=map.charAt(64);if(paddingChar){var paddingIndex=base64Str.indexOf(paddingChar);if(paddingIndex!==-1){base64StrLength=paddingIndex}}return parseLoop(base64Str,base64StrLength,reverseMap)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function parseLoop(base64Str,base64StrLength,reverseMap){var words=[];var nBytes=0;for(var i=0;i<base64StrLength;i++){if(i%4){var bits1=reverseMap[base64Str.charCodeAt(i-1)]<<i%4*2;var bits2=reverseMap[base64Str.charCodeAt(i)]>>>6-i%4*2;words[nBytes>>>2]|=(bits1|bits2)<<24-nBytes%4*8;nBytes++}}return WordArray.create(words,nBytes)}})();return CryptoJS.enc.Base64})},{"./core":20}],22:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var C_enc=C.enc;var Utf16BE=C_enc.Utf16=C_enc.Utf16BE={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var utf16Chars=[];for(var i=0;i<sigBytes;i+=2){var codePoint=words[i>>>2]>>>16-i%4*8&65535;utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){var utf16StrLength=utf16Str.length;var words=[];for(var i=0;i<utf16StrLength;i++){words[i>>>1]|=utf16Str.charCodeAt(i)<<16-i%2*16}return WordArray.create(words,utf16StrLength*2)}};C_enc.Utf16LE={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var utf16Chars=[];for(var i=0;i<sigBytes;i+=2){var codePoint=swapEndian(words[i>>>2]>>>16-i%4*8&65535);utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){var utf16StrLength=utf16Str.length;var words=[];for(var i=0;i<utf16StrLength;i++){words[i>>>1]|=swapEndian(utf16Str.charCodeAt(i)<<16-i%2*16)}return WordArray.create(words,utf16StrLength*2)}};function swapEndian(word){return word<<8&4278255360|word>>>8&16711935}})();return CryptoJS.enc.Utf16})},{"./core":20}],23:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./sha1"),require("./hmac"))}else if(typeof define==="function"&&define.amd){define(["./core","./sha1","./hmac"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var WordArray=C_lib.WordArray;var C_algo=C.algo;var MD5=C_algo.MD5;var EvpKDF=C_algo.EvpKDF=Base.extend({cfg:Base.extend({keySize:128/32,hasher:MD5,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){var cfg=this.cfg;var hasher=cfg.hasher.create();var derivedKey=WordArray.create();var derivedKeyWords=derivedKey.words;var keySize=cfg.keySize;var iterations=cfg.iterations;while(derivedKeyWords.length<keySize){if(block){hasher.update(block)}var block=hasher.update(password).finalize(salt);hasher.reset();for(var i=1;i<iterations;i++){block=hasher.finalize(block);hasher.reset()}derivedKey.concat(block)}derivedKey.sigBytes=keySize*4;return derivedKey}});C.EvpKDF=function(password,salt,cfg){return EvpKDF.create(cfg).compute(password,salt)}})();return CryptoJS.EvpKDF})},{"./core":20,"./hmac":25,"./sha1":44}],24:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(undefined){var C=CryptoJS;var C_lib=C.lib;var CipherParams=C_lib.CipherParams;var C_enc=C.enc;var Hex=C_enc.Hex;var C_format=C.format;var HexFormatter=C_format.Hex={stringify:function(cipherParams){return cipherParams.ciphertext.toString(Hex)},parse:function(input){var ciphertext=Hex.parse(input);return CipherParams.create({ciphertext:ciphertext})}}})();return CryptoJS.format.Hex})},{"./cipher-core":19,"./core":20}],25:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var C_enc=C.enc;var Utf8=C_enc.Utf8;var C_algo=C.algo;var HMAC=C_algo.HMAC=Base.extend({init:function(hasher,key){hasher=this._hasher=new hasher.init;if(typeof key=="string"){key=Utf8.parse(key)}var hasherBlockSize=hasher.blockSize;var hasherBlockSizeBytes=hasherBlockSize*4;if(key.sigBytes>hasherBlockSizeBytes){key=hasher.finalize(key)}key.clamp();var oKey=this._oKey=key.clone();var iKey=this._iKey=key.clone();var oKeyWords=oKey.words;var iKeyWords=iKey.words;for(var i=0;i<hasherBlockSize;i++){oKeyWords[i]^=1549556828;iKeyWords[i]^=909522486}oKey.sigBytes=iKey.sigBytes=hasherBlockSizeBytes;this.reset()},reset:function(){var hasher=this._hasher;hasher.reset();hasher.update(this._iKey)},update:function(messageUpdate){this._hasher.update(messageUpdate);return this},finalize:function(messageUpdate){var hasher=this._hasher;var innerHash=hasher.finalize(messageUpdate);hasher.reset();var hmac=hasher.finalize(this._oKey.clone().concat(innerHash));return hmac}})})()})},{"./core":20}],26:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./x64-core"),require("./lib-typedarrays"),require("./enc-utf16"),require("./enc-base64"),require("./md5"),require("./sha1"),require("./sha256"),require("./sha224"),require("./sha512"),require("./sha384"),require("./sha3"),require("./ripemd160"),require("./hmac"),require("./pbkdf2"),require("./evpkdf"),require("./cipher-core"),require("./mode-cfb"),require("./mode-ctr"),require("./mode-ctr-gladman"),require("./mode-ofb"),require("./mode-ecb"),require("./pad-ansix923"),require("./pad-iso10126"),require("./pad-iso97971"),require("./pad-zeropadding"),require("./pad-nopadding"),require("./format-hex"),require("./aes"),require("./tripledes"),require("./rc4"),require("./rabbit"),require("./rabbit-legacy"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],factory)}else{root.CryptoJS=factory(root.CryptoJS)}})(this,function(CryptoJS){return CryptoJS})},{"./aes":18,"./cipher-core":19,"./core":20,"./enc-base64":21,"./enc-utf16":22,"./evpkdf":23,"./format-hex":24,"./hmac":25,"./lib-typedarrays":27,"./md5":28,"./mode-cfb":29,"./mode-ctr":31,"./mode-ctr-gladman":30,"./mode-ecb":32,"./mode-ofb":33,"./pad-ansix923":34,"./pad-iso10126":35,"./pad-iso97971":36,"./pad-nopadding":37,"./pad-zeropadding":38,"./pbkdf2":39,"./rabbit":41,"./rabbit-legacy":40,"./rc4":42,"./ripemd160":43,"./sha1":44,"./sha224":45,"./sha256":46,"./sha3":47,"./sha384":48,"./sha512":49,"./tripledes":50,"./x64-core":51}],27:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){if(typeof ArrayBuffer!="function"){return}var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var superInit=WordArray.init;var subInit=WordArray.init=function(typedArray){if(typedArray instanceof ArrayBuffer){typedArray=new Uint8Array(typedArray)}if(typedArray instanceof Int8Array||typeof Uint8ClampedArray!=="undefined"&&typedArray instanceof Uint8ClampedArray||typedArray instanceof Int16Array||typedArray instanceof Uint16Array||typedArray instanceof Int32Array||typedArray instanceof Uint32Array||typedArray instanceof Float32Array||typedArray instanceof Float64Array){typedArray=new Uint8Array(typedArray.buffer,typedArray.byteOffset,typedArray.byteLength)}if(typedArray instanceof Uint8Array){var typedArrayByteLength=typedArray.byteLength;var words=[];for(var i=0;i<typedArrayByteLength;i++){words[i>>>2]|=typedArray[i]<<24-i%4*8}superInit.call(this,words,typedArrayByteLength)}else{superInit.apply(this,arguments)}};subInit.prototype=WordArray})();return CryptoJS.lib.WordArray})},{"./core":20}],28:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var T=[];(function(){for(var i=0;i<64;i++){T[i]=Math.abs(Math.sin(i+1))*4294967296|0}})();var MD5=C_algo.MD5=Hasher.extend({_doReset:function(){this._hash=new WordArray.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var H=this._hash.words;var M_offset_0=M[offset+0];var M_offset_1=M[offset+1];var M_offset_2=M[offset+2];var M_offset_3=M[offset+3];var M_offset_4=M[offset+4];var M_offset_5=M[offset+5];var M_offset_6=M[offset+6];var M_offset_7=M[offset+7];var M_offset_8=M[offset+8];var M_offset_9=M[offset+9];var M_offset_10=M[offset+10];var M_offset_11=M[offset+11];var M_offset_12=M[offset+12];var M_offset_13=M[offset+13];var M_offset_14=M[offset+14];var M_offset_15=M[offset+15];var a=H[0];var b=H[1];var c=H[2];var d=H[3];a=FF(a,b,c,d,M_offset_0,7,T[0]);d=FF(d,a,b,c,M_offset_1,12,T[1]);c=FF(c,d,a,b,M_offset_2,17,T[2]);b=FF(b,c,d,a,M_offset_3,22,T[3]);a=FF(a,b,c,d,M_offset_4,7,T[4]);d=FF(d,a,b,c,M_offset_5,12,T[5]);c=FF(c,d,a,b,M_offset_6,17,T[6]);b=FF(b,c,d,a,M_offset_7,22,T[7]);a=FF(a,b,c,d,M_offset_8,7,T[8]);d=FF(d,a,b,c,M_offset_9,12,T[9]);c=FF(c,d,a,b,M_offset_10,17,T[10]);b=FF(b,c,d,a,M_offset_11,22,T[11]);a=FF(a,b,c,d,M_offset_12,7,T[12]);d=FF(d,a,b,c,M_offset_13,12,T[13]);c=FF(c,d,a,b,M_offset_14,17,T[14]);b=FF(b,c,d,a,M_offset_15,22,T[15]);a=GG(a,b,c,d,M_offset_1,5,T[16]);d=GG(d,a,b,c,M_offset_6,9,T[17]);c=GG(c,d,a,b,M_offset_11,14,T[18]);b=GG(b,c,d,a,M_offset_0,20,T[19]);a=GG(a,b,c,d,M_offset_5,5,T[20]);d=GG(d,a,b,c,M_offset_10,9,T[21]);c=GG(c,d,a,b,M_offset_15,14,T[22]);b=GG(b,c,d,a,M_offset_4,20,T[23]);a=GG(a,b,c,d,M_offset_9,5,T[24]);d=GG(d,a,b,c,M_offset_14,9,T[25]);c=GG(c,d,a,b,M_offset_3,14,T[26]);b=GG(b,c,d,a,M_offset_8,20,T[27]);a=GG(a,b,c,d,M_offset_13,5,T[28]);d=GG(d,a,b,c,M_offset_2,9,T[29]);c=GG(c,d,a,b,M_offset_7,14,T[30]);b=GG(b,c,d,a,M_offset_12,20,T[31]);a=HH(a,b,c,d,M_offset_5,4,T[32]);d=HH(d,a,b,c,M_offset_8,11,T[33]);c=HH(c,d,a,b,M_offset_11,16,T[34]);b=HH(b,c,d,a,M_offset_14,23,T[35]);a=HH(a,b,c,d,M_offset_1,4,T[36]);d=HH(d,a,b,c,M_offset_4,11,T[37]);c=HH(c,d,a,b,M_offset_7,16,T[38]);b=HH(b,c,d,a,M_offset_10,23,T[39]);a=HH(a,b,c,d,M_offset_13,4,T[40]);d=HH(d,a,b,c,M_offset_0,11,T[41]);c=HH(c,d,a,b,M_offset_3,16,T[42]);b=HH(b,c,d,a,M_offset_6,23,T[43]);a=HH(a,b,c,d,M_offset_9,4,T[44]);d=HH(d,a,b,c,M_offset_12,11,T[45]);c=HH(c,d,a,b,M_offset_15,16,T[46]);b=HH(b,c,d,a,M_offset_2,23,T[47]);a=II(a,b,c,d,M_offset_0,6,T[48]);d=II(d,a,b,c,M_offset_7,10,T[49]);c=II(c,d,a,b,M_offset_14,15,T[50]);b=II(b,c,d,a,M_offset_5,21,T[51]);a=II(a,b,c,d,M_offset_12,6,T[52]);d=II(d,a,b,c,M_offset_3,10,T[53]);c=II(c,d,a,b,M_offset_10,15,T[54]);b=II(b,c,d,a,M_offset_1,21,T[55]);a=II(a,b,c,d,M_offset_8,6,T[56]);d=II(d,a,b,c,M_offset_15,10,T[57]);c=II(c,d,a,b,M_offset_6,15,T[58]);b=II(b,c,d,a,M_offset_13,21,T[59]);a=II(a,b,c,d,M_offset_4,6,T[60]);d=II(d,a,b,c,M_offset_11,10,T[61]);c=II(c,d,a,b,M_offset_2,15,T[62]);b=II(b,c,d,a,M_offset_9,21,T[63]);H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;var nBitsTotalH=Math.floor(nBitsTotal/4294967296);var nBitsTotalL=nBitsTotal;dataWords[(nBitsLeft+64>>>9<<4)+15]=(nBitsTotalH<<8|nBitsTotalH>>>24)&16711935|(nBitsTotalH<<24|nBitsTotalH>>>8)&4278255360;dataWords[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotalL<<8|nBitsTotalL>>>24)&16711935|(nBitsTotalL<<24|nBitsTotalL>>>8)&4278255360;data.sigBytes=(dataWords.length+1)*4;this._process();var hash=this._hash;var H=hash.words;for(var i=0;i<4;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});function FF(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+x+t;return(n<<s|n>>>32-s)+b}function GG(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+x+t;return(n<<s|n>>>32-s)+b}function HH(a,b,c,d,x,s,t){var n=a+(b^c^d)+x+t;return(n<<s|n>>>32-s)+b}function II(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+x+t;return(n<<s|n>>>32-s)+b}C.MD5=Hasher._createHelper(MD5);C.HmacMD5=Hasher._createHmacHelper(MD5)})(Math);return CryptoJS.MD5})},{"./core":20}],29:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.CFB=function(){var CFB=CryptoJS.lib.BlockCipherMode.extend();CFB.Encryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher);this._prevBlock=words.slice(offset,offset+blockSize)}});CFB.Decryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var thisBlock=words.slice(offset,offset+blockSize);generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher);this._prevBlock=thisBlock}});function generateKeystreamAndEncrypt(words,offset,blockSize,cipher){var iv=this._iv;if(iv){var keystream=iv.slice(0);this._iv=undefined}else{var keystream=this._prevBlock}cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}return CFB}();return CryptoJS.mode.CFB})},{"./cipher-core":19,"./core":20}],30:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.CTRGladman=function(){var CTRGladman=CryptoJS.lib.BlockCipherMode.extend();function incWord(word){if((word>>24&255)===255){var b1=word>>16&255;var b2=word>>8&255;var b3=word&255;if(b1===255){b1=0;if(b2===255){b2=0;if(b3===255){b3=0}else{++b3}}else{++b2}}else{++b1}word=0;word+=b1<<16;word+=b2<<8;word+=b3}else{word+=1<<24}return word}function incCounter(counter){if((counter[0]=incWord(counter[0]))===0){counter[1]=incWord(counter[1])}return counter}var Encryptor=CTRGladman.Encryptor=CTRGladman.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var counter=this._counter;if(iv){counter=this._counter=iv.slice(0);this._iv=undefined}incCounter(counter);var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});CTRGladman.Decryptor=Encryptor;return CTRGladman}();return CryptoJS.mode.CTRGladman})},{"./cipher-core":19,"./core":20}],31:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.CTR=function(){var CTR=CryptoJS.lib.BlockCipherMode.extend();var Encryptor=CTR.Encryptor=CTR.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var counter=this._counter;if(iv){counter=this._counter=iv.slice(0);this._iv=undefined}var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);counter[blockSize-1]=counter[blockSize-1]+1|0;for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});CTR.Decryptor=Encryptor;return CTR}();return CryptoJS.mode.CTR})},{"./cipher-core":19,"./core":20}],32:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.ECB=function(){var ECB=CryptoJS.lib.BlockCipherMode.extend();ECB.Encryptor=ECB.extend({processBlock:function(words,offset){this._cipher.encryptBlock(words,offset)}});ECB.Decryptor=ECB.extend({processBlock:function(words,offset){this._cipher.decryptBlock(words,offset)}});return ECB}();return CryptoJS.mode.ECB})},{"./cipher-core":19,"./core":20}],33:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.OFB=function(){var OFB=CryptoJS.lib.BlockCipherMode.extend();var Encryptor=OFB.Encryptor=OFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var keystream=this._keystream;if(iv){keystream=this._keystream=iv.slice(0);this._iv=undefined}cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});OFB.Decryptor=Encryptor;return OFB}();return CryptoJS.mode.OFB})},{"./cipher-core":19,"./core":20}],34:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.AnsiX923={pad:function(data,blockSize){var dataSigBytes=data.sigBytes;var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-dataSigBytes%blockSizeBytes;var lastBytePos=dataSigBytes+nPaddingBytes-1;data.clamp();data.words[lastBytePos>>>2]|=nPaddingBytes<<24-lastBytePos%4*8;data.sigBytes+=nPaddingBytes},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};return CryptoJS.pad.Ansix923})},{"./cipher-core":19,"./core":20}],35:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.Iso10126={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;data.concat(CryptoJS.lib.WordArray.random(nPaddingBytes-1)).concat(CryptoJS.lib.WordArray.create([nPaddingBytes<<24],1))},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};return CryptoJS.pad.Iso10126})},{"./cipher-core":19,"./core":20}],36:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.Iso97971={pad:function(data,blockSize){data.concat(CryptoJS.lib.WordArray.create([2147483648],1));CryptoJS.pad.ZeroPadding.pad(data,blockSize)},unpad:function(data){CryptoJS.pad.ZeroPadding.unpad(data);data.sigBytes--}};return CryptoJS.pad.Iso97971})},{"./cipher-core":19,"./core":20}],37:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}};return CryptoJS.pad.NoPadding})},{"./cipher-core":19,"./core":20}],38:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.ZeroPadding={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;data.clamp();data.sigBytes+=blockSizeBytes-(data.sigBytes%blockSizeBytes||blockSizeBytes)},unpad:function(data){var dataWords=data.words;var i=data.sigBytes-1;while(!(dataWords[i>>>2]>>>24-i%4*8&255)){i--}data.sigBytes=i+1}};return CryptoJS.pad.ZeroPadding})},{"./cipher-core":19,"./core":20}],39:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./sha1"),require("./hmac"))}else if(typeof define==="function"&&define.amd){define(["./core","./sha1","./hmac"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var WordArray=C_lib.WordArray;var C_algo=C.algo;var SHA1=C_algo.SHA1;var HMAC=C_algo.HMAC;var PBKDF2=C_algo.PBKDF2=Base.extend({cfg:Base.extend({keySize:128/32,hasher:SHA1,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){var cfg=this.cfg;var hmac=HMAC.create(cfg.hasher,password);var derivedKey=WordArray.create();var blockIndex=WordArray.create([1]);var derivedKeyWords=derivedKey.words;var blockIndexWords=blockIndex.words;var keySize=cfg.keySize;var iterations=cfg.iterations;while(derivedKeyWords.length<keySize){var block=hmac.update(salt).finalize(blockIndex);hmac.reset();var blockWords=block.words;var blockWordsLength=blockWords.length;var intermediate=block;for(var i=1;i<iterations;i++){intermediate=hmac.finalize(intermediate);hmac.reset();var intermediateWords=intermediate.words;for(var j=0;j<blockWordsLength;j++){blockWords[j]^=intermediateWords[j]}}derivedKey.concat(block);blockIndexWords[0]++}derivedKey.sigBytes=keySize*4;return derivedKey}});C.PBKDF2=function(password,salt,cfg){return PBKDF2.create(cfg).compute(password,salt)}})();return CryptoJS.PBKDF2})},{"./core":20,"./hmac":25,"./sha1":44}],40:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./enc-base64"),require("./md5"),require("./evpkdf"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var S=[];var C_=[];var G=[];var RabbitLegacy=C_algo.RabbitLegacy=StreamCipher.extend({_doReset:function(){var K=this._key.words;var iv=this.cfg.iv;var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16];var C=this._C=[K[2]<<16|K[2]>>>16,K[0]&4294901760|K[1]&65535,K[3]<<16|K[3]>>>16,K[1]&4294901760|K[2]&65535,K[0]<<16|K[0]>>>16,K[2]&4294901760|K[3]&65535,K[1]<<16|K[1]>>>16,K[3]&4294901760|K[0]&65535];this._b=0;for(var i=0;i<4;i++){nextState.call(this)}for(var i=0;i<8;i++){C[i]^=X[i+4&7]}if(iv){var IV=iv.words;var IV_0=IV[0];var IV_1=IV[1];var i0=(IV_0<<8|IV_0>>>24)&16711935|(IV_0<<24|IV_0>>>8)&4278255360;var i2=(IV_1<<8|IV_1>>>24)&16711935|(IV_1<<24|IV_1>>>8)&4278255360;var i1=i0>>>16|i2&4294901760;var i3=i2<<16|i0&65535;C[0]^=i0;C[1]^=i1;C[2]^=i2;C[3]^=i3;C[4]^=i0;C[5]^=i1;C[6]^=i2;C[7]^=i3;for(var i=0;i<4;i++){nextState.call(this)}}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this);S[0]=X[0]^X[5]>>>16^X[3]<<16;S[1]=X[2]^X[7]>>>16^X[5]<<16;S[2]=X[4]^X[1]>>>16^X[7]<<16;S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++){S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360;M[offset+i]^=S[i]}},blockSize:128/32,ivSize:64/32});function nextState(){var X=this._X;var C=this._C;for(var i=0;i<8;i++){C_[i]=C[i]}C[0]=C[0]+1295307597+this._b|0;C[1]=C[1]+3545052371+(C[0]>>>0<C_[0]>>>0?1:0)|0;C[2]=C[2]+886263092+(C[1]>>>0<C_[1]>>>0?1:0)|0;C[3]=C[3]+1295307597+(C[2]>>>0<C_[2]>>>0?1:0)|0;C[4]=C[4]+3545052371+(C[3]>>>0<C_[3]>>>0?1:0)|0;C[5]=C[5]+886263092+(C[4]>>>0<C_[4]>>>0?1:0)|0;C[6]=C[6]+1295307597+(C[5]>>>0<C_[5]>>>0?1:0)|0;C[7]=C[7]+3545052371+(C[6]>>>0<C_[6]>>>0?1:0)|0;this._b=C[7]>>>0<C_[7]>>>0?1:0;for(var i=0;i<8;i++){var gx=X[i]+C[i];var ga=gx&65535;var gb=gx>>>16;var gh=((ga*ga>>>17)+ga*gb>>>15)+gb*gb;var gl=((gx&4294901760)*gx|0)+((gx&65535)*gx|0);G[i]=gh^gl}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0;X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0;X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0;X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0;X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0;X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0;X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0;X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.RabbitLegacy=StreamCipher._createHelper(RabbitLegacy)})();return CryptoJS.RabbitLegacy})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],41:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./enc-base64"),require("./md5"),require("./evpkdf"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var S=[];var C_=[];var G=[];var Rabbit=C_algo.Rabbit=StreamCipher.extend({_doReset:function(){var K=this._key.words;var iv=this.cfg.iv;for(var i=0;i<4;i++){K[i]=(K[i]<<8|K[i]>>>24)&16711935|(K[i]<<24|K[i]>>>8)&4278255360}var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16];var C=this._C=[K[2]<<16|K[2]>>>16,K[0]&4294901760|K[1]&65535,K[3]<<16|K[3]>>>16,K[1]&4294901760|K[2]&65535,K[0]<<16|K[0]>>>16,K[2]&4294901760|K[3]&65535,K[1]<<16|K[1]>>>16,K[3]&4294901760|K[0]&65535];this._b=0;for(var i=0;i<4;i++){nextState.call(this)}for(var i=0;i<8;i++){C[i]^=X[i+4&7]}if(iv){var IV=iv.words;var IV_0=IV[0];var IV_1=IV[1];var i0=(IV_0<<8|IV_0>>>24)&16711935|(IV_0<<24|IV_0>>>8)&4278255360;var i2=(IV_1<<8|IV_1>>>24)&16711935|(IV_1<<24|IV_1>>>8)&4278255360;var i1=i0>>>16|i2&4294901760;var i3=i2<<16|i0&65535;C[0]^=i0;C[1]^=i1;C[2]^=i2;C[3]^=i3;C[4]^=i0;C[5]^=i1;C[6]^=i2;C[7]^=i3;for(var i=0;i<4;i++){nextState.call(this)}}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this);S[0]=X[0]^X[5]>>>16^X[3]<<16;S[1]=X[2]^X[7]>>>16^X[5]<<16;S[2]=X[4]^X[1]>>>16^X[7]<<16;S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++){S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360;M[offset+i]^=S[i]}},blockSize:128/32,ivSize:64/32});function nextState(){var X=this._X;var C=this._C;for(var i=0;i<8;i++){C_[i]=C[i]}C[0]=C[0]+1295307597+this._b|0;C[1]=C[1]+3545052371+(C[0]>>>0<C_[0]>>>0?1:0)|0;C[2]=C[2]+886263092+(C[1]>>>0<C_[1]>>>0?1:0)|0;C[3]=C[3]+1295307597+(C[2]>>>0<C_[2]>>>0?1:0)|0;C[4]=C[4]+3545052371+(C[3]>>>0<C_[3]>>>0?1:0)|0;C[5]=C[5]+886263092+(C[4]>>>0<C_[4]>>>0?1:0)|0;C[6]=C[6]+1295307597+(C[5]>>>0<C_[5]>>>0?1:0)|0;C[7]=C[7]+3545052371+(C[6]>>>0<C_[6]>>>0?1:0)|0;this._b=C[7]>>>0<C_[7]>>>0?1:0;for(var i=0;i<8;i++){var gx=X[i]+C[i];var ga=gx&65535;var gb=gx>>>16;var gh=((ga*ga>>>17)+ga*gb>>>15)+gb*gb;var gl=((gx&4294901760)*gx|0)+((gx&65535)*gx|0);G[i]=gh^gl}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0;X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0;X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0;X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0;X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0;X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0;X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0;X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.Rabbit=StreamCipher._createHelper(Rabbit)})();return CryptoJS.Rabbit})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],42:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./enc-base64"),require("./md5"),require("./evpkdf"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var RC4=C_algo.RC4=StreamCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keySigBytes=key.sigBytes;var S=this._S=[];for(var i=0;i<256;i++){S[i]=i}for(var i=0,j=0;i<256;i++){var keyByteIndex=i%keySigBytes;var keyByte=keyWords[keyByteIndex>>>2]>>>24-keyByteIndex%4*8&255;j=(j+S[i]+keyByte)%256;var t=S[i];S[i]=S[j];S[j]=t}this._i=this._j=0},_doProcessBlock:function(M,offset){M[offset]^=generateKeystreamWord.call(this)},keySize:256/32,ivSize:0});function generateKeystreamWord(){var S=this._S;var i=this._i;var j=this._j;var keystreamWord=0;for(var n=0;n<4;n++){i=(i+1)%256;j=(j+S[i])%256;var t=S[i];S[i]=S[j];S[j]=t;keystreamWord|=S[(S[i]+S[j])%256]<<24-n*8}this._i=i;this._j=j;return keystreamWord}C.RC4=StreamCipher._createHelper(RC4);var RC4Drop=C_algo.RC4Drop=RC4.extend({cfg:RC4.cfg.extend({drop:192}),_doReset:function(){RC4._doReset.call(this);for(var i=this.cfg.drop;i>0;i--){generateKeystreamWord.call(this)}}});C.RC4Drop=StreamCipher._createHelper(RC4Drop)})();return CryptoJS.RC4})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],43:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var _zl=WordArray.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]);var _zr=WordArray.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]);var _sl=WordArray.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]);var _sr=WordArray.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]);var _hl=WordArray.create([0,1518500249,1859775393,2400959708,2840853838]);var _hr=WordArray.create([1352829926,1548603684,1836072691,2053994217,0]);var RIPEMD160=C_algo.RIPEMD160=Hasher.extend({_doReset:function(){this._hash=WordArray.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var H=this._hash.words;var hl=_hl.words;var hr=_hr.words;var zl=_zl.words;var zr=_zr.words;var sl=_sl.words;var sr=_sr.words;var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(var i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;data.sigBytes=(dataWords.length+1)*4;this._process();var hash=this._hash;var H=hash.words;for(var i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}C.RIPEMD160=Hasher._createHelper(RIPEMD160);C.HmacRIPEMD160=Hasher._createHmacHelper(RIPEMD160)})(Math);return CryptoJS.RIPEMD160})},{"./core":20}],44:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var W=[];var SHA1=C_algo.SHA1=Hasher.extend({_doReset:function(){this._hash=new WordArray.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){var H=this._hash.words;var a=H[0];var b=H[1];var c=H[2];var d=H[3];var e=H[4];for(var i=0;i<80;i++){if(i<16){W[i]=M[offset+i]|0}else{var n=W[i-3]^W[i-8]^W[i-14]^W[i-16];W[i]=n<<1|n>>>31}var t=(a<<5|a>>>27)+e+W[i];if(i<20){t+=(b&c|~b&d)+1518500249}else if(i<40){t+=(b^c^d)+1859775393}else if(i<60){t+=(b&c|b&d|c&d)-1894007588}else{t+=(b^c^d)-899497514}e=d;d=c;c=b<<30|b>>>2;b=a;a=t}H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0;H[4]=H[4]+e|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+64>>>9<<4)+15]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();return this._hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});C.SHA1=Hasher._createHelper(SHA1);C.HmacSHA1=Hasher._createHmacHelper(SHA1)})();return CryptoJS.SHA1})},{"./core":20}],45:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./sha256"))}else if(typeof define==="function"&&define.amd){define(["./core","./sha256"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var C_algo=C.algo;var SHA256=C_algo.SHA256;var SHA224=C_algo.SHA224=SHA256.extend({_doReset:function(){this._hash=new WordArray.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var hash=SHA256._doFinalize.call(this);hash.sigBytes-=4;return hash}});C.SHA224=SHA256._createHelper(SHA224);C.HmacSHA224=SHA256._createHmacHelper(SHA224)})();return CryptoJS.SHA224})},{"./core":20,"./sha256":46}],46:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var H=[];var K=[];(function(){function isPrime(n){var sqrtN=Math.sqrt(n);for(var factor=2;factor<=sqrtN;factor++){if(!(n%factor)){return false}}return true}function getFractionalBits(n){return(n-(n|0))*4294967296|0}var n=2;var nPrime=0;while(nPrime<64){if(isPrime(n)){if(nPrime<8){H[nPrime]=getFractionalBits(Math.pow(n,1/2))}K[nPrime]=getFractionalBits(Math.pow(n,1/3));nPrime++}n++}})();var W=[];var SHA256=C_algo.SHA256=Hasher.extend({_doReset:function(){this._hash=new WordArray.init(H.slice(0))},_doProcessBlock:function(M,offset){var H=this._hash.words;var a=H[0];var b=H[1];var c=H[2];var d=H[3];var e=H[4];var f=H[5];var g=H[6];var h=H[7];for(var i=0;i<64;i++){if(i<16){W[i]=M[offset+i]|0}else{var gamma0x=W[i-15];var gamma0=(gamma0x<<25|gamma0x>>>7)^(gamma0x<<14|gamma0x>>>18)^gamma0x>>>3;var gamma1x=W[i-2];var gamma1=(gamma1x<<15|gamma1x>>>17)^(gamma1x<<13|gamma1x>>>19)^gamma1x>>>10;W[i]=gamma0+W[i-7]+gamma1+W[i-16]}var ch=e&f^~e&g;var maj=a&b^a&c^b&c;var sigma0=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22);var sigma1=(e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25);var t1=h+sigma1+ch+K[i]+W[i];var t2=sigma0+maj;h=g;g=f;f=e;e=d+t1|0;d=c;c=b;b=a;a=t1+t2|0}H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0;H[4]=H[4]+e|0;H[5]=H[5]+f|0;H[6]=H[6]+g|0;H[7]=H[7]+h|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+64>>>9<<4)+15]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();return this._hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});C.SHA256=Hasher._createHelper(SHA256);C.HmacSHA256=Hasher._createHmacHelper(SHA256)})(Math);return CryptoJS.SHA256})},{"./core":20}],47:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./x64-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_x64=C.x64;var X64Word=C_x64.Word;var C_algo=C.algo;var RHO_OFFSETS=[];var PI_INDEXES=[];var ROUND_CONSTANTS=[];(function(){var x=1,y=0;for(var t=0;t<24;t++){RHO_OFFSETS[x+5*y]=(t+1)*(t+2)/2%64;var newX=y%5;var newY=(2*x+3*y)%5;x=newX;y=newY}for(var x=0;x<5;x++){for(var y=0;y<5;y++){PI_INDEXES[x+5*y]=y+(2*x+3*y)%5*5}}var LFSR=1;for(var i=0;i<24;i++){var roundConstantMsw=0;var roundConstantLsw=0;for(var j=0;j<7;j++){if(LFSR&1){var bitPosition=(1<<j)-1;if(bitPosition<32){roundConstantLsw^=1<<bitPosition}else{roundConstantMsw^=1<<bitPosition-32}}if(LFSR&128){LFSR=LFSR<<1^113}else{LFSR<<=1}}ROUND_CONSTANTS[i]=X64Word.create(roundConstantMsw,roundConstantLsw)}})();var T=[];(function(){for(var i=0;i<25;i++){T[i]=X64Word.create()}})();var SHA3=C_algo.SHA3=Hasher.extend({cfg:Hasher.cfg.extend({outputLength:512}),_doReset:function(){var state=this._state=[];for(var i=0;i<25;i++){state[i]=new X64Word.init}this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(M,offset){var state=this._state;var nBlockSizeLanes=this.blockSize/2;for(var i=0;i<nBlockSizeLanes;i++){var M2i=M[offset+2*i];var M2i1=M[offset+2*i+1];M2i=(M2i<<8|M2i>>>24)&16711935|(M2i<<24|M2i>>>8)&4278255360;M2i1=(M2i1<<8|M2i1>>>24)&16711935|(M2i1<<24|M2i1>>>8)&4278255360;var lane=state[i];lane.high^=M2i1;lane.low^=M2i}for(var round=0;round<24;round++){for(var x=0;x<5;x++){var tMsw=0,tLsw=0;for(var y=0;y<5;y++){var lane=state[x+5*y];tMsw^=lane.high;tLsw^=lane.low}var Tx=T[x];Tx.high=tMsw;Tx.low=tLsw}for(var x=0;x<5;x++){var Tx4=T[(x+4)%5];var Tx1=T[(x+1)%5];var Tx1Msw=Tx1.high;var Tx1Lsw=Tx1.low;var tMsw=Tx4.high^(Tx1Msw<<1|Tx1Lsw>>>31);var tLsw=Tx4.low^(Tx1Lsw<<1|Tx1Msw>>>31);for(var y=0;y<5;y++){var lane=state[x+5*y];lane.high^=tMsw;lane.low^=tLsw}}for(var laneIndex=1;laneIndex<25;laneIndex++){var lane=state[laneIndex];var laneMsw=lane.high;var laneLsw=lane.low;var rhoOffset=RHO_OFFSETS[laneIndex];if(rhoOffset<32){var tMsw=laneMsw<<rhoOffset|laneLsw>>>32-rhoOffset;var tLsw=laneLsw<<rhoOffset|laneMsw>>>32-rhoOffset}else{var tMsw=laneLsw<<rhoOffset-32|laneMsw>>>64-rhoOffset;var tLsw=laneMsw<<rhoOffset-32|laneLsw>>>64-rhoOffset}var TPiLane=T[PI_INDEXES[laneIndex]];TPiLane.high=tMsw;TPiLane.low=tLsw}var T0=T[0];var state0=state[0];T0.high=state0.high;T0.low=state0.low;for(var x=0;x<5;x++){for(var y=0;y<5;y++){var laneIndex=x+5*y;var lane=state[laneIndex];var TLane=T[laneIndex];var Tx1Lane=T[(x+1)%5+5*y];var Tx2Lane=T[(x+2)%5+5*y];lane.high=TLane.high^~Tx1Lane.high&Tx2Lane.high;lane.low=TLane.low^~Tx1Lane.low&Tx2Lane.low}}var lane=state[0];var roundConstant=ROUND_CONSTANTS[round];lane.high^=roundConstant.high;lane.low^=roundConstant.low}},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;var blockSizeBits=this.blockSize*32;dataWords[nBitsLeft>>>5]|=1<<24-nBitsLeft%32;dataWords[(Math.ceil((nBitsLeft+1)/blockSizeBits)*blockSizeBits>>>5)-1]|=128;data.sigBytes=dataWords.length*4;this._process();var state=this._state;var outputLengthBytes=this.cfg.outputLength/8;var outputLengthLanes=outputLengthBytes/8;var hashWords=[];for(var i=0;i<outputLengthLanes;i++){var lane=state[i];var laneMsw=lane.high;var laneLsw=lane.low;laneMsw=(laneMsw<<8|laneMsw>>>24)&16711935|(laneMsw<<24|laneMsw>>>8)&4278255360;laneLsw=(laneLsw<<8|laneLsw>>>24)&16711935|(laneLsw<<24|laneLsw>>>8)&4278255360;hashWords.push(laneLsw);hashWords.push(laneMsw)}return new WordArray.init(hashWords,outputLengthBytes)},clone:function(){var clone=Hasher.clone.call(this);var state=clone._state=this._state.slice(0);for(var i=0;i<25;i++){state[i]=state[i].clone()}return clone}});C.SHA3=Hasher._createHelper(SHA3);C.HmacSHA3=Hasher._createHmacHelper(SHA3)})(Math);return CryptoJS.SHA3})},{"./core":20,"./x64-core":51}],48:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./x64-core"),require("./sha512"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core","./sha512"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_x64=C.x64;var X64Word=C_x64.Word;var X64WordArray=C_x64.WordArray;var C_algo=C.algo;var SHA512=C_algo.SHA512;var SHA384=C_algo.SHA384=SHA512.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(3418070365,3238371032),new X64Word.init(1654270250,914150663),new X64Word.init(2438529370,812702999),new X64Word.init(355462360,4144912697),new X64Word.init(1731405415,4290775857),new X64Word.init(2394180231,1750603025),new X64Word.init(3675008525,1694076839),new X64Word.init(1203062813,3204075428)])},_doFinalize:function(){var hash=SHA512._doFinalize.call(this);hash.sigBytes-=16;return hash}});C.SHA384=SHA512._createHelper(SHA384);C.HmacSHA384=SHA512._createHmacHelper(SHA384)})();return CryptoJS.SHA384})},{"./core":20,"./sha512":49,"./x64-core":51}],49:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./x64-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Hasher=C_lib.Hasher;var C_x64=C.x64;var X64Word=C_x64.Word;var X64WordArray=C_x64.WordArray;var C_algo=C.algo;function X64Word_create(){return X64Word.create.apply(X64Word,arguments)}var K=[X64Word_create(1116352408,3609767458),X64Word_create(1899447441,602891725),X64Word_create(3049323471,3964484399),X64Word_create(3921009573,2173295548),X64Word_create(961987163,4081628472),X64Word_create(1508970993,3053834265),X64Word_create(2453635748,2937671579),X64Word_create(2870763221,3664609560),X64Word_create(3624381080,2734883394),X64Word_create(310598401,1164996542),X64Word_create(607225278,1323610764),X64Word_create(1426881987,3590304994),X64Word_create(1925078388,4068182383),X64Word_create(2162078206,991336113),X64Word_create(2614888103,633803317),X64Word_create(3248222580,3479774868),X64Word_create(3835390401,2666613458),X64Word_create(4022224774,944711139),X64Word_create(264347078,2341262773),X64Word_create(604807628,2007800933),X64Word_create(770255983,1495990901),X64Word_create(1249150122,1856431235),X64Word_create(1555081692,3175218132),X64Word_create(1996064986,2198950837),X64Word_create(2554220882,3999719339),X64Word_create(2821834349,766784016),X64Word_create(2952996808,2566594879),X64Word_create(3210313671,3203337956),X64Word_create(3336571891,1034457026),X64Word_create(3584528711,2466948901),X64Word_create(113926993,3758326383),X64Word_create(338241895,168717936),X64Word_create(666307205,1188179964),X64Word_create(773529912,1546045734),X64Word_create(1294757372,1522805485),X64Word_create(1396182291,2643833823),X64Word_create(1695183700,2343527390),X64Word_create(1986661051,1014477480),X64Word_create(2177026350,1206759142),X64Word_create(2456956037,344077627),X64Word_create(2730485921,1290863460),X64Word_create(2820302411,3158454273),X64Word_create(3259730800,3505952657),X64Word_create(3345764771,106217008),X64Word_create(3516065817,3606008344),X64Word_create(3600352804,1432725776),X64Word_create(4094571909,1467031594),X64Word_create(275423344,851169720),X64Word_create(430227734,3100823752),X64Word_create(506948616,1363258195),X64Word_create(659060556,3750685593),X64Word_create(883997877,3785050280),X64Word_create(958139571,3318307427),X64Word_create(1322822218,3812723403),X64Word_create(1537002063,2003034995),X64Word_create(1747873779,3602036899),X64Word_create(1955562222,1575990012),X64Word_create(2024104815,1125592928),X64Word_create(2227730452,2716904306),X64Word_create(2361852424,442776044),X64Word_create(2428436474,593698344),X64Word_create(2756734187,3733110249),X64Word_create(3204031479,2999351573),X64Word_create(3329325298,3815920427),X64Word_create(3391569614,3928383900),X64Word_create(3515267271,566280711),X64Word_create(3940187606,3454069534),X64Word_create(4118630271,4000239992),X64Word_create(116418474,1914138554),X64Word_create(174292421,2731055270),X64Word_create(289380356,3203993006),X64Word_create(460393269,320620315),X64Word_create(685471733,587496836),X64Word_create(852142971,1086792851),X64Word_create(1017036298,365543100),X64Word_create(1126000580,2618297676),X64Word_create(1288033470,3409855158),X64Word_create(1501505948,4234509866),X64Word_create(1607167915,987167468),X64Word_create(1816402316,1246189591)];var W=[];(function(){for(var i=0;i<80;i++){W[i]=X64Word_create()}})();var SHA512=C_algo.SHA512=Hasher.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(1779033703,4089235720),new X64Word.init(3144134277,2227873595),new X64Word.init(1013904242,4271175723),new X64Word.init(2773480762,1595750129),new X64Word.init(1359893119,2917565137),new X64Word.init(2600822924,725511199),new X64Word.init(528734635,4215389547),new X64Word.init(1541459225,327033209)])},_doProcessBlock:function(M,offset){var H=this._hash.words;var H0=H[0];var H1=H[1];var H2=H[2];var H3=H[3];var H4=H[4];var H5=H[5];var H6=H[6];var H7=H[7];var H0h=H0.high;var H0l=H0.low;var H1h=H1.high;var H1l=H1.low;var H2h=H2.high;var H2l=H2.low;var H3h=H3.high;var H3l=H3.low;var H4h=H4.high;var H4l=H4.low;var H5h=H5.high;var H5l=H5.low;var H6h=H6.high;var H6l=H6.low;var H7h=H7.high;var H7l=H7.low;var ah=H0h;var al=H0l;var bh=H1h;var bl=H1l;var ch=H2h;var cl=H2l;var dh=H3h;var dl=H3l;var eh=H4h;var el=H4l;var fh=H5h;var fl=H5l;var gh=H6h;var gl=H6l;var hh=H7h;var hl=H7l;for(var i=0;i<80;i++){var Wi=W[i];if(i<16){var Wih=Wi.high=M[offset+i*2]|0;var Wil=Wi.low=M[offset+i*2+1]|0}else{var gamma0x=W[i-15];var gamma0xh=gamma0x.high;var gamma0xl=gamma0x.low;var gamma0h=(gamma0xh>>>1|gamma0xl<<31)^(gamma0xh>>>8|gamma0xl<<24)^gamma0xh>>>7;var gamma0l=(gamma0xl>>>1|gamma0xh<<31)^(gamma0xl>>>8|gamma0xh<<24)^(gamma0xl>>>7|gamma0xh<<25);var gamma1x=W[i-2];var gamma1xh=gamma1x.high;var gamma1xl=gamma1x.low;var gamma1h=(gamma1xh>>>19|gamma1xl<<13)^(gamma1xh<<3|gamma1xl>>>29)^gamma1xh>>>6;var gamma1l=(gamma1xl>>>19|gamma1xh<<13)^(gamma1xl<<3|gamma1xh>>>29)^(gamma1xl>>>6|gamma1xh<<26);var Wi7=W[i-7];var Wi7h=Wi7.high;var Wi7l=Wi7.low;var Wi16=W[i-16];var Wi16h=Wi16.high;var Wi16l=Wi16.low;var Wil=gamma0l+Wi7l;var Wih=gamma0h+Wi7h+(Wil>>>0<gamma0l>>>0?1:0);var Wil=Wil+gamma1l;var Wih=Wih+gamma1h+(Wil>>>0<gamma1l>>>0?1:0);var Wil=Wil+Wi16l;var Wih=Wih+Wi16h+(Wil>>>0<Wi16l>>>0?1:0);Wi.high=Wih;Wi.low=Wil}var chh=eh&fh^~eh&gh;var chl=el&fl^~el&gl;var majh=ah&bh^ah&ch^bh&ch;var majl=al&bl^al&cl^bl&cl;var sigma0h=(ah>>>28|al<<4)^(ah<<30|al>>>2)^(ah<<25|al>>>7);var sigma0l=(al>>>28|ah<<4)^(al<<30|ah>>>2)^(al<<25|ah>>>7);var sigma1h=(eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9);var sigma1l=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9);var Ki=K[i];var Kih=Ki.high;var Kil=Ki.low;var t1l=hl+sigma1l;var t1h=hh+sigma1h+(t1l>>>0<hl>>>0?1:0);var t1l=t1l+chl;var t1h=t1h+chh+(t1l>>>0<chl>>>0?1:0);var t1l=t1l+Kil;var t1h=t1h+Kih+(t1l>>>0<Kil>>>0?1:0);var t1l=t1l+Wil;var t1h=t1h+Wih+(t1l>>>0<Wil>>>0?1:0);var t2l=sigma0l+majl;var t2h=sigma0h+majh+(t2l>>>0<sigma0l>>>0?1:0);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;el=dl+t1l|0;eh=dh+t1h+(el>>>0<dl>>>0?1:0)|0;dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;al=t1l+t2l|0;ah=t1h+t2h+(al>>>0<t1l>>>0?1:0)|0}H0l=H0.low=H0l+al;H0.high=H0h+ah+(H0l>>>0<al>>>0?1:0);H1l=H1.low=H1l+bl;H1.high=H1h+bh+(H1l>>>0<bl>>>0?1:0);H2l=H2.low=H2l+cl;H2.high=H2h+ch+(H2l>>>0<cl>>>0?1:0);H3l=H3.low=H3l+dl;H3.high=H3h+dh+(H3l>>>0<dl>>>0?1:0);H4l=H4.low=H4l+el;H4.high=H4h+eh+(H4l>>>0<el>>>0?1:0);H5l=H5.low=H5l+fl;H5.high=H5h+fh+(H5l>>>0<fl>>>0?1:0);H6l=H6.low=H6l+gl;H6.high=H6h+gh+(H6l>>>0<gl>>>0?1:0);H7l=H7.low=H7l+hl;H7.high=H7h+hh+(H7l>>>0<hl>>>0?1:0)},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+128>>>10<<5)+30]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+128>>>10<<5)+31]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();var hash=this._hash.toX32();return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone},blockSize:1024/32});C.SHA512=Hasher._createHelper(SHA512);C.HmacSHA512=Hasher._createHmacHelper(SHA512)})();return CryptoJS.SHA512})},{"./core":20,"./x64-core":51}],50:[function(require,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(require("./core"),require("./enc-base64"),require("./md5"),require("./evpkdf"),require("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;var PC1=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4];var PC2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32];var BIT_SHIFTS=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28];var SBOX_P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}];var SBOX_MASK=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];var DES=C_algo.DES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keyBits=[];for(var i=0;i<56;i++){var keyBitPos=PC1[i]-1;keyBits[i]=keyWords[keyBitPos>>>5]>>>31-keyBitPos%32&1}var subKeys=this._subKeys=[];for(var nSubKey=0;nSubKey<16;nSubKey++){var subKey=subKeys[nSubKey]=[];var bitShift=BIT_SHIFTS[nSubKey];for(var i=0;i<24;i++){subKey[i/6|0]|=keyBits[(PC2[i]-1+bitShift)%28]<<31-i%6;subKey[4+(i/6|0)]|=keyBits[28+(PC2[i+24]-1+bitShift)%28]<<31-i%6}subKey[0]=subKey[0]<<1|subKey[0]>>>31;for(var i=1;i<7;i++){subKey[i]=subKey[i]>>>(i-1)*4+3}subKey[7]=subKey[7]<<5|subKey[7]>>>27}var invSubKeys=this._invSubKeys=[];for(var i=0;i<16;i++){invSubKeys[i]=subKeys[15-i]}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._subKeys)},decryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._invSubKeys)},_doCryptBlock:function(M,offset,subKeys){this._lBlock=M[offset];this._rBlock=M[offset+1];exchangeLR.call(this,4,252645135);exchangeLR.call(this,16,65535);exchangeRL.call(this,2,858993459);exchangeRL.call(this,8,16711935);exchangeLR.call(this,1,1431655765);for(var round=0;round<16;round++){var subKey=subKeys[round];var lBlock=this._lBlock;var rBlock=this._rBlock;var f=0;for(var i=0;i<8;i++){f|=SBOX_P[i][((rBlock^subKey[i])&SBOX_MASK[i])>>>0]}this._lBlock=rBlock;this._rBlock=lBlock^f}var t=this._lBlock;this._lBlock=this._rBlock;this._rBlock=t;exchangeLR.call(this,1,1431655765);exchangeRL.call(this,8,16711935);exchangeRL.call(this,2,858993459);exchangeLR.call(this,16,65535);exchangeLR.call(this,4,252645135);M[offset]=this._lBlock;M[offset+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function exchangeLR(offset,mask){var t=(this._lBlock>>>offset^this._rBlock)&mask;this._rBlock^=t;this._lBlock^=t<<offset}function exchangeRL(offset,mask){var t=(this._rBlock>>>offset^this._lBlock)&mask;this._lBlock^=t;this._rBlock^=t<<offset}C.DES=BlockCipher._createHelper(DES);var TripleDES=C_algo.TripleDES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;this._des1=DES.createEncryptor(WordArray.create(keyWords.slice(0,2)));this._des2=DES.createEncryptor(WordArray.create(keyWords.slice(2,4)));this._des3=DES.createEncryptor(WordArray.create(keyWords.slice(4,6)))},encryptBlock:function(M,offset){this._des1.encryptBlock(M,offset);this._des2.decryptBlock(M,offset);this._des3.encryptBlock(M,offset)},decryptBlock:function(M,offset){this._des3.decryptBlock(M,offset);this._des2.encryptBlock(M,offset);this._des1.decryptBlock(M,offset)},keySize:192/32,ivSize:64/32,blockSize:64/32});C.TripleDES=BlockCipher._createHelper(TripleDES)})();return CryptoJS.TripleDES})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],51:[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(require("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(undefined){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var X32WordArray=C_lib.WordArray;var C_x64=C.x64={};var X64Word=C_x64.Word=Base.extend({init:function(high,low){this.high=high;this.low=low}});var X64WordArray=C_x64.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[];if(sigBytes!=undefined){this.sigBytes=sigBytes}else{this.sigBytes=words.length*8}},toX32:function(){var x64Words=this.words;var x64WordsLength=x64Words.length;var x32Words=[];for(var i=0;i<x64WordsLength;i++){var x64Word=x64Words[i];x32Words.push(x64Word.high);x32Words.push(x64Word.low)}return X32WordArray.create(x32Words,this.sigBytes)},clone:function(){var clone=Base.clone.call(this);var words=clone.words=this.words.slice(0);var wordsLength=words.length;for(var i=0;i<wordsLength;i++){words[i]=words[i].clone()}return clone}})})();return CryptoJS})},{"./core":20}]},{},[6])(6)});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.bus=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Adapter=function(){function Adapter(){}return Adapter}();exports.Adapter=Adapter},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var counter=0;function uniqueId(prefix){return""+(prefix||"web-bus-id")+counter++}var Bus=function(){function Bus(adapter,defaultTimeout){var _this=this;this.id=uniqueId("bus");this._timeout=defaultTimeout||5e3;this._adapter=adapter;this._adapter.addListener(function(data){return _this._onMessage(data)});this._eventHandlers=Object.create(null);this._activeRequestHash=Object.create(null);this._requestHandlers=Object.create(null)}Bus.prototype.dispatchEvent=function(name){this._adapter.send(Bus._createEvent(name));return this};Bus.prototype.request=function(name,data,timeout){var _this=this;return new Promise(function(resolve,reject){var id=uniqueId(_this.id+"-action");_this._activeRequestHash[id]={reject:reject,resolve:resolve};setTimeout(function(){delete _this._activeRequestHash[id];reject(new Error("Timeout error!"))},timeout||_this._timeout);_this._adapter.send({id:id,type:1,name:name,data:data})})};Bus.prototype.on=function(name,handler,context){return this._addEventHandler(name,handler,context,false)};Bus.prototype.once=function(name,handler,context){return this._addEventHandler(name,handler,context,true)};Bus.prototype.off=function(name,handler){var _this=this;if(!name){Object.keys(this._eventHandlers).forEach(function(name){return _this.off(name,handler)});return this}if(!this._eventHandlers[name]){return this}if(!handler){this._eventHandlers[name].slice().forEach(function(info){_this.off(name,info.handler)});return this}this._eventHandlers[name]=this._eventHandlers[name].filter(function(info){return info.handler!==handler});if(!this._eventHandlers[name].length){delete this._eventHandlers[name]}return this};Bus.prototype.registerRequestHandler=function(name,handler){if(this._requestHandlers[name]){throw new Error("Duplicate request handler!")}this._requestHandlers[name]=handler;return this};Bus.prototype.changeAdapter=function(adapter){var _this=this;var bus=new Bus(adapter,this._timeout);Object.keys(this._eventHandlers).forEach(function(name){_this._eventHandlers[name].forEach(function(info){if(info.once){bus.once(name,info.handler,info.context)}else{bus.on(name,info.handler,info.context)}})});Object.keys(this._requestHandlers).forEach(function(name){bus.registerRequestHandler(name,_this._requestHandlers[name])});return bus};Bus.prototype._addEventHandler=function(name,handler,context,once){if(!this._eventHandlers[name]){this._eventHandlers[name]=[]}this._eventHandlers[name].push({handler:handler,once:once,context:context});return this};Bus.prototype._onMessage=function(message){switch(message.type){case 0:this._fireEvent(message.name,message.data);break;case 1:this._createResponse(message);break;case 2:this._fireEndAction(message);break}};Bus.prototype._createResponse=function(message){var _this=this;var sendError=function(error){_this._adapter.send({id:message.id,type:2,status:1,content:error})};if(!this._requestHandlers[message.name]){sendError(new Error("Has no handler for this action!"));return null}try{var result=this._requestHandlers[message.name](message.data);if(Bus._isPromise(result)){result.then(function(data){_this._adapter.send({id:message.id,type:2,status:0,content:data})},sendError)}else{this._adapter.send({id:message.id,type:2,status:0,content:result})}}catch(e){sendError(e)}};Bus.prototype._fireEndAction=function(message){if(this._activeRequestHash[message.id]){switch(message.status){case 1:this._activeRequestHash[message.id].reject(message.content);break;case 0:this._activeRequestHash[message.id].resolve(message.content);break}delete this._activeRequestHash[message.id]}};Bus.prototype._fireEvent=function(name,value){if(!this._eventHandlers[name]){return null}this._eventHandlers[name]=this._eventHandlers[name].slice().filter(function(handlerInfo){try{handlerInfo.handler.call(handlerInfo.context,value)}catch(e){console.warn(e)}return!handlerInfo.once});if(!this._eventHandlers[name].length){delete this._eventHandlers[name]}};Bus._createEvent=function(eventName){return{type:0,name:eventName}};Bus._isPromise=function(some){return some&&some.then&&typeof some.then==="function"};return Bus}();exports.Bus=Bus},{}],3:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var WindowAdapter=function(_super){__extends(WindowAdapter,_super);function WindowAdapter(listen,dispatch,availableDomains){var _this=_super.call(this)||this;_this._availableDomains=[listen.origin,dispatch.origin].concat(availableDomains||[]);_this._dispatch=dispatch;_this._listen=listen;_this._listeners=[];_this._mainListener=function(event){return _this._onEvent(event)};_this._listen.win.addEventListener("message",_this._mainListener,false);return _this}WindowAdapter.prototype.send=function(data){this._dispatch.win.postMessage(data,this._dispatch.origin);return this};WindowAdapter.prototype.addListener=function(cb){this._listeners.push(cb);return this};WindowAdapter.prototype.destroy=function(){this._listen.win.removeEventListener("message",this._mainListener,false);this._listeners=[];this._listen=null;this._dispatch=null};WindowAdapter.prototype._onEvent=function(event){if(this._availableDomains.indexOf(event.origin)!==-1){this._listeners.forEach(function(handler){handler(event.data)})}};return WindowAdapter}(Adapter_1.Adapter);exports.WindowAdapter=WindowAdapter},{"./Adapter":1}],4:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./Bus"));__export(require("./Adapter"));__export(require("./WindowAdapter"))},{"./Adapter":1,"./Bus":2,"./WindowAdapter":3}]},{},[4])(4)});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.TransportU2F = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (Buffer){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _promise = require("babel-runtime/core-js/promise");

var _promise2 = _interopRequireDefault(_promise);

var _typeof2 = require("babel-runtime/helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

var _getPrototypeOf = require("babel-runtime/core-js/object/get-prototype-of");

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = require("babel-runtime/helpers/possibleConstructorReturn");

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = require("babel-runtime/helpers/inherits");

var _inherits3 = _interopRequireDefault(_inherits2);

var _u2fApi = require("u2f-api");

var _hwTransport = require("@ledgerhq/hw-transport");

var _hwTransport2 = _interopRequireDefault(_hwTransport);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function wrapU2FTransportError(originalError, message, id) {
  var err = new _hwTransport.TransportError(message, id);
  // $FlowFixMe
  err.originalError = originalError;
  return err;
}

function wrapApdu(apdu, key) {
  var result = Buffer.alloc(apdu.length);
  for (var i = 0; i < apdu.length; i++) {
    result[i] = apdu[i] ^ key[i % key.length];
  }
  return result;
}

// Convert from normal to web-safe, strip trailing "="s
var webSafe64 = function webSafe64(base64) {
  return base64.replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
};

// Convert from web-safe to normal, add trailing "="s
var normal64 = function normal64(base64) {
  return base64.replace(/-/g, "+").replace(/_/g, "/") + "==".substring(0, 3 * base64.length % 4);
};

function attemptExchange(apdu, timeoutMillis, debug, scrambleKey) {
  var keyHandle = wrapApdu(apdu, scrambleKey);
  var challenge = Buffer.from("0000000000000000000000000000000000000000000000000000000000000000", "hex");
  var signRequest = {
    version: "U2F_V2",
    keyHandle: webSafe64(keyHandle.toString("base64")),
    challenge: webSafe64(challenge.toString("base64")),
    appId: location.origin
  };
  if (debug) {
    debug("=> " + apdu.toString("hex"));
  }
  return (0, _u2fApi.sign)(signRequest, timeoutMillis / 1000).then(function (response) {
    var signatureData = response.signatureData;

    if (typeof signatureData === "string") {
      var data = Buffer.from(normal64(signatureData), "base64");
      var result = data.slice(5);
      if (debug) {
        debug("<= " + result.toString("hex"));
      }
      return result;
    } else {
      throw response;
    }
  });
}

var transportInstances = [];

function emitDisconnect() {
  transportInstances.forEach(function (t) {
    return t.emit("disconnect");
  });
  transportInstances = [];
}

function isTimeoutU2FError(u2fError) {
  return u2fError.metaData.code === 5;
}

/**
 * U2F web Transport implementation
 * @example
 * import TransportU2F from "@ledgerhq/hw-transport-u2f";
 * ...
 * TransportU2F.create().then(transport => ...)
 */

var TransportU2F = function (_Transport) {
  (0, _inherits3.default)(TransportU2F, _Transport);
  (0, _createClass3.default)(TransportU2F, null, [{
    key: "open",


    /**
     * static function to create a new Transport from a connected Ledger device discoverable via U2F (browser support)
     */
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(_) {
        var _openTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5000;

        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", new TransportU2F());

              case 1:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function open(_x) {
        return _ref.apply(this, arguments);
      }

      return open;
    }()

    // this transport is not discoverable but we are going to guess if it is here with isSupported()

  }]);

  function TransportU2F() {
    (0, _classCallCheck3.default)(this, TransportU2F);

    var _this = (0, _possibleConstructorReturn3.default)(this, (TransportU2F.__proto__ || (0, _getPrototypeOf2.default)(TransportU2F)).call(this));

    transportInstances.push(_this);
    return _this;
  }

  (0, _createClass3.default)(TransportU2F, [{
    key: "exchange",
    value: function () {
      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(apdu) {
        var isU2FError;
        return _regenerator2.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.prev = 0;
                _context2.next = 3;
                return attemptExchange(apdu, this.exchangeTimeout, this.debug, this.scrambleKey);

              case 3:
                return _context2.abrupt("return", _context2.sent);

              case 6:
                _context2.prev = 6;
                _context2.t0 = _context2["catch"](0);
                isU2FError = (0, _typeof3.default)(_context2.t0.metaData) === "object";

                if (!isU2FError) {
                  _context2.next = 14;
                  break;
                }

                if (isTimeoutU2FError(_context2.t0)) {
                  emitDisconnect();
                }
                // the wrapping make error more usable and "printable" to the end user.
                throw wrapU2FTransportError(_context2.t0, "Failed to sign with Ledger device: U2F " + _context2.t0.metaData.type, "U2F_" + _context2.t0.metaData.code);

              case 14:
                throw _context2.t0;

              case 15:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[0, 6]]);
      }));

      function exchange(_x3) {
        return _ref2.apply(this, arguments);
      }

      return exchange;
    }()
  }, {
    key: "setScrambleKey",
    value: function setScrambleKey(scrambleKey) {
      this.scrambleKey = Buffer.from(scrambleKey, "ascii");
    }
  }, {
    key: "close",
    value: function close() {
      var i = transportInstances.indexOf(this);
      if (i === -1) {
        throw new Error("invalid transport instance");
      }
      transportInstances.splice(i, 1);
      return _promise2.default.resolve();
    }
  }]);
  return TransportU2F;
}(_hwTransport2.default);

TransportU2F.isSupported = _u2fApi.isSupported;

TransportU2F.list = function () {
  return (0, _u2fApi.isSupported)().then(function (supported) {
    return supported ? [null] : [];
  });
};

TransportU2F.listen = function (observer) {
  var unsubscribed = false;
  (0, _u2fApi.isSupported)().then(function (supported) {
    if (unsubscribed) return;
    if (supported) {
      observer.next({ type: "add", descriptor: null });
      observer.complete();
    } else {
      observer.error(new _hwTransport.TransportError("U2F browser support is needed for Ledger. " + "Please use Chrome, Opera or Firefox with a U2F extension. " + "Also make sure you're on an HTTPS connection", "U2FNotSupported"));
    }
  });
  return {
    unsubscribe: function unsubscribe() {
      unsubscribed = true;
    }
  };
};

exports.default = TransportU2F;

}).call(this,require("buffer").Buffer)
},{"@ledgerhq/hw-transport":2,"babel-runtime/core-js/object/get-prototype-of":8,"babel-runtime/core-js/promise":11,"babel-runtime/helpers/asyncToGenerator":14,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16,"babel-runtime/helpers/inherits":17,"babel-runtime/helpers/possibleConstructorReturn":18,"babel-runtime/helpers/typeof":20,"babel-runtime/regenerator":23,"buffer":25,"u2f-api":133}],2:[function(require,module,exports){
(function (global,Buffer){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusCodes = undefined;

var _promise = require("babel-runtime/core-js/promise");

var _promise2 = _interopRequireDefault(_promise);

var _assign = require("babel-runtime/core-js/object/assign");

var _assign2 = _interopRequireDefault(_assign);

var _getIterator2 = require("babel-runtime/core-js/get-iterator");

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _toConsumableArray2 = require("babel-runtime/helpers/toConsumableArray");

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _keys = require("babel-runtime/core-js/object/keys");

var _keys2 = _interopRequireDefault(_keys);

exports.getAltStatusMessage = getAltStatusMessage;
exports.TransportError = TransportError;
exports.TransportStatusError = TransportStatusError;

var _events2 = require("events");

var _events3 = _interopRequireDefault(_events2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * all possible status codes.
 * @see https://github.com/LedgerHQ/blue-app-btc/blob/d8a03d10f77ca5ef8b22a5d062678eef788b824a/include/btchip_apdu_constants.h#L85-L115
 * @example
 * import { StatusCodes } from "@ledgerhq/hw-transport";
 */


/**
 */


/**
 */


/**
 */

/**
 */
var StatusCodes = exports.StatusCodes = {
  PIN_REMAINING_ATTEMPTS: 0x63c0,
  INCORRECT_LENGTH: 0x6700,
  COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,
  SECURITY_STATUS_NOT_SATISFIED: 0x6982,
  CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,
  INCORRECT_DATA: 0x6a80,
  NOT_ENOUGH_MEMORY_SPACE: 0x6a84,
  REFERENCED_DATA_NOT_FOUND: 0x6a88,
  FILE_ALREADY_EXISTS: 0x6a89,
  INCORRECT_P1_P2: 0x6b00,
  INS_NOT_SUPPORTED: 0x6d00,
  CLA_NOT_SUPPORTED: 0x6e00,
  TECHNICAL_PROBLEM: 0x6f00,
  OK: 0x9000,
  MEMORY_PROBLEM: 0x9240,
  NO_EF_SELECTED: 0x9400,
  INVALID_OFFSET: 0x9402,
  FILE_NOT_FOUND: 0x9404,
  INCONSISTENT_FILE: 0x9408,
  ALGORITHM_NOT_SUPPORTED: 0x9484,
  INVALID_KCV: 0x9485,
  CODE_NOT_INITIALIZED: 0x9802,
  ACCESS_CONDITION_NOT_FULFILLED: 0x9804,
  CONTRADICTION_SECRET_CODE_STATUS: 0x9808,
  CONTRADICTION_INVALIDATION: 0x9810,
  CODE_BLOCKED: 0x9840,
  MAX_VALUE_REACHED: 0x9850,
  GP_AUTH_FAILED: 0x6300,
  LICENSING: 0x6f42,
  HALTED: 0x6faa
};

function getAltStatusMessage(code) {
  switch (code) {
    // improve text of most common errors
    case 0x6700:
      return "Incorrect length";
    case 0x6982:
      return "Security not satisfied (dongle locked or have invalid access rights)";
    case 0x6985:
      return "Condition of use not satisfied (denied by the user?)";
    case 0x6a80:
      return "Invalid data received";
    case 0x6b00:
      return "Invalid parameter received";
  }
  if (0x6f00 <= code && code <= 0x6fff) {
    return "Internal error, please report";
  }
}

/**
 * TransportError is used for any generic transport errors.
 * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.
 */
function TransportError(message, id) {
  this.name = "TransportError";
  this.message = message;
  this.stack = new Error().stack;
  this.id = id;
}
//$FlowFixMe
TransportError.prototype = new Error();

/**
 * Error thrown when a device returned a non success status.
 * the error.statusCode is one of the `StatusCodes` exported by this library.
 */
function TransportStatusError(statusCode) {
  this.name = "TransportStatusError";
  var statusText = (0, _keys2.default)(StatusCodes).find(function (k) {
    return StatusCodes[k] === statusCode;
  }) || "UNKNOWN_ERROR";
  var smsg = getAltStatusMessage(statusCode) || statusText;
  var statusCodeStr = statusCode.toString(16);
  this.message = "Ledger device: " + smsg + " (0x" + statusCodeStr + ")";
  this.stack = new Error().stack;
  this.statusCode = statusCode;
  this.statusText = statusText;
}
//$FlowFixMe
TransportStatusError.prototype = new Error();

/**
 * Transport defines the generic interface to share between node/u2f impl
 * A **Descriptor** is a parametric type that is up to be determined for the implementation.
 * it can be for instance an ID, an file path, a URL,...
 */

var Transport = function () {
  function Transport() {
    var _this = this;

    (0, _classCallCheck3.default)(this, Transport);
    this.debug = global.__ledgerDebug || null;
    this.exchangeTimeout = 30000;
    this._events = new _events3.default();

    this.send = function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(cla, ins, p1, p2) {
        var data = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Buffer.alloc(0);
        var statusList = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [StatusCodes.OK];
        var response, sw;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(data.length >= 256)) {
                  _context.next = 2;
                  break;
                }

                throw new TransportError("data.length exceed 256 bytes limit. Got: " + data.length, "DataLengthTooBig");

              case 2:
                _context.next = 4;
                return _this.exchange(Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]));

              case 4:
                response = _context.sent;
                sw = response.readUInt16BE(response.length - 2);

                if (statusList.some(function (s) {
                  return s === sw;
                })) {
                  _context.next = 8;
                  break;
                }

                throw new TransportStatusError(sw);

              case 8:
                return _context.abrupt("return", response);

              case 9:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, _this);
      }));

      return function (_x, _x2, _x3, _x4) {
        return _ref.apply(this, arguments);
      };
    }();

    this._appAPIlock = null;
  }

  /**
   * Statically check if a transport is supported on the user's platform/browser.
   */


  /**
   * List once all available descriptors. For a better granularity, checkout `listen()`.
   * @return a promise of descriptors
   * @example
   * TransportFoo.list().then(descriptors => ...)
   */


  /**
   * Listen all device events for a given Transport. The method takes an Obverver of DescriptorEvent and returns a Subscription (according to Observable paradigm https://github.com/tc39/proposal-observable )
   * a DescriptorEvent is a `{ descriptor, type }` object. type can be `"add"` or `"remove"` and descriptor is a value you can pass to `open(descriptor)`.
   * each listen() call will first emit all potential device already connected and then will emit events can come over times,
   * for instance if you plug a USB device after listen() or a bluetooth device become discoverable.
   * @param observer is an object with a next, error and complete function (compatible with observer pattern)
   * @return a Subscription object on which you can `.unsubscribe()` to stop listening descriptors.
   * @example
  const sub = TransportFoo.listen({
  next: e => {
    if (e.type==="add") {
      sub.unsubscribe();
      const transport = await TransportFoo.open(e.descriptor);
      ...
    }
  },
  error: error => {},
  complete: () => {}
  })
   */


  /**
   * attempt to create a Transport instance with potentially a descriptor.
   * @param descriptor: the descriptor to open the transport with.
   * @param timeout: an optional timeout
   * @return a Promise of Transport instance
   * @example
  TransportFoo.open(descriptor).then(transport => ...)
   */


  /**
   * low level api to communicate with the device
   * This method is for implementations to implement but should not be directly called.
   * Instead, the recommanded way is to use send() method
   * @param apdu the data to send
   * @return a Promise of response data
   */


  /**
   * set the "scramble key" for the next exchanges with the device.
   * Each App can have a different scramble key and they internally will set it at instanciation.
   * @param key the scramble key
   */


  /**
   * close the exchange with the device.
   * @return a Promise that ends when the transport is closed.
   */


  (0, _createClass3.default)(Transport, [{
    key: "on",


    /**
     * Listen to an event on an instance of transport.
     * Transport implementation can have specific events. Here is the common events:
     * * `"disconnect"` : triggered if Transport is disconnected
     */
    value: function on(eventName, cb) {
      this._events.on(eventName, cb);
    }

    /**
     * Stop listening to an event on an instance of transport.
     */

  }, {
    key: "off",
    value: function off(eventName, cb) {
      this._events.removeListener(eventName, cb);
    }
  }, {
    key: "emit",
    value: function emit(event) {
      var _events;

      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      (_events = this._events).emit.apply(_events, [event].concat((0, _toConsumableArray3.default)(args)));
    }

    /**
     * Enable or not logs of the binary exchange
     */

  }, {
    key: "setDebugMode",
    value: function setDebugMode(debug) {
      this.debug = typeof debug === "function" ? debug : debug ? function (log) {
        return console.log(log);
      } : null;
    }

    /**
     * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)
     */

  }, {
    key: "setExchangeTimeout",
    value: function setExchangeTimeout(exchangeTimeout) {
      this.exchangeTimeout = exchangeTimeout;
    }

    /**
     * wrapper on top of exchange to simplify work of the implementation.
     * @param cla
     * @param ins
     * @param p1
     * @param p2
     * @param data
     * @param statusList is a list of accepted status code (shorts). [0x9000] by default
     * @return a Promise of response buffer
     */

  }, {
    key: "decorateAppAPIMethods",
    value: function decorateAppAPIMethods(self, methods, scrambleKey) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = (0, _getIterator3.default)(methods), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var methodName = _step.value;

          self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
  }, {
    key: "decorateAppAPIMethod",
    value: function decorateAppAPIMethod(methodName, f, ctx, scrambleKey) {
      var _this2 = this;

      return function () {
        var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }

          var _appAPIlock, _e;

          return _regenerator2.default.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _appAPIlock = _this2._appAPIlock;

                  if (!_appAPIlock) {
                    _context2.next = 5;
                    break;
                  }

                  _e = new TransportError("Ledger Device is busy (lock " + _appAPIlock + ")", "TransportLocked");

                  (0, _assign2.default)(_e, {
                    currentLock: _appAPIlock,
                    methodName: methodName
                  });
                  return _context2.abrupt("return", _promise2.default.reject(_e));

                case 5:
                  _context2.prev = 5;

                  _this2._appAPIlock = methodName;
                  _this2.setScrambleKey(scrambleKey);
                  _context2.next = 10;
                  return f.apply(ctx, args);

                case 10:
                  return _context2.abrupt("return", _context2.sent);

                case 11:
                  _context2.prev = 11;

                  _this2._appAPIlock = null;
                  return _context2.finish(11);

                case 14:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2, _this2, [[5,, 11, 14]]);
        }));

        return function () {
          return _ref2.apply(this, arguments);
        };
      }();
    }
  }], [{
    key: "create",


    /**
     * create() allows to open the first descriptor available or
     * throw if there is none or if timeout is reached.
     * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)
     * @example
    TransportFoo.create().then(transport => ...)
     */
    value: function create() {
      var _this3 = this;

      var openTimeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3000;
      var listenTimeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10000;

      return new _promise2.default(function (resolve, reject) {
        var found = false;
        var sub = _this3.listen({
          next: function next(e) {
            found = true;
            if (sub) sub.unsubscribe();
            clearTimeout(listenTimeoutId);
            _this3.open(e.descriptor, openTimeout).then(resolve, reject);
          },
          error: function error(e) {
            clearTimeout(listenTimeoutId);
            reject(e);
          },
          complete: function complete() {
            clearTimeout(listenTimeoutId);
            if (!found) {
              reject(new TransportError(_this3.ErrorMessage_NoDeviceFound, "NoDeviceFound"));
            }
          }
        });
        var listenTimeoutId = setTimeout(function () {
          sub.unsubscribe();
          reject(new TransportError(_this3.ErrorMessage_ListenTimeout, "ListenTimeout"));
        }, listenTimeout);
      });
    }
  }]);
  return Transport;
}();

Transport.ErrorMessage_ListenTimeout = "No Ledger device found (timeout)";
Transport.ErrorMessage_NoDeviceFound = "No Ledger device found";
exports.default = Transport;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)
},{"babel-runtime/core-js/get-iterator":4,"babel-runtime/core-js/object/assign":5,"babel-runtime/core-js/object/keys":9,"babel-runtime/core-js/promise":11,"babel-runtime/helpers/asyncToGenerator":14,"babel-runtime/helpers/classCallCheck":15,"babel-runtime/helpers/createClass":16,"babel-runtime/helpers/toConsumableArray":19,"babel-runtime/regenerator":23,"buffer":25,"events":131}],3:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/array/from"), __esModule: true };
},{"core-js/library/fn/array/from":26}],4:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/get-iterator"), __esModule: true };
},{"core-js/library/fn/get-iterator":27}],5:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/assign"), __esModule: true };
},{"core-js/library/fn/object/assign":28}],6:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/create"), __esModule: true };
},{"core-js/library/fn/object/create":29}],7:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
},{"core-js/library/fn/object/define-property":30}],8:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/get-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/get-prototype-of":31}],9:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/keys"), __esModule: true };
},{"core-js/library/fn/object/keys":32}],10:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/object/set-prototype-of"), __esModule: true };
},{"core-js/library/fn/object/set-prototype-of":33}],11:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/promise"), __esModule: true };
},{"core-js/library/fn/promise":34}],12:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol"), __esModule: true };
},{"core-js/library/fn/symbol":35}],13:[function(require,module,exports){
module.exports = { "default": require("core-js/library/fn/symbol/iterator"), __esModule: true };
},{"core-js/library/fn/symbol/iterator":36}],14:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _promise = require("../core-js/promise");

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (fn) {
  return function () {
    var gen = fn.apply(this, arguments);
    return new _promise2.default(function (resolve, reject) {
      function step(key, arg) {
        try {
          var info = gen[key](arg);
          var value = info.value;
        } catch (error) {
          reject(error);
          return;
        }

        if (info.done) {
          resolve(value);
        } else {
          return _promise2.default.resolve(value).then(function (value) {
            step("next", value);
          }, function (err) {
            step("throw", err);
          });
        }
      }

      return step("next");
    });
  };
};
},{"../core-js/promise":11}],15:[function(require,module,exports){
"use strict";

exports.__esModule = true;

exports.default = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};
},{}],16:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _defineProperty = require("../core-js/object/define-property");

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();
},{"../core-js/object/define-property":7}],17:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _setPrototypeOf = require("../core-js/object/set-prototype-of");

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = require("../core-js/object/create");

var _create2 = _interopRequireDefault(_create);

var _typeof2 = require("../helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }

  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
};
},{"../core-js/object/create":6,"../core-js/object/set-prototype-of":10,"../helpers/typeof":20}],18:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _typeof2 = require("../helpers/typeof");

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
};
},{"../helpers/typeof":20}],19:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _from = require("../core-js/array/from");

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
};
},{"../core-js/array/from":3}],20:[function(require,module,exports){
"use strict";

exports.__esModule = true;

var _iterator = require("../core-js/symbol/iterator");

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = require("../core-js/symbol");

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
};
},{"../core-js/symbol":12,"../core-js/symbol/iterator":13}],21:[function(require,module,exports){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g = (function() { return this })() || Function("return this")();

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = require("./runtime");

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

},{"./runtime":22}],22:[function(require,module,exports){
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() { return this })() || Function("return this")()
);

},{}],23:[function(require,module,exports){
module.exports = require("regenerator-runtime");

},{"regenerator-runtime":21}],24:[function(require,module,exports){
'use strict'

exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  for (var i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}

},{}],25:[function(require,module,exports){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

'use strict'

var base64 = require('base64-js')
var ieee754 = require('ieee754')

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

var K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  var buf = new Uint8Array(length)
  buf.__proto__ = Buffer.prototype
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
if (typeof Symbol !== 'undefined' && Symbol.species != null &&
    Buffer[Symbol.species] === Buffer) {
  Object.defineProperty(Buffer, Symbol.species, {
    value: null,
    configurable: true,
    enumerable: false,
    writable: false
  })
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayLike(value)
  }

  if (value == null) {
    throw TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  var valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  var b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(
      value[Symbol.toPrimitive]('string'), encodingOrOffset, length
    )
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Buffer.prototype.__proto__ = Uint8Array.prototype
Buffer.__proto__ = Uint8Array

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  var length = byteLength(string, encoding) | 0
  var buf = createBuffer(length)

  var actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  var buf = createBuffer(length)
  for (var i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  var buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  buf.__proto__ = Buffer.prototype
  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    var buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      buf = Buffer.from(buf)
    }
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  var len = string.length
  var mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  var strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
        : (firstByte > 0xBF) ? 2
          : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  newBuf.__proto__ = Buffer.prototype
  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (var i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    var len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

},{"base64-js":24,"ieee754":132}],26:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/es6.array.from');
module.exports = require('../../modules/_core').Array.from;

},{"../../modules/_core":44,"../../modules/es6.array.from":114,"../../modules/es6.string.iterator":124}],27:[function(require,module,exports){
require('../modules/web.dom.iterable');
require('../modules/es6.string.iterator');
module.exports = require('../modules/core.get-iterator');

},{"../modules/core.get-iterator":113,"../modules/es6.string.iterator":124,"../modules/web.dom.iterable":130}],28:[function(require,module,exports){
require('../../modules/es6.object.assign');
module.exports = require('../../modules/_core').Object.assign;

},{"../../modules/_core":44,"../../modules/es6.object.assign":116}],29:[function(require,module,exports){
require('../../modules/es6.object.create');
var $Object = require('../../modules/_core').Object;
module.exports = function create(P, D) {
  return $Object.create(P, D);
};

},{"../../modules/_core":44,"../../modules/es6.object.create":117}],30:[function(require,module,exports){
require('../../modules/es6.object.define-property');
var $Object = require('../../modules/_core').Object;
module.exports = function defineProperty(it, key, desc) {
  return $Object.defineProperty(it, key, desc);
};

},{"../../modules/_core":44,"../../modules/es6.object.define-property":118}],31:[function(require,module,exports){
require('../../modules/es6.object.get-prototype-of');
module.exports = require('../../modules/_core').Object.getPrototypeOf;

},{"../../modules/_core":44,"../../modules/es6.object.get-prototype-of":119}],32:[function(require,module,exports){
require('../../modules/es6.object.keys');
module.exports = require('../../modules/_core').Object.keys;

},{"../../modules/_core":44,"../../modules/es6.object.keys":120}],33:[function(require,module,exports){
require('../../modules/es6.object.set-prototype-of');
module.exports = require('../../modules/_core').Object.setPrototypeOf;

},{"../../modules/_core":44,"../../modules/es6.object.set-prototype-of":121}],34:[function(require,module,exports){
require('../modules/es6.object.to-string');
require('../modules/es6.string.iterator');
require('../modules/web.dom.iterable');
require('../modules/es6.promise');
require('../modules/es7.promise.finally');
require('../modules/es7.promise.try');
module.exports = require('../modules/_core').Promise;

},{"../modules/_core":44,"../modules/es6.object.to-string":122,"../modules/es6.promise":123,"../modules/es6.string.iterator":124,"../modules/es7.promise.finally":126,"../modules/es7.promise.try":127,"../modules/web.dom.iterable":130}],35:[function(require,module,exports){
require('../../modules/es6.symbol');
require('../../modules/es6.object.to-string');
require('../../modules/es7.symbol.async-iterator');
require('../../modules/es7.symbol.observable');
module.exports = require('../../modules/_core').Symbol;

},{"../../modules/_core":44,"../../modules/es6.object.to-string":122,"../../modules/es6.symbol":125,"../../modules/es7.symbol.async-iterator":128,"../../modules/es7.symbol.observable":129}],36:[function(require,module,exports){
require('../../modules/es6.string.iterator');
require('../../modules/web.dom.iterable');
module.exports = require('../../modules/_wks-ext').f('iterator');

},{"../../modules/_wks-ext":110,"../../modules/es6.string.iterator":124,"../../modules/web.dom.iterable":130}],37:[function(require,module,exports){
module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};

},{}],38:[function(require,module,exports){
module.exports = function () { /* empty */ };

},{}],39:[function(require,module,exports){
module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};

},{}],40:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};

},{"./_is-object":64}],41:[function(require,module,exports){
// false -> Array#indexOf
// true  -> Array#includes
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');
var toAbsoluteIndex = require('./_to-absolute-index');
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

},{"./_to-absolute-index":101,"./_to-iobject":103,"./_to-length":104}],42:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./_cof');
var TAG = require('./_wks')('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};

},{"./_cof":43,"./_wks":111}],43:[function(require,module,exports){
var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};

},{}],44:[function(require,module,exports){
var core = module.exports = { version: '2.5.7' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef

},{}],45:[function(require,module,exports){
'use strict';
var $defineProperty = require('./_object-dp');
var createDesc = require('./_property-desc');

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};

},{"./_object-dp":77,"./_property-desc":90}],46:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./_a-function');
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};

},{"./_a-function":37}],47:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};

},{}],48:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./_fails')(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_fails":53}],49:[function(require,module,exports){
var isObject = require('./_is-object');
var document = require('./_global').document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};

},{"./_global":55,"./_is-object":64}],50:[function(require,module,exports){
// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');

},{}],51:[function(require,module,exports){
// all enumerable object keys, includes symbols
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};

},{"./_object-gops":82,"./_object-keys":85,"./_object-pie":86}],52:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var ctx = require('./_ctx');
var hide = require('./_hide');
var has = require('./_has');
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && has(exports, key)) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;

},{"./_core":44,"./_ctx":46,"./_global":55,"./_has":56,"./_hide":57}],53:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};

},{}],54:[function(require,module,exports){
var ctx = require('./_ctx');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var anObject = require('./_an-object');
var toLength = require('./_to-length');
var getIterFn = require('./core.get-iterator-method');
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;

},{"./_an-object":40,"./_ctx":46,"./_is-array-iter":62,"./_iter-call":65,"./_to-length":104,"./core.get-iterator-method":112}],55:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef

},{}],56:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};

},{}],57:[function(require,module,exports){
var dP = require('./_object-dp');
var createDesc = require('./_property-desc');
module.exports = require('./_descriptors') ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};

},{"./_descriptors":48,"./_object-dp":77,"./_property-desc":90}],58:[function(require,module,exports){
var document = require('./_global').document;
module.exports = document && document.documentElement;

},{"./_global":55}],59:[function(require,module,exports){
module.exports = !require('./_descriptors') && !require('./_fails')(function () {
  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_descriptors":48,"./_dom-create":49,"./_fails":53}],60:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};

},{}],61:[function(require,module,exports){
// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = require('./_cof');
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};

},{"./_cof":43}],62:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./_iterators');
var ITERATOR = require('./_wks')('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};

},{"./_iterators":70,"./_wks":111}],63:[function(require,module,exports){
// 7.2.2 IsArray(argument)
var cof = require('./_cof');
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};

},{"./_cof":43}],64:[function(require,module,exports){
module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

},{}],65:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./_an-object');
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};

},{"./_an-object":40}],66:[function(require,module,exports){
'use strict';
var create = require('./_object-create');
var descriptor = require('./_property-desc');
var setToStringTag = require('./_set-to-string-tag');
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};

},{"./_hide":57,"./_object-create":76,"./_property-desc":90,"./_set-to-string-tag":95,"./_wks":111}],67:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var $export = require('./_export');
var redefine = require('./_redefine');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var $iterCreate = require('./_iter-create');
var setToStringTag = require('./_set-to-string-tag');
var getPrototypeOf = require('./_object-gpo');
var ITERATOR = require('./_wks')('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};

},{"./_export":52,"./_hide":57,"./_iter-create":66,"./_iterators":70,"./_library":71,"./_object-gpo":83,"./_redefine":92,"./_set-to-string-tag":95,"./_wks":111}],68:[function(require,module,exports){
var ITERATOR = require('./_wks')('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};

},{"./_wks":111}],69:[function(require,module,exports){
module.exports = function (done, value) {
  return { value: value, done: !!done };
};

},{}],70:[function(require,module,exports){
module.exports = {};

},{}],71:[function(require,module,exports){
module.exports = true;

},{}],72:[function(require,module,exports){
var META = require('./_uid')('meta');
var isObject = require('./_is-object');
var has = require('./_has');
var setDesc = require('./_object-dp').f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !require('./_fails')(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};

},{"./_fails":53,"./_has":56,"./_is-object":64,"./_object-dp":77,"./_uid":107}],73:[function(require,module,exports){
var global = require('./_global');
var macrotask = require('./_task').set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = require('./_cof')(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    var promise = Promise.resolve(undefined);
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};

},{"./_cof":43,"./_global":55,"./_task":100}],74:[function(require,module,exports){
'use strict';
// 25.4.1.5 NewPromiseCapability(C)
var aFunction = require('./_a-function');

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};

},{"./_a-function":37}],75:[function(require,module,exports){
'use strict';
// 19.1.2.1 Object.assign(target, source, ...)
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
var toObject = require('./_to-object');
var IObject = require('./_iobject');
var $assign = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || require('./_fails')(function () {
  var A = {};
  var B = {};
  // eslint-disable-next-line no-undef
  var S = Symbol();
  var K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function (k) { B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
  var T = toObject(target);
  var aLen = arguments.length;
  var index = 1;
  var getSymbols = gOPS.f;
  var isEnum = pIE.f;
  while (aLen > index) {
    var S = IObject(arguments[index++]);
    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
  } return T;
} : $assign;

},{"./_fails":53,"./_iobject":61,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_to-object":105}],76:[function(require,module,exports){
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = require('./_an-object');
var dPs = require('./_object-dps');
var enumBugKeys = require('./_enum-bug-keys');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = require('./_dom-create')('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  require('./_html').appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};

},{"./_an-object":40,"./_dom-create":49,"./_enum-bug-keys":50,"./_html":58,"./_object-dps":78,"./_shared-key":96}],77:[function(require,module,exports){
var anObject = require('./_an-object');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var toPrimitive = require('./_to-primitive');
var dP = Object.defineProperty;

exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};

},{"./_an-object":40,"./_descriptors":48,"./_ie8-dom-define":59,"./_to-primitive":106}],78:[function(require,module,exports){
var dP = require('./_object-dp');
var anObject = require('./_an-object');
var getKeys = require('./_object-keys');

module.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};

},{"./_an-object":40,"./_descriptors":48,"./_object-dp":77,"./_object-keys":85}],79:[function(require,module,exports){
var pIE = require('./_object-pie');
var createDesc = require('./_property-desc');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var has = require('./_has');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};

},{"./_descriptors":48,"./_has":56,"./_ie8-dom-define":59,"./_object-pie":86,"./_property-desc":90,"./_to-iobject":103,"./_to-primitive":106}],80:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = require('./_to-iobject');
var gOPN = require('./_object-gopn').f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};

},{"./_object-gopn":81,"./_to-iobject":103}],81:[function(require,module,exports){
// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = require('./_object-keys-internal');
var hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};

},{"./_enum-bug-keys":50,"./_object-keys-internal":84}],82:[function(require,module,exports){
exports.f = Object.getOwnPropertySymbols;

},{}],83:[function(require,module,exports){
// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = require('./_has');
var toObject = require('./_to-object');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};

},{"./_has":56,"./_shared-key":96,"./_to-object":105}],84:[function(require,module,exports){
var has = require('./_has');
var toIObject = require('./_to-iobject');
var arrayIndexOf = require('./_array-includes')(false);
var IE_PROTO = require('./_shared-key')('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};

},{"./_array-includes":41,"./_has":56,"./_shared-key":96,"./_to-iobject":103}],85:[function(require,module,exports){
// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = require('./_object-keys-internal');
var enumBugKeys = require('./_enum-bug-keys');

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};

},{"./_enum-bug-keys":50,"./_object-keys-internal":84}],86:[function(require,module,exports){
exports.f = {}.propertyIsEnumerable;

},{}],87:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
var $export = require('./_export');
var core = require('./_core');
var fails = require('./_fails');
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};

},{"./_core":44,"./_export":52,"./_fails":53}],88:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};

},{}],89:[function(require,module,exports){
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var newPromiseCapability = require('./_new-promise-capability');

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};

},{"./_an-object":40,"./_is-object":64,"./_new-promise-capability":74}],90:[function(require,module,exports){
module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};

},{}],91:[function(require,module,exports){
var hide = require('./_hide');
module.exports = function (target, src, safe) {
  for (var key in src) {
    if (safe && target[key]) target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};

},{"./_hide":57}],92:[function(require,module,exports){
module.exports = require('./_hide');

},{"./_hide":57}],93:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = require('./_is-object');
var anObject = require('./_an-object');
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};

},{"./_an-object":40,"./_ctx":46,"./_is-object":64,"./_object-gopd":79}],94:[function(require,module,exports){
'use strict';
var global = require('./_global');
var core = require('./_core');
var dP = require('./_object-dp');
var DESCRIPTORS = require('./_descriptors');
var SPECIES = require('./_wks')('species');

module.exports = function (KEY) {
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};

},{"./_core":44,"./_descriptors":48,"./_global":55,"./_object-dp":77,"./_wks":111}],95:[function(require,module,exports){
var def = require('./_object-dp').f;
var has = require('./_has');
var TAG = require('./_wks')('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};

},{"./_has":56,"./_object-dp":77,"./_wks":111}],96:[function(require,module,exports){
var shared = require('./_shared')('keys');
var uid = require('./_uid');
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};

},{"./_shared":97,"./_uid":107}],97:[function(require,module,exports){
var core = require('./_core');
var global = require('./_global');
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: require('./_library') ? 'pure' : 'global',
  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'
});

},{"./_core":44,"./_global":55,"./_library":71}],98:[function(require,module,exports){
// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var SPECIES = require('./_wks')('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};

},{"./_a-function":37,"./_an-object":40,"./_wks":111}],99:[function(require,module,exports){
var toInteger = require('./_to-integer');
var defined = require('./_defined');
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};

},{"./_defined":47,"./_to-integer":102}],100:[function(require,module,exports){
var ctx = require('./_ctx');
var invoke = require('./_invoke');
var html = require('./_html');
var cel = require('./_dom-create');
var global = require('./_global');
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (require('./_cof')(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};

},{"./_cof":43,"./_ctx":46,"./_dom-create":49,"./_global":55,"./_html":58,"./_invoke":60}],101:[function(require,module,exports){
var toInteger = require('./_to-integer');
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

},{"./_to-integer":102}],102:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

},{}],103:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./_iobject');
var defined = require('./_defined');
module.exports = function (it) {
  return IObject(defined(it));
};

},{"./_defined":47,"./_iobject":61}],104:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./_to-integer');
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

},{"./_to-integer":102}],105:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./_defined');
module.exports = function (it) {
  return Object(defined(it));
};

},{"./_defined":47}],106:[function(require,module,exports){
// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = require('./_is-object');
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};

},{"./_is-object":64}],107:[function(require,module,exports){
var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

},{}],108:[function(require,module,exports){
var global = require('./_global');
var navigator = global.navigator;

module.exports = navigator && navigator.userAgent || '';

},{"./_global":55}],109:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var LIBRARY = require('./_library');
var wksExt = require('./_wks-ext');
var defineProperty = require('./_object-dp').f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};

},{"./_core":44,"./_global":55,"./_library":71,"./_object-dp":77,"./_wks-ext":110}],110:[function(require,module,exports){
exports.f = require('./_wks');

},{"./_wks":111}],111:[function(require,module,exports){
var store = require('./_shared')('wks');
var uid = require('./_uid');
var Symbol = require('./_global').Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

},{"./_global":55,"./_shared":97,"./_uid":107}],112:[function(require,module,exports){
var classof = require('./_classof');
var ITERATOR = require('./_wks')('iterator');
var Iterators = require('./_iterators');
module.exports = require('./_core').getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};

},{"./_classof":42,"./_core":44,"./_iterators":70,"./_wks":111}],113:[function(require,module,exports){
var anObject = require('./_an-object');
var get = require('./core.get-iterator-method');
module.exports = require('./_core').getIterator = function (it) {
  var iterFn = get(it);
  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};

},{"./_an-object":40,"./_core":44,"./core.get-iterator-method":112}],114:[function(require,module,exports){
'use strict';
var ctx = require('./_ctx');
var $export = require('./_export');
var toObject = require('./_to-object');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var toLength = require('./_to-length');
var createProperty = require('./_create-property');
var getIterFn = require('./core.get-iterator-method');

$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});

},{"./_create-property":45,"./_ctx":46,"./_export":52,"./_is-array-iter":62,"./_iter-call":65,"./_iter-detect":68,"./_to-length":104,"./_to-object":105,"./core.get-iterator-method":112}],115:[function(require,module,exports){
'use strict';
var addToUnscopables = require('./_add-to-unscopables');
var step = require('./_iter-step');
var Iterators = require('./_iterators');
var toIObject = require('./_to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

},{"./_add-to-unscopables":38,"./_iter-define":67,"./_iter-step":69,"./_iterators":70,"./_to-iobject":103}],116:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $export = require('./_export');

$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });

},{"./_export":52,"./_object-assign":75}],117:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: require('./_object-create') });

},{"./_export":52,"./_object-create":76}],118:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });

},{"./_descriptors":48,"./_export":52,"./_object-dp":77}],119:[function(require,module,exports){
// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = require('./_to-object');
var $getPrototypeOf = require('./_object-gpo');

require('./_object-sap')('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});

},{"./_object-gpo":83,"./_object-sap":87,"./_to-object":105}],120:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./_to-object');
var $keys = require('./_object-keys');

require('./_object-sap')('keys', function () {
  return function keys(it) {
    return $keys(toObject(it));
  };
});

},{"./_object-keys":85,"./_object-sap":87,"./_to-object":105}],121:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = require('./_export');
$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });

},{"./_export":52,"./_set-proto":93}],122:[function(require,module,exports){

},{}],123:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var global = require('./_global');
var ctx = require('./_ctx');
var classof = require('./_classof');
var $export = require('./_export');
var isObject = require('./_is-object');
var aFunction = require('./_a-function');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var speciesConstructor = require('./_species-constructor');
var task = require('./_task').set;
var microtask = require('./_microtask')();
var newPromiseCapabilityModule = require('./_new-promise-capability');
var perform = require('./_perform');
var userAgent = require('./_user-agent');
var promiseResolve = require('./_promise-resolve');
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8 || '';
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function')
      && promise.then(empty) instanceof FakePromise
      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
      // we can't detect it synchronously, so just check versions
      && v8.indexOf('6.6') !== 0
      && userAgent.indexOf('Chrome/66') === -1;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then, exited;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value); // may throw
            if (domain) {
              domain.exit();
              exited = true;
            }
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        if (domain && !exited) domain.exit();
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = require('./_redefine-all')($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
require('./_set-to-string-tag')($Promise, PROMISE);
require('./_set-species')(PROMISE);
Wrapper = require('./_core')[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});

},{"./_a-function":37,"./_an-instance":39,"./_classof":42,"./_core":44,"./_ctx":46,"./_export":52,"./_for-of":54,"./_global":55,"./_is-object":64,"./_iter-detect":68,"./_library":71,"./_microtask":73,"./_new-promise-capability":74,"./_perform":88,"./_promise-resolve":89,"./_redefine-all":91,"./_set-species":94,"./_set-to-string-tag":95,"./_species-constructor":98,"./_task":100,"./_user-agent":108,"./_wks":111}],124:[function(require,module,exports){
'use strict';
var $at = require('./_string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./_iter-define')(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});

},{"./_iter-define":67,"./_string-at":99}],125:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var global = require('./_global');
var has = require('./_has');
var DESCRIPTORS = require('./_descriptors');
var $export = require('./_export');
var redefine = require('./_redefine');
var META = require('./_meta').KEY;
var $fails = require('./_fails');
var shared = require('./_shared');
var setToStringTag = require('./_set-to-string-tag');
var uid = require('./_uid');
var wks = require('./_wks');
var wksExt = require('./_wks-ext');
var wksDefine = require('./_wks-define');
var enumKeys = require('./_enum-keys');
var isArray = require('./_is-array');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var createDesc = require('./_property-desc');
var _create = require('./_object-create');
var gOPNExt = require('./_object-gopn-ext');
var $GOPD = require('./_object-gopd');
var $DP = require('./_object-dp');
var $keys = require('./_object-keys');
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;
  require('./_object-pie').f = $propertyIsEnumerable;
  require('./_object-gops').f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !require('./_library')) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);

},{"./_an-object":40,"./_descriptors":48,"./_enum-keys":51,"./_export":52,"./_fails":53,"./_global":55,"./_has":56,"./_hide":57,"./_is-array":63,"./_is-object":64,"./_library":71,"./_meta":72,"./_object-create":76,"./_object-dp":77,"./_object-gopd":79,"./_object-gopn":81,"./_object-gopn-ext":80,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_property-desc":90,"./_redefine":92,"./_set-to-string-tag":95,"./_shared":97,"./_to-iobject":103,"./_to-primitive":106,"./_uid":107,"./_wks":111,"./_wks-define":109,"./_wks-ext":110}],126:[function(require,module,exports){
// https://github.com/tc39/proposal-promise-finally
'use strict';
var $export = require('./_export');
var core = require('./_core');
var global = require('./_global');
var speciesConstructor = require('./_species-constructor');
var promiseResolve = require('./_promise-resolve');

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });

},{"./_core":44,"./_export":52,"./_global":55,"./_promise-resolve":89,"./_species-constructor":98}],127:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-promise-try
var $export = require('./_export');
var newPromiseCapability = require('./_new-promise-capability');
var perform = require('./_perform');

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });

},{"./_export":52,"./_new-promise-capability":74,"./_perform":88}],128:[function(require,module,exports){
require('./_wks-define')('asyncIterator');

},{"./_wks-define":109}],129:[function(require,module,exports){
require('./_wks-define')('observable');

},{"./_wks-define":109}],130:[function(require,module,exports){
require('./es6.array.iterator');
var global = require('./_global');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var TO_STRING_TAG = require('./_wks')('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}

},{"./_global":55,"./_hide":57,"./_iterators":70,"./_wks":111,"./es6.array.iterator":115}],131:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var objectCreate = Object.create || objectCreatePolyfill
var objectKeys = Object.keys || objectKeysPolyfill
var bind = Function.prototype.bind || functionBindPolyfill

function EventEmitter() {
  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {
    this._events = objectCreate(null);
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
var defaultMaxListeners = 10;

var hasDefineProperty;
try {
  var o = {};
  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });
  hasDefineProperty = o.x === 0;
} catch (err) { hasDefineProperty = false }
if (hasDefineProperty) {
  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {
    enumerable: true,
    get: function() {
      return defaultMaxListeners;
    },
    set: function(arg) {
      // check whether the input is a positive number (whose value is zero or
      // greater and not a NaN).
      if (typeof arg !== 'number' || arg < 0 || arg !== arg)
        throw new TypeError('"defaultMaxListeners" must be a positive number');
      defaultMaxListeners = arg;
    }
  });
} else {
  EventEmitter.defaultMaxListeners = defaultMaxListeners;
}

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== 'number' || n < 0 || isNaN(n))
    throw new TypeError('"n" argument must be a positive number');
  this._maxListeners = n;
  return this;
};

function $getMaxListeners(that) {
  if (that._maxListeners === undefined)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}

EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return $getMaxListeners(this);
};

// These standalone emit* functions are used to optimize calling of event
// handlers for fast cases because emit() itself often has a variable number of
// arguments and can be deoptimized because of that. These functions always have
// the same number of arguments and thus do not get deoptimized, so the code
// inside them can execute faster.
function emitNone(handler, isFn, self) {
  if (isFn)
    handler.call(self);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self);
  }
}
function emitOne(handler, isFn, self, arg1) {
  if (isFn)
    handler.call(self, arg1);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self, arg1);
  }
}
function emitTwo(handler, isFn, self, arg1, arg2) {
  if (isFn)
    handler.call(self, arg1, arg2);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self, arg1, arg2);
  }
}
function emitThree(handler, isFn, self, arg1, arg2, arg3) {
  if (isFn)
    handler.call(self, arg1, arg2, arg3);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].call(self, arg1, arg2, arg3);
  }
}

function emitMany(handler, isFn, self, args) {
  if (isFn)
    handler.apply(self, args);
  else {
    var len = handler.length;
    var listeners = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners[i].apply(self, args);
  }
}

EventEmitter.prototype.emit = function emit(type) {
  var er, handler, len, args, i, events;
  var doError = (type === 'error');

  events = this._events;
  if (events)
    doError = (doError && events.error == null);
  else if (!doError)
    return false;

  // If there is no 'error' event listener then throw.
  if (doError) {
    if (arguments.length > 1)
      er = arguments[1];
    if (er instanceof Error) {
      throw er; // Unhandled 'error' event
    } else {
      // At least give some kind of context to the user
      var err = new Error('Unhandled "error" event. (' + er + ')');
      err.context = er;
      throw err;
    }
    return false;
  }

  handler = events[type];

  if (!handler)
    return false;

  var isFn = typeof handler === 'function';
  len = arguments.length;
  switch (len) {
      // fast cases
    case 1:
      emitNone(handler, isFn, this);
      break;
    case 2:
      emitOne(handler, isFn, this, arguments[1]);
      break;
    case 3:
      emitTwo(handler, isFn, this, arguments[1], arguments[2]);
      break;
    case 4:
      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);
      break;
      // slower
    default:
      args = new Array(len - 1);
      for (i = 1; i < len; i++)
        args[i - 1] = arguments[i];
      emitMany(handler, isFn, this, args);
  }

  return true;
};

function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;

  if (typeof listener !== 'function')
    throw new TypeError('"listener" argument must be a function');

  events = target._events;
  if (!events) {
    events = target._events = objectCreate(null);
    target._eventsCount = 0;
  } else {
    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (events.newListener) {
      target.emit('newListener', type,
          listener.listener ? listener.listener : listener);

      // Re-assign `events` because a newListener handler could have caused the
      // this._events to be assigned to a new object
      events = target._events;
    }
    existing = events[type];
  }

  if (!existing) {
    // Optimize the case of one listener. Don't need the extra array object.
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === 'function') {
      // Adding the second element, need to change to array.
      existing = events[type] =
          prepend ? [listener, existing] : [existing, listener];
    } else {
      // If we've already got an array, just append.
      if (prepend) {
        existing.unshift(listener);
      } else {
        existing.push(listener);
      }
    }

    // Check for listener leak
    if (!existing.warned) {
      m = $getMaxListeners(target);
      if (m && m > 0 && existing.length > m) {
        existing.warned = true;
        var w = new Error('Possible EventEmitter memory leak detected. ' +
            existing.length + ' "' + String(type) + '" listeners ' +
            'added. Use emitter.setMaxListeners() to ' +
            'increase limit.');
        w.name = 'MaxListenersExceededWarning';
        w.emitter = target;
        w.type = type;
        w.count = existing.length;
        if (typeof console === 'object' && console.warn) {
          console.warn('%s: %s', w.name, w.message);
        }
      }
    }
  }

  return target;
}

EventEmitter.prototype.addListener = function addListener(type, listener) {
  return _addListener(this, type, listener, false);
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.prependListener =
    function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };

function onceWrapper() {
  if (!this.fired) {
    this.target.removeListener(this.type, this.wrapFn);
    this.fired = true;
    switch (arguments.length) {
      case 0:
        return this.listener.call(this.target);
      case 1:
        return this.listener.call(this.target, arguments[0]);
      case 2:
        return this.listener.call(this.target, arguments[0], arguments[1]);
      case 3:
        return this.listener.call(this.target, arguments[0], arguments[1],
            arguments[2]);
      default:
        var args = new Array(arguments.length);
        for (var i = 0; i < args.length; ++i)
          args[i] = arguments[i];
        this.listener.apply(this.target, args);
    }
  }
}

function _onceWrap(target, type, listener) {
  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };
  var wrapped = bind.call(onceWrapper, state);
  wrapped.listener = listener;
  state.wrapFn = wrapped;
  return wrapped;
}

EventEmitter.prototype.once = function once(type, listener) {
  if (typeof listener !== 'function')
    throw new TypeError('"listener" argument must be a function');
  this.on(type, _onceWrap(this, type, listener));
  return this;
};

EventEmitter.prototype.prependOnceListener =
    function prependOnceListener(type, listener) {
      if (typeof listener !== 'function')
        throw new TypeError('"listener" argument must be a function');
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };

// Emits a 'removeListener' event if and only if the listener was removed.
EventEmitter.prototype.removeListener =
    function removeListener(type, listener) {
      var list, events, position, i, originalListener;

      if (typeof listener !== 'function')
        throw new TypeError('"listener" argument must be a function');

      events = this._events;
      if (!events)
        return this;

      list = events[type];
      if (!list)
        return this;

      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = objectCreate(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit('removeListener', type, list.listener || listener);
        }
      } else if (typeof list !== 'function') {
        position = -1;

        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }

        if (position < 0)
          return this;

        if (position === 0)
          list.shift();
        else
          spliceOne(list, position);

        if (list.length === 1)
          events[type] = list[0];

        if (events.removeListener)
          this.emit('removeListener', type, originalListener || listener);
      }

      return this;
    };

EventEmitter.prototype.removeAllListeners =
    function removeAllListeners(type) {
      var listeners, events, i;

      events = this._events;
      if (!events)
        return this;

      // not listening for removeListener, no need to emit
      if (!events.removeListener) {
        if (arguments.length === 0) {
          this._events = objectCreate(null);
          this._eventsCount = 0;
        } else if (events[type]) {
          if (--this._eventsCount === 0)
            this._events = objectCreate(null);
          else
            delete events[type];
        }
        return this;
      }

      // emit removeListener for all listeners on all events
      if (arguments.length === 0) {
        var keys = objectKeys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === 'removeListener') continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = objectCreate(null);
        this._eventsCount = 0;
        return this;
      }

      listeners = events[type];

      if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
      } else if (listeners) {
        // LIFO order
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }

      return this;
    };

function _listeners(target, type, unwrap) {
  var events = target._events;

  if (!events)
    return [];

  var evlistener = events[type];
  if (!evlistener)
    return [];

  if (typeof evlistener === 'function')
    return unwrap ? [evlistener.listener || evlistener] : [evlistener];

  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
}

EventEmitter.prototype.listeners = function listeners(type) {
  return _listeners(this, type, true);
};

EventEmitter.prototype.rawListeners = function rawListeners(type) {
  return _listeners(this, type, false);
};

EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};

EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;

  if (events) {
    var evlistener = events[type];

    if (typeof evlistener === 'function') {
      return 1;
    } else if (evlistener) {
      return evlistener.length;
    }
  }

  return 0;
}

EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
};

// About 1.5x faster than the two-arg version of Array#splice().
function spliceOne(list, index) {
  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)
    list[i] = list[k];
  list.pop();
}

function arrayClone(arr, n) {
  var copy = new Array(n);
  for (var i = 0; i < n; ++i)
    copy[i] = arr[i];
  return copy;
}

function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

function objectCreatePolyfill(proto) {
  var F = function() {};
  F.prototype = proto;
  return new F;
}
function objectKeysPolyfill(obj) {
  var keys = [];
  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {
    keys.push(k);
  }
  return k;
}
function functionBindPolyfill(context) {
  var fn = this;
  return function () {
    return fn.apply(context, arguments);
  };
}

},{}],132:[function(require,module,exports){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

},{}],133:[function(require,module,exports){
'use strict';
module.exports = require( './lib/u2f-api' );
},{"./lib/u2f-api":135}],134:[function(require,module,exports){
// Copyright 2014 Google Inc. All rights reserved
//
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file or at
// https://developers.google.com/open-source/licenses/bsd

/**
 * @fileoverview The U2F api.
 */

'use strict';

/** Namespace for the U2F api.
 * @type {Object}
 */
var u2f = u2f || {};

module.exports = u2f; // Adaptation for u2f-api package

/**
 * The U2F extension id
 * @type {string}
 * @const
 */
u2f.EXTENSION_ID = 'kmendfapggjehodndflmmgagdbamhnfd';

/**
 * Message types for messsages to/from the extension
 * @const
 * @enum {string}
 */
u2f.MessageTypes = {
  'U2F_REGISTER_REQUEST': 'u2f_register_request',
  'U2F_SIGN_REQUEST': 'u2f_sign_request',
  'U2F_REGISTER_RESPONSE': 'u2f_register_response',
  'U2F_SIGN_RESPONSE': 'u2f_sign_response'
};

/**
 * Response status codes
 * @const
 * @enum {number}
 */
u2f.ErrorCodes = {
  'OK': 0,
  'OTHER_ERROR': 1,
  'BAD_REQUEST': 2,
  'CONFIGURATION_UNSUPPORTED': 3,
  'DEVICE_INELIGIBLE': 4,
  'TIMEOUT': 5
};

/**
 * A message type for registration requests
 * @typedef {{
 *   type: u2f.MessageTypes,
 *   signRequests: Array.<u2f.SignRequest>,
 *   registerRequests: ?Array.<u2f.RegisterRequest>,
 *   timeoutSeconds: ?number,
 *   requestId: ?number
 * }}
 */
u2f.Request;

/**
 * A message for registration responses
 * @typedef {{
 *   type: u2f.MessageTypes,
 *   responseData: (u2f.Error | u2f.RegisterResponse | u2f.SignResponse),
 *   requestId: ?number
 * }}
 */
u2f.Response;

/**
 * An error object for responses
 * @typedef {{
 *   errorCode: u2f.ErrorCodes,
 *   errorMessage: ?string
 * }}
 */
u2f.Error;

/**
 * Data object for a single sign request.
 * @typedef {{
 *   version: string,
 *   challenge: string,
 *   keyHandle: string,
 *   appId: string
 * }}
 */
u2f.SignRequest;

/**
 * Data object for a sign response.
 * @typedef {{
 *   keyHandle: string,
 *   signatureData: string,
 *   clientData: string
 * }}
 */
u2f.SignResponse;

/**
 * Data object for a registration request.
 * @typedef {{
 *   version: string,
 *   challenge: string,
 *   appId: string
 * }}
 */
u2f.RegisterRequest;

/**
 * Data object for a registration response.
 * @typedef {{
 *   registrationData: string,
 *   clientData: string
 * }}
 */
u2f.RegisterResponse;


// Low level MessagePort API support

/**
 * Call MessagePort disconnect
 */
u2f.disconnect = function() {
  if (u2f.port_ && u2f.port_.port_) {
    u2f.port_.port_.disconnect();
    u2f.port_ = null;
  }
};

/**
 * Sets up a MessagePort to the U2F extension using the
 * available mechanisms.
 * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback
 */
u2f.getMessagePort = function(callback) {
  if (typeof chrome != 'undefined' && chrome.runtime) {
    // The actual message here does not matter, but we need to get a reply
    // for the callback to run. Thus, send an empty signature request
    // in order to get a failure response.
    var msg = {
      type: u2f.MessageTypes.U2F_SIGN_REQUEST,
      signRequests: []
    };
    chrome.runtime.sendMessage(u2f.EXTENSION_ID, msg, function() {
      if (!chrome.runtime.lastError) {
        // We are on a whitelisted origin and can talk directly
        // with the extension.
        u2f.getChromeRuntimePort_(callback);
      } else {
        // chrome.runtime was available, but we couldn't message
        // the extension directly, use iframe
        u2f.getIframePort_(callback);
      }
    });
  } else {
    // chrome.runtime was not available at all, which is normal
    // when this origin doesn't have access to any extensions.
    u2f.getIframePort_(callback);
  }
};

/**
 * Connects directly to the extension via chrome.runtime.connect
 * @param {function(u2f.WrappedChromeRuntimePort_)} callback
 * @private
 */
u2f.getChromeRuntimePort_ = function(callback) {
  var port = chrome.runtime.connect(u2f.EXTENSION_ID,
    {'includeTlsChannelId': true});
  setTimeout(function() {
    callback(null, new u2f.WrappedChromeRuntimePort_(port));
  }, 0);
};

/**
 * A wrapper for chrome.runtime.Port that is compatible with MessagePort.
 * @param {Port} port
 * @constructor
 * @private
 */
u2f.WrappedChromeRuntimePort_ = function(port) {
  this.port_ = port;
};

/**
 * Posts a message on the underlying channel.
 * @param {Object} message
 */
u2f.WrappedChromeRuntimePort_.prototype.postMessage = function(message) {
  this.port_.postMessage(message);
};

/**
 * Emulates the HTML 5 addEventListener interface. Works only for the
 * onmessage event, which is hooked up to the chrome.runtime.Port.onMessage.
 * @param {string} eventName
 * @param {function({data: Object})} handler
 */
u2f.WrappedChromeRuntimePort_.prototype.addEventListener =
    function(eventName, handler) {
  var name = eventName.toLowerCase();
  if (name == 'message' || name == 'onmessage') {
    this.port_.onMessage.addListener(function(message) {
      // Emulate a minimal MessageEvent object
      handler({'data': message});
    });
  } else {
    console.error('WrappedChromeRuntimePort only supports onMessage');
  }
};

/**
 * Sets up an embedded trampoline iframe, sourced from the extension.
 * @param {function(MessagePort)} callback
 * @private
 */
u2f.getIframePort_ = function(callback) {
  // Create the iframe
  var iframeOrigin = 'chrome-extension://' + u2f.EXTENSION_ID;
  var iframe = document.createElement('iframe');
  iframe.src = iframeOrigin + '/u2f-comms.html';
  iframe.setAttribute('style', 'display:none');
  document.body.appendChild(iframe);

  var hasCalledBack = false;

  var channel = new MessageChannel();
  var ready = function(message) {
    if (message.data == 'ready') {
      channel.port1.removeEventListener('message', ready);
      if (!hasCalledBack)
      {
        hasCalledBack = true;
        callback(null, channel.port1);
      }
    } else {
      console.error('First event on iframe port was not "ready"');
    }
  };
  channel.port1.addEventListener('message', ready);
  channel.port1.start();

  iframe.addEventListener('load', function() {
    // Deliver the port to the iframe and initialize
    iframe.contentWindow.postMessage('init', iframeOrigin, [channel.port2]);
  });

  // Give this 200ms to initialize, after that, we treat this method as failed
  setTimeout(function() {
    if (!hasCalledBack)
    {
      hasCalledBack = true;
      callback(new Error("IFrame extension not supported"));
    }
  }, 200);
};


// High-level JS API

/**
 * Default extension response timeout in seconds.
 * @const
 */
u2f.EXTENSION_TIMEOUT_SEC = 30;

/**
 * A singleton instance for a MessagePort to the extension.
 * @type {MessagePort|u2f.WrappedChromeRuntimePort_}
 * @private
 */
u2f.port_ = null;

/**
 * Callbacks waiting for a port
 * @type {Array.<function((MessagePort|u2f.WrappedChromeRuntimePort_))>}
 * @private
 */
u2f.waitingForPort_ = [];

/**
 * A counter for requestIds.
 * @type {number}
 * @private
 */
u2f.reqCounter_ = 0;

/**
 * A map from requestIds to client callbacks
 * @type {Object.<number,(function((u2f.Error|u2f.RegisterResponse))
 *                       |function((u2f.Error|u2f.SignResponse)))>}
 * @private
 */
u2f.callbackMap_ = {};

/**
 * Creates or retrieves the MessagePort singleton to use.
 * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback
 * @private
 */
u2f.getPortSingleton_ = function(callback) {
  if (u2f.port_) {
    callback(null, u2f.port_);
  } else {
    if (u2f.waitingForPort_.length == 0) {
      u2f.getMessagePort(function(err, port) {
        if (!err) {
          u2f.port_ = port;
          u2f.port_.addEventListener('message',
            /** @type {function(Event)} */ (u2f.responseHandler_));
        }

        // Careful, here be async callbacks. Maybe.
        while (u2f.waitingForPort_.length)
          u2f.waitingForPort_.shift()(err, port);
      });
    }
    u2f.waitingForPort_.push(callback);
  }
};

/**
 * Handles response messages from the extension.
 * @param {MessageEvent.<u2f.Response>} message
 * @private
 */
u2f.responseHandler_ = function(message) {
  var response = message.data;
  var reqId = response['requestId'];
  if (!reqId || !u2f.callbackMap_[reqId]) {
    console.error('Unknown or missing requestId in response.');
    return;
  }
  var cb = u2f.callbackMap_[reqId];
  delete u2f.callbackMap_[reqId];
  cb(null, response['responseData']);
};

/**
 * Calls the callback with true or false as first and only argument
 * @param {Function} callback
 */
u2f.isSupported = function(callback) {
  u2f.getPortSingleton_(function(err, port) {
    callback(!err);
  });
}

/**
 * Dispatches an array of sign requests to available U2F tokens.
 * @param {Array.<u2f.SignRequest>} signRequests
 * @param {function((u2f.Error|u2f.SignResponse))} callback
 * @param {number=} opt_timeoutSeconds
 */
u2f.sign = function(signRequests, callback, opt_timeoutSeconds) {
  u2f.getPortSingleton_(function(err, port) {
    if (err)
      return callback(err);

    var reqId = ++u2f.reqCounter_;
    u2f.callbackMap_[reqId] = callback;
    var req = {
      type: u2f.MessageTypes.U2F_SIGN_REQUEST,
      signRequests: signRequests,
      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?
        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),
      requestId: reqId
    };
    port.postMessage(req);
  });
};

/**
 * Dispatches register requests to available U2F tokens. An array of sign
 * requests identifies already registered tokens.
 * @param {Array.<u2f.RegisterRequest>} registerRequests
 * @param {Array.<u2f.SignRequest>} signRequests
 * @param {function((u2f.Error|u2f.RegisterResponse))} callback
 * @param {number=} opt_timeoutSeconds
 */
u2f.register = function(registerRequests, signRequests,
    callback, opt_timeoutSeconds) {
  u2f.getPortSingleton_(function(err, port) {
    if (err)
      return callback(err);

    var reqId = ++u2f.reqCounter_;
    u2f.callbackMap_[reqId] = callback;
    var req = {
      type: u2f.MessageTypes.U2F_REGISTER_REQUEST,
      signRequests: signRequests,
      registerRequests: registerRequests,
      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?
        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),
      requestId: reqId
    };
    port.postMessage(req);
  });
};

},{}],135:[function(require,module,exports){
(function (global){
'use strict';

module.exports = API;

var chromeApi = require( './google-u2f-api' );

// Feature detection (yes really)
var isBrowser = ( typeof navigator !== 'undefined' ) && !!navigator.userAgent;
var isSafari = isBrowser && navigator.userAgent.match( /Safari\// )
	&& !navigator.userAgent.match( /Chrome\// );
var isEDGE = isBrowser && navigator.userAgent.match( /Edge\/1[2345]/ );

var _backend = null;
function getBackend( Promise )
{
	if ( !_backend )
		_backend = new Promise( function( resolve, reject )
		{
			function notSupported( )
			{
				// Note; {native: true} means *not* using Google's hack
				resolve( { u2f: null, native: true } );
			}

			if ( !isBrowser )
				return notSupported( );

			if ( isSafari )
				// Safari doesn't support U2F, and the Safari-FIDO-U2F
				// extension lacks full support (Multi-facet apps), so we
				// block it until proper support.
				return notSupported( );

			var hasNativeSupport =
				( typeof window.u2f !== 'undefined' ) &&
				( typeof window.u2f.sign === 'function' );

			if ( hasNativeSupport )
				resolve( { u2f: window.u2f, native: true } );

			if ( isEDGE )
				// We don't want to check for Google's extension hack on EDGE
				// as it'll cause trouble (popups, etc)
				return notSupported( );

			if ( location.protocol === 'http:' )
				// U2F isn't supported over http, only https
				return notSupported( );

			if ( typeof MessageChannel === 'undefined' )
				// Unsupported browser, the chrome hack would throw
				return notSupported( );

			// Test for google extension support
			chromeApi.isSupported( function( ok )
			{
				if ( ok )
					resolve( { u2f: chromeApi, native: false } );
				else
					notSupported( );
			} );
		} );

	return _backend;
}

function API( Promise )
{
	return {
		isSupported   : isSupported.bind( Promise ),
		ensureSupport : ensureSupport.bind( Promise ),
		register      : register.bind( Promise ),
		sign          : sign.bind( Promise ),
		ErrorCodes    : API.ErrorCodes,
		ErrorNames    : API.ErrorNames
	};
}

API.ErrorCodes = {
	CANCELLED: -1,
	OK: 0,
	OTHER_ERROR: 1,
	BAD_REQUEST: 2,
	CONFIGURATION_UNSUPPORTED: 3,
	DEVICE_INELIGIBLE: 4,
	TIMEOUT: 5
};
API.ErrorNames = {
	"-1": "CANCELLED",
	"0": "OK",
	"1": "OTHER_ERROR",
	"2": "BAD_REQUEST",
	"3": "CONFIGURATION_UNSUPPORTED",
	"4": "DEVICE_INELIGIBLE",
	"5": "TIMEOUT"
};

function makeError( msg, err )
{
	var code = err != null ? err.errorCode : 1; // Default to OTHER_ERROR
	var type = API.ErrorNames[ '' + code ];
	var error = new Error( msg );
	error.metaData = {
		type: type,
		code: code
	}
	return error;
}

function deferPromise( Promise, promise )
{
	var ret = { };
	ret.promise = new Promise( function( resolve, reject ) {
		ret.resolve = resolve;
		ret.reject = reject;
		promise.then( resolve, reject );
	} );
	/**
	 * Reject request promise and disconnect port if 'disconnect' flag is true
	 * @param {string} msg
	 * @param {boolean} disconnect
	 */
	ret.promise.cancel = function( msg, disconnect )
	{
		getBackend( Promise )
		.then( function( backend )
		{
			if ( disconnect && !backend.native )
				backend.u2f.disconnect( );

			ret.reject( makeError( msg, { errorCode: -1 } ) );
		} );
	};
	return ret;
}

function defer( Promise, fun )
{
	return deferPromise( Promise, new Promise( function( resolve, reject )
	{
		try
		{
			fun && fun( resolve, reject );
		}
		catch ( err )
		{
			reject( err );
		}
	} ) );
}

function isSupported( )
{
	var Promise = this;

	return getBackend( Promise )
	.then( function( backend )
	{
		return !!backend.u2f;
	} );
}

function _ensureSupport( backend )
{
	if ( !backend.u2f )
	{
		if ( location.protocol === 'http:' )
			throw new Error( "U2F isn't supported over http, only https" );
		throw new Error( "U2F not supported" );
	}
}

function ensureSupport( )
{
	var Promise = this;

	return getBackend( Promise )
	.then( _ensureSupport );
}

function register( registerRequests, signRequests /* = null */, timeout )
{
	var Promise = this;

	if ( !Array.isArray( registerRequests ) )
		registerRequests = [ registerRequests ];

	if ( typeof signRequests === 'number' && typeof timeout === 'undefined' )
	{
		timeout = signRequests;
		signRequests = null;
	}

	if ( !signRequests )
		signRequests = [ ];

	return deferPromise( Promise, getBackend( Promise )
	.then( function( backend )
	{
		_ensureSupport( backend );

		var native = backend.native;
		var u2f = backend.u2f;

		return new Promise( function( resolve, reject )
		{
			function cbNative( response )
			{
				if ( response.errorCode )
					reject( makeError( "Registration failed", response ) );
				else
				{
					delete response.errorCode;
					resolve( response );
				}
			}

			function cbChrome( err, response )
			{
				if ( err )
					reject( err );
				else if ( response.errorCode )
					reject( makeError( "Registration failed", response ) );
				else
					resolve( response );
			}

			if ( native )
			{
				var appId = registerRequests[ 0 ].appId;

				u2f.register(
					appId, registerRequests, signRequests, cbNative, timeout );
			}
			else
			{
				u2f.register(
					registerRequests, signRequests, cbChrome, timeout );
			}
		} );
	} ) ).promise;
}

function sign( signRequests, timeout )
{
	var Promise = this;

	if ( !Array.isArray( signRequests ) )
		signRequests = [ signRequests ];

	return deferPromise( Promise, getBackend( Promise )
	.then( function( backend )
	{
		_ensureSupport( backend );

		var native = backend.native;
		var u2f = backend.u2f;

		return new Promise( function( resolve, reject )
		{
			function cbNative( response )
			{
				if ( response.errorCode )
					reject( makeError( "Sign failed", response ) );
				else
				{
					delete response.errorCode;
					resolve( response );
				}
			}

			function cbChrome( err, response )
			{
				if ( err )
					reject( err );
				else if ( response.errorCode )
					reject( makeError( "Sign failed", response ) );
				else
					resolve( response );
			}

			if ( native )
			{
				var appId = signRequests[ 0 ].appId;
				var challenge = signRequests[ 0 ].challenge;

				u2f.sign( appId, challenge, signRequests, cbNative, timeout );
			}
			else
			{
				u2f.sign( signRequests, cbChrome, timeout );
			}
		} );
	} ) ).promise;
}

function makeDefault( func )
{
	API[ func ] = function( )
	{
		if ( !global.Promise )
			// This is very unlikely to ever happen, since browsers
			// supporting U2F will most likely support Promises.
			throw new Error( "The platform doesn't natively support promises" );

		var args = [ ].slice.call( arguments );
		return API( global.Promise )[ func ].apply( null, args );
	};
}

// Provide default functions using the built-in Promise if available.
makeDefault( 'isSupported' );
makeDefault( 'ensureSupport' );
makeDefault( 'register' );
makeDefault( 'sign' );

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./google-u2f-api":134}]},{},[1])(1)
});

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.WavesLedgerJs = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (Buffer){
"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var signature_generator_1 = require("@waves/signature-generator");
var WAVES_CONFIG = {
    STATUS: {
        SW_OK: 0x9000,
        SW_USER_CANCELLED: 0x9100,
        SW_CONDITIONS_NOT_SATISFIED: 0x6985,
        SW_BUFFER_OVERFLOW: 0x6990,
        SW_INCORRECT_P1_P2: 0x6A86,
        SW_INS_NOT_SUPPORTED: 0x6D00,
        SW_CLA_NOT_SUPPORTED: 0x6E00,
        SW_SECURITY_STATUS_NOT_SATISFIED: 0x6982
    },
    SECRET: 'WAVES',
    PUBLIC_KEY_LENGTH: 32,
    ADDRESS_LENGTH: 35,
    STATUS_LENGTH: 2,
    SIGNED_CODES: {
        ORDER: 0xFC,
        SOME_DATA: 0xFD,
        REQUEST: 0xFE,
        MESSAGE: 0xFF
    },
    MAX_SIZE: 128,
    WAVES_PRECISION: 8,
    MAIN_NET_CODE: 87,
    VERSIONS: [[0, 9, 6], [0, 9, 7]],
};
var Waves = /** @class */ (function () {
    function Waves(transport, networkCode) {
        if (networkCode === void 0) { networkCode = WAVES_CONFIG.MAIN_NET_CODE; }
        this.transport = transport;
        this.networkCode = networkCode;
        this.decorateClassByTransport();
    }
    Waves.prototype.decorateClassByTransport = function () {
        this.transport.decorateAppAPIMethods(this, [
            'getWalletPublicKey',
            '_signData',
            'getVersion',
        ], WAVES_CONFIG.SECRET);
    };
    Waves.prototype.getWalletPublicKey = function (path, verify) {
        if (verify === void 0) { verify = false; }
        return __awaiter(this, void 0, void 0, function () {
            var buffer, p1, response, publicKey, address, statusCode;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        buffer = Waves.splitPath(path);
                        p1 = verify ? 0x80 : 0x00;
                        return [4 /*yield*/, this.transport.send(0x80, 0x04, p1, this.networkCode, buffer)];
                    case 1:
                        response = _a.sent();
                        publicKey = signature_generator_1.libs.base58.encode(response.slice(0, WAVES_CONFIG.PUBLIC_KEY_LENGTH));
                        address = response
                            .slice(WAVES_CONFIG.PUBLIC_KEY_LENGTH, WAVES_CONFIG.PUBLIC_KEY_LENGTH + WAVES_CONFIG.ADDRESS_LENGTH)
                            .toString("ascii");
                        statusCode = response
                            .slice(-WAVES_CONFIG.STATUS_LENGTH)
                            .toString("hex");
                        return [2 /*return*/, { publicKey: publicKey, address: address, statusCode: statusCode }];
                }
            });
        });
    };
    Waves.prototype.signTransaction = function (path, amountPrecession, txData, version) {
        if (version === void 0) { version = 2; }
        return __awaiter(this, void 0, void 0, function () {
            var transactionType, version2, type, prefixData, dataForSign;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        transactionType = txData[0];
                        version2 = [transactionType, version];
                        return [4 /*yield*/, this._versionNum()];
                    case 1:
                        type = _a.sent();
                        if (!(transactionType === 4)) return [3 /*break*/, 3];
                        if (!(type === 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.signSomeData(path, txData)];
                    case 2: return [2 /*return*/, _a.sent()];
                    case 3:
                        prefixData = Buffer.concat([
                            Waves.splitPath(path),
                            Buffer.from([
                                amountPrecession,
                                WAVES_CONFIG.WAVES_PRECISION,
                            ]),
                        ]);
                        return [4 /*yield*/, this._fillData(prefixData, txData, version2)];
                    case 4:
                        dataForSign = _a.sent();
                        return [4 /*yield*/, this._signData(dataForSign)];
                    case 5: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Waves.prototype.signOrder = function (path, amountPrecession, txData) {
        return __awaiter(this, void 0, void 0, function () {
            var prefixData, dataForSign;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        prefixData = Buffer.concat([
                            Waves.splitPath(path),
                            Buffer.from([
                                amountPrecession,
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.SIGNED_CODES.ORDER,
                            ])
                        ]);
                        return [4 /*yield*/, this._fillData(prefixData, txData)];
                    case 1:
                        dataForSign = _a.sent();
                        return [4 /*yield*/, this._signData(dataForSign)];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Waves.prototype.signSomeData = function (path, msgBuffer) {
        return __awaiter(this, void 0, void 0, function () {
            var prefixData, dataForSign;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        prefixData = Buffer.concat([
                            Waves.splitPath(path),
                            Buffer.from([
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.SIGNED_CODES.SOME_DATA,
                            ])
                        ]);
                        return [4 /*yield*/, this._fillData(prefixData, msgBuffer)];
                    case 1:
                        dataForSign = _a.sent();
                        return [4 /*yield*/, this._signData(dataForSign)];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Waves.prototype.signRequest = function (path, msgBuffer) {
        return __awaiter(this, void 0, void 0, function () {
            var prefixData, dataForSign;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        prefixData = Buffer.concat([
                            Waves.splitPath(path),
                            Buffer.from([
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.SIGNED_CODES.REQUEST,
                            ])
                        ]);
                        return [4 /*yield*/, this._fillData(prefixData, msgBuffer)];
                    case 1:
                        dataForSign = _a.sent();
                        return [4 /*yield*/, this._signData(dataForSign)];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Waves.prototype.signMessage = function (path, msgBuffer) {
        return __awaiter(this, void 0, void 0, function () {
            var prefixData, dataForSign;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        prefixData = Buffer.concat([
                            Waves.splitPath(path),
                            Buffer.from([
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.WAVES_PRECISION,
                                WAVES_CONFIG.SIGNED_CODES.MESSAGE,
                            ])
                        ]);
                        return [4 /*yield*/, this._fillData(prefixData, msgBuffer)];
                    case 1:
                        dataForSign = _a.sent();
                        return [4 /*yield*/, this._signData(dataForSign)];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Waves.prototype.getVersion = function () {
        return __awaiter(this, void 0, void 0, function () {
            var version, isError, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._version) {
                            this._version = this.transport.send(0x80, 0x06, 0, 0);
                        }
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this._version];
                    case 2:
                        version = _a.sent();
                        isError = Waves.checkError(version.slice(-2));
                        if (isError) {
                            throw isError;
                        }
                        return [2 /*return*/, version.slice(0, -2)];
                    case 3:
                        e_1 = _a.sent();
                        this._version = null;
                        throw e_1;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    Waves.prototype._versionNum = function () {
        return __awaiter(this, void 0, void 0, function () {
            var version;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getVersion()];
                    case 1:
                        version = _a.sent();
                        return [2 /*return*/, WAVES_CONFIG.VERSIONS.reduce(function (acc, conf_version, index) {
                                var isMyVersion = !version.some(function (num, ind) { return conf_version[ind] > num; });
                                return isMyVersion ? index : acc;
                            }, 0)];
                }
            });
        });
    };
    Waves.prototype._fillData = function (prefixBuffer, dataBuffer, ver2) {
        if (ver2 === void 0) { ver2 = [0]; }
        return __awaiter(this, void 0, void 0, function () {
            var type;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._versionNum()];
                    case 1:
                        type = _a.sent();
                        switch (type) {
                            case 0:
                                return [2 /*return*/, Buffer.concat([prefixBuffer, dataBuffer])];
                            case 1:
                            default:
                                return [2 /*return*/, Buffer.concat([prefixBuffer, Buffer.from(ver2), dataBuffer])];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    Waves.prototype._signData = function (dataBufferAsync) {
        return __awaiter(this, void 0, void 0, function () {
            var dataBuffer, maxChankLength, dataLength, sendBytes, result, chankLength, isLastByte, chainId, txChank, isError;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, dataBufferAsync];
                    case 1:
                        dataBuffer = _a.sent();
                        maxChankLength = WAVES_CONFIG.MAX_SIZE - 5;
                        dataLength = dataBuffer.length;
                        sendBytes = 0;
                        _a.label = 2;
                    case 2:
                        if (!(dataLength > sendBytes)) return [3 /*break*/, 4];
                        chankLength = Math.min(dataLength - sendBytes, maxChankLength);
                        isLastByte = (dataLength - sendBytes > maxChankLength) ? 0x00 : 0x80;
                        chainId = isLastByte ? this.networkCode : 0x00;
                        txChank = dataBuffer.slice(sendBytes, chankLength + sendBytes);
                        sendBytes += chankLength;
                        return [4 /*yield*/, this.transport.send(0x80, 0x02, isLastByte, chainId, txChank)];
                    case 3:
                        result = _a.sent();
                        isError = Waves.checkError(result.slice(-2));
                        if (isError) {
                            throw isError;
                        }
                        return [3 /*break*/, 2];
                    case 4: return [2 /*return*/, signature_generator_1.libs.base58.encode(result.slice(0, -2))];
                }
            });
        });
    };
    Waves.checkError = function (data) {
        var statusCode = data[0] * 256 + data[1];
        if (statusCode === WAVES_CONFIG.STATUS.SW_OK) {
            return null;
        }
        return { error: 'Wrong data', status: statusCode };
    };
    Waves.splitPath = function (path) {
        var result = [];
        path.split("/").forEach(function (element) {
            var number = parseInt(element, 10);
            if (isNaN(number)) {
                return;
            }
            if (element.length > 1 && element[element.length - 1] === "'") {
                number += 0x80000000;
            }
            result.push(number);
        });
        var buffer = new Buffer(result.length * 4);
        result.forEach(function (element, index) {
            buffer.writeUInt32BE(element, 4 * index);
        });
        return buffer;
    };
    return Waves;
}());
exports.Waves = Waves;

}).call(this,require("buffer").Buffer)
},{"@waves/signature-generator":undefined,"buffer":6}],2:[function(require,module,exports){
(function (Buffer){
"use strict";
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
require("babel-polyfill");
var Waves_1 = require("./Waves");
var hw_transport_u2f_1 = require("@ledgerhq/hw-transport-u2f");
var ADDRES_PREFIX = "44'/5741564'/0'/0'/";
var WavesLedger = /** @class */ (function () {
    function WavesLedger(options) {
        this.ready = null;
        this._networkCode = options.networkCode == null ? 87 : options.networkCode;
        this._wavesLibPromise = null;
        this._initTransportPromise = null;
        this._debug = options.debug;
        this._openTimeout = options.openTimeout;
        this._listenTimeout = options.listenTimeout;
        this._exchangeTimeout = options.exchangeTimeout;
        this._error = null;
        this._transport = options.transport || hw_transport_u2f_1.default;
        this.tryConnect();
    }
    WavesLedger.prototype.tryConnect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var disconnectPromise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        disconnectPromise = this.disconnect();
                        this._initU2FTransport();
                        this._setSettings();
                        this._initWavesLib();
                        return [4 /*yield*/, disconnectPromise];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, Promise.all([this._initTransportPromise, this._wavesLibPromise])];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.disconnect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var transportpromise, transport, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        transportpromise = this._initTransportPromise;
                        this._initTransportPromise = null;
                        this._wavesLibPromise = null;
                        if (!transportpromise) return [3 /*break*/, 4];
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, transportpromise];
                    case 2:
                        transport = _a.sent();
                        transport.close();
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.getTransport = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 5]);
                        return [4 /*yield*/, this._wavesLibPromise];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2:
                        e_2 = _a.sent();
                        return [4 /*yield*/, this.tryConnect()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this._wavesLibPromise];
                    case 4: return [2 /*return*/, _a.sent()];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.getUserDataById = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var waves, path, userData, e_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.getTransport()];
                    case 1:
                        waves = _a.sent();
                        path = this.getPathById(id);
                        return [4 /*yield*/, waves.getWalletPublicKey(path, false)];
                    case 2:
                        userData = _a.sent();
                        return [2 /*return*/, __assign({}, userData, { id: id, path: path })];
                    case 3:
                        e_3 = _a.sent();
                        this.tryConnect();
                        this._error = e_3;
                        throw e_3;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.getVersion = function () {
        return __awaiter(this, void 0, void 0, function () {
            var waves, e_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.getTransport()];
                    case 1:
                        waves = _a.sent();
                        return [4 /*yield*/, waves.getVersion()];
                    case 2: return [2 /*return*/, _a.sent()];
                    case 3:
                        e_4 = _a.sent();
                        this.tryConnect();
                        this._error = e_4;
                        throw e_4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.getPaginationUsersData = function (from, limit) {
        return __awaiter(this, void 0, void 0, function () {
            var usersData, id, userData, e_5;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        usersData = [];
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 6, , 7]);
                        id = from;
                        _a.label = 2;
                    case 2:
                        if (!(id <= from + limit)) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.getUserDataById(id)];
                    case 3:
                        userData = _a.sent();
                        usersData.push(userData);
                        _a.label = 4;
                    case 4:
                        id++;
                        return [3 /*break*/, 2];
                    case 5: return [3 /*break*/, 7];
                    case 6:
                        e_5 = _a.sent();
                        this.tryConnect();
                        this._error = e_5;
                        throw e_5;
                    case 7: return [2 /*return*/, usersData];
                }
            });
        });
    };
    WavesLedger.prototype.signTransaction = function (userId, asset, txData, version) {
        if (version === void 0) { version = 2; }
        return __awaiter(this, void 0, void 0, function () {
            var path, msgData, waves, e_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        path = this.getPathById(userId);
                        msgData = new Buffer(txData);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.getTransport()];
                    case 2:
                        waves = _a.sent();
                        return [4 /*yield*/, waves.signTransaction(path, asset.precision, msgData, version)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        e_6 = _a.sent();
                        this.tryConnect();
                        this._error = e_6;
                        throw e_6;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.signOrder = function (userId, asset, txData) {
        return __awaiter(this, void 0, void 0, function () {
            var path, msgData, waves, e_7;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        path = this.getPathById(userId);
                        msgData = new Buffer(txData);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.getTransport()];
                    case 2:
                        waves = _a.sent();
                        return [4 /*yield*/, waves.signOrder(path, asset.precision, msgData)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        e_7 = _a.sent();
                        this.tryConnect();
                        this._error = e_7;
                        throw e_7;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.signSomeData = function (userId, dataBuffer) {
        return __awaiter(this, void 0, void 0, function () {
            var path, msgData, waves, e_8;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        path = this.getPathById(userId);
                        msgData = new Buffer(dataBuffer);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.getTransport()];
                    case 2:
                        waves = _a.sent();
                        return [4 /*yield*/, waves.signSomeData(path, msgData)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        e_8 = _a.sent();
                        this.tryConnect();
                        this._error = e_8;
                        throw e_8;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.signRequest = function (userId, dataBuffer) {
        return __awaiter(this, void 0, void 0, function () {
            var path, msgData, waves, e_9;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        path = this.getPathById(userId);
                        msgData = new Buffer(dataBuffer);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.getTransport()];
                    case 2:
                        waves = _a.sent();
                        return [4 /*yield*/, waves.signRequest(path, msgData)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        e_9 = _a.sent();
                        this.tryConnect();
                        this._error = e_9;
                        throw e_9;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.signMessage = function (userId, message) {
        return __awaiter(this, void 0, void 0, function () {
            var path, msgData, waves, e_10;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        path = this.getPathById(userId);
                        msgData = new Buffer(message, 'ascii');
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.getTransport()];
                    case 2:
                        waves = _a.sent();
                        return [4 /*yield*/, waves.signMessage(path, msgData)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        e_10 = _a.sent();
                        this.tryConnect();
                        this._error = e_10;
                        throw e_10;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    WavesLedger.prototype.getLastError = function () {
        return this._error;
    };
    WavesLedger.prototype.probeDevice = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_11;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.ready) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.tryConnect()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this._error = null;
                        _a.label = 3;
                    case 3:
                        _a.trys.push([3, 5, , 6]);
                        return [4 /*yield*/, this.getUserDataById(1)];
                    case 4:
                        _a.sent();
                        return [3 /*break*/, 6];
                    case 5:
                        e_11 = _a.sent();
                        this._error = e_11;
                        return [2 /*return*/, false];
                    case 6: return [2 /*return*/, true];
                }
            });
        });
    };
    WavesLedger.prototype.getPathById = function (id) {
        return "" + ADDRES_PREFIX + id + "'";
    };
    WavesLedger.prototype._setSettings = function () {
        var _this = this;
        this._initTransportPromise.then(function (transport) {
            transport.setDebugMode(_this._debug);
            transport.setExchangeTimeout(_this._exchangeTimeout);
        });
    };
    WavesLedger.prototype._initU2FTransport = function () {
        this.ready = false;
        this._initTransportPromise = this._transport.create(this._openTimeout, this._listenTimeout);
        return this._initTransportPromise;
    };
    WavesLedger.prototype._initWavesLib = function () {
        var _this = this;
        this._wavesLibPromise = this._initTransportPromise.then(function (transport) {
            _this.ready = true;
            return new Waves_1.Waves(transport, _this._networkCode);
        });
        return this._wavesLibPromise;
    };
    return WavesLedger;
}());
exports.WavesLedger = WavesLedger;

}).call(this,require("buffer").Buffer)
},{"./Waves":1,"@ledgerhq/hw-transport-u2f":undefined,"babel-polyfill":3,"buffer":6}],3:[function(require,module,exports){
(function (global){
"use strict";

require("core-js/shim");

require("regenerator-runtime/runtime");

require("core-js/fn/regexp/escape");

if (global._babelPolyfill) {
  throw new Error("only one instance of babel-polyfill is allowed");
}
global._babelPolyfill = true;

var DEFINE_PROPERTY = "defineProperty";
function define(O, key, value) {
  O[key] || Object[DEFINE_PROPERTY](O, key, {
    writable: true,
    configurable: true,
    value: value
  });
}

define(String.prototype, "padLeft", "".padStart);
define(String.prototype, "padRight", "".padEnd);

"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function (key) {
  [][key] && define(Array, key, Function.call.bind([][key]));
});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"core-js/fn/regexp/escape":7,"core-js/shim":330,"regenerator-runtime/runtime":4}],4:[function(require,module,exports){
(function (global){
/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    if (typeof global.process === "object" && global.process.domain) {
      invoke = global.process.domain.bind(invoke);
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // Among the various tricks for obtaining a reference to the global
  // object, this seems to be the most reliable technique that does not
  // use indirect eval (which violates Content Security Policy).
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this
);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],5:[function(require,module,exports){
'use strict'

exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  for (var i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}

},{}],6:[function(require,module,exports){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

'use strict'

var base64 = require('base64-js')
var ieee754 = require('ieee754')

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

var K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  var buf = new Uint8Array(length)
  buf.__proto__ = Buffer.prototype
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
if (typeof Symbol !== 'undefined' && Symbol.species != null &&
    Buffer[Symbol.species] === Buffer) {
  Object.defineProperty(Buffer, Symbol.species, {
    value: null,
    configurable: true,
    enumerable: false,
    writable: false
  })
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayLike(value)
  }

  if (value == null) {
    throw TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  var valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  var b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(
      value[Symbol.toPrimitive]('string'), encodingOrOffset, length
    )
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Buffer.prototype.__proto__ = Uint8Array.prototype
Buffer.__proto__ = Uint8Array

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  var length = byteLength(string, encoding) | 0
  var buf = createBuffer(length)

  var actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  var buf = createBuffer(length)
  for (var i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  var buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  buf.__proto__ = Buffer.prototype
  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    var buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      buf = Buffer.from(buf)
    }
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  var len = string.length
  var mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  var strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
        : (firstByte > 0xBF) ? 2
          : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  newBuf.__proto__ = Buffer.prototype
  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    var limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (var i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    var len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

},{"base64-js":5,"ieee754":331}],7:[function(require,module,exports){
require('../../modules/core.regexp.escape');
module.exports = require('../../modules/_core').RegExp.escape;

},{"../../modules/_core":28,"../../modules/core.regexp.escape":133}],8:[function(require,module,exports){
module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};

},{}],9:[function(require,module,exports){
var cof = require('./_cof');
module.exports = function (it, msg) {
  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);
  return +it;
};

},{"./_cof":23}],10:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./_wks')('unscopables');
var ArrayProto = Array.prototype;
if (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});
module.exports = function (key) {
  ArrayProto[UNSCOPABLES][key] = true;
};

},{"./_hide":47,"./_wks":131}],11:[function(require,module,exports){
module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};

},{}],12:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};

},{"./_is-object":56}],13:[function(require,module,exports){
// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
'use strict';
var toObject = require('./_to-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');

module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {
  var O = toObject(this);
  var len = toLength(O.length);
  var to = toAbsoluteIndex(target, len);
  var from = toAbsoluteIndex(start, len);
  var end = arguments.length > 2 ? arguments[2] : undefined;
  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);
  var inc = 1;
  if (from < to && to < from + count) {
    inc = -1;
    from += count - 1;
    to += count - 1;
  }
  while (count-- > 0) {
    if (from in O) O[to] = O[from];
    else delete O[to];
    to += inc;
    from += inc;
  } return O;
};

},{"./_to-absolute-index":116,"./_to-length":120,"./_to-object":121}],14:[function(require,module,exports){
// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
'use strict';
var toObject = require('./_to-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
module.exports = function fill(value /* , start = 0, end = @length */) {
  var O = toObject(this);
  var length = toLength(O.length);
  var aLen = arguments.length;
  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);
  var end = aLen > 2 ? arguments[2] : undefined;
  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);
  while (endPos > index) O[index++] = value;
  return O;
};

},{"./_to-absolute-index":116,"./_to-length":120,"./_to-object":121}],15:[function(require,module,exports){
var forOf = require('./_for-of');

module.exports = function (iter, ITERATOR) {
  var result = [];
  forOf(iter, false, result.push, result, ITERATOR);
  return result;
};

},{"./_for-of":44}],16:[function(require,module,exports){
// false -> Array#indexOf
// true  -> Array#includes
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');
var toAbsoluteIndex = require('./_to-absolute-index');
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

},{"./_to-absolute-index":116,"./_to-iobject":119,"./_to-length":120}],17:[function(require,module,exports){
// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx = require('./_ctx');
var IObject = require('./_iobject');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var asc = require('./_array-species-create');
module.exports = function (TYPE, $create) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  var create = $create || asc;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IObject(O);
    var f = ctx(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
    var val, res;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      val = self[index];
      res = f(val, index, O);
      if (TYPE) {
        if (IS_MAP) result[index] = res;   // map
        else if (res) switch (TYPE) {
          case 3: return true;             // some
          case 5: return val;              // find
          case 6: return index;            // findIndex
          case 2: result.push(val);        // filter
        } else if (IS_EVERY) return false; // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};

},{"./_array-species-create":20,"./_ctx":30,"./_iobject":52,"./_to-length":120,"./_to-object":121}],18:[function(require,module,exports){
var aFunction = require('./_a-function');
var toObject = require('./_to-object');
var IObject = require('./_iobject');
var toLength = require('./_to-length');

module.exports = function (that, callbackfn, aLen, memo, isRight) {
  aFunction(callbackfn);
  var O = toObject(that);
  var self = IObject(O);
  var length = toLength(O.length);
  var index = isRight ? length - 1 : 0;
  var i = isRight ? -1 : 1;
  if (aLen < 2) for (;;) {
    if (index in self) {
      memo = self[index];
      index += i;
      break;
    }
    index += i;
    if (isRight ? index < 0 : length <= index) {
      throw TypeError('Reduce of empty array with no initial value');
    }
  }
  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {
    memo = callbackfn(memo, self[index], index, O);
  }
  return memo;
};

},{"./_a-function":8,"./_iobject":52,"./_to-length":120,"./_to-object":121}],19:[function(require,module,exports){
var isObject = require('./_is-object');
var isArray = require('./_is-array');
var SPECIES = require('./_wks')('species');

module.exports = function (original) {
  var C;
  if (isArray(original)) {
    C = original.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? Array : C;
};

},{"./_is-array":54,"./_is-object":56,"./_wks":131}],20:[function(require,module,exports){
// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = require('./_array-species-constructor');

module.exports = function (original, length) {
  return new (speciesConstructor(original))(length);
};

},{"./_array-species-constructor":19}],21:[function(require,module,exports){
'use strict';
var aFunction = require('./_a-function');
var isObject = require('./_is-object');
var invoke = require('./_invoke');
var arraySlice = [].slice;
var factories = {};

var construct = function (F, len, args) {
  if (!(len in factories)) {
    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';
    // eslint-disable-next-line no-new-func
    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');
  } return factories[len](F, args);
};

module.exports = Function.bind || function bind(that /* , ...args */) {
  var fn = aFunction(this);
  var partArgs = arraySlice.call(arguments, 1);
  var bound = function (/* args... */) {
    var args = partArgs.concat(arraySlice.call(arguments));
    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);
  };
  if (isObject(fn.prototype)) bound.prototype = fn.prototype;
  return bound;
};

},{"./_a-function":8,"./_invoke":51,"./_is-object":56}],22:[function(require,module,exports){
// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = require('./_cof');
var TAG = require('./_wks')('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};

},{"./_cof":23,"./_wks":131}],23:[function(require,module,exports){
var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};

},{}],24:[function(require,module,exports){
'use strict';
var dP = require('./_object-dp').f;
var create = require('./_object-create');
var redefineAll = require('./_redefine-all');
var ctx = require('./_ctx');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var $iterDefine = require('./_iter-define');
var step = require('./_iter-step');
var setSpecies = require('./_set-species');
var DESCRIPTORS = require('./_descriptors');
var fastKey = require('./_meta').fastKey;
var validate = require('./_validate-collection');
var SIZE = DESCRIPTORS ? '_s' : 'size';

var getEntry = function (that, key) {
  // fast case
  var index = fastKey(key);
  var entry;
  if (index !== 'F') return that._i[index];
  // frozen object case
  for (entry = that._f; entry; entry = entry.n) {
    if (entry.k == key) return entry;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;         // collection type
      that._i = create(null); // index
      that._f = undefined;    // first entry
      that._l = undefined;    // last entry
      that[SIZE] = 0;         // size
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.1.3.1 Map.prototype.clear()
      // 23.2.3.2 Set.prototype.clear()
      clear: function clear() {
        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {
          entry.r = true;
          if (entry.p) entry.p = entry.p.n = undefined;
          delete data[entry.i];
        }
        that._f = that._l = undefined;
        that[SIZE] = 0;
      },
      // 23.1.3.3 Map.prototype.delete(key)
      // 23.2.3.4 Set.prototype.delete(value)
      'delete': function (key) {
        var that = validate(this, NAME);
        var entry = getEntry(that, key);
        if (entry) {
          var next = entry.n;
          var prev = entry.p;
          delete that._i[entry.i];
          entry.r = true;
          if (prev) prev.n = next;
          if (next) next.p = prev;
          if (that._f == entry) that._f = next;
          if (that._l == entry) that._l = prev;
          that[SIZE]--;
        } return !!entry;
      },
      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
      forEach: function forEach(callbackfn /* , that = undefined */) {
        validate(this, NAME);
        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);
        var entry;
        while (entry = entry ? entry.n : this._f) {
          f(entry.v, entry.k, this);
          // revert to the last existing entry
          while (entry && entry.r) entry = entry.p;
        }
      },
      // 23.1.3.7 Map.prototype.has(key)
      // 23.2.3.7 Set.prototype.has(value)
      has: function has(key) {
        return !!getEntry(validate(this, NAME), key);
      }
    });
    if (DESCRIPTORS) dP(C.prototype, 'size', {
      get: function () {
        return validate(this, NAME)[SIZE];
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var entry = getEntry(that, key);
    var prev, index;
    // change existing entry
    if (entry) {
      entry.v = value;
    // create new entry
    } else {
      that._l = entry = {
        i: index = fastKey(key, true), // <- index
        k: key,                        // <- key
        v: value,                      // <- value
        p: prev = that._l,             // <- previous entry
        n: undefined,                  // <- next entry
        r: false                       // <- removed
      };
      if (!that._f) that._f = entry;
      if (prev) prev.n = entry;
      that[SIZE]++;
      // add to index
      if (index !== 'F') that._i[index] = entry;
    } return that;
  },
  getEntry: getEntry,
  setStrong: function (C, NAME, IS_MAP) {
    // add .keys, .values, .entries, [@@iterator]
    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
    $iterDefine(C, NAME, function (iterated, kind) {
      this._t = validate(iterated, NAME); // target
      this._k = kind;                     // kind
      this._l = undefined;                // previous
    }, function () {
      var that = this;
      var kind = that._k;
      var entry = that._l;
      // revert to the last existing entry
      while (entry && entry.r) entry = entry.p;
      // get next entry
      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
        // or finish the iteration
        that._t = undefined;
        return step(1);
      }
      // return step by kind
      if (kind == 'keys') return step(0, entry.k);
      if (kind == 'values') return step(0, entry.v);
      return step(0, [entry.k, entry.v]);
    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

    // add [@@species], 23.1.2.2, 23.2.2.2
    setSpecies(NAME);
  }
};

},{"./_an-instance":11,"./_ctx":30,"./_descriptors":34,"./_for-of":44,"./_iter-define":60,"./_iter-step":62,"./_meta":70,"./_object-create":75,"./_object-dp":76,"./_redefine-all":95,"./_set-species":102,"./_validate-collection":128}],25:[function(require,module,exports){
// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var classof = require('./_classof');
var from = require('./_array-from-iterable');
module.exports = function (NAME) {
  return function toJSON() {
    if (classof(this) != NAME) throw TypeError(NAME + "#toJSON isn't generic");
    return from(this);
  };
};

},{"./_array-from-iterable":15,"./_classof":22}],26:[function(require,module,exports){
'use strict';
var redefineAll = require('./_redefine-all');
var getWeak = require('./_meta').getWeak;
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var createArrayMethod = require('./_array-methods');
var $has = require('./_has');
var validate = require('./_validate-collection');
var arrayFind = createArrayMethod(5);
var arrayFindIndex = createArrayMethod(6);
var id = 0;

// fallback for uncaught frozen keys
var uncaughtFrozenStore = function (that) {
  return that._l || (that._l = new UncaughtFrozenStore());
};
var UncaughtFrozenStore = function () {
  this.a = [];
};
var findUncaughtFrozen = function (store, key) {
  return arrayFind(store.a, function (it) {
    return it[0] === key;
  });
};
UncaughtFrozenStore.prototype = {
  get: function (key) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) return entry[1];
  },
  has: function (key) {
    return !!findUncaughtFrozen(this, key);
  },
  set: function (key, value) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) entry[1] = value;
    else this.a.push([key, value]);
  },
  'delete': function (key) {
    var index = arrayFindIndex(this.a, function (it) {
      return it[0] === key;
    });
    if (~index) this.a.splice(index, 1);
    return !!~index;
  }
};

module.exports = {
  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, NAME, '_i');
      that._t = NAME;      // collection type
      that._i = id++;      // collection id
      that._l = undefined; // leak store for uncaught frozen objects
      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.3.3.2 WeakMap.prototype.delete(key)
      // 23.4.3.3 WeakSet.prototype.delete(value)
      'delete': function (key) {
        if (!isObject(key)) return false;
        var data = getWeak(key);
        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);
        return data && $has(data, this._i) && delete data[this._i];
      },
      // 23.3.3.4 WeakMap.prototype.has(key)
      // 23.4.3.4 WeakSet.prototype.has(value)
      has: function has(key) {
        if (!isObject(key)) return false;
        var data = getWeak(key);
        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);
        return data && $has(data, this._i);
      }
    });
    return C;
  },
  def: function (that, key, value) {
    var data = getWeak(anObject(key), true);
    if (data === true) uncaughtFrozenStore(that).set(key, value);
    else data[that._i] = value;
    return that;
  },
  ufstore: uncaughtFrozenStore
};

},{"./_an-instance":11,"./_an-object":12,"./_array-methods":17,"./_for-of":44,"./_has":46,"./_is-object":56,"./_meta":70,"./_redefine-all":95,"./_validate-collection":128}],27:[function(require,module,exports){
'use strict';
var global = require('./_global');
var $export = require('./_export');
var redefine = require('./_redefine');
var redefineAll = require('./_redefine-all');
var meta = require('./_meta');
var forOf = require('./_for-of');
var anInstance = require('./_an-instance');
var isObject = require('./_is-object');
var fails = require('./_fails');
var $iterDetect = require('./_iter-detect');
var setToStringTag = require('./_set-to-string-tag');
var inheritIfRequired = require('./_inherit-if-required');

module.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
  var Base = global[NAME];
  var C = Base;
  var ADDER = IS_MAP ? 'set' : 'add';
  var proto = C && C.prototype;
  var O = {};
  var fixMethod = function (KEY) {
    var fn = proto[KEY];
    redefine(proto, KEY,
      KEY == 'delete' ? function (a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'has' ? function has(a) {
        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'get' ? function get(a) {
        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);
      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }
        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }
    );
  };
  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {
    new C().entries().next();
  }))) {
    // create collection constructor
    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
    redefineAll(C.prototype, methods);
    meta.NEED = true;
  } else {
    var instance = new C();
    // early implementations not supports chaining
    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false
    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });
    // most early implementations doesn't supports iterables, most modern - not close it correctly
    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new
    // for early implementations -0 and +0 not the same
    var BUGGY_ZERO = !IS_WEAK && fails(function () {
      // V8 ~ Chromium 42- fails only with 5+ elements
      var $instance = new C();
      var index = 5;
      while (index--) $instance[ADDER](index, index);
      return !$instance.has(-0);
    });
    if (!ACCEPT_ITERABLES) {
      C = wrapper(function (target, iterable) {
        anInstance(target, C, NAME);
        var that = inheritIfRequired(new Base(), target, C);
        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
        return that;
      });
      C.prototype = proto;
      proto.constructor = C;
    }
    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
      fixMethod('delete');
      fixMethod('has');
      IS_MAP && fixMethod('get');
    }
    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);
    // weak collections should not contains .clear method
    if (IS_WEAK && proto.clear) delete proto.clear;
  }

  setToStringTag(C, NAME);

  O[NAME] = C;
  $export($export.G + $export.W + $export.F * (C != Base), O);

  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);

  return C;
};

},{"./_an-instance":11,"./_export":38,"./_fails":40,"./_for-of":44,"./_global":45,"./_inherit-if-required":50,"./_is-object":56,"./_iter-detect":61,"./_meta":70,"./_redefine":96,"./_redefine-all":95,"./_set-to-string-tag":103}],28:[function(require,module,exports){
var core = module.exports = { version: '2.5.7' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef

},{}],29:[function(require,module,exports){
'use strict';
var $defineProperty = require('./_object-dp');
var createDesc = require('./_property-desc');

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};

},{"./_object-dp":76,"./_property-desc":94}],30:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./_a-function');
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};

},{"./_a-function":8}],31:[function(require,module,exports){
'use strict';
// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()
var fails = require('./_fails');
var getTime = Date.prototype.getTime;
var $toISOString = Date.prototype.toISOString;

var lz = function (num) {
  return num > 9 ? num : '0' + num;
};

// PhantomJS / old WebKit has a broken implementations
module.exports = (fails(function () {
  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';
}) || !fails(function () {
  $toISOString.call(new Date(NaN));
})) ? function toISOString() {
  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');
  var d = this;
  var y = d.getUTCFullYear();
  var m = d.getUTCMilliseconds();
  var s = y < 0 ? '-' : y > 9999 ? '+' : '';
  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +
    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +
    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +
    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';
} : $toISOString;

},{"./_fails":40}],32:[function(require,module,exports){
'use strict';
var anObject = require('./_an-object');
var toPrimitive = require('./_to-primitive');
var NUMBER = 'number';

module.exports = function (hint) {
  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');
  return toPrimitive(anObject(this), hint != NUMBER);
};

},{"./_an-object":12,"./_to-primitive":122}],33:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};

},{}],34:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./_fails')(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_fails":40}],35:[function(require,module,exports){
var isObject = require('./_is-object');
var document = require('./_global').document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};

},{"./_global":45,"./_is-object":56}],36:[function(require,module,exports){
// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');

},{}],37:[function(require,module,exports){
// all enumerable object keys, includes symbols
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};

},{"./_object-gops":82,"./_object-keys":85,"./_object-pie":86}],38:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var hide = require('./_hide');
var redefine = require('./_redefine');
var ctx = require('./_ctx');
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
  var key, own, out, exp;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if (target) redefine(target, key, out, type & $export.U);
    // export
    if (exports[key] != out) hide(exports, key, exp);
    if (IS_PROTO && expProto[key] != out) expProto[key] = out;
  }
};
global.core = core;
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;

},{"./_core":28,"./_ctx":30,"./_global":45,"./_hide":47,"./_redefine":96}],39:[function(require,module,exports){
var MATCH = require('./_wks')('match');
module.exports = function (KEY) {
  var re = /./;
  try {
    '/./'[KEY](re);
  } catch (e) {
    try {
      re[MATCH] = false;
      return !'/./'[KEY](re);
    } catch (f) { /* empty */ }
  } return true;
};

},{"./_wks":131}],40:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};

},{}],41:[function(require,module,exports){
'use strict';
var hide = require('./_hide');
var redefine = require('./_redefine');
var fails = require('./_fails');
var defined = require('./_defined');
var wks = require('./_wks');

module.exports = function (KEY, length, exec) {
  var SYMBOL = wks(KEY);
  var fns = exec(defined, SYMBOL, ''[KEY]);
  var strfn = fns[0];
  var rxfn = fns[1];
  if (fails(function () {
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) != 7;
  })) {
    redefine(String.prototype, KEY, strfn);
    hide(RegExp.prototype, SYMBOL, length == 2
      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)
      // 21.2.5.11 RegExp.prototype[@@split](string, limit)
      ? function (string, arg) { return rxfn.call(string, this, arg); }
      // 21.2.5.6 RegExp.prototype[@@match](string)
      // 21.2.5.9 RegExp.prototype[@@search](string)
      : function (string) { return rxfn.call(string, this); }
    );
  }
};

},{"./_defined":33,"./_fails":40,"./_hide":47,"./_redefine":96,"./_wks":131}],42:[function(require,module,exports){
'use strict';
// 21.2.5.3 get RegExp.prototype.flags
var anObject = require('./_an-object');
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.unicode) result += 'u';
  if (that.sticky) result += 'y';
  return result;
};

},{"./_an-object":12}],43:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray
var isArray = require('./_is-array');
var isObject = require('./_is-object');
var toLength = require('./_to-length');
var ctx = require('./_ctx');
var IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');

function flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {
  var targetIndex = start;
  var sourceIndex = 0;
  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;
  var element, spreadable;

  while (sourceIndex < sourceLen) {
    if (sourceIndex in source) {
      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];

      spreadable = false;
      if (isObject(element)) {
        spreadable = element[IS_CONCAT_SPREADABLE];
        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);
      }

      if (spreadable && depth > 0) {
        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;
      } else {
        if (targetIndex >= 0x1fffffffffffff) throw TypeError();
        target[targetIndex] = element;
      }

      targetIndex++;
    }
    sourceIndex++;
  }
  return targetIndex;
}

module.exports = flattenIntoArray;

},{"./_ctx":30,"./_is-array":54,"./_is-object":56,"./_to-length":120,"./_wks":131}],44:[function(require,module,exports){
var ctx = require('./_ctx');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var anObject = require('./_an-object');
var toLength = require('./_to-length');
var getIterFn = require('./core.get-iterator-method');
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;

},{"./_an-object":12,"./_ctx":30,"./_is-array-iter":53,"./_iter-call":58,"./_to-length":120,"./core.get-iterator-method":132}],45:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef

},{}],46:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};

},{}],47:[function(require,module,exports){
var dP = require('./_object-dp');
var createDesc = require('./_property-desc');
module.exports = require('./_descriptors') ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};

},{"./_descriptors":34,"./_object-dp":76,"./_property-desc":94}],48:[function(require,module,exports){
var document = require('./_global').document;
module.exports = document && document.documentElement;

},{"./_global":45}],49:[function(require,module,exports){
module.exports = !require('./_descriptors') && !require('./_fails')(function () {
  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_descriptors":34,"./_dom-create":35,"./_fails":40}],50:[function(require,module,exports){
var isObject = require('./_is-object');
var setPrototypeOf = require('./_set-proto').set;
module.exports = function (that, target, C) {
  var S = target.constructor;
  var P;
  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {
    setPrototypeOf(that, P);
  } return that;
};

},{"./_is-object":56,"./_set-proto":101}],51:[function(require,module,exports){
// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};

},{}],52:[function(require,module,exports){
// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = require('./_cof');
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};

},{"./_cof":23}],53:[function(require,module,exports){
// check on default Array iterator
var Iterators = require('./_iterators');
var ITERATOR = require('./_wks')('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};

},{"./_iterators":63,"./_wks":131}],54:[function(require,module,exports){
// 7.2.2 IsArray(argument)
var cof = require('./_cof');
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};

},{"./_cof":23}],55:[function(require,module,exports){
// 20.1.2.3 Number.isInteger(number)
var isObject = require('./_is-object');
var floor = Math.floor;
module.exports = function isInteger(it) {
  return !isObject(it) && isFinite(it) && floor(it) === it;
};

},{"./_is-object":56}],56:[function(require,module,exports){
module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

},{}],57:[function(require,module,exports){
// 7.2.8 IsRegExp(argument)
var isObject = require('./_is-object');
var cof = require('./_cof');
var MATCH = require('./_wks')('match');
module.exports = function (it) {
  var isRegExp;
  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');
};

},{"./_cof":23,"./_is-object":56,"./_wks":131}],58:[function(require,module,exports){
// call something on iterator step with safe closing on error
var anObject = require('./_an-object');
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};

},{"./_an-object":12}],59:[function(require,module,exports){
'use strict';
var create = require('./_object-create');
var descriptor = require('./_property-desc');
var setToStringTag = require('./_set-to-string-tag');
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
require('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};

},{"./_hide":47,"./_object-create":75,"./_property-desc":94,"./_set-to-string-tag":103,"./_wks":131}],60:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var $export = require('./_export');
var redefine = require('./_redefine');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var $iterCreate = require('./_iter-create');
var setToStringTag = require('./_set-to-string-tag');
var getPrototypeOf = require('./_object-gpo');
var ITERATOR = require('./_wks')('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};

},{"./_export":38,"./_hide":47,"./_iter-create":59,"./_iterators":63,"./_library":64,"./_object-gpo":83,"./_redefine":96,"./_set-to-string-tag":103,"./_wks":131}],61:[function(require,module,exports){
var ITERATOR = require('./_wks')('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};

},{"./_wks":131}],62:[function(require,module,exports){
module.exports = function (done, value) {
  return { value: value, done: !!done };
};

},{}],63:[function(require,module,exports){
module.exports = {};

},{}],64:[function(require,module,exports){
module.exports = false;

},{}],65:[function(require,module,exports){
// 20.2.2.14 Math.expm1(x)
var $expm1 = Math.expm1;
module.exports = (!$expm1
  // Old FF bug
  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168
  // Tor Browser bug
  || $expm1(-2e-17) != -2e-17
) ? function expm1(x) {
  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;
} : $expm1;

},{}],66:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var sign = require('./_math-sign');
var pow = Math.pow;
var EPSILON = pow(2, -52);
var EPSILON32 = pow(2, -23);
var MAX32 = pow(2, 127) * (2 - EPSILON32);
var MIN32 = pow(2, -126);

var roundTiesToEven = function (n) {
  return n + 1 / EPSILON - 1 / EPSILON;
};

module.exports = Math.fround || function fround(x) {
  var $abs = Math.abs(x);
  var $sign = sign(x);
  var a, result;
  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
  a = (1 + EPSILON32 / EPSILON) * $abs;
  result = a - (a - $abs);
  // eslint-disable-next-line no-self-compare
  if (result > MAX32 || result != result) return $sign * Infinity;
  return $sign * result;
};

},{"./_math-sign":69}],67:[function(require,module,exports){
// 20.2.2.20 Math.log1p(x)
module.exports = Math.log1p || function log1p(x) {
  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);
};

},{}],68:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
module.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {
  if (
    arguments.length === 0
      // eslint-disable-next-line no-self-compare
      || x != x
      // eslint-disable-next-line no-self-compare
      || inLow != inLow
      // eslint-disable-next-line no-self-compare
      || inHigh != inHigh
      // eslint-disable-next-line no-self-compare
      || outLow != outLow
      // eslint-disable-next-line no-self-compare
      || outHigh != outHigh
  ) return NaN;
  if (x === Infinity || x === -Infinity) return x;
  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;
};

},{}],69:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
module.exports = Math.sign || function sign(x) {
  // eslint-disable-next-line no-self-compare
  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
};

},{}],70:[function(require,module,exports){
var META = require('./_uid')('meta');
var isObject = require('./_is-object');
var has = require('./_has');
var setDesc = require('./_object-dp').f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !require('./_fails')(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};

},{"./_fails":40,"./_has":46,"./_is-object":56,"./_object-dp":76,"./_uid":126}],71:[function(require,module,exports){
var Map = require('./es6.map');
var $export = require('./_export');
var shared = require('./_shared')('metadata');
var store = shared.store || (shared.store = new (require('./es6.weak-map'))());

var getOrCreateMetadataMap = function (target, targetKey, create) {
  var targetMetadata = store.get(target);
  if (!targetMetadata) {
    if (!create) return undefined;
    store.set(target, targetMetadata = new Map());
  }
  var keyMetadata = targetMetadata.get(targetKey);
  if (!keyMetadata) {
    if (!create) return undefined;
    targetMetadata.set(targetKey, keyMetadata = new Map());
  } return keyMetadata;
};
var ordinaryHasOwnMetadata = function (MetadataKey, O, P) {
  var metadataMap = getOrCreateMetadataMap(O, P, false);
  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);
};
var ordinaryGetOwnMetadata = function (MetadataKey, O, P) {
  var metadataMap = getOrCreateMetadataMap(O, P, false);
  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);
};
var ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {
  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);
};
var ordinaryOwnMetadataKeys = function (target, targetKey) {
  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);
  var keys = [];
  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });
  return keys;
};
var toMetaKey = function (it) {
  return it === undefined || typeof it == 'symbol' ? it : String(it);
};
var exp = function (O) {
  $export($export.S, 'Reflect', O);
};

module.exports = {
  store: store,
  map: getOrCreateMetadataMap,
  has: ordinaryHasOwnMetadata,
  get: ordinaryGetOwnMetadata,
  set: ordinaryDefineOwnMetadata,
  keys: ordinaryOwnMetadataKeys,
  key: toMetaKey,
  exp: exp
};

},{"./_export":38,"./_shared":105,"./es6.map":163,"./es6.weak-map":269}],72:[function(require,module,exports){
var global = require('./_global');
var macrotask = require('./_task').set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = require('./_cof')(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    var promise = Promise.resolve(undefined);
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};

},{"./_cof":23,"./_global":45,"./_task":115}],73:[function(require,module,exports){
'use strict';
// 25.4.1.5 NewPromiseCapability(C)
var aFunction = require('./_a-function');

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};

},{"./_a-function":8}],74:[function(require,module,exports){
'use strict';
// 19.1.2.1 Object.assign(target, source, ...)
var getKeys = require('./_object-keys');
var gOPS = require('./_object-gops');
var pIE = require('./_object-pie');
var toObject = require('./_to-object');
var IObject = require('./_iobject');
var $assign = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || require('./_fails')(function () {
  var A = {};
  var B = {};
  // eslint-disable-next-line no-undef
  var S = Symbol();
  var K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function (k) { B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
  var T = toObject(target);
  var aLen = arguments.length;
  var index = 1;
  var getSymbols = gOPS.f;
  var isEnum = pIE.f;
  while (aLen > index) {
    var S = IObject(arguments[index++]);
    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
  } return T;
} : $assign;

},{"./_fails":40,"./_iobject":52,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_to-object":121}],75:[function(require,module,exports){
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = require('./_an-object');
var dPs = require('./_object-dps');
var enumBugKeys = require('./_enum-bug-keys');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = require('./_dom-create')('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  require('./_html').appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};

},{"./_an-object":12,"./_dom-create":35,"./_enum-bug-keys":36,"./_html":48,"./_object-dps":77,"./_shared-key":104}],76:[function(require,module,exports){
var anObject = require('./_an-object');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var toPrimitive = require('./_to-primitive');
var dP = Object.defineProperty;

exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};

},{"./_an-object":12,"./_descriptors":34,"./_ie8-dom-define":49,"./_to-primitive":122}],77:[function(require,module,exports){
var dP = require('./_object-dp');
var anObject = require('./_an-object');
var getKeys = require('./_object-keys');

module.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};

},{"./_an-object":12,"./_descriptors":34,"./_object-dp":76,"./_object-keys":85}],78:[function(require,module,exports){
'use strict';
// Forced replacement prototype accessors methods
module.exports = require('./_library') || !require('./_fails')(function () {
  var K = Math.random();
  // In FF throws only define methods
  // eslint-disable-next-line no-undef, no-useless-call
  __defineSetter__.call(null, K, function () { /* empty */ });
  delete require('./_global')[K];
});

},{"./_fails":40,"./_global":45,"./_library":64}],79:[function(require,module,exports){
var pIE = require('./_object-pie');
var createDesc = require('./_property-desc');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var has = require('./_has');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};

},{"./_descriptors":34,"./_has":46,"./_ie8-dom-define":49,"./_object-pie":86,"./_property-desc":94,"./_to-iobject":119,"./_to-primitive":122}],80:[function(require,module,exports){
// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = require('./_to-iobject');
var gOPN = require('./_object-gopn').f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};

},{"./_object-gopn":81,"./_to-iobject":119}],81:[function(require,module,exports){
// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = require('./_object-keys-internal');
var hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};

},{"./_enum-bug-keys":36,"./_object-keys-internal":84}],82:[function(require,module,exports){
exports.f = Object.getOwnPropertySymbols;

},{}],83:[function(require,module,exports){
// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = require('./_has');
var toObject = require('./_to-object');
var IE_PROTO = require('./_shared-key')('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};

},{"./_has":46,"./_shared-key":104,"./_to-object":121}],84:[function(require,module,exports){
var has = require('./_has');
var toIObject = require('./_to-iobject');
var arrayIndexOf = require('./_array-includes')(false);
var IE_PROTO = require('./_shared-key')('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};

},{"./_array-includes":16,"./_has":46,"./_shared-key":104,"./_to-iobject":119}],85:[function(require,module,exports){
// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = require('./_object-keys-internal');
var enumBugKeys = require('./_enum-bug-keys');

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};

},{"./_enum-bug-keys":36,"./_object-keys-internal":84}],86:[function(require,module,exports){
exports.f = {}.propertyIsEnumerable;

},{}],87:[function(require,module,exports){
// most Object methods by ES6 should accept primitives
var $export = require('./_export');
var core = require('./_core');
var fails = require('./_fails');
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};

},{"./_core":28,"./_export":38,"./_fails":40}],88:[function(require,module,exports){
var getKeys = require('./_object-keys');
var toIObject = require('./_to-iobject');
var isEnum = require('./_object-pie').f;
module.exports = function (isEntries) {
  return function (it) {
    var O = toIObject(it);
    var keys = getKeys(O);
    var length = keys.length;
    var i = 0;
    var result = [];
    var key;
    while (length > i) if (isEnum.call(O, key = keys[i++])) {
      result.push(isEntries ? [key, O[key]] : O[key]);
    } return result;
  };
};

},{"./_object-keys":85,"./_object-pie":86,"./_to-iobject":119}],89:[function(require,module,exports){
// all object keys, includes non-enumerable and symbols
var gOPN = require('./_object-gopn');
var gOPS = require('./_object-gops');
var anObject = require('./_an-object');
var Reflect = require('./_global').Reflect;
module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {
  var keys = gOPN.f(anObject(it));
  var getSymbols = gOPS.f;
  return getSymbols ? keys.concat(getSymbols(it)) : keys;
};

},{"./_an-object":12,"./_global":45,"./_object-gopn":81,"./_object-gops":82}],90:[function(require,module,exports){
var $parseFloat = require('./_global').parseFloat;
var $trim = require('./_string-trim').trim;

module.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {
  var string = $trim(String(str), 3);
  var result = $parseFloat(string);
  return result === 0 && string.charAt(0) == '-' ? -0 : result;
} : $parseFloat;

},{"./_global":45,"./_string-trim":113,"./_string-ws":114}],91:[function(require,module,exports){
var $parseInt = require('./_global').parseInt;
var $trim = require('./_string-trim').trim;
var ws = require('./_string-ws');
var hex = /^[-+]?0[xX]/;

module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {
  var string = $trim(String(str), 3);
  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));
} : $parseInt;

},{"./_global":45,"./_string-trim":113,"./_string-ws":114}],92:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};

},{}],93:[function(require,module,exports){
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var newPromiseCapability = require('./_new-promise-capability');

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};

},{"./_an-object":12,"./_is-object":56,"./_new-promise-capability":73}],94:[function(require,module,exports){
module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};

},{}],95:[function(require,module,exports){
var redefine = require('./_redefine');
module.exports = function (target, src, safe) {
  for (var key in src) redefine(target, key, src[key], safe);
  return target;
};

},{"./_redefine":96}],96:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var has = require('./_has');
var SRC = require('./_uid')('src');
var TO_STRING = 'toString';
var $toString = Function[TO_STRING];
var TPL = ('' + $toString).split(TO_STRING);

require('./_core').inspectSource = function (it) {
  return $toString.call(it);
};

(module.exports = function (O, key, val, safe) {
  var isFunction = typeof val == 'function';
  if (isFunction) has(val, 'name') || hide(val, 'name', key);
  if (O[key] === val) return;
  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
  if (O === global) {
    O[key] = val;
  } else if (!safe) {
    delete O[key];
    hide(O, key, val);
  } else if (O[key]) {
    O[key] = val;
  } else {
    hide(O, key, val);
  }
// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
})(Function.prototype, TO_STRING, function toString() {
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});

},{"./_core":28,"./_global":45,"./_has":46,"./_hide":47,"./_uid":126}],97:[function(require,module,exports){
module.exports = function (regExp, replace) {
  var replacer = replace === Object(replace) ? function (part) {
    return replace[part];
  } : replace;
  return function (it) {
    return String(it).replace(regExp, replacer);
  };
};

},{}],98:[function(require,module,exports){
// 7.2.9 SameValue(x, y)
module.exports = Object.is || function is(x, y) {
  // eslint-disable-next-line no-self-compare
  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
};

},{}],99:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-setmap-offrom/
var $export = require('./_export');
var aFunction = require('./_a-function');
var ctx = require('./_ctx');
var forOf = require('./_for-of');

module.exports = function (COLLECTION) {
  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {
    var mapFn = arguments[1];
    var mapping, A, n, cb;
    aFunction(this);
    mapping = mapFn !== undefined;
    if (mapping) aFunction(mapFn);
    if (source == undefined) return new this();
    A = [];
    if (mapping) {
      n = 0;
      cb = ctx(mapFn, arguments[2], 2);
      forOf(source, false, function (nextItem) {
        A.push(cb(nextItem, n++));
      });
    } else {
      forOf(source, false, A.push, A);
    }
    return new this(A);
  } });
};

},{"./_a-function":8,"./_ctx":30,"./_export":38,"./_for-of":44}],100:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-setmap-offrom/
var $export = require('./_export');

module.exports = function (COLLECTION) {
  $export($export.S, COLLECTION, { of: function of() {
    var length = arguments.length;
    var A = new Array(length);
    while (length--) A[length] = arguments[length];
    return new this(A);
  } });
};

},{"./_export":38}],101:[function(require,module,exports){
// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = require('./_is-object');
var anObject = require('./_an-object');
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};

},{"./_an-object":12,"./_ctx":30,"./_is-object":56,"./_object-gopd":79}],102:[function(require,module,exports){
'use strict';
var global = require('./_global');
var dP = require('./_object-dp');
var DESCRIPTORS = require('./_descriptors');
var SPECIES = require('./_wks')('species');

module.exports = function (KEY) {
  var C = global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};

},{"./_descriptors":34,"./_global":45,"./_object-dp":76,"./_wks":131}],103:[function(require,module,exports){
var def = require('./_object-dp').f;
var has = require('./_has');
var TAG = require('./_wks')('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};

},{"./_has":46,"./_object-dp":76,"./_wks":131}],104:[function(require,module,exports){
var shared = require('./_shared')('keys');
var uid = require('./_uid');
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};

},{"./_shared":105,"./_uid":126}],105:[function(require,module,exports){
var core = require('./_core');
var global = require('./_global');
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: require('./_library') ? 'pure' : 'global',
  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'
});

},{"./_core":28,"./_global":45,"./_library":64}],106:[function(require,module,exports){
// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var SPECIES = require('./_wks')('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};

},{"./_a-function":8,"./_an-object":12,"./_wks":131}],107:[function(require,module,exports){
'use strict';
var fails = require('./_fails');

module.exports = function (method, arg) {
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call
    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);
  });
};

},{"./_fails":40}],108:[function(require,module,exports){
var toInteger = require('./_to-integer');
var defined = require('./_defined');
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};

},{"./_defined":33,"./_to-integer":118}],109:[function(require,module,exports){
// helper for String#{startsWith, endsWith, includes}
var isRegExp = require('./_is-regexp');
var defined = require('./_defined');

module.exports = function (that, searchString, NAME) {
  if (isRegExp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!");
  return String(defined(that));
};

},{"./_defined":33,"./_is-regexp":57}],110:[function(require,module,exports){
var $export = require('./_export');
var fails = require('./_fails');
var defined = require('./_defined');
var quot = /"/g;
// B.2.3.2.1 CreateHTML(string, tag, attribute, value)
var createHTML = function (string, tag, attribute, value) {
  var S = String(defined(string));
  var p1 = '<' + tag;
  if (attribute !== '') p1 += ' ' + attribute + '="' + String(value).replace(quot, '&quot;') + '"';
  return p1 + '>' + S + '</' + tag + '>';
};
module.exports = function (NAME, exec) {
  var O = {};
  O[NAME] = exec(createHTML);
  $export($export.P + $export.F * fails(function () {
    var test = ''[NAME]('"');
    return test !== test.toLowerCase() || test.split('"').length > 3;
  }), 'String', O);
};

},{"./_defined":33,"./_export":38,"./_fails":40}],111:[function(require,module,exports){
// https://github.com/tc39/proposal-string-pad-start-end
var toLength = require('./_to-length');
var repeat = require('./_string-repeat');
var defined = require('./_defined');

module.exports = function (that, maxLength, fillString, left) {
  var S = String(defined(that));
  var stringLength = S.length;
  var fillStr = fillString === undefined ? ' ' : String(fillString);
  var intMaxLength = toLength(maxLength);
  if (intMaxLength <= stringLength || fillStr == '') return S;
  var fillLen = intMaxLength - stringLength;
  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));
  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);
  return left ? stringFiller + S : S + stringFiller;
};

},{"./_defined":33,"./_string-repeat":112,"./_to-length":120}],112:[function(require,module,exports){
'use strict';
var toInteger = require('./_to-integer');
var defined = require('./_defined');

module.exports = function repeat(count) {
  var str = String(defined(this));
  var res = '';
  var n = toInteger(count);
  if (n < 0 || n == Infinity) throw RangeError("Count can't be negative");
  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;
  return res;
};

},{"./_defined":33,"./_to-integer":118}],113:[function(require,module,exports){
var $export = require('./_export');
var defined = require('./_defined');
var fails = require('./_fails');
var spaces = require('./_string-ws');
var space = '[' + spaces + ']';
var non = '\u200b\u0085';
var ltrim = RegExp('^' + space + space + '*');
var rtrim = RegExp(space + space + '*$');

var exporter = function (KEY, exec, ALIAS) {
  var exp = {};
  var FORCE = fails(function () {
    return !!spaces[KEY]() || non[KEY]() != non;
  });
  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
  if (ALIAS) exp[ALIAS] = fn;
  $export($export.P + $export.F * FORCE, 'String', exp);
};

// 1 -> String#trimLeft
// 2 -> String#trimRight
// 3 -> String#trim
var trim = exporter.trim = function (string, TYPE) {
  string = String(defined(string));
  if (TYPE & 1) string = string.replace(ltrim, '');
  if (TYPE & 2) string = string.replace(rtrim, '');
  return string;
};

module.exports = exporter;

},{"./_defined":33,"./_export":38,"./_fails":40,"./_string-ws":114}],114:[function(require,module,exports){
module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' +
  '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';

},{}],115:[function(require,module,exports){
var ctx = require('./_ctx');
var invoke = require('./_invoke');
var html = require('./_html');
var cel = require('./_dom-create');
var global = require('./_global');
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (require('./_cof')(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};

},{"./_cof":23,"./_ctx":30,"./_dom-create":35,"./_global":45,"./_html":48,"./_invoke":51}],116:[function(require,module,exports){
var toInteger = require('./_to-integer');
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

},{"./_to-integer":118}],117:[function(require,module,exports){
// https://tc39.github.io/ecma262/#sec-toindex
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
module.exports = function (it) {
  if (it === undefined) return 0;
  var number = toInteger(it);
  var length = toLength(number);
  if (number !== length) throw RangeError('Wrong length!');
  return length;
};

},{"./_to-integer":118,"./_to-length":120}],118:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

},{}],119:[function(require,module,exports){
// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = require('./_iobject');
var defined = require('./_defined');
module.exports = function (it) {
  return IObject(defined(it));
};

},{"./_defined":33,"./_iobject":52}],120:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./_to-integer');
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

},{"./_to-integer":118}],121:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./_defined');
module.exports = function (it) {
  return Object(defined(it));
};

},{"./_defined":33}],122:[function(require,module,exports){
// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = require('./_is-object');
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};

},{"./_is-object":56}],123:[function(require,module,exports){
'use strict';
if (require('./_descriptors')) {
  var LIBRARY = require('./_library');
  var global = require('./_global');
  var fails = require('./_fails');
  var $export = require('./_export');
  var $typed = require('./_typed');
  var $buffer = require('./_typed-buffer');
  var ctx = require('./_ctx');
  var anInstance = require('./_an-instance');
  var propertyDesc = require('./_property-desc');
  var hide = require('./_hide');
  var redefineAll = require('./_redefine-all');
  var toInteger = require('./_to-integer');
  var toLength = require('./_to-length');
  var toIndex = require('./_to-index');
  var toAbsoluteIndex = require('./_to-absolute-index');
  var toPrimitive = require('./_to-primitive');
  var has = require('./_has');
  var classof = require('./_classof');
  var isObject = require('./_is-object');
  var toObject = require('./_to-object');
  var isArrayIter = require('./_is-array-iter');
  var create = require('./_object-create');
  var getPrototypeOf = require('./_object-gpo');
  var gOPN = require('./_object-gopn').f;
  var getIterFn = require('./core.get-iterator-method');
  var uid = require('./_uid');
  var wks = require('./_wks');
  var createArrayMethod = require('./_array-methods');
  var createArrayIncludes = require('./_array-includes');
  var speciesConstructor = require('./_species-constructor');
  var ArrayIterators = require('./es6.array.iterator');
  var Iterators = require('./_iterators');
  var $iterDetect = require('./_iter-detect');
  var setSpecies = require('./_set-species');
  var arrayFill = require('./_array-fill');
  var arrayCopyWithin = require('./_array-copy-within');
  var $DP = require('./_object-dp');
  var $GOPD = require('./_object-gopd');
  var dP = $DP.f;
  var gOPD = $GOPD.f;
  var RangeError = global.RangeError;
  var TypeError = global.TypeError;
  var Uint8Array = global.Uint8Array;
  var ARRAY_BUFFER = 'ArrayBuffer';
  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;
  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';
  var PROTOTYPE = 'prototype';
  var ArrayProto = Array[PROTOTYPE];
  var $ArrayBuffer = $buffer.ArrayBuffer;
  var $DataView = $buffer.DataView;
  var arrayForEach = createArrayMethod(0);
  var arrayFilter = createArrayMethod(2);
  var arraySome = createArrayMethod(3);
  var arrayEvery = createArrayMethod(4);
  var arrayFind = createArrayMethod(5);
  var arrayFindIndex = createArrayMethod(6);
  var arrayIncludes = createArrayIncludes(true);
  var arrayIndexOf = createArrayIncludes(false);
  var arrayValues = ArrayIterators.values;
  var arrayKeys = ArrayIterators.keys;
  var arrayEntries = ArrayIterators.entries;
  var arrayLastIndexOf = ArrayProto.lastIndexOf;
  var arrayReduce = ArrayProto.reduce;
  var arrayReduceRight = ArrayProto.reduceRight;
  var arrayJoin = ArrayProto.join;
  var arraySort = ArrayProto.sort;
  var arraySlice = ArrayProto.slice;
  var arrayToString = ArrayProto.toString;
  var arrayToLocaleString = ArrayProto.toLocaleString;
  var ITERATOR = wks('iterator');
  var TAG = wks('toStringTag');
  var TYPED_CONSTRUCTOR = uid('typed_constructor');
  var DEF_CONSTRUCTOR = uid('def_constructor');
  var ALL_CONSTRUCTORS = $typed.CONSTR;
  var TYPED_ARRAY = $typed.TYPED;
  var VIEW = $typed.VIEW;
  var WRONG_LENGTH = 'Wrong length!';

  var $map = createArrayMethod(1, function (O, length) {
    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);
  });

  var LITTLE_ENDIAN = fails(function () {
    // eslint-disable-next-line no-undef
    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;
  });

  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {
    new Uint8Array(1).set({});
  });

  var toOffset = function (it, BYTES) {
    var offset = toInteger(it);
    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');
    return offset;
  };

  var validate = function (it) {
    if (isObject(it) && TYPED_ARRAY in it) return it;
    throw TypeError(it + ' is not a typed array!');
  };

  var allocate = function (C, length) {
    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {
      throw TypeError('It is not a typed array constructor!');
    } return new C(length);
  };

  var speciesFromList = function (O, list) {
    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);
  };

  var fromList = function (C, list) {
    var index = 0;
    var length = list.length;
    var result = allocate(C, length);
    while (length > index) result[index] = list[index++];
    return result;
  };

  var addGetter = function (it, key, internal) {
    dP(it, key, { get: function () { return this._d[internal]; } });
  };

  var $from = function from(source /* , mapfn, thisArg */) {
    var O = toObject(source);
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var iterFn = getIterFn(O);
    var i, length, values, result, step, iterator;
    if (iterFn != undefined && !isArrayIter(iterFn)) {
      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {
        values.push(step.value);
      } O = values;
    }
    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);
    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {
      result[i] = mapping ? mapfn(O[i], i) : O[i];
    }
    return result;
  };

  var $of = function of(/* ...items */) {
    var index = 0;
    var length = arguments.length;
    var result = allocate(this, length);
    while (length > index) result[index] = arguments[index++];
    return result;
  };

  // iOS Safari 6.x fails here
  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });

  var $toLocaleString = function toLocaleString() {
    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);
  };

  var proto = {
    copyWithin: function copyWithin(target, start /* , end */) {
      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
    },
    every: function every(callbackfn /* , thisArg */) {
      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars
      return arrayFill.apply(validate(this), arguments);
    },
    filter: function filter(callbackfn /* , thisArg */) {
      return speciesFromList(this, arrayFilter(validate(this), callbackfn,
        arguments.length > 1 ? arguments[1] : undefined));
    },
    find: function find(predicate /* , thisArg */) {
      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
    },
    findIndex: function findIndex(predicate /* , thisArg */) {
      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
    },
    forEach: function forEach(callbackfn /* , thisArg */) {
      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    indexOf: function indexOf(searchElement /* , fromIndex */) {
      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
    },
    includes: function includes(searchElement /* , fromIndex */) {
      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
    },
    join: function join(separator) { // eslint-disable-line no-unused-vars
      return arrayJoin.apply(validate(this), arguments);
    },
    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars
      return arrayLastIndexOf.apply(validate(this), arguments);
    },
    map: function map(mapfn /* , thisArg */) {
      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
      return arrayReduce.apply(validate(this), arguments);
    },
    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars
      return arrayReduceRight.apply(validate(this), arguments);
    },
    reverse: function reverse() {
      var that = this;
      var length = validate(that).length;
      var middle = Math.floor(length / 2);
      var index = 0;
      var value;
      while (index < middle) {
        value = that[index];
        that[index++] = that[--length];
        that[length] = value;
      } return that;
    },
    some: function some(callbackfn /* , thisArg */) {
      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    },
    sort: function sort(comparefn) {
      return arraySort.call(validate(this), comparefn);
    },
    subarray: function subarray(begin, end) {
      var O = validate(this);
      var length = O.length;
      var $begin = toAbsoluteIndex(begin, length);
      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(
        O.buffer,
        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,
        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)
      );
    }
  };

  var $slice = function slice(start, end) {
    return speciesFromList(this, arraySlice.call(validate(this), start, end));
  };

  var $set = function set(arrayLike /* , offset */) {
    validate(this);
    var offset = toOffset(arguments[1], 1);
    var length = this.length;
    var src = toObject(arrayLike);
    var len = toLength(src.length);
    var index = 0;
    if (len + offset > length) throw RangeError(WRONG_LENGTH);
    while (index < len) this[offset + index] = src[index++];
  };

  var $iterators = {
    entries: function entries() {
      return arrayEntries.call(validate(this));
    },
    keys: function keys() {
      return arrayKeys.call(validate(this));
    },
    values: function values() {
      return arrayValues.call(validate(this));
    }
  };

  var isTAIndex = function (target, key) {
    return isObject(target)
      && target[TYPED_ARRAY]
      && typeof key != 'symbol'
      && key in target
      && String(+key) == String(key);
  };
  var $getDesc = function getOwnPropertyDescriptor(target, key) {
    return isTAIndex(target, key = toPrimitive(key, true))
      ? propertyDesc(2, target[key])
      : gOPD(target, key);
  };
  var $setDesc = function defineProperty(target, key, desc) {
    if (isTAIndex(target, key = toPrimitive(key, true))
      && isObject(desc)
      && has(desc, 'value')
      && !has(desc, 'get')
      && !has(desc, 'set')
      // TODO: add validation descriptor w/o calling accessors
      && !desc.configurable
      && (!has(desc, 'writable') || desc.writable)
      && (!has(desc, 'enumerable') || desc.enumerable)
    ) {
      target[key] = desc.value;
      return target;
    } return dP(target, key, desc);
  };

  if (!ALL_CONSTRUCTORS) {
    $GOPD.f = $getDesc;
    $DP.f = $setDesc;
  }

  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {
    getOwnPropertyDescriptor: $getDesc,
    defineProperty: $setDesc
  });

  if (fails(function () { arrayToString.call({}); })) {
    arrayToString = arrayToLocaleString = function toString() {
      return arrayJoin.call(this);
    };
  }

  var $TypedArrayPrototype$ = redefineAll({}, proto);
  redefineAll($TypedArrayPrototype$, $iterators);
  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);
  redefineAll($TypedArrayPrototype$, {
    slice: $slice,
    set: $set,
    constructor: function () { /* noop */ },
    toString: arrayToString,
    toLocaleString: $toLocaleString
  });
  addGetter($TypedArrayPrototype$, 'buffer', 'b');
  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');
  addGetter($TypedArrayPrototype$, 'byteLength', 'l');
  addGetter($TypedArrayPrototype$, 'length', 'e');
  dP($TypedArrayPrototype$, TAG, {
    get: function () { return this[TYPED_ARRAY]; }
  });

  // eslint-disable-next-line max-statements
  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {
    CLAMPED = !!CLAMPED;
    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';
    var GETTER = 'get' + KEY;
    var SETTER = 'set' + KEY;
    var TypedArray = global[NAME];
    var Base = TypedArray || {};
    var TAC = TypedArray && getPrototypeOf(TypedArray);
    var FORCED = !TypedArray || !$typed.ABV;
    var O = {};
    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];
    var getter = function (that, index) {
      var data = that._d;
      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);
    };
    var setter = function (that, index, value) {
      var data = that._d;
      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;
      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);
    };
    var addElement = function (that, index) {
      dP(that, index, {
        get: function () {
          return getter(this, index);
        },
        set: function (value) {
          return setter(this, index, value);
        },
        enumerable: true
      });
    };
    if (FORCED) {
      TypedArray = wrapper(function (that, data, $offset, $length) {
        anInstance(that, TypedArray, NAME, '_d');
        var index = 0;
        var offset = 0;
        var buffer, byteLength, length, klass;
        if (!isObject(data)) {
          length = toIndex(data);
          byteLength = length * BYTES;
          buffer = new $ArrayBuffer(byteLength);
        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
          buffer = data;
          offset = toOffset($offset, BYTES);
          var $len = data.byteLength;
          if ($length === undefined) {
            if ($len % BYTES) throw RangeError(WRONG_LENGTH);
            byteLength = $len - offset;
            if (byteLength < 0) throw RangeError(WRONG_LENGTH);
          } else {
            byteLength = toLength($length) * BYTES;
            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);
          }
          length = byteLength / BYTES;
        } else if (TYPED_ARRAY in data) {
          return fromList(TypedArray, data);
        } else {
          return $from.call(TypedArray, data);
        }
        hide(that, '_d', {
          b: buffer,
          o: offset,
          l: byteLength,
          e: length,
          v: new $DataView(buffer)
        });
        while (index < length) addElement(that, index++);
      });
      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);
      hide(TypedArrayPrototype, 'constructor', TypedArray);
    } else if (!fails(function () {
      TypedArray(1);
    }) || !fails(function () {
      new TypedArray(-1); // eslint-disable-line no-new
    }) || !$iterDetect(function (iter) {
      new TypedArray(); // eslint-disable-line no-new
      new TypedArray(null); // eslint-disable-line no-new
      new TypedArray(1.5); // eslint-disable-line no-new
      new TypedArray(iter); // eslint-disable-line no-new
    }, true)) {
      TypedArray = wrapper(function (that, data, $offset, $length) {
        anInstance(that, TypedArray, NAME);
        var klass;
        // `ws` module bug, temporarily remove validation length for Uint8Array
        // https://github.com/websockets/ws/pull/645
        if (!isObject(data)) return new Base(toIndex(data));
        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
          return $length !== undefined
            ? new Base(data, toOffset($offset, BYTES), $length)
            : $offset !== undefined
              ? new Base(data, toOffset($offset, BYTES))
              : new Base(data);
        }
        if (TYPED_ARRAY in data) return fromList(TypedArray, data);
        return $from.call(TypedArray, data);
      });
      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {
        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);
      });
      TypedArray[PROTOTYPE] = TypedArrayPrototype;
      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;
    }
    var $nativeIterator = TypedArrayPrototype[ITERATOR];
    var CORRECT_ITER_NAME = !!$nativeIterator
      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);
    var $iterator = $iterators.values;
    hide(TypedArray, TYPED_CONSTRUCTOR, true);
    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);
    hide(TypedArrayPrototype, VIEW, true);
    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);

    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {
      dP(TypedArrayPrototype, TAG, {
        get: function () { return NAME; }
      });
    }

    O[NAME] = TypedArray;

    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);

    $export($export.S, NAME, {
      BYTES_PER_ELEMENT: BYTES
    });

    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {
      from: $from,
      of: $of
    });

    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);

    $export($export.P, NAME, proto);

    setSpecies(NAME);

    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });

    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);

    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;

    $export($export.P + $export.F * fails(function () {
      new TypedArray(1).slice();
    }), NAME, { slice: $slice });

    $export($export.P + $export.F * (fails(function () {
      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();
    }) || !fails(function () {
      TypedArrayPrototype.toLocaleString.call([1, 2]);
    })), NAME, { toLocaleString: $toLocaleString });

    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;
    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);
  };
} else module.exports = function () { /* empty */ };

},{"./_an-instance":11,"./_array-copy-within":13,"./_array-fill":14,"./_array-includes":16,"./_array-methods":17,"./_classof":22,"./_ctx":30,"./_descriptors":34,"./_export":38,"./_fails":40,"./_global":45,"./_has":46,"./_hide":47,"./_is-array-iter":53,"./_is-object":56,"./_iter-detect":61,"./_iterators":63,"./_library":64,"./_object-create":75,"./_object-dp":76,"./_object-gopd":79,"./_object-gopn":81,"./_object-gpo":83,"./_property-desc":94,"./_redefine-all":95,"./_set-species":102,"./_species-constructor":106,"./_to-absolute-index":116,"./_to-index":117,"./_to-integer":118,"./_to-length":120,"./_to-object":121,"./_to-primitive":122,"./_typed":125,"./_typed-buffer":124,"./_uid":126,"./_wks":131,"./core.get-iterator-method":132,"./es6.array.iterator":144}],124:[function(require,module,exports){
'use strict';
var global = require('./_global');
var DESCRIPTORS = require('./_descriptors');
var LIBRARY = require('./_library');
var $typed = require('./_typed');
var hide = require('./_hide');
var redefineAll = require('./_redefine-all');
var fails = require('./_fails');
var anInstance = require('./_an-instance');
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
var toIndex = require('./_to-index');
var gOPN = require('./_object-gopn').f;
var dP = require('./_object-dp').f;
var arrayFill = require('./_array-fill');
var setToStringTag = require('./_set-to-string-tag');
var ARRAY_BUFFER = 'ArrayBuffer';
var DATA_VIEW = 'DataView';
var PROTOTYPE = 'prototype';
var WRONG_LENGTH = 'Wrong length!';
var WRONG_INDEX = 'Wrong index!';
var $ArrayBuffer = global[ARRAY_BUFFER];
var $DataView = global[DATA_VIEW];
var Math = global.Math;
var RangeError = global.RangeError;
// eslint-disable-next-line no-shadow-restricted-names
var Infinity = global.Infinity;
var BaseBuffer = $ArrayBuffer;
var abs = Math.abs;
var pow = Math.pow;
var floor = Math.floor;
var log = Math.log;
var LN2 = Math.LN2;
var BUFFER = 'buffer';
var BYTE_LENGTH = 'byteLength';
var BYTE_OFFSET = 'byteOffset';
var $BUFFER = DESCRIPTORS ? '_b' : BUFFER;
var $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;
var $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;

// IEEE754 conversions based on https://github.com/feross/ieee754
function packIEEE754(value, mLen, nBytes) {
  var buffer = new Array(nBytes);
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;
  var i = 0;
  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
  var e, m, c;
  value = abs(value);
  // eslint-disable-next-line no-self-compare
  if (value != value || value === Infinity) {
    // eslint-disable-next-line no-self-compare
    m = value != value ? 1 : 0;
    e = eMax;
  } else {
    e = floor(log(value) / LN2);
    if (value * (c = pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }
    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * pow(2, eBias - 1) * pow(2, mLen);
      e = 0;
    }
  }
  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);
  e = e << mLen | m;
  eLen += mLen;
  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);
  buffer[--i] |= s * 128;
  return buffer;
}
function unpackIEEE754(buffer, mLen, nBytes) {
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var nBits = eLen - 7;
  var i = nBytes - 1;
  var s = buffer[i--];
  var e = s & 127;
  var m;
  s >>= 7;
  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);
  m = e & (1 << -nBits) - 1;
  e >>= -nBits;
  nBits += mLen;
  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);
  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : s ? -Infinity : Infinity;
  } else {
    m = m + pow(2, mLen);
    e = e - eBias;
  } return (s ? -1 : 1) * m * pow(2, e - mLen);
}

function unpackI32(bytes) {
  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];
}
function packI8(it) {
  return [it & 0xff];
}
function packI16(it) {
  return [it & 0xff, it >> 8 & 0xff];
}
function packI32(it) {
  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];
}
function packF64(it) {
  return packIEEE754(it, 52, 8);
}
function packF32(it) {
  return packIEEE754(it, 23, 4);
}

function addGetter(C, key, internal) {
  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });
}

function get(view, bytes, index, isLittleEndian) {
  var numIndex = +index;
  var intIndex = toIndex(numIndex);
  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
  var store = view[$BUFFER]._b;
  var start = intIndex + view[$OFFSET];
  var pack = store.slice(start, start + bytes);
  return isLittleEndian ? pack : pack.reverse();
}
function set(view, bytes, index, conversion, value, isLittleEndian) {
  var numIndex = +index;
  var intIndex = toIndex(numIndex);
  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
  var store = view[$BUFFER]._b;
  var start = intIndex + view[$OFFSET];
  var pack = conversion(+value);
  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];
}

if (!$typed.ABV) {
  $ArrayBuffer = function ArrayBuffer(length) {
    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);
    var byteLength = toIndex(length);
    this._b = arrayFill.call(new Array(byteLength), 0);
    this[$LENGTH] = byteLength;
  };

  $DataView = function DataView(buffer, byteOffset, byteLength) {
    anInstance(this, $DataView, DATA_VIEW);
    anInstance(buffer, $ArrayBuffer, DATA_VIEW);
    var bufferLength = buffer[$LENGTH];
    var offset = toInteger(byteOffset);
    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');
    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);
    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);
    this[$BUFFER] = buffer;
    this[$OFFSET] = offset;
    this[$LENGTH] = byteLength;
  };

  if (DESCRIPTORS) {
    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');
    addGetter($DataView, BUFFER, '_b');
    addGetter($DataView, BYTE_LENGTH, '_l');
    addGetter($DataView, BYTE_OFFSET, '_o');
  }

  redefineAll($DataView[PROTOTYPE], {
    getInt8: function getInt8(byteOffset) {
      return get(this, 1, byteOffset)[0] << 24 >> 24;
    },
    getUint8: function getUint8(byteOffset) {
      return get(this, 1, byteOffset)[0];
    },
    getInt16: function getInt16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments[1]);
      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
    },
    getUint16: function getUint16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments[1]);
      return bytes[1] << 8 | bytes[0];
    },
    getInt32: function getInt32(byteOffset /* , littleEndian */) {
      return unpackI32(get(this, 4, byteOffset, arguments[1]));
    },
    getUint32: function getUint32(byteOffset /* , littleEndian */) {
      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;
    },
    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);
    },
    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);
    },
    setInt8: function setInt8(byteOffset, value) {
      set(this, 1, byteOffset, packI8, value);
    },
    setUint8: function setUint8(byteOffset, value) {
      set(this, 1, byteOffset, packI8, value);
    },
    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packI16, value, arguments[2]);
    },
    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packI16, value, arguments[2]);
    },
    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packI32, value, arguments[2]);
    },
    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packI32, value, arguments[2]);
    },
    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packF32, value, arguments[2]);
    },
    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {
      set(this, 8, byteOffset, packF64, value, arguments[2]);
    }
  });
} else {
  if (!fails(function () {
    $ArrayBuffer(1);
  }) || !fails(function () {
    new $ArrayBuffer(-1); // eslint-disable-line no-new
  }) || fails(function () {
    new $ArrayBuffer(); // eslint-disable-line no-new
    new $ArrayBuffer(1.5); // eslint-disable-line no-new
    new $ArrayBuffer(NaN); // eslint-disable-line no-new
    return $ArrayBuffer.name != ARRAY_BUFFER;
  })) {
    $ArrayBuffer = function ArrayBuffer(length) {
      anInstance(this, $ArrayBuffer);
      return new BaseBuffer(toIndex(length));
    };
    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];
    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {
      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);
    }
    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;
  }
  // iOS Safari 7.x bug
  var view = new $DataView(new $ArrayBuffer(2));
  var $setInt8 = $DataView[PROTOTYPE].setInt8;
  view.setInt8(0, 2147483648);
  view.setInt8(1, 2147483649);
  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {
    setInt8: function setInt8(byteOffset, value) {
      $setInt8.call(this, byteOffset, value << 24 >> 24);
    },
    setUint8: function setUint8(byteOffset, value) {
      $setInt8.call(this, byteOffset, value << 24 >> 24);
    }
  }, true);
}
setToStringTag($ArrayBuffer, ARRAY_BUFFER);
setToStringTag($DataView, DATA_VIEW);
hide($DataView[PROTOTYPE], $typed.VIEW, true);
exports[ARRAY_BUFFER] = $ArrayBuffer;
exports[DATA_VIEW] = $DataView;

},{"./_an-instance":11,"./_array-fill":14,"./_descriptors":34,"./_fails":40,"./_global":45,"./_hide":47,"./_library":64,"./_object-dp":76,"./_object-gopn":81,"./_redefine-all":95,"./_set-to-string-tag":103,"./_to-index":117,"./_to-integer":118,"./_to-length":120,"./_typed":125}],125:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var uid = require('./_uid');
var TYPED = uid('typed_array');
var VIEW = uid('view');
var ABV = !!(global.ArrayBuffer && global.DataView);
var CONSTR = ABV;
var i = 0;
var l = 9;
var Typed;

var TypedArrayConstructors = (
  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'
).split(',');

while (i < l) {
  if (Typed = global[TypedArrayConstructors[i++]]) {
    hide(Typed.prototype, TYPED, true);
    hide(Typed.prototype, VIEW, true);
  } else CONSTR = false;
}

module.exports = {
  ABV: ABV,
  CONSTR: CONSTR,
  TYPED: TYPED,
  VIEW: VIEW
};

},{"./_global":45,"./_hide":47,"./_uid":126}],126:[function(require,module,exports){
var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

},{}],127:[function(require,module,exports){
var global = require('./_global');
var navigator = global.navigator;

module.exports = navigator && navigator.userAgent || '';

},{"./_global":45}],128:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it, TYPE) {
  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');
  return it;
};

},{"./_is-object":56}],129:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var LIBRARY = require('./_library');
var wksExt = require('./_wks-ext');
var defineProperty = require('./_object-dp').f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};

},{"./_core":28,"./_global":45,"./_library":64,"./_object-dp":76,"./_wks-ext":130}],130:[function(require,module,exports){
exports.f = require('./_wks');

},{"./_wks":131}],131:[function(require,module,exports){
var store = require('./_shared')('wks');
var uid = require('./_uid');
var Symbol = require('./_global').Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

},{"./_global":45,"./_shared":105,"./_uid":126}],132:[function(require,module,exports){
var classof = require('./_classof');
var ITERATOR = require('./_wks')('iterator');
var Iterators = require('./_iterators');
module.exports = require('./_core').getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};

},{"./_classof":22,"./_core":28,"./_iterators":63,"./_wks":131}],133:[function(require,module,exports){
// https://github.com/benjamingr/RexExp.escape
var $export = require('./_export');
var $re = require('./_replacer')(/[\\^$*+?.()|[\]{}]/g, '\\$&');

$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });

},{"./_export":38,"./_replacer":97}],134:[function(require,module,exports){
// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)
var $export = require('./_export');

$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });

require('./_add-to-unscopables')('copyWithin');

},{"./_add-to-unscopables":10,"./_array-copy-within":13,"./_export":38}],135:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $every = require('./_array-methods')(4);

$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {
  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])
  every: function every(callbackfn /* , thisArg */) {
    return $every(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":17,"./_export":38,"./_strict-method":107}],136:[function(require,module,exports){
// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)
var $export = require('./_export');

$export($export.P, 'Array', { fill: require('./_array-fill') });

require('./_add-to-unscopables')('fill');

},{"./_add-to-unscopables":10,"./_array-fill":14,"./_export":38}],137:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $filter = require('./_array-methods')(2);

$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {
  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])
  filter: function filter(callbackfn /* , thisArg */) {
    return $filter(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":17,"./_export":38,"./_strict-method":107}],138:[function(require,module,exports){
'use strict';
// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(6);
var KEY = 'findIndex';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  findIndex: function findIndex(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":10,"./_array-methods":17,"./_export":38}],139:[function(require,module,exports){
'use strict';
// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(5);
var KEY = 'find';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":10,"./_array-methods":17,"./_export":38}],140:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $forEach = require('./_array-methods')(0);
var STRICT = require('./_strict-method')([].forEach, true);

$export($export.P + $export.F * !STRICT, 'Array', {
  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])
  forEach: function forEach(callbackfn /* , thisArg */) {
    return $forEach(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":17,"./_export":38,"./_strict-method":107}],141:[function(require,module,exports){
'use strict';
var ctx = require('./_ctx');
var $export = require('./_export');
var toObject = require('./_to-object');
var call = require('./_iter-call');
var isArrayIter = require('./_is-array-iter');
var toLength = require('./_to-length');
var createProperty = require('./_create-property');
var getIterFn = require('./core.get-iterator-method');

$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});

},{"./_create-property":29,"./_ctx":30,"./_export":38,"./_is-array-iter":53,"./_iter-call":58,"./_iter-detect":61,"./_to-length":120,"./_to-object":121,"./core.get-iterator-method":132}],142:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $indexOf = require('./_array-includes')(false);
var $native = [].indexOf;
var NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;

$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {
  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])
  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {
    return NEGATIVE_ZERO
      // convert -0 to +0
      ? $native.apply(this, arguments) || 0
      : $indexOf(this, searchElement, arguments[1]);
  }
});

},{"./_array-includes":16,"./_export":38,"./_strict-method":107}],143:[function(require,module,exports){
// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)
var $export = require('./_export');

$export($export.S, 'Array', { isArray: require('./_is-array') });

},{"./_export":38,"./_is-array":54}],144:[function(require,module,exports){
'use strict';
var addToUnscopables = require('./_add-to-unscopables');
var step = require('./_iter-step');
var Iterators = require('./_iterators');
var toIObject = require('./_to-iobject');

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

},{"./_add-to-unscopables":10,"./_iter-define":60,"./_iter-step":62,"./_iterators":63,"./_to-iobject":119}],145:[function(require,module,exports){
'use strict';
// 22.1.3.13 Array.prototype.join(separator)
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var arrayJoin = [].join;

// fallback for not array-like strings
$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {
  join: function join(separator) {
    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);
  }
});

},{"./_export":38,"./_iobject":52,"./_strict-method":107,"./_to-iobject":119}],146:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var toInteger = require('./_to-integer');
var toLength = require('./_to-length');
var $native = [].lastIndexOf;
var NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;

$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {
  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])
  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {
    // convert -0 to +0
    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;
    var O = toIObject(this);
    var length = toLength(O.length);
    var index = length - 1;
    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));
    if (index < 0) index = length + index;
    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;
    return -1;
  }
});

},{"./_export":38,"./_strict-method":107,"./_to-integer":118,"./_to-iobject":119,"./_to-length":120}],147:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $map = require('./_array-methods')(1);

$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {
  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])
  map: function map(callbackfn /* , thisArg */) {
    return $map(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":17,"./_export":38,"./_strict-method":107}],148:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var createProperty = require('./_create-property');

// WebKit Array.of isn't generic
$export($export.S + $export.F * require('./_fails')(function () {
  function F() { /* empty */ }
  return !(Array.of.call(F) instanceof F);
}), 'Array', {
  // 22.1.2.3 Array.of( ...items)
  of: function of(/* ...args */) {
    var index = 0;
    var aLen = arguments.length;
    var result = new (typeof this == 'function' ? this : Array)(aLen);
    while (aLen > index) createProperty(result, index, arguments[index++]);
    result.length = aLen;
    return result;
  }
});

},{"./_create-property":29,"./_export":38,"./_fails":40}],149:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $reduce = require('./_array-reduce');

$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {
  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])
  reduceRight: function reduceRight(callbackfn /* , initialValue */) {
    return $reduce(this, callbackfn, arguments.length, arguments[1], true);
  }
});

},{"./_array-reduce":18,"./_export":38,"./_strict-method":107}],150:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $reduce = require('./_array-reduce');

$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {
  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])
  reduce: function reduce(callbackfn /* , initialValue */) {
    return $reduce(this, callbackfn, arguments.length, arguments[1], false);
  }
});

},{"./_array-reduce":18,"./_export":38,"./_strict-method":107}],151:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var html = require('./_html');
var cof = require('./_cof');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
var arraySlice = [].slice;

// fallback for not array-like ES3 strings and DOM objects
$export($export.P + $export.F * require('./_fails')(function () {
  if (html) arraySlice.call(html);
}), 'Array', {
  slice: function slice(begin, end) {
    var len = toLength(this.length);
    var klass = cof(this);
    end = end === undefined ? len : end;
    if (klass == 'Array') return arraySlice.call(this, begin, end);
    var start = toAbsoluteIndex(begin, len);
    var upTo = toAbsoluteIndex(end, len);
    var size = toLength(upTo - start);
    var cloned = new Array(size);
    var i = 0;
    for (; i < size; i++) cloned[i] = klass == 'String'
      ? this.charAt(start + i)
      : this[start + i];
    return cloned;
  }
});

},{"./_cof":23,"./_export":38,"./_fails":40,"./_html":48,"./_to-absolute-index":116,"./_to-length":120}],152:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $some = require('./_array-methods')(3);

$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {
  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])
  some: function some(callbackfn /* , thisArg */) {
    return $some(this, callbackfn, arguments[1]);
  }
});

},{"./_array-methods":17,"./_export":38,"./_strict-method":107}],153:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var aFunction = require('./_a-function');
var toObject = require('./_to-object');
var fails = require('./_fails');
var $sort = [].sort;
var test = [1, 2, 3];

$export($export.P + $export.F * (fails(function () {
  // IE8-
  test.sort(undefined);
}) || !fails(function () {
  // V8 bug
  test.sort(null);
  // Old WebKit
}) || !require('./_strict-method')($sort)), 'Array', {
  // 22.1.3.25 Array.prototype.sort(comparefn)
  sort: function sort(comparefn) {
    return comparefn === undefined
      ? $sort.call(toObject(this))
      : $sort.call(toObject(this), aFunction(comparefn));
  }
});

},{"./_a-function":8,"./_export":38,"./_fails":40,"./_strict-method":107,"./_to-object":121}],154:[function(require,module,exports){
require('./_set-species')('Array');

},{"./_set-species":102}],155:[function(require,module,exports){
// 20.3.3.1 / 15.9.4.4 Date.now()
var $export = require('./_export');

$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });

},{"./_export":38}],156:[function(require,module,exports){
// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()
var $export = require('./_export');
var toISOString = require('./_date-to-iso-string');

// PhantomJS / old WebKit has a broken implementations
$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {
  toISOString: toISOString
});

},{"./_date-to-iso-string":31,"./_export":38}],157:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var toPrimitive = require('./_to-primitive');

$export($export.P + $export.F * require('./_fails')(function () {
  return new Date(NaN).toJSON() !== null
    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;
}), 'Date', {
  // eslint-disable-next-line no-unused-vars
  toJSON: function toJSON(key) {
    var O = toObject(this);
    var pv = toPrimitive(O);
    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();
  }
});

},{"./_export":38,"./_fails":40,"./_to-object":121,"./_to-primitive":122}],158:[function(require,module,exports){
var TO_PRIMITIVE = require('./_wks')('toPrimitive');
var proto = Date.prototype;

if (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));

},{"./_date-to-primitive":32,"./_hide":47,"./_wks":131}],159:[function(require,module,exports){
var DateProto = Date.prototype;
var INVALID_DATE = 'Invalid Date';
var TO_STRING = 'toString';
var $toString = DateProto[TO_STRING];
var getTime = DateProto.getTime;
if (new Date(NaN) + '' != INVALID_DATE) {
  require('./_redefine')(DateProto, TO_STRING, function toString() {
    var value = getTime.call(this);
    // eslint-disable-next-line no-self-compare
    return value === value ? $toString.call(this) : INVALID_DATE;
  });
}

},{"./_redefine":96}],160:[function(require,module,exports){
// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)
var $export = require('./_export');

$export($export.P, 'Function', { bind: require('./_bind') });

},{"./_bind":21,"./_export":38}],161:[function(require,module,exports){
'use strict';
var isObject = require('./_is-object');
var getPrototypeOf = require('./_object-gpo');
var HAS_INSTANCE = require('./_wks')('hasInstance');
var FunctionProto = Function.prototype;
// 19.2.3.6 Function.prototype[@@hasInstance](V)
if (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {
  if (typeof this != 'function' || !isObject(O)) return false;
  if (!isObject(this.prototype)) return O instanceof this;
  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:
  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;
  return false;
} });

},{"./_is-object":56,"./_object-dp":76,"./_object-gpo":83,"./_wks":131}],162:[function(require,module,exports){
var dP = require('./_object-dp').f;
var FProto = Function.prototype;
var nameRE = /^\s*function ([^ (]*)/;
var NAME = 'name';

// 19.2.4.2 name
NAME in FProto || require('./_descriptors') && dP(FProto, NAME, {
  configurable: true,
  get: function () {
    try {
      return ('' + this).match(nameRE)[1];
    } catch (e) {
      return '';
    }
  }
});

},{"./_descriptors":34,"./_object-dp":76}],163:[function(require,module,exports){
'use strict';
var strong = require('./_collection-strong');
var validate = require('./_validate-collection');
var MAP = 'Map';

// 23.1 Map Objects
module.exports = require('./_collection')(MAP, function (get) {
  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.1.3.6 Map.prototype.get(key)
  get: function get(key) {
    var entry = strong.getEntry(validate(this, MAP), key);
    return entry && entry.v;
  },
  // 23.1.3.9 Map.prototype.set(key, value)
  set: function set(key, value) {
    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);
  }
}, strong, true);

},{"./_collection":27,"./_collection-strong":24,"./_validate-collection":128}],164:[function(require,module,exports){
// 20.2.2.3 Math.acosh(x)
var $export = require('./_export');
var log1p = require('./_math-log1p');
var sqrt = Math.sqrt;
var $acosh = Math.acosh;

$export($export.S + $export.F * !($acosh
  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509
  && Math.floor($acosh(Number.MAX_VALUE)) == 710
  // Tor Browser bug: Math.acosh(Infinity) -> NaN
  && $acosh(Infinity) == Infinity
), 'Math', {
  acosh: function acosh(x) {
    return (x = +x) < 1 ? NaN : x > 94906265.62425156
      ? Math.log(x) + Math.LN2
      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
  }
});

},{"./_export":38,"./_math-log1p":67}],165:[function(require,module,exports){
// 20.2.2.5 Math.asinh(x)
var $export = require('./_export');
var $asinh = Math.asinh;

function asinh(x) {
  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));
}

// Tor Browser bug: Math.asinh(0) -> -0
$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });

},{"./_export":38}],166:[function(require,module,exports){
// 20.2.2.7 Math.atanh(x)
var $export = require('./_export');
var $atanh = Math.atanh;

// Tor Browser bug: Math.atanh(-0) -> 0
$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {
  atanh: function atanh(x) {
    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;
  }
});

},{"./_export":38}],167:[function(require,module,exports){
// 20.2.2.9 Math.cbrt(x)
var $export = require('./_export');
var sign = require('./_math-sign');

$export($export.S, 'Math', {
  cbrt: function cbrt(x) {
    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);
  }
});

},{"./_export":38,"./_math-sign":69}],168:[function(require,module,exports){
// 20.2.2.11 Math.clz32(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  clz32: function clz32(x) {
    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;
  }
});

},{"./_export":38}],169:[function(require,module,exports){
// 20.2.2.12 Math.cosh(x)
var $export = require('./_export');
var exp = Math.exp;

$export($export.S, 'Math', {
  cosh: function cosh(x) {
    return (exp(x = +x) + exp(-x)) / 2;
  }
});

},{"./_export":38}],170:[function(require,module,exports){
// 20.2.2.14 Math.expm1(x)
var $export = require('./_export');
var $expm1 = require('./_math-expm1');

$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });

},{"./_export":38,"./_math-expm1":65}],171:[function(require,module,exports){
// 20.2.2.16 Math.fround(x)
var $export = require('./_export');

$export($export.S, 'Math', { fround: require('./_math-fround') });

},{"./_export":38,"./_math-fround":66}],172:[function(require,module,exports){
// 20.2.2.17 Math.hypot([value1[, value2[,  ]]])
var $export = require('./_export');
var abs = Math.abs;

$export($export.S, 'Math', {
  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars
    var sum = 0;
    var i = 0;
    var aLen = arguments.length;
    var larg = 0;
    var arg, div;
    while (i < aLen) {
      arg = abs(arguments[i++]);
      if (larg < arg) {
        div = larg / arg;
        sum = sum * div * div + 1;
        larg = arg;
      } else if (arg > 0) {
        div = arg / larg;
        sum += div * div;
      } else sum += arg;
    }
    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);
  }
});

},{"./_export":38}],173:[function(require,module,exports){
// 20.2.2.18 Math.imul(x, y)
var $export = require('./_export');
var $imul = Math.imul;

// some WebKit versions fails with big numbers, some has wrong arity
$export($export.S + $export.F * require('./_fails')(function () {
  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;
}), 'Math', {
  imul: function imul(x, y) {
    var UINT16 = 0xffff;
    var xn = +x;
    var yn = +y;
    var xl = UINT16 & xn;
    var yl = UINT16 & yn;
    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
  }
});

},{"./_export":38,"./_fails":40}],174:[function(require,module,exports){
// 20.2.2.21 Math.log10(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  log10: function log10(x) {
    return Math.log(x) * Math.LOG10E;
  }
});

},{"./_export":38}],175:[function(require,module,exports){
// 20.2.2.20 Math.log1p(x)
var $export = require('./_export');

$export($export.S, 'Math', { log1p: require('./_math-log1p') });

},{"./_export":38,"./_math-log1p":67}],176:[function(require,module,exports){
// 20.2.2.22 Math.log2(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  log2: function log2(x) {
    return Math.log(x) / Math.LN2;
  }
});

},{"./_export":38}],177:[function(require,module,exports){
// 20.2.2.28 Math.sign(x)
var $export = require('./_export');

$export($export.S, 'Math', { sign: require('./_math-sign') });

},{"./_export":38,"./_math-sign":69}],178:[function(require,module,exports){
// 20.2.2.30 Math.sinh(x)
var $export = require('./_export');
var expm1 = require('./_math-expm1');
var exp = Math.exp;

// V8 near Chromium 38 has a problem with very small numbers
$export($export.S + $export.F * require('./_fails')(function () {
  return !Math.sinh(-2e-17) != -2e-17;
}), 'Math', {
  sinh: function sinh(x) {
    return Math.abs(x = +x) < 1
      ? (expm1(x) - expm1(-x)) / 2
      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);
  }
});

},{"./_export":38,"./_fails":40,"./_math-expm1":65}],179:[function(require,module,exports){
// 20.2.2.33 Math.tanh(x)
var $export = require('./_export');
var expm1 = require('./_math-expm1');
var exp = Math.exp;

$export($export.S, 'Math', {
  tanh: function tanh(x) {
    var a = expm1(x = +x);
    var b = expm1(-x);
    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));
  }
});

},{"./_export":38,"./_math-expm1":65}],180:[function(require,module,exports){
// 20.2.2.34 Math.trunc(x)
var $export = require('./_export');

$export($export.S, 'Math', {
  trunc: function trunc(it) {
    return (it > 0 ? Math.floor : Math.ceil)(it);
  }
});

},{"./_export":38}],181:[function(require,module,exports){
'use strict';
var global = require('./_global');
var has = require('./_has');
var cof = require('./_cof');
var inheritIfRequired = require('./_inherit-if-required');
var toPrimitive = require('./_to-primitive');
var fails = require('./_fails');
var gOPN = require('./_object-gopn').f;
var gOPD = require('./_object-gopd').f;
var dP = require('./_object-dp').f;
var $trim = require('./_string-trim').trim;
var NUMBER = 'Number';
var $Number = global[NUMBER];
var Base = $Number;
var proto = $Number.prototype;
// Opera ~12 has broken Object#toString
var BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;
var TRIM = 'trim' in String.prototype;

// 7.1.3 ToNumber(argument)
var toNumber = function (argument) {
  var it = toPrimitive(argument, false);
  if (typeof it == 'string' && it.length > 2) {
    it = TRIM ? it.trim() : $trim(it, 3);
    var first = it.charCodeAt(0);
    var third, radix, maxCode;
    if (first === 43 || first === 45) {
      third = it.charCodeAt(2);
      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix
    } else if (first === 48) {
      switch (it.charCodeAt(1)) {
        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i
        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i
        default: return +it;
      }
      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {
        code = digits.charCodeAt(i);
        // parseInt parses a string to a first unavailable symbol
        // but ToNumber should return NaN if a string contains unavailable symbols
        if (code < 48 || code > maxCode) return NaN;
      } return parseInt(digits, radix);
    }
  } return +it;
};

if (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {
  $Number = function Number(value) {
    var it = arguments.length < 1 ? 0 : value;
    var that = this;
    return that instanceof $Number
      // check on 1..constructor(foo) case
      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)
        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);
  };
  for (var keys = require('./_descriptors') ? gOPN(Base) : (
    // ES3:
    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
    // ES6 (in case, if modules with ES6 Number statics required before):
    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +
    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'
  ).split(','), j = 0, key; keys.length > j; j++) {
    if (has(Base, key = keys[j]) && !has($Number, key)) {
      dP($Number, key, gOPD(Base, key));
    }
  }
  $Number.prototype = proto;
  proto.constructor = $Number;
  require('./_redefine')(global, NUMBER, $Number);
}

},{"./_cof":23,"./_descriptors":34,"./_fails":40,"./_global":45,"./_has":46,"./_inherit-if-required":50,"./_object-create":75,"./_object-dp":76,"./_object-gopd":79,"./_object-gopn":81,"./_redefine":96,"./_string-trim":113,"./_to-primitive":122}],182:[function(require,module,exports){
// 20.1.2.1 Number.EPSILON
var $export = require('./_export');

$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });

},{"./_export":38}],183:[function(require,module,exports){
// 20.1.2.2 Number.isFinite(number)
var $export = require('./_export');
var _isFinite = require('./_global').isFinite;

$export($export.S, 'Number', {
  isFinite: function isFinite(it) {
    return typeof it == 'number' && _isFinite(it);
  }
});

},{"./_export":38,"./_global":45}],184:[function(require,module,exports){
// 20.1.2.3 Number.isInteger(number)
var $export = require('./_export');

$export($export.S, 'Number', { isInteger: require('./_is-integer') });

},{"./_export":38,"./_is-integer":55}],185:[function(require,module,exports){
// 20.1.2.4 Number.isNaN(number)
var $export = require('./_export');

$export($export.S, 'Number', {
  isNaN: function isNaN(number) {
    // eslint-disable-next-line no-self-compare
    return number != number;
  }
});

},{"./_export":38}],186:[function(require,module,exports){
// 20.1.2.5 Number.isSafeInteger(number)
var $export = require('./_export');
var isInteger = require('./_is-integer');
var abs = Math.abs;

$export($export.S, 'Number', {
  isSafeInteger: function isSafeInteger(number) {
    return isInteger(number) && abs(number) <= 0x1fffffffffffff;
  }
});

},{"./_export":38,"./_is-integer":55}],187:[function(require,module,exports){
// 20.1.2.6 Number.MAX_SAFE_INTEGER
var $export = require('./_export');

$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });

},{"./_export":38}],188:[function(require,module,exports){
// 20.1.2.10 Number.MIN_SAFE_INTEGER
var $export = require('./_export');

$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });

},{"./_export":38}],189:[function(require,module,exports){
var $export = require('./_export');
var $parseFloat = require('./_parse-float');
// 20.1.2.12 Number.parseFloat(string)
$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });

},{"./_export":38,"./_parse-float":90}],190:[function(require,module,exports){
var $export = require('./_export');
var $parseInt = require('./_parse-int');
// 20.1.2.13 Number.parseInt(string, radix)
$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });

},{"./_export":38,"./_parse-int":91}],191:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toInteger = require('./_to-integer');
var aNumberValue = require('./_a-number-value');
var repeat = require('./_string-repeat');
var $toFixed = 1.0.toFixed;
var floor = Math.floor;
var data = [0, 0, 0, 0, 0, 0];
var ERROR = 'Number.toFixed: incorrect invocation!';
var ZERO = '0';

var multiply = function (n, c) {
  var i = -1;
  var c2 = c;
  while (++i < 6) {
    c2 += n * data[i];
    data[i] = c2 % 1e7;
    c2 = floor(c2 / 1e7);
  }
};
var divide = function (n) {
  var i = 6;
  var c = 0;
  while (--i >= 0) {
    c += data[i];
    data[i] = floor(c / n);
    c = (c % n) * 1e7;
  }
};
var numToString = function () {
  var i = 6;
  var s = '';
  while (--i >= 0) {
    if (s !== '' || i === 0 || data[i] !== 0) {
      var t = String(data[i]);
      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;
    }
  } return s;
};
var pow = function (x, n, acc) {
  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);
};
var log = function (x) {
  var n = 0;
  var x2 = x;
  while (x2 >= 4096) {
    n += 12;
    x2 /= 4096;
  }
  while (x2 >= 2) {
    n += 1;
    x2 /= 2;
  } return n;
};

$export($export.P + $export.F * (!!$toFixed && (
  0.00008.toFixed(3) !== '0.000' ||
  0.9.toFixed(0) !== '1' ||
  1.255.toFixed(2) !== '1.25' ||
  1000000000000000128.0.toFixed(0) !== '1000000000000000128'
) || !require('./_fails')(function () {
  // V8 ~ Android 4.3-
  $toFixed.call({});
})), 'Number', {
  toFixed: function toFixed(fractionDigits) {
    var x = aNumberValue(this, ERROR);
    var f = toInteger(fractionDigits);
    var s = '';
    var m = ZERO;
    var e, z, j, k;
    if (f < 0 || f > 20) throw RangeError(ERROR);
    // eslint-disable-next-line no-self-compare
    if (x != x) return 'NaN';
    if (x <= -1e21 || x >= 1e21) return String(x);
    if (x < 0) {
      s = '-';
      x = -x;
    }
    if (x > 1e-21) {
      e = log(x * pow(2, 69, 1)) - 69;
      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);
      z *= 0x10000000000000;
      e = 52 - e;
      if (e > 0) {
        multiply(0, z);
        j = f;
        while (j >= 7) {
          multiply(1e7, 0);
          j -= 7;
        }
        multiply(pow(10, j, 1), 0);
        j = e - 1;
        while (j >= 23) {
          divide(1 << 23);
          j -= 23;
        }
        divide(1 << j);
        multiply(1, 1);
        divide(2);
        m = numToString();
      } else {
        multiply(0, z);
        multiply(1 << -e, 0);
        m = numToString() + repeat.call(ZERO, f);
      }
    }
    if (f > 0) {
      k = m.length;
      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));
    } else {
      m = s + m;
    } return m;
  }
});

},{"./_a-number-value":9,"./_export":38,"./_fails":40,"./_string-repeat":112,"./_to-integer":118}],192:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $fails = require('./_fails');
var aNumberValue = require('./_a-number-value');
var $toPrecision = 1.0.toPrecision;

$export($export.P + $export.F * ($fails(function () {
  // IE7-
  return $toPrecision.call(1, undefined) !== '1';
}) || !$fails(function () {
  // V8 ~ Android 4.3-
  $toPrecision.call({});
})), 'Number', {
  toPrecision: function toPrecision(precision) {
    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');
    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);
  }
});

},{"./_a-number-value":9,"./_export":38,"./_fails":40}],193:[function(require,module,exports){
// 19.1.3.1 Object.assign(target, source)
var $export = require('./_export');

$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });

},{"./_export":38,"./_object-assign":74}],194:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: require('./_object-create') });

},{"./_export":38,"./_object-create":75}],195:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)
$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });

},{"./_descriptors":34,"./_export":38,"./_object-dps":77}],196:[function(require,module,exports){
var $export = require('./_export');
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });

},{"./_descriptors":34,"./_export":38,"./_object-dp":76}],197:[function(require,module,exports){
// 19.1.2.5 Object.freeze(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('freeze', function ($freeze) {
  return function freeze(it) {
    return $freeze && isObject(it) ? $freeze(meta(it)) : it;
  };
});

},{"./_is-object":56,"./_meta":70,"./_object-sap":87}],198:[function(require,module,exports){
// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = require('./_to-iobject');
var $getOwnPropertyDescriptor = require('./_object-gopd').f;

require('./_object-sap')('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});

},{"./_object-gopd":79,"./_object-sap":87,"./_to-iobject":119}],199:[function(require,module,exports){
// 19.1.2.7 Object.getOwnPropertyNames(O)
require('./_object-sap')('getOwnPropertyNames', function () {
  return require('./_object-gopn-ext').f;
});

},{"./_object-gopn-ext":80,"./_object-sap":87}],200:[function(require,module,exports){
// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = require('./_to-object');
var $getPrototypeOf = require('./_object-gpo');

require('./_object-sap')('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});

},{"./_object-gpo":83,"./_object-sap":87,"./_to-object":121}],201:[function(require,module,exports){
// 19.1.2.11 Object.isExtensible(O)
var isObject = require('./_is-object');

require('./_object-sap')('isExtensible', function ($isExtensible) {
  return function isExtensible(it) {
    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;
  };
});

},{"./_is-object":56,"./_object-sap":87}],202:[function(require,module,exports){
// 19.1.2.12 Object.isFrozen(O)
var isObject = require('./_is-object');

require('./_object-sap')('isFrozen', function ($isFrozen) {
  return function isFrozen(it) {
    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;
  };
});

},{"./_is-object":56,"./_object-sap":87}],203:[function(require,module,exports){
// 19.1.2.13 Object.isSealed(O)
var isObject = require('./_is-object');

require('./_object-sap')('isSealed', function ($isSealed) {
  return function isSealed(it) {
    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;
  };
});

},{"./_is-object":56,"./_object-sap":87}],204:[function(require,module,exports){
// 19.1.3.10 Object.is(value1, value2)
var $export = require('./_export');
$export($export.S, 'Object', { is: require('./_same-value') });

},{"./_export":38,"./_same-value":98}],205:[function(require,module,exports){
// 19.1.2.14 Object.keys(O)
var toObject = require('./_to-object');
var $keys = require('./_object-keys');

require('./_object-sap')('keys', function () {
  return function keys(it) {
    return $keys(toObject(it));
  };
});

},{"./_object-keys":85,"./_object-sap":87,"./_to-object":121}],206:[function(require,module,exports){
// 19.1.2.15 Object.preventExtensions(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('preventExtensions', function ($preventExtensions) {
  return function preventExtensions(it) {
    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;
  };
});

},{"./_is-object":56,"./_meta":70,"./_object-sap":87}],207:[function(require,module,exports){
// 19.1.2.17 Object.seal(O)
var isObject = require('./_is-object');
var meta = require('./_meta').onFreeze;

require('./_object-sap')('seal', function ($seal) {
  return function seal(it) {
    return $seal && isObject(it) ? $seal(meta(it)) : it;
  };
});

},{"./_is-object":56,"./_meta":70,"./_object-sap":87}],208:[function(require,module,exports){
// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = require('./_export');
$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });

},{"./_export":38,"./_set-proto":101}],209:[function(require,module,exports){
'use strict';
// 19.1.3.6 Object.prototype.toString()
var classof = require('./_classof');
var test = {};
test[require('./_wks')('toStringTag')] = 'z';
if (test + '' != '[object z]') {
  require('./_redefine')(Object.prototype, 'toString', function toString() {
    return '[object ' + classof(this) + ']';
  }, true);
}

},{"./_classof":22,"./_redefine":96,"./_wks":131}],210:[function(require,module,exports){
var $export = require('./_export');
var $parseFloat = require('./_parse-float');
// 18.2.4 parseFloat(string)
$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });

},{"./_export":38,"./_parse-float":90}],211:[function(require,module,exports){
var $export = require('./_export');
var $parseInt = require('./_parse-int');
// 18.2.5 parseInt(string, radix)
$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });

},{"./_export":38,"./_parse-int":91}],212:[function(require,module,exports){
'use strict';
var LIBRARY = require('./_library');
var global = require('./_global');
var ctx = require('./_ctx');
var classof = require('./_classof');
var $export = require('./_export');
var isObject = require('./_is-object');
var aFunction = require('./_a-function');
var anInstance = require('./_an-instance');
var forOf = require('./_for-of');
var speciesConstructor = require('./_species-constructor');
var task = require('./_task').set;
var microtask = require('./_microtask')();
var newPromiseCapabilityModule = require('./_new-promise-capability');
var perform = require('./_perform');
var userAgent = require('./_user-agent');
var promiseResolve = require('./_promise-resolve');
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8 || '';
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function')
      && promise.then(empty) instanceof FakePromise
      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
      // we can't detect it synchronously, so just check versions
      && v8.indexOf('6.6') !== 0
      && userAgent.indexOf('Chrome/66') === -1;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then, exited;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value); // may throw
            if (domain) {
              domain.exit();
              exited = true;
            }
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        if (domain && !exited) domain.exit();
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = require('./_redefine-all')($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
require('./_set-to-string-tag')($Promise, PROMISE);
require('./_set-species')(PROMISE);
Wrapper = require('./_core')[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});

},{"./_a-function":8,"./_an-instance":11,"./_classof":22,"./_core":28,"./_ctx":30,"./_export":38,"./_for-of":44,"./_global":45,"./_is-object":56,"./_iter-detect":61,"./_library":64,"./_microtask":72,"./_new-promise-capability":73,"./_perform":92,"./_promise-resolve":93,"./_redefine-all":95,"./_set-species":102,"./_set-to-string-tag":103,"./_species-constructor":106,"./_task":115,"./_user-agent":127,"./_wks":131}],213:[function(require,module,exports){
// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)
var $export = require('./_export');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var rApply = (require('./_global').Reflect || {}).apply;
var fApply = Function.apply;
// MS Edge argumentsList argument is optional
$export($export.S + $export.F * !require('./_fails')(function () {
  rApply(function () { /* empty */ });
}), 'Reflect', {
  apply: function apply(target, thisArgument, argumentsList) {
    var T = aFunction(target);
    var L = anObject(argumentsList);
    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);
  }
});

},{"./_a-function":8,"./_an-object":12,"./_export":38,"./_fails":40,"./_global":45}],214:[function(require,module,exports){
// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])
var $export = require('./_export');
var create = require('./_object-create');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var fails = require('./_fails');
var bind = require('./_bind');
var rConstruct = (require('./_global').Reflect || {}).construct;

// MS Edge supports only 2 arguments and argumentsList argument is optional
// FF Nightly sets third argument as `new.target`, but does not create `this` from it
var NEW_TARGET_BUG = fails(function () {
  function F() { /* empty */ }
  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);
});
var ARGS_BUG = !fails(function () {
  rConstruct(function () { /* empty */ });
});

$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {
  construct: function construct(Target, args /* , newTarget */) {
    aFunction(Target);
    anObject(args);
    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);
    if (Target == newTarget) {
      // w/o altered newTarget, optimization for 0-4 arguments
      switch (args.length) {
        case 0: return new Target();
        case 1: return new Target(args[0]);
        case 2: return new Target(args[0], args[1]);
        case 3: return new Target(args[0], args[1], args[2]);
        case 4: return new Target(args[0], args[1], args[2], args[3]);
      }
      // w/o altered newTarget, lot of arguments case
      var $args = [null];
      $args.push.apply($args, args);
      return new (bind.apply(Target, $args))();
    }
    // with altered newTarget, not support built-in constructors
    var proto = newTarget.prototype;
    var instance = create(isObject(proto) ? proto : Object.prototype);
    var result = Function.apply.call(Target, instance, args);
    return isObject(result) ? result : instance;
  }
});

},{"./_a-function":8,"./_an-object":12,"./_bind":21,"./_export":38,"./_fails":40,"./_global":45,"./_is-object":56,"./_object-create":75}],215:[function(require,module,exports){
// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)
var dP = require('./_object-dp');
var $export = require('./_export');
var anObject = require('./_an-object');
var toPrimitive = require('./_to-primitive');

// MS Edge has broken Reflect.defineProperty - throwing instead of returning false
$export($export.S + $export.F * require('./_fails')(function () {
  // eslint-disable-next-line no-undef
  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });
}), 'Reflect', {
  defineProperty: function defineProperty(target, propertyKey, attributes) {
    anObject(target);
    propertyKey = toPrimitive(propertyKey, true);
    anObject(attributes);
    try {
      dP.f(target, propertyKey, attributes);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_an-object":12,"./_export":38,"./_fails":40,"./_object-dp":76,"./_to-primitive":122}],216:[function(require,module,exports){
// 26.1.4 Reflect.deleteProperty(target, propertyKey)
var $export = require('./_export');
var gOPD = require('./_object-gopd').f;
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  deleteProperty: function deleteProperty(target, propertyKey) {
    var desc = gOPD(anObject(target), propertyKey);
    return desc && !desc.configurable ? false : delete target[propertyKey];
  }
});

},{"./_an-object":12,"./_export":38,"./_object-gopd":79}],217:[function(require,module,exports){
'use strict';
// 26.1.5 Reflect.enumerate(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var Enumerate = function (iterated) {
  this._t = anObject(iterated); // target
  this._i = 0;                  // next index
  var keys = this._k = [];      // keys
  var key;
  for (key in iterated) keys.push(key);
};
require('./_iter-create')(Enumerate, 'Object', function () {
  var that = this;
  var keys = that._k;
  var key;
  do {
    if (that._i >= keys.length) return { value: undefined, done: true };
  } while (!((key = keys[that._i++]) in that._t));
  return { value: key, done: false };
});

$export($export.S, 'Reflect', {
  enumerate: function enumerate(target) {
    return new Enumerate(target);
  }
});

},{"./_an-object":12,"./_export":38,"./_iter-create":59}],218:[function(require,module,exports){
// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)
var gOPD = require('./_object-gopd');
var $export = require('./_export');
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
    return gOPD.f(anObject(target), propertyKey);
  }
});

},{"./_an-object":12,"./_export":38,"./_object-gopd":79}],219:[function(require,module,exports){
// 26.1.8 Reflect.getPrototypeOf(target)
var $export = require('./_export');
var getProto = require('./_object-gpo');
var anObject = require('./_an-object');

$export($export.S, 'Reflect', {
  getPrototypeOf: function getPrototypeOf(target) {
    return getProto(anObject(target));
  }
});

},{"./_an-object":12,"./_export":38,"./_object-gpo":83}],220:[function(require,module,exports){
// 26.1.6 Reflect.get(target, propertyKey [, receiver])
var gOPD = require('./_object-gopd');
var getPrototypeOf = require('./_object-gpo');
var has = require('./_has');
var $export = require('./_export');
var isObject = require('./_is-object');
var anObject = require('./_an-object');

function get(target, propertyKey /* , receiver */) {
  var receiver = arguments.length < 3 ? target : arguments[2];
  var desc, proto;
  if (anObject(target) === receiver) return target[propertyKey];
  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')
    ? desc.value
    : desc.get !== undefined
      ? desc.get.call(receiver)
      : undefined;
  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);
}

$export($export.S, 'Reflect', { get: get });

},{"./_an-object":12,"./_export":38,"./_has":46,"./_is-object":56,"./_object-gopd":79,"./_object-gpo":83}],221:[function(require,module,exports){
// 26.1.9 Reflect.has(target, propertyKey)
var $export = require('./_export');

$export($export.S, 'Reflect', {
  has: function has(target, propertyKey) {
    return propertyKey in target;
  }
});

},{"./_export":38}],222:[function(require,module,exports){
// 26.1.10 Reflect.isExtensible(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var $isExtensible = Object.isExtensible;

$export($export.S, 'Reflect', {
  isExtensible: function isExtensible(target) {
    anObject(target);
    return $isExtensible ? $isExtensible(target) : true;
  }
});

},{"./_an-object":12,"./_export":38}],223:[function(require,module,exports){
// 26.1.11 Reflect.ownKeys(target)
var $export = require('./_export');

$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });

},{"./_export":38,"./_own-keys":89}],224:[function(require,module,exports){
// 26.1.12 Reflect.preventExtensions(target)
var $export = require('./_export');
var anObject = require('./_an-object');
var $preventExtensions = Object.preventExtensions;

$export($export.S, 'Reflect', {
  preventExtensions: function preventExtensions(target) {
    anObject(target);
    try {
      if ($preventExtensions) $preventExtensions(target);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_an-object":12,"./_export":38}],225:[function(require,module,exports){
// 26.1.14 Reflect.setPrototypeOf(target, proto)
var $export = require('./_export');
var setProto = require('./_set-proto');

if (setProto) $export($export.S, 'Reflect', {
  setPrototypeOf: function setPrototypeOf(target, proto) {
    setProto.check(target, proto);
    try {
      setProto.set(target, proto);
      return true;
    } catch (e) {
      return false;
    }
  }
});

},{"./_export":38,"./_set-proto":101}],226:[function(require,module,exports){
// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])
var dP = require('./_object-dp');
var gOPD = require('./_object-gopd');
var getPrototypeOf = require('./_object-gpo');
var has = require('./_has');
var $export = require('./_export');
var createDesc = require('./_property-desc');
var anObject = require('./_an-object');
var isObject = require('./_is-object');

function set(target, propertyKey, V /* , receiver */) {
  var receiver = arguments.length < 4 ? target : arguments[3];
  var ownDesc = gOPD.f(anObject(target), propertyKey);
  var existingDescriptor, proto;
  if (!ownDesc) {
    if (isObject(proto = getPrototypeOf(target))) {
      return set(proto, propertyKey, V, receiver);
    }
    ownDesc = createDesc(0);
  }
  if (has(ownDesc, 'value')) {
    if (ownDesc.writable === false || !isObject(receiver)) return false;
    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {
      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;
      existingDescriptor.value = V;
      dP.f(receiver, propertyKey, existingDescriptor);
    } else dP.f(receiver, propertyKey, createDesc(0, V));
    return true;
  }
  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);
}

$export($export.S, 'Reflect', { set: set });

},{"./_an-object":12,"./_export":38,"./_has":46,"./_is-object":56,"./_object-dp":76,"./_object-gopd":79,"./_object-gpo":83,"./_property-desc":94}],227:[function(require,module,exports){
var global = require('./_global');
var inheritIfRequired = require('./_inherit-if-required');
var dP = require('./_object-dp').f;
var gOPN = require('./_object-gopn').f;
var isRegExp = require('./_is-regexp');
var $flags = require('./_flags');
var $RegExp = global.RegExp;
var Base = $RegExp;
var proto = $RegExp.prototype;
var re1 = /a/g;
var re2 = /a/g;
// "new" creates a new object, old webkit buggy here
var CORRECT_NEW = new $RegExp(re1) !== re1;

if (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {
  re2[require('./_wks')('match')] = false;
  // RegExp constructor can alter flags and IsRegExp works correct with @@match
  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';
}))) {
  $RegExp = function RegExp(p, f) {
    var tiRE = this instanceof $RegExp;
    var piRE = isRegExp(p);
    var fiU = f === undefined;
    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p
      : inheritIfRequired(CORRECT_NEW
        ? new Base(piRE && !fiU ? p.source : p, f)
        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)
      , tiRE ? this : proto, $RegExp);
  };
  var proxy = function (key) {
    key in $RegExp || dP($RegExp, key, {
      configurable: true,
      get: function () { return Base[key]; },
      set: function (it) { Base[key] = it; }
    });
  };
  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);
  proto.constructor = $RegExp;
  $RegExp.prototype = proto;
  require('./_redefine')(global, 'RegExp', $RegExp);
}

require('./_set-species')('RegExp');

},{"./_descriptors":34,"./_fails":40,"./_flags":42,"./_global":45,"./_inherit-if-required":50,"./_is-regexp":57,"./_object-dp":76,"./_object-gopn":81,"./_redefine":96,"./_set-species":102,"./_wks":131}],228:[function(require,module,exports){
// 21.2.5.3 get RegExp.prototype.flags()
if (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {
  configurable: true,
  get: require('./_flags')
});

},{"./_descriptors":34,"./_flags":42,"./_object-dp":76}],229:[function(require,module,exports){
// @@match logic
require('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {
  // 21.1.3.11 String.prototype.match(regexp)
  return [function match(regexp) {
    'use strict';
    var O = defined(this);
    var fn = regexp == undefined ? undefined : regexp[MATCH];
    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
  }, $match];
});

},{"./_fix-re-wks":41}],230:[function(require,module,exports){
// @@replace logic
require('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {
  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)
  return [function replace(searchValue, replaceValue) {
    'use strict';
    var O = defined(this);
    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];
    return fn !== undefined
      ? fn.call(searchValue, O, replaceValue)
      : $replace.call(String(O), searchValue, replaceValue);
  }, $replace];
});

},{"./_fix-re-wks":41}],231:[function(require,module,exports){
// @@search logic
require('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {
  // 21.1.3.15 String.prototype.search(regexp)
  return [function search(regexp) {
    'use strict';
    var O = defined(this);
    var fn = regexp == undefined ? undefined : regexp[SEARCH];
    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
  }, $search];
});

},{"./_fix-re-wks":41}],232:[function(require,module,exports){
// @@split logic
require('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {
  'use strict';
  var isRegExp = require('./_is-regexp');
  var _split = $split;
  var $push = [].push;
  var $SPLIT = 'split';
  var LENGTH = 'length';
  var LAST_INDEX = 'lastIndex';
  if (
    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||
    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||
    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||
    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||
    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||
    ''[$SPLIT](/.?/)[LENGTH]
  ) {
    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group
    // based on es5-shim implementation, need to rework it
    $split = function (separator, limit) {
      var string = String(this);
      if (separator === undefined && limit === 0) return [];
      // If `separator` is not a regex, use native split
      if (!isRegExp(separator)) return _split.call(string, separator, limit);
      var output = [];
      var flags = (separator.ignoreCase ? 'i' : '') +
                  (separator.multiline ? 'm' : '') +
                  (separator.unicode ? 'u' : '') +
                  (separator.sticky ? 'y' : '');
      var lastLastIndex = 0;
      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;
      // Make `global` and avoid `lastIndex` issues by working with a copy
      var separatorCopy = new RegExp(separator.source, flags + 'g');
      var separator2, match, lastIndex, lastLength, i;
      // Doesn't need flags gy, but they don't hurt
      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\s)', flags);
      while (match = separatorCopy.exec(string)) {
        // `separatorCopy.lastIndex` is not reliable cross-browser
        lastIndex = match.index + match[0][LENGTH];
        if (lastIndex > lastLastIndex) {
          output.push(string.slice(lastLastIndex, match.index));
          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG
          // eslint-disable-next-line no-loop-func
          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {
            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;
          });
          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));
          lastLength = match[0][LENGTH];
          lastLastIndex = lastIndex;
          if (output[LENGTH] >= splitLimit) break;
        }
        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop
      }
      if (lastLastIndex === string[LENGTH]) {
        if (lastLength || !separatorCopy.test('')) output.push('');
      } else output.push(string.slice(lastLastIndex));
      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;
    };
  // Chakra, V8
  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {
    $split = function (separator, limit) {
      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);
    };
  }
  // 21.1.3.17 String.prototype.split(separator, limit)
  return [function split(separator, limit) {
    var O = defined(this);
    var fn = separator == undefined ? undefined : separator[SPLIT];
    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);
  }, $split];
});

},{"./_fix-re-wks":41,"./_is-regexp":57}],233:[function(require,module,exports){
'use strict';
require('./es6.regexp.flags');
var anObject = require('./_an-object');
var $flags = require('./_flags');
var DESCRIPTORS = require('./_descriptors');
var TO_STRING = 'toString';
var $toString = /./[TO_STRING];

var define = function (fn) {
  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);
};

// 21.2.5.14 RegExp.prototype.toString()
if (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {
  define(function toString() {
    var R = anObject(this);
    return '/'.concat(R.source, '/',
      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);
  });
// FF44- RegExp#toString has a wrong name
} else if ($toString.name != TO_STRING) {
  define(function toString() {
    return $toString.call(this);
  });
}

},{"./_an-object":12,"./_descriptors":34,"./_fails":40,"./_flags":42,"./_redefine":96,"./es6.regexp.flags":228}],234:[function(require,module,exports){
'use strict';
var strong = require('./_collection-strong');
var validate = require('./_validate-collection');
var SET = 'Set';

// 23.2 Set Objects
module.exports = require('./_collection')(SET, function (get) {
  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.2.3.1 Set.prototype.add(value)
  add: function add(value) {
    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);
  }
}, strong);

},{"./_collection":27,"./_collection-strong":24,"./_validate-collection":128}],235:[function(require,module,exports){
'use strict';
// B.2.3.2 String.prototype.anchor(name)
require('./_string-html')('anchor', function (createHTML) {
  return function anchor(name) {
    return createHTML(this, 'a', 'name', name);
  };
});

},{"./_string-html":110}],236:[function(require,module,exports){
'use strict';
// B.2.3.3 String.prototype.big()
require('./_string-html')('big', function (createHTML) {
  return function big() {
    return createHTML(this, 'big', '', '');
  };
});

},{"./_string-html":110}],237:[function(require,module,exports){
'use strict';
// B.2.3.4 String.prototype.blink()
require('./_string-html')('blink', function (createHTML) {
  return function blink() {
    return createHTML(this, 'blink', '', '');
  };
});

},{"./_string-html":110}],238:[function(require,module,exports){
'use strict';
// B.2.3.5 String.prototype.bold()
require('./_string-html')('bold', function (createHTML) {
  return function bold() {
    return createHTML(this, 'b', '', '');
  };
});

},{"./_string-html":110}],239:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $at = require('./_string-at')(false);
$export($export.P, 'String', {
  // 21.1.3.3 String.prototype.codePointAt(pos)
  codePointAt: function codePointAt(pos) {
    return $at(this, pos);
  }
});

},{"./_export":38,"./_string-at":108}],240:[function(require,module,exports){
// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])
'use strict';
var $export = require('./_export');
var toLength = require('./_to-length');
var context = require('./_string-context');
var ENDS_WITH = 'endsWith';
var $endsWith = ''[ENDS_WITH];

$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {
  endsWith: function endsWith(searchString /* , endPosition = @length */) {
    var that = context(this, searchString, ENDS_WITH);
    var endPosition = arguments.length > 1 ? arguments[1] : undefined;
    var len = toLength(that.length);
    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);
    var search = String(searchString);
    return $endsWith
      ? $endsWith.call(that, search, end)
      : that.slice(end - search.length, end) === search;
  }
});

},{"./_export":38,"./_fails-is-regexp":39,"./_string-context":109,"./_to-length":120}],241:[function(require,module,exports){
'use strict';
// B.2.3.6 String.prototype.fixed()
require('./_string-html')('fixed', function (createHTML) {
  return function fixed() {
    return createHTML(this, 'tt', '', '');
  };
});

},{"./_string-html":110}],242:[function(require,module,exports){
'use strict';
// B.2.3.7 String.prototype.fontcolor(color)
require('./_string-html')('fontcolor', function (createHTML) {
  return function fontcolor(color) {
    return createHTML(this, 'font', 'color', color);
  };
});

},{"./_string-html":110}],243:[function(require,module,exports){
'use strict';
// B.2.3.8 String.prototype.fontsize(size)
require('./_string-html')('fontsize', function (createHTML) {
  return function fontsize(size) {
    return createHTML(this, 'font', 'size', size);
  };
});

},{"./_string-html":110}],244:[function(require,module,exports){
var $export = require('./_export');
var toAbsoluteIndex = require('./_to-absolute-index');
var fromCharCode = String.fromCharCode;
var $fromCodePoint = String.fromCodePoint;

// length should be 1, old FF problem
$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
  // 21.1.2.2 String.fromCodePoint(...codePoints)
  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars
    var res = [];
    var aLen = arguments.length;
    var i = 0;
    var code;
    while (aLen > i) {
      code = +arguments[i++];
      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');
      res.push(code < 0x10000
        ? fromCharCode(code)
        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
      );
    } return res.join('');
  }
});

},{"./_export":38,"./_to-absolute-index":116}],245:[function(require,module,exports){
// 21.1.3.7 String.prototype.includes(searchString, position = 0)
'use strict';
var $export = require('./_export');
var context = require('./_string-context');
var INCLUDES = 'includes';

$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {
  includes: function includes(searchString /* , position = 0 */) {
    return !!~context(this, searchString, INCLUDES)
      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
  }
});

},{"./_export":38,"./_fails-is-regexp":39,"./_string-context":109}],246:[function(require,module,exports){
'use strict';
// B.2.3.9 String.prototype.italics()
require('./_string-html')('italics', function (createHTML) {
  return function italics() {
    return createHTML(this, 'i', '', '');
  };
});

},{"./_string-html":110}],247:[function(require,module,exports){
'use strict';
var $at = require('./_string-at')(true);

// 21.1.3.27 String.prototype[@@iterator]()
require('./_iter-define')(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});

},{"./_iter-define":60,"./_string-at":108}],248:[function(require,module,exports){
'use strict';
// B.2.3.10 String.prototype.link(url)
require('./_string-html')('link', function (createHTML) {
  return function link(url) {
    return createHTML(this, 'a', 'href', url);
  };
});

},{"./_string-html":110}],249:[function(require,module,exports){
var $export = require('./_export');
var toIObject = require('./_to-iobject');
var toLength = require('./_to-length');

$export($export.S, 'String', {
  // 21.1.2.4 String.raw(callSite, ...substitutions)
  raw: function raw(callSite) {
    var tpl = toIObject(callSite.raw);
    var len = toLength(tpl.length);
    var aLen = arguments.length;
    var res = [];
    var i = 0;
    while (len > i) {
      res.push(String(tpl[i++]));
      if (i < aLen) res.push(String(arguments[i]));
    } return res.join('');
  }
});

},{"./_export":38,"./_to-iobject":119,"./_to-length":120}],250:[function(require,module,exports){
var $export = require('./_export');

$export($export.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./_string-repeat')
});

},{"./_export":38,"./_string-repeat":112}],251:[function(require,module,exports){
'use strict';
// B.2.3.11 String.prototype.small()
require('./_string-html')('small', function (createHTML) {
  return function small() {
    return createHTML(this, 'small', '', '');
  };
});

},{"./_string-html":110}],252:[function(require,module,exports){
// 21.1.3.18 String.prototype.startsWith(searchString [, position ])
'use strict';
var $export = require('./_export');
var toLength = require('./_to-length');
var context = require('./_string-context');
var STARTS_WITH = 'startsWith';
var $startsWith = ''[STARTS_WITH];

$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {
  startsWith: function startsWith(searchString /* , position = 0 */) {
    var that = context(this, searchString, STARTS_WITH);
    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));
    var search = String(searchString);
    return $startsWith
      ? $startsWith.call(that, search, index)
      : that.slice(index, index + search.length) === search;
  }
});

},{"./_export":38,"./_fails-is-regexp":39,"./_string-context":109,"./_to-length":120}],253:[function(require,module,exports){
'use strict';
// B.2.3.12 String.prototype.strike()
require('./_string-html')('strike', function (createHTML) {
  return function strike() {
    return createHTML(this, 'strike', '', '');
  };
});

},{"./_string-html":110}],254:[function(require,module,exports){
'use strict';
// B.2.3.13 String.prototype.sub()
require('./_string-html')('sub', function (createHTML) {
  return function sub() {
    return createHTML(this, 'sub', '', '');
  };
});

},{"./_string-html":110}],255:[function(require,module,exports){
'use strict';
// B.2.3.14 String.prototype.sup()
require('./_string-html')('sup', function (createHTML) {
  return function sup() {
    return createHTML(this, 'sup', '', '');
  };
});

},{"./_string-html":110}],256:[function(require,module,exports){
'use strict';
// 21.1.3.25 String.prototype.trim()
require('./_string-trim')('trim', function ($trim) {
  return function trim() {
    return $trim(this, 3);
  };
});

},{"./_string-trim":113}],257:[function(require,module,exports){
'use strict';
// ECMAScript 6 symbols shim
var global = require('./_global');
var has = require('./_has');
var DESCRIPTORS = require('./_descriptors');
var $export = require('./_export');
var redefine = require('./_redefine');
var META = require('./_meta').KEY;
var $fails = require('./_fails');
var shared = require('./_shared');
var setToStringTag = require('./_set-to-string-tag');
var uid = require('./_uid');
var wks = require('./_wks');
var wksExt = require('./_wks-ext');
var wksDefine = require('./_wks-define');
var enumKeys = require('./_enum-keys');
var isArray = require('./_is-array');
var anObject = require('./_an-object');
var isObject = require('./_is-object');
var toIObject = require('./_to-iobject');
var toPrimitive = require('./_to-primitive');
var createDesc = require('./_property-desc');
var _create = require('./_object-create');
var gOPNExt = require('./_object-gopn-ext');
var $GOPD = require('./_object-gopd');
var $DP = require('./_object-dp');
var $keys = require('./_object-keys');
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;
  require('./_object-pie').f = $propertyIsEnumerable;
  require('./_object-gops').f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !require('./_library')) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);

},{"./_an-object":12,"./_descriptors":34,"./_enum-keys":37,"./_export":38,"./_fails":40,"./_global":45,"./_has":46,"./_hide":47,"./_is-array":54,"./_is-object":56,"./_library":64,"./_meta":70,"./_object-create":75,"./_object-dp":76,"./_object-gopd":79,"./_object-gopn":81,"./_object-gopn-ext":80,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_property-desc":94,"./_redefine":96,"./_set-to-string-tag":103,"./_shared":105,"./_to-iobject":119,"./_to-primitive":122,"./_uid":126,"./_wks":131,"./_wks-define":129,"./_wks-ext":130}],258:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var $typed = require('./_typed');
var buffer = require('./_typed-buffer');
var anObject = require('./_an-object');
var toAbsoluteIndex = require('./_to-absolute-index');
var toLength = require('./_to-length');
var isObject = require('./_is-object');
var ArrayBuffer = require('./_global').ArrayBuffer;
var speciesConstructor = require('./_species-constructor');
var $ArrayBuffer = buffer.ArrayBuffer;
var $DataView = buffer.DataView;
var $isView = $typed.ABV && ArrayBuffer.isView;
var $slice = $ArrayBuffer.prototype.slice;
var VIEW = $typed.VIEW;
var ARRAY_BUFFER = 'ArrayBuffer';

$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });

$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {
  // 24.1.3.1 ArrayBuffer.isView(arg)
  isView: function isView(it) {
    return $isView && $isView(it) || isObject(it) && VIEW in it;
  }
});

$export($export.P + $export.U + $export.F * require('./_fails')(function () {
  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;
}), ARRAY_BUFFER, {
  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)
  slice: function slice(start, end) {
    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix
    var len = anObject(this).byteLength;
    var first = toAbsoluteIndex(start, len);
    var fin = toAbsoluteIndex(end === undefined ? len : end, len);
    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(fin - first));
    var viewS = new $DataView(this);
    var viewT = new $DataView(result);
    var index = 0;
    while (first < fin) {
      viewT.setUint8(index++, viewS.getUint8(first++));
    } return result;
  }
});

require('./_set-species')(ARRAY_BUFFER);

},{"./_an-object":12,"./_export":38,"./_fails":40,"./_global":45,"./_is-object":56,"./_set-species":102,"./_species-constructor":106,"./_to-absolute-index":116,"./_to-length":120,"./_typed":125,"./_typed-buffer":124}],259:[function(require,module,exports){
var $export = require('./_export');
$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {
  DataView: require('./_typed-buffer').DataView
});

},{"./_export":38,"./_typed":125,"./_typed-buffer":124}],260:[function(require,module,exports){
require('./_typed-array')('Float32', 4, function (init) {
  return function Float32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],261:[function(require,module,exports){
require('./_typed-array')('Float64', 8, function (init) {
  return function Float64Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],262:[function(require,module,exports){
require('./_typed-array')('Int16', 2, function (init) {
  return function Int16Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],263:[function(require,module,exports){
require('./_typed-array')('Int32', 4, function (init) {
  return function Int32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],264:[function(require,module,exports){
require('./_typed-array')('Int8', 1, function (init) {
  return function Int8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],265:[function(require,module,exports){
require('./_typed-array')('Uint16', 2, function (init) {
  return function Uint16Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],266:[function(require,module,exports){
require('./_typed-array')('Uint32', 4, function (init) {
  return function Uint32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],267:[function(require,module,exports){
require('./_typed-array')('Uint8', 1, function (init) {
  return function Uint8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});

},{"./_typed-array":123}],268:[function(require,module,exports){
require('./_typed-array')('Uint8', 1, function (init) {
  return function Uint8ClampedArray(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
}, true);

},{"./_typed-array":123}],269:[function(require,module,exports){
'use strict';
var each = require('./_array-methods')(0);
var redefine = require('./_redefine');
var meta = require('./_meta');
var assign = require('./_object-assign');
var weak = require('./_collection-weak');
var isObject = require('./_is-object');
var fails = require('./_fails');
var validate = require('./_validate-collection');
var WEAK_MAP = 'WeakMap';
var getWeak = meta.getWeak;
var isExtensible = Object.isExtensible;
var uncaughtFrozenStore = weak.ufstore;
var tmp = {};
var InternalMap;

var wrapper = function (get) {
  return function WeakMap() {
    return get(this, arguments.length > 0 ? arguments[0] : undefined);
  };
};

var methods = {
  // 23.3.3.3 WeakMap.prototype.get(key)
  get: function get(key) {
    if (isObject(key)) {
      var data = getWeak(key);
      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);
      return data ? data[this._i] : undefined;
    }
  },
  // 23.3.3.5 WeakMap.prototype.set(key, value)
  set: function set(key, value) {
    return weak.def(validate(this, WEAK_MAP), key, value);
  }
};

// 23.3 WeakMap Objects
var $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);

// IE11 WeakMap frozen keys fix
if (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {
  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);
  assign(InternalMap.prototype, methods);
  meta.NEED = true;
  each(['delete', 'has', 'get', 'set'], function (key) {
    var proto = $WeakMap.prototype;
    var method = proto[key];
    redefine(proto, key, function (a, b) {
      // store frozen objects on internal weakmap shim
      if (isObject(a) && !isExtensible(a)) {
        if (!this._f) this._f = new InternalMap();
        var result = this._f[key](a, b);
        return key == 'set' ? this : result;
      // store all the rest on native weakmap
      } return method.call(this, a, b);
    });
  });
}

},{"./_array-methods":17,"./_collection":27,"./_collection-weak":26,"./_fails":40,"./_is-object":56,"./_meta":70,"./_object-assign":74,"./_redefine":96,"./_validate-collection":128}],270:[function(require,module,exports){
'use strict';
var weak = require('./_collection-weak');
var validate = require('./_validate-collection');
var WEAK_SET = 'WeakSet';

// 23.4 WeakSet Objects
require('./_collection')(WEAK_SET, function (get) {
  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.4.3.1 WeakSet.prototype.add(value)
  add: function add(value) {
    return weak.def(validate(this, WEAK_SET), value, true);
  }
}, weak, false, true);

},{"./_collection":27,"./_collection-weak":26,"./_validate-collection":128}],271:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap
var $export = require('./_export');
var flattenIntoArray = require('./_flatten-into-array');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var aFunction = require('./_a-function');
var arraySpeciesCreate = require('./_array-species-create');

$export($export.P, 'Array', {
  flatMap: function flatMap(callbackfn /* , thisArg */) {
    var O = toObject(this);
    var sourceLen, A;
    aFunction(callbackfn);
    sourceLen = toLength(O.length);
    A = arraySpeciesCreate(O, 0);
    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);
    return A;
  }
});

require('./_add-to-unscopables')('flatMap');

},{"./_a-function":8,"./_add-to-unscopables":10,"./_array-species-create":20,"./_export":38,"./_flatten-into-array":43,"./_to-length":120,"./_to-object":121}],272:[function(require,module,exports){
'use strict';
// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten
var $export = require('./_export');
var flattenIntoArray = require('./_flatten-into-array');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var toInteger = require('./_to-integer');
var arraySpeciesCreate = require('./_array-species-create');

$export($export.P, 'Array', {
  flatten: function flatten(/* depthArg = 1 */) {
    var depthArg = arguments[0];
    var O = toObject(this);
    var sourceLen = toLength(O.length);
    var A = arraySpeciesCreate(O, 0);
    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));
    return A;
  }
});

require('./_add-to-unscopables')('flatten');

},{"./_add-to-unscopables":10,"./_array-species-create":20,"./_export":38,"./_flatten-into-array":43,"./_to-integer":118,"./_to-length":120,"./_to-object":121}],273:[function(require,module,exports){
'use strict';
// https://github.com/tc39/Array.prototype.includes
var $export = require('./_export');
var $includes = require('./_array-includes')(true);

$export($export.P, 'Array', {
  includes: function includes(el /* , fromIndex = 0 */) {
    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
  }
});

require('./_add-to-unscopables')('includes');

},{"./_add-to-unscopables":10,"./_array-includes":16,"./_export":38}],274:[function(require,module,exports){
// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask
var $export = require('./_export');
var microtask = require('./_microtask')();
var process = require('./_global').process;
var isNode = require('./_cof')(process) == 'process';

$export($export.G, {
  asap: function asap(fn) {
    var domain = isNode && process.domain;
    microtask(domain ? domain.bind(fn) : fn);
  }
});

},{"./_cof":23,"./_export":38,"./_global":45,"./_microtask":72}],275:[function(require,module,exports){
// https://github.com/ljharb/proposal-is-error
var $export = require('./_export');
var cof = require('./_cof');

$export($export.S, 'Error', {
  isError: function isError(it) {
    return cof(it) === 'Error';
  }
});

},{"./_cof":23,"./_export":38}],276:[function(require,module,exports){
// https://github.com/tc39/proposal-global
var $export = require('./_export');

$export($export.G, { global: require('./_global') });

},{"./_export":38,"./_global":45}],277:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from
require('./_set-collection-from')('Map');

},{"./_set-collection-from":99}],278:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of
require('./_set-collection-of')('Map');

},{"./_set-collection-of":100}],279:[function(require,module,exports){
// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export = require('./_export');

$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });

},{"./_collection-to-json":25,"./_export":38}],280:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', {
  clamp: function clamp(x, lower, upper) {
    return Math.min(upper, Math.max(lower, x));
  }
});

},{"./_export":38}],281:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });

},{"./_export":38}],282:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');
var RAD_PER_DEG = 180 / Math.PI;

$export($export.S, 'Math', {
  degrees: function degrees(radians) {
    return radians * RAD_PER_DEG;
  }
});

},{"./_export":38}],283:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');
var scale = require('./_math-scale');
var fround = require('./_math-fround');

$export($export.S, 'Math', {
  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {
    return fround(scale(x, inLow, inHigh, outLow, outHigh));
  }
});

},{"./_export":38,"./_math-fround":66,"./_math-scale":68}],284:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  iaddh: function iaddh(x0, x1, y0, y1) {
    var $x0 = x0 >>> 0;
    var $x1 = x1 >>> 0;
    var $y0 = y0 >>> 0;
    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;
  }
});

},{"./_export":38}],285:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  imulh: function imulh(u, v) {
    var UINT16 = 0xffff;
    var $u = +u;
    var $v = +v;
    var u0 = $u & UINT16;
    var v0 = $v & UINT16;
    var u1 = $u >> 16;
    var v1 = $v >> 16;
    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);
  }
});

},{"./_export":38}],286:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  isubh: function isubh(x0, x1, y0, y1) {
    var $x0 = x0 >>> 0;
    var $x1 = x1 >>> 0;
    var $y0 = y0 >>> 0;
    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;
  }
});

},{"./_export":38}],287:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });

},{"./_export":38}],288:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');
var DEG_PER_RAD = Math.PI / 180;

$export($export.S, 'Math', {
  radians: function radians(degrees) {
    return degrees * DEG_PER_RAD;
  }
});

},{"./_export":38}],289:[function(require,module,exports){
// https://rwaldron.github.io/proposal-math-extensions/
var $export = require('./_export');

$export($export.S, 'Math', { scale: require('./_math-scale') });

},{"./_export":38,"./_math-scale":68}],290:[function(require,module,exports){
// http://jfbastien.github.io/papers/Math.signbit.html
var $export = require('./_export');

$export($export.S, 'Math', { signbit: function signbit(x) {
  // eslint-disable-next-line no-self-compare
  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;
} });

},{"./_export":38}],291:[function(require,module,exports){
// https://gist.github.com/BrendanEich/4294d5c212a6d2254703
var $export = require('./_export');

$export($export.S, 'Math', {
  umulh: function umulh(u, v) {
    var UINT16 = 0xffff;
    var $u = +u;
    var $v = +v;
    var u0 = $u & UINT16;
    var v0 = $v & UINT16;
    var u1 = $u >>> 16;
    var v1 = $v >>> 16;
    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);
  }
});

},{"./_export":38}],292:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var aFunction = require('./_a-function');
var $defineProperty = require('./_object-dp');

// B.2.2.2 Object.prototype.__defineGetter__(P, getter)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __defineGetter__: function __defineGetter__(P, getter) {
    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });
  }
});

},{"./_a-function":8,"./_descriptors":34,"./_export":38,"./_object-dp":76,"./_object-forced-pam":78,"./_to-object":121}],293:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var aFunction = require('./_a-function');
var $defineProperty = require('./_object-dp');

// B.2.2.3 Object.prototype.__defineSetter__(P, setter)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __defineSetter__: function __defineSetter__(P, setter) {
    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });
  }
});

},{"./_a-function":8,"./_descriptors":34,"./_export":38,"./_object-dp":76,"./_object-forced-pam":78,"./_to-object":121}],294:[function(require,module,exports){
// https://github.com/tc39/proposal-object-values-entries
var $export = require('./_export');
var $entries = require('./_object-to-array')(true);

$export($export.S, 'Object', {
  entries: function entries(it) {
    return $entries(it);
  }
});

},{"./_export":38,"./_object-to-array":88}],295:[function(require,module,exports){
// https://github.com/tc39/proposal-object-getownpropertydescriptors
var $export = require('./_export');
var ownKeys = require('./_own-keys');
var toIObject = require('./_to-iobject');
var gOPD = require('./_object-gopd');
var createProperty = require('./_create-property');

$export($export.S, 'Object', {
  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
    var O = toIObject(object);
    var getDesc = gOPD.f;
    var keys = ownKeys(O);
    var result = {};
    var i = 0;
    var key, desc;
    while (keys.length > i) {
      desc = getDesc(O, key = keys[i++]);
      if (desc !== undefined) createProperty(result, key, desc);
    }
    return result;
  }
});

},{"./_create-property":29,"./_export":38,"./_object-gopd":79,"./_own-keys":89,"./_to-iobject":119}],296:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var toPrimitive = require('./_to-primitive');
var getPrototypeOf = require('./_object-gpo');
var getOwnPropertyDescriptor = require('./_object-gopd').f;

// B.2.2.4 Object.prototype.__lookupGetter__(P)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __lookupGetter__: function __lookupGetter__(P) {
    var O = toObject(this);
    var K = toPrimitive(P, true);
    var D;
    do {
      if (D = getOwnPropertyDescriptor(O, K)) return D.get;
    } while (O = getPrototypeOf(O));
  }
});

},{"./_descriptors":34,"./_export":38,"./_object-forced-pam":78,"./_object-gopd":79,"./_object-gpo":83,"./_to-object":121,"./_to-primitive":122}],297:[function(require,module,exports){
'use strict';
var $export = require('./_export');
var toObject = require('./_to-object');
var toPrimitive = require('./_to-primitive');
var getPrototypeOf = require('./_object-gpo');
var getOwnPropertyDescriptor = require('./_object-gopd').f;

// B.2.2.5 Object.prototype.__lookupSetter__(P)
require('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {
  __lookupSetter__: function __lookupSetter__(P) {
    var O = toObject(this);
    var K = toPrimitive(P, true);
    var D;
    do {
      if (D = getOwnPropertyDescriptor(O, K)) return D.set;
    } while (O = getPrototypeOf(O));
  }
});

},{"./_descriptors":34,"./_export":38,"./_object-forced-pam":78,"./_object-gopd":79,"./_object-gpo":83,"./_to-object":121,"./_to-primitive":122}],298:[function(require,module,exports){
// https://github.com/tc39/proposal-object-values-entries
var $export = require('./_export');
var $values = require('./_object-to-array')(false);

$export($export.S, 'Object', {
  values: function values(it) {
    return $values(it);
  }
});

},{"./_export":38,"./_object-to-array":88}],299:[function(require,module,exports){
'use strict';
// https://github.com/zenparsing/es-observable
var $export = require('./_export');
var global = require('./_global');
var core = require('./_core');
var microtask = require('./_microtask')();
var OBSERVABLE = require('./_wks')('observable');
var aFunction = require('./_a-function');
var anObject = require('./_an-object');
var anInstance = require('./_an-instance');
var redefineAll = require('./_redefine-all');
var hide = require('./_hide');
var forOf = require('./_for-of');
var RETURN = forOf.RETURN;

var getMethod = function (fn) {
  return fn == null ? undefined : aFunction(fn);
};

var cleanupSubscription = function (subscription) {
  var cleanup = subscription._c;
  if (cleanup) {
    subscription._c = undefined;
    cleanup();
  }
};

var subscriptionClosed = function (subscription) {
  return subscription._o === undefined;
};

var closeSubscription = function (subscription) {
  if (!subscriptionClosed(subscription)) {
    subscription._o = undefined;
    cleanupSubscription(subscription);
  }
};

var Subscription = function (observer, subscriber) {
  anObject(observer);
  this._c = undefined;
  this._o = observer;
  observer = new SubscriptionObserver(this);
  try {
    var cleanup = subscriber(observer);
    var subscription = cleanup;
    if (cleanup != null) {
      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };
      else aFunction(cleanup);
      this._c = cleanup;
    }
  } catch (e) {
    observer.error(e);
    return;
  } if (subscriptionClosed(this)) cleanupSubscription(this);
};

Subscription.prototype = redefineAll({}, {
  unsubscribe: function unsubscribe() { closeSubscription(this); }
});

var SubscriptionObserver = function (subscription) {
  this._s = subscription;
};

SubscriptionObserver.prototype = redefineAll({}, {
  next: function next(value) {
    var subscription = this._s;
    if (!subscriptionClosed(subscription)) {
      var observer = subscription._o;
      try {
        var m = getMethod(observer.next);
        if (m) return m.call(observer, value);
      } catch (e) {
        try {
          closeSubscription(subscription);
        } finally {
          throw e;
        }
      }
    }
  },
  error: function error(value) {
    var subscription = this._s;
    if (subscriptionClosed(subscription)) throw value;
    var observer = subscription._o;
    subscription._o = undefined;
    try {
      var m = getMethod(observer.error);
      if (!m) throw value;
      value = m.call(observer, value);
    } catch (e) {
      try {
        cleanupSubscription(subscription);
      } finally {
        throw e;
      }
    } cleanupSubscription(subscription);
    return value;
  },
  complete: function complete(value) {
    var subscription = this._s;
    if (!subscriptionClosed(subscription)) {
      var observer = subscription._o;
      subscription._o = undefined;
      try {
        var m = getMethod(observer.complete);
        value = m ? m.call(observer, value) : undefined;
      } catch (e) {
        try {
          cleanupSubscription(subscription);
        } finally {
          throw e;
        }
      } cleanupSubscription(subscription);
      return value;
    }
  }
});

var $Observable = function Observable(subscriber) {
  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);
};

redefineAll($Observable.prototype, {
  subscribe: function subscribe(observer) {
    return new Subscription(observer, this._f);
  },
  forEach: function forEach(fn) {
    var that = this;
    return new (core.Promise || global.Promise)(function (resolve, reject) {
      aFunction(fn);
      var subscription = that.subscribe({
        next: function (value) {
          try {
            return fn(value);
          } catch (e) {
            reject(e);
            subscription.unsubscribe();
          }
        },
        error: reject,
        complete: resolve
      });
    });
  }
});

redefineAll($Observable, {
  from: function from(x) {
    var C = typeof this === 'function' ? this : $Observable;
    var method = getMethod(anObject(x)[OBSERVABLE]);
    if (method) {
      var observable = anObject(method.call(x));
      return observable.constructor === C ? observable : new C(function (observer) {
        return observable.subscribe(observer);
      });
    }
    return new C(function (observer) {
      var done = false;
      microtask(function () {
        if (!done) {
          try {
            if (forOf(x, false, function (it) {
              observer.next(it);
              if (done) return RETURN;
            }) === RETURN) return;
          } catch (e) {
            if (done) throw e;
            observer.error(e);
            return;
          } observer.complete();
        }
      });
      return function () { done = true; };
    });
  },
  of: function of() {
    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];
    return new (typeof this === 'function' ? this : $Observable)(function (observer) {
      var done = false;
      microtask(function () {
        if (!done) {
          for (var j = 0; j < items.length; ++j) {
            observer.next(items[j]);
            if (done) return;
          } observer.complete();
        }
      });
      return function () { done = true; };
    });
  }
});

hide($Observable.prototype, OBSERVABLE, function () { return this; });

$export($export.G, { Observable: $Observable });

require('./_set-species')('Observable');

},{"./_a-function":8,"./_an-instance":11,"./_an-object":12,"./_core":28,"./_export":38,"./_for-of":44,"./_global":45,"./_hide":47,"./_microtask":72,"./_redefine-all":95,"./_set-species":102,"./_wks":131}],300:[function(require,module,exports){
// https://github.com/tc39/proposal-promise-finally
'use strict';
var $export = require('./_export');
var core = require('./_core');
var global = require('./_global');
var speciesConstructor = require('./_species-constructor');
var promiseResolve = require('./_promise-resolve');

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });

},{"./_core":28,"./_export":38,"./_global":45,"./_promise-resolve":93,"./_species-constructor":106}],301:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-promise-try
var $export = require('./_export');
var newPromiseCapability = require('./_new-promise-capability');
var perform = require('./_perform');

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });

},{"./_export":38,"./_new-promise-capability":73,"./_perform":92}],302:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var toMetaKey = metadata.key;
var ordinaryDefineOwnMetadata = metadata.set;

metadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {
  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));
} });

},{"./_an-object":12,"./_metadata":71}],303:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var toMetaKey = metadata.key;
var getOrCreateMetadataMap = metadata.map;
var store = metadata.store;

metadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {
  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);
  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);
  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;
  if (metadataMap.size) return true;
  var targetMetadata = store.get(target);
  targetMetadata['delete'](targetKey);
  return !!targetMetadata.size || store['delete'](target);
} });

},{"./_an-object":12,"./_metadata":71}],304:[function(require,module,exports){
var Set = require('./es6.set');
var from = require('./_array-from-iterable');
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var getPrototypeOf = require('./_object-gpo');
var ordinaryOwnMetadataKeys = metadata.keys;
var toMetaKey = metadata.key;

var ordinaryMetadataKeys = function (O, P) {
  var oKeys = ordinaryOwnMetadataKeys(O, P);
  var parent = getPrototypeOf(O);
  if (parent === null) return oKeys;
  var pKeys = ordinaryMetadataKeys(parent, P);
  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;
};

metadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {
  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));
} });

},{"./_an-object":12,"./_array-from-iterable":15,"./_metadata":71,"./_object-gpo":83,"./es6.set":234}],305:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var getPrototypeOf = require('./_object-gpo');
var ordinaryHasOwnMetadata = metadata.has;
var ordinaryGetOwnMetadata = metadata.get;
var toMetaKey = metadata.key;

var ordinaryGetMetadata = function (MetadataKey, O, P) {
  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);
  var parent = getPrototypeOf(O);
  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;
};

metadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":12,"./_metadata":71,"./_object-gpo":83}],306:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var ordinaryOwnMetadataKeys = metadata.keys;
var toMetaKey = metadata.key;

metadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {
  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));
} });

},{"./_an-object":12,"./_metadata":71}],307:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var ordinaryGetOwnMetadata = metadata.get;
var toMetaKey = metadata.key;

metadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryGetOwnMetadata(metadataKey, anObject(target)
    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":12,"./_metadata":71}],308:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var getPrototypeOf = require('./_object-gpo');
var ordinaryHasOwnMetadata = metadata.has;
var toMetaKey = metadata.key;

var ordinaryHasMetadata = function (MetadataKey, O, P) {
  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
  if (hasOwn) return true;
  var parent = getPrototypeOf(O);
  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;
};

metadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":12,"./_metadata":71,"./_object-gpo":83}],309:[function(require,module,exports){
var metadata = require('./_metadata');
var anObject = require('./_an-object');
var ordinaryHasOwnMetadata = metadata.has;
var toMetaKey = metadata.key;

metadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {
  return ordinaryHasOwnMetadata(metadataKey, anObject(target)
    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));
} });

},{"./_an-object":12,"./_metadata":71}],310:[function(require,module,exports){
var $metadata = require('./_metadata');
var anObject = require('./_an-object');
var aFunction = require('./_a-function');
var toMetaKey = $metadata.key;
var ordinaryDefineOwnMetadata = $metadata.set;

$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {
  return function decorator(target, targetKey) {
    ordinaryDefineOwnMetadata(
      metadataKey, metadataValue,
      (targetKey !== undefined ? anObject : aFunction)(target),
      toMetaKey(targetKey)
    );
  };
} });

},{"./_a-function":8,"./_an-object":12,"./_metadata":71}],311:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from
require('./_set-collection-from')('Set');

},{"./_set-collection-from":99}],312:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of
require('./_set-collection-of')('Set');

},{"./_set-collection-of":100}],313:[function(require,module,exports){
// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export = require('./_export');

$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });

},{"./_collection-to-json":25,"./_export":38}],314:[function(require,module,exports){
'use strict';
// https://github.com/mathiasbynens/String.prototype.at
var $export = require('./_export');
var $at = require('./_string-at')(true);

$export($export.P, 'String', {
  at: function at(pos) {
    return $at(this, pos);
  }
});

},{"./_export":38,"./_string-at":108}],315:[function(require,module,exports){
'use strict';
// https://tc39.github.io/String.prototype.matchAll/
var $export = require('./_export');
var defined = require('./_defined');
var toLength = require('./_to-length');
var isRegExp = require('./_is-regexp');
var getFlags = require('./_flags');
var RegExpProto = RegExp.prototype;

var $RegExpStringIterator = function (regexp, string) {
  this._r = regexp;
  this._s = string;
};

require('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {
  var match = this._r.exec(this._s);
  return { value: match, done: match === null };
});

$export($export.P, 'String', {
  matchAll: function matchAll(regexp) {
    defined(this);
    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');
    var S = String(this);
    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);
    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);
    rx.lastIndex = toLength(regexp.lastIndex);
    return new $RegExpStringIterator(rx, S);
  }
});

},{"./_defined":33,"./_export":38,"./_flags":42,"./_is-regexp":57,"./_iter-create":59,"./_to-length":120}],316:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-string-pad-start-end
var $export = require('./_export');
var $pad = require('./_string-pad');
var userAgent = require('./_user-agent');

// https://github.com/zloirock/core-js/issues/280
$export($export.P + $export.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent), 'String', {
  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {
    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);
  }
});

},{"./_export":38,"./_string-pad":111,"./_user-agent":127}],317:[function(require,module,exports){
'use strict';
// https://github.com/tc39/proposal-string-pad-start-end
var $export = require('./_export');
var $pad = require('./_string-pad');
var userAgent = require('./_user-agent');

// https://github.com/zloirock/core-js/issues/280
$export($export.P + $export.F * /Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent), 'String', {
  padStart: function padStart(maxLength /* , fillString = ' ' */) {
    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);
  }
});

},{"./_export":38,"./_string-pad":111,"./_user-agent":127}],318:[function(require,module,exports){
'use strict';
// https://github.com/sebmarkbage/ecmascript-string-left-right-trim
require('./_string-trim')('trimLeft', function ($trim) {
  return function trimLeft() {
    return $trim(this, 1);
  };
}, 'trimStart');

},{"./_string-trim":113}],319:[function(require,module,exports){
'use strict';
// https://github.com/sebmarkbage/ecmascript-string-left-right-trim
require('./_string-trim')('trimRight', function ($trim) {
  return function trimRight() {
    return $trim(this, 2);
  };
}, 'trimEnd');

},{"./_string-trim":113}],320:[function(require,module,exports){
require('./_wks-define')('asyncIterator');

},{"./_wks-define":129}],321:[function(require,module,exports){
require('./_wks-define')('observable');

},{"./_wks-define":129}],322:[function(require,module,exports){
// https://github.com/tc39/proposal-global
var $export = require('./_export');

$export($export.S, 'System', { global: require('./_global') });

},{"./_export":38,"./_global":45}],323:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from
require('./_set-collection-from')('WeakMap');

},{"./_set-collection-from":99}],324:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of
require('./_set-collection-of')('WeakMap');

},{"./_set-collection-of":100}],325:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from
require('./_set-collection-from')('WeakSet');

},{"./_set-collection-from":99}],326:[function(require,module,exports){
// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of
require('./_set-collection-of')('WeakSet');

},{"./_set-collection-of":100}],327:[function(require,module,exports){
var $iterators = require('./es6.array.iterator');
var getKeys = require('./_object-keys');
var redefine = require('./_redefine');
var global = require('./_global');
var hide = require('./_hide');
var Iterators = require('./_iterators');
var wks = require('./_wks');
var ITERATOR = wks('iterator');
var TO_STRING_TAG = wks('toStringTag');
var ArrayValues = Iterators.Array;

var DOMIterables = {
  CSSRuleList: true, // TODO: Not spec compliant, should be false.
  CSSStyleDeclaration: false,
  CSSValueList: false,
  ClientRectList: false,
  DOMRectList: false,
  DOMStringList: false,
  DOMTokenList: true,
  DataTransferItemList: false,
  FileList: false,
  HTMLAllCollection: false,
  HTMLCollection: false,
  HTMLFormElement: false,
  HTMLSelectElement: false,
  MediaList: true, // TODO: Not spec compliant, should be false.
  MimeTypeArray: false,
  NamedNodeMap: false,
  NodeList: true,
  PaintRequestList: false,
  Plugin: false,
  PluginArray: false,
  SVGLengthList: false,
  SVGNumberList: false,
  SVGPathSegList: false,
  SVGPointList: false,
  SVGStringList: false,
  SVGTransformList: false,
  SourceBufferList: false,
  StyleSheetList: true, // TODO: Not spec compliant, should be false.
  TextTrackCueList: false,
  TextTrackList: false,
  TouchList: false
};

for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {
  var NAME = collections[i];
  var explicit = DOMIterables[NAME];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  var key;
  if (proto) {
    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);
    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
    Iterators[NAME] = ArrayValues;
    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);
  }
}

},{"./_global":45,"./_hide":47,"./_iterators":63,"./_object-keys":85,"./_redefine":96,"./_wks":131,"./es6.array.iterator":144}],328:[function(require,module,exports){
var $export = require('./_export');
var $task = require('./_task');
$export($export.G + $export.B, {
  setImmediate: $task.set,
  clearImmediate: $task.clear
});

},{"./_export":38,"./_task":115}],329:[function(require,module,exports){
// ie9- setTimeout & setInterval additional parameters fix
var global = require('./_global');
var $export = require('./_export');
var userAgent = require('./_user-agent');
var slice = [].slice;
var MSIE = /MSIE .\./.test(userAgent); // <- dirty ie9- check
var wrap = function (set) {
  return function (fn, time /* , ...args */) {
    var boundArgs = arguments.length > 2;
    var args = boundArgs ? slice.call(arguments, 2) : false;
    return set(boundArgs ? function () {
      // eslint-disable-next-line no-new-func
      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);
    } : fn, time);
  };
};
$export($export.G + $export.B + $export.F * MSIE, {
  setTimeout: wrap(global.setTimeout),
  setInterval: wrap(global.setInterval)
});

},{"./_export":38,"./_global":45,"./_user-agent":127}],330:[function(require,module,exports){
require('./modules/es6.symbol');
require('./modules/es6.object.create');
require('./modules/es6.object.define-property');
require('./modules/es6.object.define-properties');
require('./modules/es6.object.get-own-property-descriptor');
require('./modules/es6.object.get-prototype-of');
require('./modules/es6.object.keys');
require('./modules/es6.object.get-own-property-names');
require('./modules/es6.object.freeze');
require('./modules/es6.object.seal');
require('./modules/es6.object.prevent-extensions');
require('./modules/es6.object.is-frozen');
require('./modules/es6.object.is-sealed');
require('./modules/es6.object.is-extensible');
require('./modules/es6.object.assign');
require('./modules/es6.object.is');
require('./modules/es6.object.set-prototype-of');
require('./modules/es6.object.to-string');
require('./modules/es6.function.bind');
require('./modules/es6.function.name');
require('./modules/es6.function.has-instance');
require('./modules/es6.parse-int');
require('./modules/es6.parse-float');
require('./modules/es6.number.constructor');
require('./modules/es6.number.to-fixed');
require('./modules/es6.number.to-precision');
require('./modules/es6.number.epsilon');
require('./modules/es6.number.is-finite');
require('./modules/es6.number.is-integer');
require('./modules/es6.number.is-nan');
require('./modules/es6.number.is-safe-integer');
require('./modules/es6.number.max-safe-integer');
require('./modules/es6.number.min-safe-integer');
require('./modules/es6.number.parse-float');
require('./modules/es6.number.parse-int');
require('./modules/es6.math.acosh');
require('./modules/es6.math.asinh');
require('./modules/es6.math.atanh');
require('./modules/es6.math.cbrt');
require('./modules/es6.math.clz32');
require('./modules/es6.math.cosh');
require('./modules/es6.math.expm1');
require('./modules/es6.math.fround');
require('./modules/es6.math.hypot');
require('./modules/es6.math.imul');
require('./modules/es6.math.log10');
require('./modules/es6.math.log1p');
require('./modules/es6.math.log2');
require('./modules/es6.math.sign');
require('./modules/es6.math.sinh');
require('./modules/es6.math.tanh');
require('./modules/es6.math.trunc');
require('./modules/es6.string.from-code-point');
require('./modules/es6.string.raw');
require('./modules/es6.string.trim');
require('./modules/es6.string.iterator');
require('./modules/es6.string.code-point-at');
require('./modules/es6.string.ends-with');
require('./modules/es6.string.includes');
require('./modules/es6.string.repeat');
require('./modules/es6.string.starts-with');
require('./modules/es6.string.anchor');
require('./modules/es6.string.big');
require('./modules/es6.string.blink');
require('./modules/es6.string.bold');
require('./modules/es6.string.fixed');
require('./modules/es6.string.fontcolor');
require('./modules/es6.string.fontsize');
require('./modules/es6.string.italics');
require('./modules/es6.string.link');
require('./modules/es6.string.small');
require('./modules/es6.string.strike');
require('./modules/es6.string.sub');
require('./modules/es6.string.sup');
require('./modules/es6.date.now');
require('./modules/es6.date.to-json');
require('./modules/es6.date.to-iso-string');
require('./modules/es6.date.to-string');
require('./modules/es6.date.to-primitive');
require('./modules/es6.array.is-array');
require('./modules/es6.array.from');
require('./modules/es6.array.of');
require('./modules/es6.array.join');
require('./modules/es6.array.slice');
require('./modules/es6.array.sort');
require('./modules/es6.array.for-each');
require('./modules/es6.array.map');
require('./modules/es6.array.filter');
require('./modules/es6.array.some');
require('./modules/es6.array.every');
require('./modules/es6.array.reduce');
require('./modules/es6.array.reduce-right');
require('./modules/es6.array.index-of');
require('./modules/es6.array.last-index-of');
require('./modules/es6.array.copy-within');
require('./modules/es6.array.fill');
require('./modules/es6.array.find');
require('./modules/es6.array.find-index');
require('./modules/es6.array.species');
require('./modules/es6.array.iterator');
require('./modules/es6.regexp.constructor');
require('./modules/es6.regexp.to-string');
require('./modules/es6.regexp.flags');
require('./modules/es6.regexp.match');
require('./modules/es6.regexp.replace');
require('./modules/es6.regexp.search');
require('./modules/es6.regexp.split');
require('./modules/es6.promise');
require('./modules/es6.map');
require('./modules/es6.set');
require('./modules/es6.weak-map');
require('./modules/es6.weak-set');
require('./modules/es6.typed.array-buffer');
require('./modules/es6.typed.data-view');
require('./modules/es6.typed.int8-array');
require('./modules/es6.typed.uint8-array');
require('./modules/es6.typed.uint8-clamped-array');
require('./modules/es6.typed.int16-array');
require('./modules/es6.typed.uint16-array');
require('./modules/es6.typed.int32-array');
require('./modules/es6.typed.uint32-array');
require('./modules/es6.typed.float32-array');
require('./modules/es6.typed.float64-array');
require('./modules/es6.reflect.apply');
require('./modules/es6.reflect.construct');
require('./modules/es6.reflect.define-property');
require('./modules/es6.reflect.delete-property');
require('./modules/es6.reflect.enumerate');
require('./modules/es6.reflect.get');
require('./modules/es6.reflect.get-own-property-descriptor');
require('./modules/es6.reflect.get-prototype-of');
require('./modules/es6.reflect.has');
require('./modules/es6.reflect.is-extensible');
require('./modules/es6.reflect.own-keys');
require('./modules/es6.reflect.prevent-extensions');
require('./modules/es6.reflect.set');
require('./modules/es6.reflect.set-prototype-of');
require('./modules/es7.array.includes');
require('./modules/es7.array.flat-map');
require('./modules/es7.array.flatten');
require('./modules/es7.string.at');
require('./modules/es7.string.pad-start');
require('./modules/es7.string.pad-end');
require('./modules/es7.string.trim-left');
require('./modules/es7.string.trim-right');
require('./modules/es7.string.match-all');
require('./modules/es7.symbol.async-iterator');
require('./modules/es7.symbol.observable');
require('./modules/es7.object.get-own-property-descriptors');
require('./modules/es7.object.values');
require('./modules/es7.object.entries');
require('./modules/es7.object.define-getter');
require('./modules/es7.object.define-setter');
require('./modules/es7.object.lookup-getter');
require('./modules/es7.object.lookup-setter');
require('./modules/es7.map.to-json');
require('./modules/es7.set.to-json');
require('./modules/es7.map.of');
require('./modules/es7.set.of');
require('./modules/es7.weak-map.of');
require('./modules/es7.weak-set.of');
require('./modules/es7.map.from');
require('./modules/es7.set.from');
require('./modules/es7.weak-map.from');
require('./modules/es7.weak-set.from');
require('./modules/es7.global');
require('./modules/es7.system.global');
require('./modules/es7.error.is-error');
require('./modules/es7.math.clamp');
require('./modules/es7.math.deg-per-rad');
require('./modules/es7.math.degrees');
require('./modules/es7.math.fscale');
require('./modules/es7.math.iaddh');
require('./modules/es7.math.isubh');
require('./modules/es7.math.imulh');
require('./modules/es7.math.rad-per-deg');
require('./modules/es7.math.radians');
require('./modules/es7.math.scale');
require('./modules/es7.math.umulh');
require('./modules/es7.math.signbit');
require('./modules/es7.promise.finally');
require('./modules/es7.promise.try');
require('./modules/es7.reflect.define-metadata');
require('./modules/es7.reflect.delete-metadata');
require('./modules/es7.reflect.get-metadata');
require('./modules/es7.reflect.get-metadata-keys');
require('./modules/es7.reflect.get-own-metadata');
require('./modules/es7.reflect.get-own-metadata-keys');
require('./modules/es7.reflect.has-metadata');
require('./modules/es7.reflect.has-own-metadata');
require('./modules/es7.reflect.metadata');
require('./modules/es7.asap');
require('./modules/es7.observable');
require('./modules/web.timers');
require('./modules/web.immediate');
require('./modules/web.dom.iterable');
module.exports = require('./modules/_core');

},{"./modules/_core":28,"./modules/es6.array.copy-within":134,"./modules/es6.array.every":135,"./modules/es6.array.fill":136,"./modules/es6.array.filter":137,"./modules/es6.array.find":139,"./modules/es6.array.find-index":138,"./modules/es6.array.for-each":140,"./modules/es6.array.from":141,"./modules/es6.array.index-of":142,"./modules/es6.array.is-array":143,"./modules/es6.array.iterator":144,"./modules/es6.array.join":145,"./modules/es6.array.last-index-of":146,"./modules/es6.array.map":147,"./modules/es6.array.of":148,"./modules/es6.array.reduce":150,"./modules/es6.array.reduce-right":149,"./modules/es6.array.slice":151,"./modules/es6.array.some":152,"./modules/es6.array.sort":153,"./modules/es6.array.species":154,"./modules/es6.date.now":155,"./modules/es6.date.to-iso-string":156,"./modules/es6.date.to-json":157,"./modules/es6.date.to-primitive":158,"./modules/es6.date.to-string":159,"./modules/es6.function.bind":160,"./modules/es6.function.has-instance":161,"./modules/es6.function.name":162,"./modules/es6.map":163,"./modules/es6.math.acosh":164,"./modules/es6.math.asinh":165,"./modules/es6.math.atanh":166,"./modules/es6.math.cbrt":167,"./modules/es6.math.clz32":168,"./modules/es6.math.cosh":169,"./modules/es6.math.expm1":170,"./modules/es6.math.fround":171,"./modules/es6.math.hypot":172,"./modules/es6.math.imul":173,"./modules/es6.math.log10":174,"./modules/es6.math.log1p":175,"./modules/es6.math.log2":176,"./modules/es6.math.sign":177,"./modules/es6.math.sinh":178,"./modules/es6.math.tanh":179,"./modules/es6.math.trunc":180,"./modules/es6.number.constructor":181,"./modules/es6.number.epsilon":182,"./modules/es6.number.is-finite":183,"./modules/es6.number.is-integer":184,"./modules/es6.number.is-nan":185,"./modules/es6.number.is-safe-integer":186,"./modules/es6.number.max-safe-integer":187,"./modules/es6.number.min-safe-integer":188,"./modules/es6.number.parse-float":189,"./modules/es6.number.parse-int":190,"./modules/es6.number.to-fixed":191,"./modules/es6.number.to-precision":192,"./modules/es6.object.assign":193,"./modules/es6.object.create":194,"./modules/es6.object.define-properties":195,"./modules/es6.object.define-property":196,"./modules/es6.object.freeze":197,"./modules/es6.object.get-own-property-descriptor":198,"./modules/es6.object.get-own-property-names":199,"./modules/es6.object.get-prototype-of":200,"./modules/es6.object.is":204,"./modules/es6.object.is-extensible":201,"./modules/es6.object.is-frozen":202,"./modules/es6.object.is-sealed":203,"./modules/es6.object.keys":205,"./modules/es6.object.prevent-extensions":206,"./modules/es6.object.seal":207,"./modules/es6.object.set-prototype-of":208,"./modules/es6.object.to-string":209,"./modules/es6.parse-float":210,"./modules/es6.parse-int":211,"./modules/es6.promise":212,"./modules/es6.reflect.apply":213,"./modules/es6.reflect.construct":214,"./modules/es6.reflect.define-property":215,"./modules/es6.reflect.delete-property":216,"./modules/es6.reflect.enumerate":217,"./modules/es6.reflect.get":220,"./modules/es6.reflect.get-own-property-descriptor":218,"./modules/es6.reflect.get-prototype-of":219,"./modules/es6.reflect.has":221,"./modules/es6.reflect.is-extensible":222,"./modules/es6.reflect.own-keys":223,"./modules/es6.reflect.prevent-extensions":224,"./modules/es6.reflect.set":226,"./modules/es6.reflect.set-prototype-of":225,"./modules/es6.regexp.constructor":227,"./modules/es6.regexp.flags":228,"./modules/es6.regexp.match":229,"./modules/es6.regexp.replace":230,"./modules/es6.regexp.search":231,"./modules/es6.regexp.split":232,"./modules/es6.regexp.to-string":233,"./modules/es6.set":234,"./modules/es6.string.anchor":235,"./modules/es6.string.big":236,"./modules/es6.string.blink":237,"./modules/es6.string.bold":238,"./modules/es6.string.code-point-at":239,"./modules/es6.string.ends-with":240,"./modules/es6.string.fixed":241,"./modules/es6.string.fontcolor":242,"./modules/es6.string.fontsize":243,"./modules/es6.string.from-code-point":244,"./modules/es6.string.includes":245,"./modules/es6.string.italics":246,"./modules/es6.string.iterator":247,"./modules/es6.string.link":248,"./modules/es6.string.raw":249,"./modules/es6.string.repeat":250,"./modules/es6.string.small":251,"./modules/es6.string.starts-with":252,"./modules/es6.string.strike":253,"./modules/es6.string.sub":254,"./modules/es6.string.sup":255,"./modules/es6.string.trim":256,"./modules/es6.symbol":257,"./modules/es6.typed.array-buffer":258,"./modules/es6.typed.data-view":259,"./modules/es6.typed.float32-array":260,"./modules/es6.typed.float64-array":261,"./modules/es6.typed.int16-array":262,"./modules/es6.typed.int32-array":263,"./modules/es6.typed.int8-array":264,"./modules/es6.typed.uint16-array":265,"./modules/es6.typed.uint32-array":266,"./modules/es6.typed.uint8-array":267,"./modules/es6.typed.uint8-clamped-array":268,"./modules/es6.weak-map":269,"./modules/es6.weak-set":270,"./modules/es7.array.flat-map":271,"./modules/es7.array.flatten":272,"./modules/es7.array.includes":273,"./modules/es7.asap":274,"./modules/es7.error.is-error":275,"./modules/es7.global":276,"./modules/es7.map.from":277,"./modules/es7.map.of":278,"./modules/es7.map.to-json":279,"./modules/es7.math.clamp":280,"./modules/es7.math.deg-per-rad":281,"./modules/es7.math.degrees":282,"./modules/es7.math.fscale":283,"./modules/es7.math.iaddh":284,"./modules/es7.math.imulh":285,"./modules/es7.math.isubh":286,"./modules/es7.math.rad-per-deg":287,"./modules/es7.math.radians":288,"./modules/es7.math.scale":289,"./modules/es7.math.signbit":290,"./modules/es7.math.umulh":291,"./modules/es7.object.define-getter":292,"./modules/es7.object.define-setter":293,"./modules/es7.object.entries":294,"./modules/es7.object.get-own-property-descriptors":295,"./modules/es7.object.lookup-getter":296,"./modules/es7.object.lookup-setter":297,"./modules/es7.object.values":298,"./modules/es7.observable":299,"./modules/es7.promise.finally":300,"./modules/es7.promise.try":301,"./modules/es7.reflect.define-metadata":302,"./modules/es7.reflect.delete-metadata":303,"./modules/es7.reflect.get-metadata":305,"./modules/es7.reflect.get-metadata-keys":304,"./modules/es7.reflect.get-own-metadata":307,"./modules/es7.reflect.get-own-metadata-keys":306,"./modules/es7.reflect.has-metadata":308,"./modules/es7.reflect.has-own-metadata":309,"./modules/es7.reflect.metadata":310,"./modules/es7.set.from":311,"./modules/es7.set.of":312,"./modules/es7.set.to-json":313,"./modules/es7.string.at":314,"./modules/es7.string.match-all":315,"./modules/es7.string.pad-end":316,"./modules/es7.string.pad-start":317,"./modules/es7.string.trim-left":318,"./modules/es7.string.trim-right":319,"./modules/es7.symbol.async-iterator":320,"./modules/es7.symbol.observable":321,"./modules/es7.system.global":322,"./modules/es7.weak-map.from":323,"./modules/es7.weak-map.of":324,"./modules/es7.weak-set.from":325,"./modules/es7.weak-set.of":326,"./modules/web.dom.iterable":327,"./modules/web.immediate":328,"./modules/web.timers":329}],331:[function(require,module,exports){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

},{}]},{},[2])(2)
});

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.wavesSignatureAdapter=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var prepareTx_1=require("./prepareTx");var signature_generator_1=require("@waves/signature-generator");var Signable=function(){function Signable(forSign,adapter){var _this=this;this._proofs=[];this._forSign=__assign({},forSign);this._adapter=adapter;this._prepare=prepareTx_1.getSchemaByType(forSign.type);if(!this._forSign.data.timestamp){this._forSign.data.timestamp=Date.now()}if(this._forSign.data.proofs){this._proofs=this._forSign.data.proofs.slice()}if(!this._prepare){if(forSign.type!==prepareTx_1.SIGN_TYPE.CUSTOM){throw new Error("Can't find prepare api for tx type \""+forSign.type+'"!')}else{this._prepare={sign:forSign.signProcessor||function(data){return data},api:forSign.apiProcessor||function(data){return data}}}}var generator;if(forSign.type===prepareTx_1.SIGN_TYPE.CUSTOM){generator=forSign.generator;this._signMethod="signRequest"}else{generator=prepareTx_1.SIGN_TYPES[forSign.type].signatureGenerator;this._signMethod=prepareTx_1.SIGN_TYPES[forSign.type].adapter}if(!generator){throw new Error("Unknown data type "+forSign.type+"!")}this._prepare.sign(forSign.data,true);this._bytePromise=Promise.all([this._adapter.getPublicKey(),this._adapter.getAddress()]).then(function(_a){var senderPublicKey=_a[0],sender=_a[1];var dataForSign=_this._prepare.sign(__assign({sender:sender,senderPublicKey:senderPublicKey},forSign.data));return new generator(dataForSign).getBytes()})}Signable.prototype.getTxData=function(){return __assign({},this._forSign.data)};Signable.prototype.getSignData=function(){return __awaiter(this,void 0,void 0,function(){var senderPublicKey,sender;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this._adapter.getPublicKey()];case 1:senderPublicKey=_a.sent();return[4,this._adapter.getAddress()];case 2:sender=_a.sent();return[2,this._prepare.sign(__assign({sender:sender,senderPublicKey:senderPublicKey},this._forSign.data))]}})})};Signable.prototype.sign2fa=function(options){var _this=this;var code=options.code;return this._adapter.getAddress().then(function(address){return options.request({address:address,code:code,signData:_this._forSign})}).then(function(signature){_this._proofs.push(signature);return _this})};Signable.prototype.addProof=function(signature){if(this._proofs.indexOf(signature)!==-1){this._proofs.push(signature)}return this};Signable.prototype.getId=function(){return this._bytePromise.then(signature_generator_1.utils.crypto.buildTransactionId)};Signable.prototype.sign=function(){var _this=this;this._makeSignPromise();return this._signPromise.then(function(){return _this})};Signable.prototype.getSignature=function(){this._makeSignPromise();return this._signPromise};Signable.prototype.getBytes=function(){return this._bytePromise};Signable.prototype.getMyProofs=function(){var _this=this;return Promise.all([this.getBytes(),this._adapter.getPublicKey()]).then(function(_a){var bytes=_a[0],publicKey=_a[1];return _this._proofs.filter(function(signature){try{return signature_generator_1.utils.crypto.isValidSignature(bytes,signature,publicKey)}catch(e){return false}})})};Signable.prototype.hasMySignature=function(){return this.getMyProofs().then(function(proofs){return!!proofs.length})};Signable.prototype.addMyProof=function(){var _this=this;return this.hasMySignature().then(function(hasMySignature){if(!hasMySignature){return _this.getSignature().then(function(signature){_this._proofs.push(signature);return signature})}else{return _this.getMyProofs().then(function(list){return list[list.length-1]})}})};Signable.prototype.getDataForApi=function(){var _this=this;return Promise.all([this._adapter.getPublicKey(),this._adapter.getAddress(),this.addMyProof()]).then(function(_a){var senderPublicKey=_a[0],sender=_a[1];var proofs=_this._proofs.slice();return _this._prepare.api(__assign({senderPublicKey:senderPublicKey,sender:sender},_this._forSign.data,{proofs:proofs}))})};Signable.prototype._makeSignPromise=function(){var _this=this;if(!this._signPromise){this._signPromise=this._bytePromise.then(function(bytes){return _this._adapter[_this._signMethod](bytes,_this._getAmountPrecision(),_this._forSign)});this._signPromise.catch(function(){_this._signPromise=null})}return this};Signable.prototype._getAmountPrecision=function(){var data=this._forSign.data;return data.amount&&data.amount.asset&&data.amount.asset.precision?data.amount.asset.precision:0};return Signable}();exports.Signable=Signable},{"./prepareTx":14,"@waves/signature-generator":undefined}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var signature_generator_1=require("@waves/signature-generator");var Signable_1=require("../Signable");var Adapter=function(){function Adapter(){this.type=this.constructor.type}Adapter.prototype.makeSignable=function(forSign){return new Signable_1.Signable(forSign,this)};Adapter.prototype.isAvailable=function(){return Promise.resolve()};Adapter.prototype.onDestroy=function(cb){return};Adapter.initOptions=function(options){this._code=options.networkCode;signature_generator_1.config.set({networkByte:options.networkCode})};Adapter.getUserList=function(){return Promise.resolve([])};Adapter.isAvailable=function(){return Promise.resolve(false)};Adapter.type=null;return Adapter}();exports.Adapter=Adapter},{"../Signable":1,"@waves/signature-generator":undefined}],3:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var ledger_1=require("@waves/ledger");var LedgerAdapter=function(_super){__extends(LedgerAdapter,_super);function LedgerAdapter(user){var _this=_super.call(this)||this;_this._currentUser=user;if(!_this._currentUser){throw"No selected user"}return _this}LedgerAdapter.prototype.isAvailable=function(){return this._isMyLedger()};LedgerAdapter.prototype.getPublicKey=function(){return Promise.resolve(this._currentUser.publicKey)};LedgerAdapter.prototype.getAddress=function(){return Promise.resolve(this._currentUser.address)};LedgerAdapter.prototype.getSeed=function(){return Promise.reject(Error('Method "getSeed" is not available!'))};LedgerAdapter.prototype.getAdapterVersion=function(){return LedgerAdapter._ledger.getVersion()};LedgerAdapter.prototype.signRequest=function(bytes){var _this=this;return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signRequest(_this._currentUser.id,bytes)})};LedgerAdapter.prototype.signTransaction=function(bytes,amountPrecision){var _this=this;if(bytes[0]===4){return this.signData(bytes)}return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signTransaction(_this._currentUser.id,{precision:amountPrecision},bytes)})};LedgerAdapter.prototype.signOrder=function(bytes,amountPrecision){var _this=this;return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signOrder(_this._currentUser.id,{precision:amountPrecision},bytes)})};LedgerAdapter.prototype.signData=function(bytes){var _this=this;return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signSomeData(_this._currentUser.id,bytes)})};LedgerAdapter.prototype.getPrivateKey=function(){return Promise.reject("No private key")};LedgerAdapter.prototype._isMyLedger=function(){var _this=this;return LedgerAdapter._ledger.getUserDataById(this._currentUser.id).then(function(user){if(user.address!==_this._currentUser.address){throw{error:"Invalid ledger"}}})};LedgerAdapter.getUserList=function(from,to){if(from===void 0){from=1}if(to===void 0){to=1}return LedgerAdapter._ledger.getPaginationUsersData(from,to)};LedgerAdapter.initOptions=function(options){Adapter_1.Adapter.initOptions(options);this._ledger=new ledger_1.WavesLedger(options)};LedgerAdapter.isAvailable=function(){if(!LedgerAdapter._hasConnectionPromise){LedgerAdapter._hasConnectionPromise=LedgerAdapter._ledger.probeDevice()}return LedgerAdapter._hasConnectionPromise.then(function(){LedgerAdapter._hasConnectionPromise=null;return true},function(err){LedgerAdapter._hasConnectionPromise=null;return false})};LedgerAdapter.type="ledger";return LedgerAdapter}(Adapter_1.Adapter);exports.LedgerAdapter=LedgerAdapter},{"./Adapter":2,"@waves/ledger":undefined}],4:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var signature_generator_1=require("@waves/signature-generator");var SeedAdapter=function(_super){__extends(SeedAdapter,_super);function SeedAdapter(data){var _this=_super.call(this)||this;var seed;if(typeof data==="string"){seed=data}else{var user=data;var encryptionRounds=user.encryptionRounds;seed=signature_generator_1.Seed.decryptSeedPhrase(user.encryptedSeed,user.password,encryptionRounds)}_this.seed=new signature_generator_1.Seed(seed);return _this}SeedAdapter.prototype.getPublicKey=function(){return Promise.resolve(this.seed.keyPair.publicKey)};SeedAdapter.prototype.getPrivateKey=function(){return Promise.resolve(this.seed.keyPair.privateKey)};SeedAdapter.prototype.getAddress=function(){return Promise.resolve(this.seed.address)};SeedAdapter.prototype.getSeed=function(){return Promise.resolve(this.seed.phrase)};SeedAdapter.prototype.signRequest=function(bytes){return this._sign(bytes)};SeedAdapter.prototype.signTransaction=function(bytes,amountPrecision){return this._sign(bytes)};SeedAdapter.prototype.signOrder=function(bytes,amountPrecision){return this._sign(bytes)};SeedAdapter.prototype.signData=function(bytes){return this._sign(bytes)};SeedAdapter.prototype._sign=function(bytes){return Promise.resolve(signature_generator_1.utils.crypto.buildTransactionSignature(bytes,this.seed.keyPair.privateKey))};SeedAdapter.isAvailable=function(){return Promise.resolve(true)};SeedAdapter.type="seed";return SeedAdapter}(Adapter_1.Adapter);exports.SeedAdapter=SeedAdapter},{"./Adapter":2,"@waves/signature-generator":undefined}],5:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var TresorAdapter=function(_super){__extends(TresorAdapter,_super);function TresorAdapter(){return _super!==null&&_super.apply(this,arguments)||this}TresorAdapter.prototype.getPublicKey=function(){return Promise.resolve("")};TresorAdapter.prototype.getAddress=function(){return Promise.resolve("")};TresorAdapter.prototype.getSeed=function(){return Promise.reject(Error('Method "getSeed" is not available!'))};TresorAdapter.prototype.signRequest=function(bytes){return Promise.resolve("")};TresorAdapter.prototype.signTransaction=function(bytes,amountPrecision){return Promise.resolve("")};TresorAdapter.prototype.signOrder=function(bytes,amountPrecision){return Promise.resolve("")};TresorAdapter.prototype.signData=function(bytes){return Promise.resolve("")};TresorAdapter.prototype.getPrivateKey=function(){return Promise.reject("No private key")};TresorAdapter.isAvailable=function(){return Promise.resolve(false)};TresorAdapter.type="tresor";return TresorAdapter}(Adapter_1.Adapter);exports.TresorAdapter=TresorAdapter},{"./Adapter":2}],6:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var prepareTx_1=require("../prepareTx");var signature_generator_1=require("@waves/signature-generator");var WavesKeeperAdapter=function(_super){__extends(WavesKeeperAdapter,_super);function WavesKeeperAdapter(_a){var address=_a.address,publicKey=_a.publicKey;var _this=_super.call(this)||this;_this._onDestoryCb=[];_this._needDestroy=false;WavesKeeperAdapter._initExtension();_this._address=address;_this._pKey=publicKey;WavesKeeperAdapter.onUpdate(function(state){if(!state.locked&&(!state.account||state.account.address!==_this._address)){_this._needDestroy=true;_this._onDestoryCb.forEach(function(cb){return cb()})}});return _this}WavesKeeperAdapter.prototype.isAvailable=function(ignoreLocked){if(ignoreLocked===void 0){ignoreLocked=false}return __awaiter(this,void 0,void 0,function(){var data,e_1;return __generator(this,function(_a){switch(_a.label){case 0:_a.trys.push([0,3,,4]);return[4,WavesKeeperAdapter.isAvailable()];case 1:_a.sent();return[4,WavesKeeperAdapter._api.publicState()];case 2:data=_a.sent();if(data.locked){return[2,ignoreLocked?Promise.resolve():Promise.reject({code:4,msg:"Keeper is locked"})]}if(data.account&&data.account.address===this._address){return[2,Promise.resolve()]}return[3,4];case 3:e_1=_a.sent();return[3,4];case 4:return[2,Promise.reject({code:5,msg:"Keeper has another active account"})]}})})};WavesKeeperAdapter.prototype.isLocked=function(){return __awaiter(this,void 0,void 0,function(){var data;return __generator(this,function(_a){switch(_a.label){case 0:return[4,WavesKeeperAdapter.isAvailable()];case 1:_a.sent();return[4,WavesKeeperAdapter._api.publicState()];case 2:data=_a.sent();if(data.locked){return[2,Promise.resolve()]}return[2]}})})};WavesKeeperAdapter.prototype.onDestroy=function(cb){if(this._needDestroy){return cb()}this._onDestoryCb.push(cb)};WavesKeeperAdapter.prototype.getPublicKey=function(){return Promise.resolve(this._pKey)};WavesKeeperAdapter.prototype.getAddress=function(){return Promise.resolve(this._address)};WavesKeeperAdapter.prototype.getSeed=function(){return Promise.reject(Error('Method "getSeed" is not available!'))};WavesKeeperAdapter.prototype.signRequest=function(bytes,_,signData){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.isAvailable(true)];case 1:_a.sent();return[4,WavesKeeperAdapter._api.signRequest(signData)];case 2:return[2,_a.sent()]}})})};WavesKeeperAdapter.prototype.signTransaction=function(bytes,amountPrecision,signData){return __awaiter(this,void 0,void 0,function(){var dataStr,_a,proofs,signature;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.isAvailable(true)];case 1:_b.sent();return[4,WavesKeeperAdapter._api.signTransaction(signData)];case 2:dataStr=_b.sent();_a=JSON.parse(dataStr),proofs=_a.proofs,signature=_a.signature;return[2,signature||proofs.pop()]}})})};WavesKeeperAdapter.prototype.signOrder=function(bytes,amountPrecision,signData){return __awaiter(this,void 0,void 0,function(){var promise,dataStr,_a,proofs,signature;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.isAvailable(true)];case 1:_b.sent();switch(signData.type){case prepareTx_1.SIGN_TYPE.CREATE_ORDER:promise=WavesKeeperAdapter._api.signOrder(signData);break;case prepareTx_1.SIGN_TYPE.CANCEL_ORDER:promise=WavesKeeperAdapter._api.signCancelOrder(signData);break;default:return[2,WavesKeeperAdapter._api.signRequest(signData)]}return[4,promise];case 2:dataStr=_b.sent();_a=JSON.parse(dataStr),proofs=_a.proofs,signature=_a.signature;return[2,signature||proofs.pop()]}})})};WavesKeeperAdapter.prototype.signData=function(bytes){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.isAvailable(true)];case 1:_a.sent();return[2,Promise.resolve("")]}})})};WavesKeeperAdapter.prototype.getPrivateKey=function(){return Promise.reject("No private key")};WavesKeeperAdapter.isAvailable=function(){return __awaiter(this,void 0,void 0,function(){var error,data,e_2;return __generator(this,function(_a){switch(_a.label){case 0:WavesKeeperAdapter._initExtension();if(!this._api){throw{code:0,message:"Install WavesKeeper"}}_a.label=1;case 1:_a.trys.push([1,3,,4]);return[4,this._api.publicState()];case 2:data=_a.sent();return[3,4];case 3:e_2=_a.sent();error={code:1,message:"No permissions"};return[3,4];case 4:if(!error&&data){if(!data.locked&&!data.account){error={code:2,message:"No accounts in waveskeeper"}}else if(!data.locked&&(!data.account.address||!signature_generator_1.utils.crypto.isValidAddress(data.account.address))){error={code:3,message:"Selected network incorrect"}}}if(error){throw error}return[2,true]}})})};WavesKeeperAdapter.getUserList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,WavesKeeperAdapter.isAvailable()];case 1:_a.sent();return[2,WavesKeeperAdapter._api.publicState().then(function(_a){var account=_a.account;return[account]})]}})})};WavesKeeperAdapter.initOptions=function(options){Adapter_1.Adapter.initOptions(options);this.setApiExtension(options.extension)};WavesKeeperAdapter.setApiExtension=function(extension){var extensionCb;if(typeof extension==="function"){extensionCb=extension}else if(extension){extensionCb=function(){return extension}}WavesKeeperAdapter._getApiCb=extensionCb};WavesKeeperAdapter.onUpdate=function(cb){WavesKeeperAdapter._onUpdateCb.push(cb)};WavesKeeperAdapter._initExtension=function(){if(WavesKeeperAdapter._api||!WavesKeeperAdapter._getApiCb){return null}this._api=WavesKeeperAdapter._getApiCb();if(this._api){this._api.on("update",function(state){for(var _i=0,_a=WavesKeeperAdapter._onUpdateCb;_i<_a.length;_i++){var cb=_a[_i];cb(state)}})}};WavesKeeperAdapter.type="wavesKeeper";WavesKeeperAdapter._onUpdateCb=[];return WavesKeeperAdapter}(Adapter_1.Adapter);exports.WavesKeeperAdapter=WavesKeeperAdapter},{"../prepareTx":14,"./Adapter":2,"@waves/signature-generator":undefined}],7:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./Adapter"));__export(require("./LedgerAdapter"));__export(require("./SeedAdapter"));__export(require("./TresorAdapter"));__export(require("./WavesKeeperAdapter"))},{"./Adapter":2,"./LedgerAdapter":3,"./SeedAdapter":4,"./TresorAdapter":5,"./WavesKeeperAdapter":6}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SeedAdapter_1=require("./adapters/SeedAdapter");var LedgerAdapter_1=require("./adapters/LedgerAdapter");var adapters_1=require("./adapters");exports.adapterPriorityList=["wavesKeeper","ledger","tresor","seed"];exports.adapterList=[SeedAdapter_1.SeedAdapter,LedgerAdapter_1.LedgerAdapter,adapters_1.WavesKeeperAdapter]},{"./adapters":7,"./adapters/LedgerAdapter":3,"./adapters/SeedAdapter":4}],9:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("./utils");__export(require("./adapters"));__export(require("./prepareTx"));__export(require("./config"));__export(require("./Signable"));var config_1=require("./config");function getAvailableList(){var _this=this;return Promise.all(config_1.adapterPriorityList.map(function(type){return __awaiter(_this,void 0,void 0,function(){var adapter,available;return __generator(this,function(_a){switch(_a.label){case 0:adapter=getAdapterByType(type);return[4,adapter.isAvailable()];case 1:available=_a.sent();return[2,available?adapter:null]}})})})).then(function(list){return list.filter(Boolean)})}exports.getAvailableList=getAvailableList;function getAdapterByType(type){return utils_1.find({type:type},config_1.adapterList)}exports.getAdapterByType=getAdapterByType},{"./Signable":1,"./adapters":7,"./config":8,"./prepareTx":14,"./utils":17}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _a;var signature_generator_1=require("@waves/signature-generator");var TRANSACTION_TYPE_NUMBER;(function(TRANSACTION_TYPE_NUMBER){TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SEND_OLD"]=2]="SEND_OLD";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["ISSUE"]=3]="ISSUE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["TRANSFER"]=4]="TRANSFER";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["REISSUE"]=5]="REISSUE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["BURN"]=6]="BURN";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["EXCHANGE"]=7]="EXCHANGE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["LEASE"]=8]="LEASE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["CANCEL_LEASING"]=9]="CANCEL_LEASING";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["CREATE_ALIAS"]=10]="CREATE_ALIAS";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["MASS_TRANSFER"]=11]="MASS_TRANSFER";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["DATA"]=12]="DATA";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SET_SCRIPT"]=13]="SET_SCRIPT";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SPONSORSHIP"]=14]="SPONSORSHIP"})(TRANSACTION_TYPE_NUMBER=exports.TRANSACTION_TYPE_NUMBER||(exports.TRANSACTION_TYPE_NUMBER={}));var SIGN_TYPE;(function(SIGN_TYPE){SIGN_TYPE[SIGN_TYPE["AUTH"]=1e3]="AUTH";SIGN_TYPE[SIGN_TYPE["MATCHER_ORDERS"]=1001]="MATCHER_ORDERS";SIGN_TYPE[SIGN_TYPE["CREATE_ORDER"]=1002]="CREATE_ORDER";SIGN_TYPE[SIGN_TYPE["CANCEL_ORDER"]=1003]="CANCEL_ORDER";SIGN_TYPE[SIGN_TYPE["COINOMAT_CONFIRMATION"]=1004]="COINOMAT_CONFIRMATION";SIGN_TYPE[SIGN_TYPE["CUSTOM"]=1005]="CUSTOM";SIGN_TYPE[SIGN_TYPE["ISSUE"]=3]="ISSUE";SIGN_TYPE[SIGN_TYPE["TRANSFER"]=4]="TRANSFER";SIGN_TYPE[SIGN_TYPE["REISSUE"]=5]="REISSUE";SIGN_TYPE[SIGN_TYPE["BURN"]=6]="BURN";SIGN_TYPE[SIGN_TYPE["EXCHANGE"]=7]="EXCHANGE";SIGN_TYPE[SIGN_TYPE["LEASE"]=8]="LEASE";SIGN_TYPE[SIGN_TYPE["CANCEL_LEASING"]=9]="CANCEL_LEASING";SIGN_TYPE[SIGN_TYPE["CREATE_ALIAS"]=10]="CREATE_ALIAS";SIGN_TYPE[SIGN_TYPE["MASS_TRANSFER"]=11]="MASS_TRANSFER";SIGN_TYPE[SIGN_TYPE["DATA"]=12]="DATA";SIGN_TYPE[SIGN_TYPE["SET_SCRIPT"]=13]="SET_SCRIPT";SIGN_TYPE[SIGN_TYPE["SPONSORSHIP"]=14]="SPONSORSHIP"})(SIGN_TYPE=exports.SIGN_TYPE||(exports.SIGN_TYPE={}));exports.SIGN_TYPES=(_a={},_a[SIGN_TYPE.AUTH]={signatureGenerator:signature_generator_1.generate([new signature_generator_1.StringWithLength("prefix"),new signature_generator_1.StringWithLength("host"),new signature_generator_1.StringWithLength("data")]),adapter:"signRequest"},_a[SIGN_TYPE.COINOMAT_CONFIRMATION]={signatureGenerator:signature_generator_1.generate([new signature_generator_1.StringWithLength("prefix"),new signature_generator_1.Long("timestamp")]),adapter:"signRequest"},_a[SIGN_TYPE.MATCHER_ORDERS]={signatureGenerator:signature_generator_1.AUTH_ORDER_SIGNATURE,adapter:"signRequest"},_a[SIGN_TYPE.CREATE_ORDER]={signatureGenerator:signature_generator_1.CREATE_ORDER_SIGNATURE,adapter:"signOrder"},_a[SIGN_TYPE.CANCEL_ORDER]={signatureGenerator:signature_generator_1.CANCEL_ORDER_SIGNATURE,adapter:"signRequest"},_a[SIGN_TYPE.TRANSFER]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.TRANSFER],adapter:"signTransaction"},_a[SIGN_TYPE.ISSUE]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.ISSUE],adapter:"signTransaction"},_a[SIGN_TYPE.REISSUE]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.REISSUE],adapter:"signTransaction"},_a[SIGN_TYPE.BURN]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.BURN],adapter:"signTransaction"},_a[SIGN_TYPE.EXCHANGE]={signatureGenerator:signature_generator_1.generate([new signature_generator_1.StringWithLength("exchange-tx")]),adapter:"signRequest"},_a[SIGN_TYPE.LEASE]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.LEASE],adapter:"signTransaction"},_a[SIGN_TYPE.CANCEL_LEASING]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.CANCEL_LEASING],adapter:"signTransaction"},_a[SIGN_TYPE.CREATE_ALIAS]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.CREATE_ALIAS],adapter:"signTransaction"},_a[SIGN_TYPE.MASS_TRANSFER]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.MASS_TRANSFER],adapter:"signTransaction"},_a[SIGN_TYPE.DATA]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.DATA],adapter:"signTransaction"},_a[SIGN_TYPE.SET_SCRIPT]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.SET_SCRIPT],adapter:"signTransaction"},_a[SIGN_TYPE.SPONSORSHIP]={signatureGenerator:signature_generator_1.TX_NUMBER_MAP[TRANSACTION_TYPE_NUMBER.SPONSORSHIP],adapter:"signTransaction"},_a)},{"@waves/signature-generator":undefined}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var fieldFactory=function(type){return function(fromField,toField,processor,optional){if(toField===void 0){toField=fromField}if(processor===void 0){processor=null}if(optional===void 0){optional=false}return{name:fromField,field:toField||fromField,optional:optional,processor:processor,type:type}}};exports.string=fieldFactory("string");exports.asset=fieldFactory("assetId");exports.assetName=fieldFactory("assetName");exports.assetDescription=fieldFactory("assetDescription");exports.precision=fieldFactory("precision");exports.number=fieldFactory("number");exports.address=fieldFactory("address");exports.aliasName=fieldFactory("aliasName");exports.aliasOrAddress=fieldFactory("aliasOrAddress");exports.money=fieldFactory("money");exports.numberLike=fieldFactory("numberLike");exports.attachment=fieldFactory("attachment");exports.httpsUrl=fieldFactory("httpsUrl");exports.timestamp=fieldFactory("timestamp");exports.orderType=fieldFactory("orderType");exports.fromData=fieldFactory("fromData");exports.boolean=fieldFactory("boolean");exports.transfers=fieldFactory("transfers");exports.data=fieldFactory("data");exports.script=fieldFactory("script");exports.required=fieldFactory("required")},{}],12:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)if(e.indexOf(p[i])<0)t[p[i]]=s[p[i]];return t};Object.defineProperty(exports,"__esModule",{value:true});var data_entities_1=require("@waves/data-entities");var signature_generator_1=require("@waves/signature-generator");var TRANSFERS={ATTACHMENT:140};var ALIAS={AVAILABLE_CHARS:"-.0123456789@_abcdefghijklmnopqrstuvwxyz",MAX_ALIAS_LENGTH:30,MIN_ALIAS_LENGTH:4};var ADDRESS={MAX_ADDRESS_LENGTH:45};var ASSETS={NAME_MIN_BYTES:4,NAME_MAX_BYTES:16,DESCRIPTION_MAX_BYTES:1e3};exports.ERROR_MSG={REQUIRED:"field is required",WRONG_TYPE:"field is wrong type",WRONG_NUMBER:"field is not number",WRONG_TIMESTAMP:"field is not timestamp",SMALL_FIELD:"field is small",LARGE_FIELD:"field is large",WRONG_SYMBOLS:"field has wrong symbols",WRONG_ADDRESS:"field is wrong address",WRONG_BOOLEAN:"field is wrong boolean",WRONG_ASSET_ID:"field is wrong assetId",WRONG_ORDER_TYPE:'field is wrong order type. Field can be "buy" or "sell"',NOT_HTTPS_URL:"field can be url with https protocol",BASE64:'field can be base64 string with prefix "base64:"'};var isBase64=function(value){var regExp=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;return regExp.test(value)};var getBytesFromString=function(value){return signature_generator_1.utils.convert.stringToByteArray(value)};var numberToString=function(num){return num&&typeof num==="number"?num.toString():num};var error=function(_a,message){var value=_a.value,options=__rest(_a,["value"]);var field=options.name,type=options.type;throw{value:value,field:field,type:type,message:message}};var required=function(options){var value=options.value,optional=options.optional;if(!optional&&value==null){error(options,exports.ERROR_MSG.REQUIRED)}};var string=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value,optional=options.optional;if(!optional&&value==null&&(value!=null&&typeof value!=="string")){return error(options,exports.ERROR_MSG.WRONG_TYPE)}};var attachment=function(options){var value=numberToString(options.value);options=__assign({},options,{value:value});string(options);if(value==null){return}switch(true){case typeof value!="string":error(options,exports.ERROR_MSG.WRONG_TYPE);break;case getBytesFromString(value).length>TRANSFERS.ATTACHMENT:error(options,exports.ERROR_MSG.LARGE_FIELD);break}};var number=function(options){required(options);var value=options.value;if(value!=null&&new data_entities_1.BigNumber(value).isNaN()){return error(options,exports.ERROR_MSG.WRONG_NUMBER)}};var boolean=function(options){required(options);var value=options.value;if(value!=null&&typeof value!=="boolean"){return error(options,exports.ERROR_MSG.WRONG_BOOLEAN)}};var money=function(options){required(options);var value=options.value;if(value==null){return}switch(true){case!(value instanceof data_entities_1.Money):return error(options,exports.ERROR_MSG.WRONG_TYPE);case value instanceof data_entities_1.Money&&value.getCoins().isNaN():return error(options,exports.ERROR_MSG.WRONG_NUMBER)}};var numberLike=function(options,min,max){required(options);var value=options.value;if(value==null){return}var checkInterval=function(bigNumber){if(min!=null){if(bigNumber.lt(new data_entities_1.BigNumber(min))){error(options,exports.ERROR_MSG.SMALL_FIELD)}}if(max!=null){if(bigNumber.gt(new data_entities_1.BigNumber(max))){error(options,exports.ERROR_MSG.LARGE_FIELD)}}};switch(true){case value instanceof data_entities_1.BigNumber:if(value.isNaN()){error(options,exports.ERROR_MSG.WRONG_TYPE)}checkInterval(value);break;case value instanceof data_entities_1.Money:var coins=value.getCoins();if(coins.isNaN()){error(options,exports.ERROR_MSG.WRONG_NUMBER)}checkInterval(coins);break;case typeof value==="string"&&!value:error(options,exports.ERROR_MSG.WRONG_NUMBER);break;case new data_entities_1.BigNumber(value).isNaN():return error(options,exports.ERROR_MSG.WRONG_NUMBER);default:checkInterval(new data_entities_1.BigNumber(value))}};var aliasName=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value==null){return null}switch(true){case typeof value!=="string":return error(options,exports.ERROR_MSG.WRONG_TYPE);case value.length<ALIAS.MIN_ALIAS_LENGTH:return error(options,exports.ERROR_MSG.SMALL_FIELD);case value.length>ALIAS.MAX_ALIAS_LENGTH:return error(options,exports.ERROR_MSG.LARGE_FIELD);case!value.split("").every(function(char){return ALIAS.AVAILABLE_CHARS.includes(char)}):return error(options,exports.ERROR_MSG.WRONG_SYMBOLS)}};var address=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;var isValidAddress=function(address){try{return signature_generator_1.utils.crypto.isValidAddress(address)}catch(e){return false}};if(value==null){return null}switch(true){case typeof value!=="string":return error(options,exports.ERROR_MSG.WRONG_TYPE);case value.length<=ALIAS.MAX_ALIAS_LENGTH:return error(options,exports.ERROR_MSG.SMALL_FIELD);case value.length>ADDRESS.MAX_ADDRESS_LENGTH:return error(options,exports.ERROR_MSG.LARGE_FIELD);case!isValidAddress(value):return error(options,exports.ERROR_MSG.WRONG_ADDRESS)}};var aliasOrAddress=function(options){try{aliasName(options)}catch(e){address(options)}};var assetId=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value==null){return null}if(typeof value!=="string"){return error(options,exports.ERROR_MSG.WRONG_TYPE)}var isAssetId=false;try{isAssetId=signature_generator_1.libs.base58.decode(value.trim()).length===32}catch(e){isAssetId=false}if(!isAssetId&&value!=="WAVES"){return error(options,exports.ERROR_MSG.WRONG_ASSET_ID)}};var timestamp=function(options){required(options);var value=options.value;if(value&&!(value instanceof Date||typeof value==="number"||+value)){if(typeof value!=="string"||isNaN(Date.parse(value))){return error(options,exports.ERROR_MSG.WRONG_TIMESTAMP)}}};var orderType=function(options){required(options);var value=options.value;if(value==null){return null}if(typeof value!=="string"){return error(options,exports.ERROR_MSG.WRONG_TYPE)}if(value!=="sell"&&value!=="buy"){return error(options,exports.ERROR_MSG.WRONG_ORDER_TYPE)}};var assetName=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value!=null){if(typeof value!=="string"){error(options,exports.ERROR_MSG.WRONG_TYPE)}var bytesLength=getBytesFromString(value).length;if(bytesLength<ASSETS.NAME_MIN_BYTES){error(options,exports.ERROR_MSG.SMALL_FIELD)}if(bytesLength>ASSETS.NAME_MAX_BYTES){error(options,exports.ERROR_MSG.LARGE_FIELD)}}};var assetDescription=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value!=null){if(typeof value!=="string"){error(options,exports.ERROR_MSG.WRONG_TYPE)}var bytesLength=getBytesFromString(value).length;if(bytesLength>ASSETS.DESCRIPTION_MAX_BYTES){error(options,exports.ERROR_MSG.LARGE_FIELD)}}};var precision=function(options){required(options);numberLike(options,0,8)};var httpsUrl=function(options){required(options);var value=options.value;var isNotUrl=function(url){try{new URL(url);return false}catch(e){return true}};if(value==null){return null}switch(true){case typeof value!=="string":error(options,exports.ERROR_MSG.WRONG_TYPE);break;case value.indexOf("https://")===-1:error(options,exports.ERROR_MSG.NOT_HTTPS_URL);break;case isNotUrl(value):error(options,exports.ERROR_MSG.NOT_HTTPS_URL);break}};var transfers=function(options){required(options);var value=options.value;if(!Array.isArray(value)){error(options,exports.ERROR_MSG.WRONG_TYPE)}if(!options.optional&&value.length===0){error(options,exports.ERROR_MSG.REQUIRED)}var errors=(value||[]).map(function(_a,index){var recipient=_a.recipient,amount=_a.amount;var dataErrors=[];try{numberLike(__assign({},options,{value:amount,name:options.name+":"+index+":amount",optional:false}))}catch(e){dataErrors.push(e)}try{aliasOrAddress(__assign({},options,{value:recipient,name:options.name+":"+index+":recipient",optional:false}))}catch(e){dataErrors.push(e)}return dataErrors}).filter(function(item){return item.length});if(errors.length){error(options,errors);error(options,errors)}};var data=function(options){required(options);var value=options.value;if(!Array.isArray(value)){error(options,exports.ERROR_MSG.WRONG_TYPE)}var errors=value.map(function(_a,index){var key=_a.key,type=_a.type,value=_a.value;try{string(__assign({},options,{value:key,name:options.name+":"+index+":key",optional:false}))}catch(e){return e}var itemOptions=__assign({},options,{name:options.name+":"+index+":value",optional:false,value:value});try{switch(type){case"integer":numberLike(itemOptions);break;case"boolean":boolean(itemOptions);break;case"binary":binary(itemOptions);break;case"string":string(itemOptions);break;default:error(__assign({},options,{value:key,name:options.name+":"+index+":type"}),exports.ERROR_MSG.WRONG_TYPE)}}catch(e){return e}}).filter(function(item){return item});if(errors.length){error(options,errors)}};var binary=function(options){var _a=options.value,value=_a===void 0?"":_a;if(value&&!value.includes("base64:")){error(options,exports.ERROR_MSG.BASE64)}if(value&&!isBase64(value.replace("base64:",""))){error(options,exports.ERROR_MSG.BASE64)}};var script=function(options){binary(options)};exports.VALIDATORS={string:string,number:number,required:required,numberLike:numberLike,money:money,aliasName:aliasName,address:address,boolean:boolean,assetId:assetId,timestamp:timestamp,orderType:orderType,assetName:assetName,assetDescription:assetDescription,httpsUrl:httpsUrl,attachment:attachment,transfers:transfers,aliasOrAddress:aliasOrAddress,data:data,script:script,binary:binary,precision:precision}},{"@waves/data-entities":undefined,"@waves/signature-generator":undefined}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _1=require("./");function default_1(forSign){var prepare=_1.getSchemaByType(forSign.type).sign;var dataForSign=prepare(forSign.data);var signatureGenerator=new _1.SIGN_TYPES[forSign.type].signatureGenerator(dataForSign);return signatureGenerator.getBytes()}exports.default=default_1},{"./":14}],14:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./constants"));__export(require("./prepare"));__export(require("./schemas"));__export(require("./getTxBytes"))},{"./constants":10,"./getTxBytes":13,"./prepare":15,"./schemas":16}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var data_entities_1=require("@waves/data-entities");var signature_generator_1=require("@waves/signature-generator");var fieldValidator_1=require("./fieldValidator");var normalizeAssetId=function(id){return id===signature_generator_1.WAVES_ID?"":id};var prepare;(function(prepare){var processors;(function(processors){function scriptProcessor(code){return!!(code||"").replace("base64:","")?code:null}processors.scriptProcessor=scriptProcessor;function assetPair(data){return{amountAsset:normalizeAssetId(data.amount.asset.id),priceAsset:normalizeAssetId(data.price.asset.id)}}processors.assetPair=assetPair;function signatureFromProof(proofs){return proofs[0]}processors.signatureFromProof=signatureFromProof;function toBigNumber(some){switch(typeof some){case"string":case"number":return new data_entities_1.BigNumber(some);case"object":if(some instanceof data_entities_1.BigNumber){return some}else{return some.getCoins()}}}processors.toBigNumber=toBigNumber;function toSponsorshipFee(moeny){var coins=moeny.getCoins();if(coins.eq(0)){return null}else{return coins}}processors.toSponsorshipFee=toSponsorshipFee;function moneyToAssetId(money){return money.asset.id}processors.moneyToAssetId=moneyToAssetId;function moneyToNodeAssetId(money){return idToNode(money.asset.id)}processors.moneyToNodeAssetId=moneyToNodeAssetId;function timestamp(time){if(!+time&&typeof time==="string"){return Date.parse(time)}return time&&time instanceof Date?time.getTime():time}processors.timestamp=timestamp;function orString(data){return data||""}processors.orString=orString;function noProcess(data){return data}processors.noProcess=noProcess;function recipient(data){var code=String.fromCharCode(signature_generator_1.config.get("networkByte"));return data.length<30?"alias:"+code+":"+data:data}processors.recipient=recipient;function attachment(data){data=data||"";var value=Uint8Array.from(signature_generator_1.libs.converters.stringToByteArray(data));return signature_generator_1.libs.base58.encode(Uint8Array.from(value))}processors.attachment=attachment;function addValue(value){return typeof value==="function"?value:function(){return value}}processors.addValue=addValue;function expiration(date){return date||(new Date).setDate((new Date).getDate()+20)}processors.expiration=expiration;function transfers(recipient,amount){return function(transfers){return transfers.map(function(transfer){return{recipient:recipient(transfer.recipient),amount:amount(transfer.amount)}})}}processors.transfers=transfers;function quantity(data){return new data_entities_1.BigNumber(data.quantity).times(new data_entities_1.BigNumber(10).pow(data.precision))}processors.quantity=quantity;function base64(str){return(str||"").replace("base64:","")}processors.base64=base64;function toOrderPrice(order){var assetPair=new data_entities_1.AssetPair(order.amount.asset,order.price.asset);var orderPrice=data_entities_1.OrderPrice.fromTokens(order.price.toTokens(),assetPair);return orderPrice.getMatcherCoins()}processors.toOrderPrice=toOrderPrice})(processors=prepare.processors||(prepare.processors={}));function wrap(from,to,cb){if(typeof cb!="function"){return{from:from,to:to,cb:function(){return cb}}}return{from:from,to:to,cb:cb}}prepare.wrap=wrap;function schema(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return function(data){return args.map(function(item){return typeof item==="string"?{key:item,value:processors.noProcess(data[item])}:{key:item.to,value:item.cb(item.from?data[item.from]:data)}}).reduce(function(result,item){result[item.key]=item.value;return result},Object.create(null))}}prepare.schema=schema;function signSchema(args){return function(data,validate){if(validate===void 0){validate=false}var errors=[];var prepareData=args.map(function(item){var wrapped=wrap(item.name,item.field,item.processor||processors.noProcess);var validateOptions={key:wrapped.to,value:wrapped.from?data[wrapped.from]:data,optional:item.optional,type:item.type,name:item.name};var validator=fieldValidator_1.VALIDATORS[validateOptions.type];try{if(validate&&validator){validator(validateOptions)}return{key:validateOptions.key,value:wrapped.cb(validateOptions.value)}}catch(e){errors.push(e)}return{key:validateOptions.key,value:null}}).reduce(function(result,_a){var key=_a.key,value=_a.value;result[key]=value;return result},Object.create(null));if(errors.length){throw errors}return prepareData}}prepare.signSchema=signSchema;function idToNode(id){return id===signature_generator_1.WAVES_ID?"":id}prepare.idToNode=idToNode})(prepare=exports.prepare||(exports.prepare={}))},{"./fieldValidator":12,"@waves/data-entities":undefined,"@waves/signature-generator":undefined}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _a;var prepare_1=require("./prepare");var constants_1=require("./constants");var signature_generator_1=require("@waves/signature-generator");var fieldsType=require("./fieldTypes");var schema=prepare_1.prepare.schema,wrap=prepare_1.prepare.wrap,signSchema=prepare_1.prepare.signSchema,processors=prepare_1.prepare.processors;var SIGN_SCHEMA=(_a={},_a[constants_1.SIGN_TYPE.MATCHER_ORDERS]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.AUTH]=[fieldsType.string("prefix",null,processors.addValue("WavesWalletAuthentication"),true),fieldsType.string("host"),fieldsType.string("data")],_a[constants_1.SIGN_TYPE.COINOMAT_CONFIRMATION]=[fieldsType.string("prefix",null,processors.addValue("Coinomat"),true),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CREATE_ORDER]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.string("matcherPublicKey"),fieldsType.money("amount","amountAsset",processors.moneyToAssetId),fieldsType.money("price","priceAsset",processors.moneyToAssetId),fieldsType.orderType("orderType"),fieldsType.money("amount","amount",processors.toBigNumber),fieldsType.fromData(null,"price",processors.toOrderPrice),fieldsType.numberLike("matcherFee",null,processors.toBigNumber),fieldsType.timestamp("expiration",null,processors.expiration),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CANCEL_ORDER]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.string("id","orderId")],_a[constants_1.SIGN_TYPE.ISSUE]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.assetName("name"),fieldsType.assetDescription("description"),fieldsType.number("chainId",null,processors.addValue(function(){return signature_generator_1.config.getNetworkByte()}),true),fieldsType.numberLike("quantity",null,processors.toBigNumber),fieldsType.precision("precision"),fieldsType.boolean("reissuable"),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.REISSUE]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.number("chainId",null,processors.addValue(function(){return signature_generator_1.config.getNetworkByte()}),true),fieldsType.asset("assetId"),fieldsType.numberLike("quantity",null,processors.toBigNumber),fieldsType.boolean("reissuable"),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.BURN]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.number("chainId",null,processors.addValue(function(){return signature_generator_1.config.getNetworkByte()}),true),fieldsType.asset("assetId"),fieldsType.numberLike("amount","quantity",processors.toBigNumber),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.SPONSORSHIP]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.money("minSponsoredAssetFee","assetId",processors.moneyToAssetId),fieldsType.numberLike("minSponsoredAssetFee",null,processors.toBigNumber),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.TRANSFER]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.money("amount","assetId",processors.moneyToAssetId),fieldsType.required("amount",null,processors.toBigNumber),fieldsType.money("fee","feeAssetId",processors.moneyToAssetId),fieldsType.required("fee","fee",processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp),fieldsType.aliasOrAddress("recipient"),fieldsType.attachment("attachment",null,processors.orString,true)],_a[constants_1.SIGN_TYPE.LEASE]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.number("chainId",null,processors.addValue(function(){return signature_generator_1.config.getNetworkByte()}),true),fieldsType.aliasOrAddress("recipient"),fieldsType.numberLike("amount",null,processors.toBigNumber),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CANCEL_LEASING]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.number("chainId",null,processors.addValue(function(){return signature_generator_1.config.getNetworkByte()}),true),fieldsType.string("leaseId","transactionId"),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CREATE_ALIAS]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.aliasName("alias"),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.MASS_TRANSFER]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.money("totalAmount","assetId",processors.moneyToAssetId),fieldsType.transfers("transfers",null,processors.transfers(processors.noProcess,processors.toBigNumber)),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.attachment("attachment",null,processors.orString,true),fieldsType.timestamp("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.DATA]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp),fieldsType.data("data")],_a[constants_1.SIGN_TYPE.SET_SCRIPT]=[fieldsType.string("senderPublicKey",null,null,true),fieldsType.numberLike("fee",null,processors.toBigNumber),fieldsType.timestamp("timestamp",null,processors.timestamp),fieldsType.number("chainId",null,processors.addValue(function(){return signature_generator_1.config.getNetworkByte()}),true),fieldsType.script("script")],_a[constants_1.SIGN_TYPE.EXCHANGE]=[],_a);var schemas;(function(schemas){var api;(function(api){api.coinomatConfirmation=schema(wrap("prefix","prefix",processors.addValue("Coinomat")),"timestamp");api.createOrder=schema("matcherPublicKey","orderType",wrap(null,"assetPair",processors.assetPair),wrap(null,"price",processors.toOrderPrice),wrap("amount","amount",processors.toBigNumber),wrap("matcherFee","matcherFee",processors.toBigNumber),wrap("expiration","expiration",processors.expiration),"senderPublicKey","timestamp",wrap("proofs","signature",processors.signatureFromProof));api.cancelOrder=schema(wrap("id","orderId",processors.noProcess),wrap("senderPublicKey","sender",processors.noProcess),wrap("proofs","signature",processors.signatureFromProof));api.issue=schema(wrap("version","version",processors.addValue(2)),wrap("chainId","chainId",processors.addValue(function(){return signature_generator_1.config.getNetworkByte()})),"senderPublicKey","name","description",wrap("quantity","quantity",processors.toBigNumber),wrap("precision","decimals",processors.noProcess),wrap("reissuable","reissuable",processors.noProcess),wrap("fee","fee",processors.toBigNumber),wrap("timestamp","timestamp",processors.timestamp),wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.ISSUE)),"proofs");api.transfer=schema(wrap("version","version",processors.addValue(2)),wrap("amount","assetId",processors.moneyToNodeAssetId),wrap("amount","amount",processors.toBigNumber),wrap("fee","feeAssetId",processors.moneyToNodeAssetId),wrap("fee","fee",processors.toBigNumber),wrap("recipient","recipient",processors.recipient),wrap("attachment","attachment",processors.attachment),wrap("timestamp","timestamp",processors.timestamp),"senderPublicKey","proofs",wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.TRANSFER)));api.reissue=schema(wrap("version","version",processors.addValue(2)),"senderPublicKey",wrap("chainId","chainId",processors.addValue(function(){return signature_generator_1.config.getNetworkByte()})),wrap("assetId","assetId",processors.noProcess),wrap("quantity","quantity",processors.toBigNumber),wrap("reissuable","reissuable",processors.noProcess),wrap("fee","fee",processors.toBigNumber),wrap("timestamp","timestamp",processors.timestamp),"proofs",wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.REISSUE)));api.burn=schema(wrap("version","version",processors.addValue(2)),wrap("chainId","chainId",processors.addValue(function(){return signature_generator_1.config.getNetworkByte()})),"senderPublicKey",wrap("assetId","assetId",processors.noProcess),wrap("amount","quantity",processors.toBigNumber),wrap("fee","fee",processors.toBigNumber),wrap("timestamp","timestamp",processors.timestamp),"proofs",wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.BURN)));api.lease=schema(wrap("version","version",processors.addValue(2)),wrap("chainId","chainId",processors.addValue(function(){return signature_generator_1.config.getNetworkByte()})),"senderPublicKey",wrap("recipient","recipient",processors.recipient),wrap("amount","amount",processors.toBigNumber),wrap("fee","fee",processors.toBigNumber),wrap("timestamp","timestamp",processors.timestamp),"proofs",wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.LEASE)));api.cancelLeasing=schema(wrap("version","version",processors.addValue(2)),wrap("chainId","chainId",processors.addValue(function(){return signature_generator_1.config.getNetworkByte()})),"senderPublicKey",wrap("fee","fee",processors.toBigNumber),wrap("timestamp","timestamp",processors.timestamp),wrap("leaseId","leaseId",processors.noProcess),"proofs",wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.CANCEL_LEASING)));api.alias=schema(wrap("version","version",processors.addValue(2)),"senderPublicKey",wrap("alias","alias",processors.noProcess),wrap("fee","fee",processors.toBigNumber),wrap("timestamp","timestamp",processors.timestamp),"proofs",wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.CREATE_ALIAS)));api.massTransfer=schema("senderPublicKey",wrap("version","version",processors.addValue(1)),wrap("totalAmount","assetId",processors.moneyToNodeAssetId),wrap("transfers","transfers",processors.transfers(processors.recipient,processors.toBigNumber)),wrap("timestamp","timestamp",processors.timestamp),wrap("fee","fee",processors.toBigNumber),wrap("attachment","attachment",processors.attachment),wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.MASS_TRANSFER)),"proofs");api.data=schema(wrap("version","version",processors.addValue(1)),"senderPublicKey","data",wrap("fee","fee",processors.toBigNumber),wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.DATA)),wrap("timestamp","timestamp",processors.timestamp),"proofs");api.setScript=schema(wrap("version","version",processors.addValue(1)),"senderPublicKey",wrap("script","script",processors.scriptProcessor),wrap("chainId","chainId",processors.addValue(function(){return signature_generator_1.config.get("networkByte")})),wrap("fee","fee",processors.toBigNumber),wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.SET_SCRIPT)),wrap("timestamp","timestamp",processors.timestamp),"proofs");api.sponsorship=schema(wrap("version","version",processors.addValue(1)),"senderPublicKey",wrap("minSponsoredAssetFee","assetId",processors.moneyToAssetId),wrap("minSponsoredAssetFee","minSponsoredAssetFee",processors.toSponsorshipFee),wrap("fee","fee",processors.toBigNumber),wrap("type","type",processors.addValue(constants_1.SIGN_TYPE.SPONSORSHIP)),wrap("timestamp","timestamp",processors.timestamp),"proofs")})(api=schemas.api||(schemas.api={}));var sign;(function(sign){sign.matcherOrders=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.MATCHER_ORDERS]);sign.auth=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.AUTH]);sign.coinomatConfirmation=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.COINOMAT_CONFIRMATION]);sign.createOrder=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.CREATE_ORDER]);sign.cancelOrder=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.CANCEL_ORDER]);sign.issue=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.ISSUE]);sign.transfer=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.TRANSFER]);sign.reissue=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.REISSUE]);sign.burn=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.BURN]);sign.lease=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.LEASE]);sign.cancelLeasing=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.CANCEL_LEASING]);sign.alias=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.CREATE_ALIAS]);sign.massTransfer=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.MASS_TRANSFER]);sign.data=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.DATA]);sign.setScript=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.SET_SCRIPT]);sign.sponsorship=signSchema(SIGN_SCHEMA[constants_1.SIGN_TYPE.SPONSORSHIP]);sign.exchange=function(data){console.warn("Sign exchange transaction is not supported!");return data}})(sign=schemas.sign||(schemas.sign={}))})(schemas||(schemas={}));var hasNoApiMethod=function(schemaType){return function(){throw new Error("Has no method for prepare "+schemaType)}};function getSchemaByType(type){switch(type){case constants_1.SIGN_TYPE.MATCHER_ORDERS:return{api:hasNoApiMethod("api, get orders"),sign:schemas.sign.matcherOrders};case constants_1.SIGN_TYPE.AUTH:return{api:hasNoApiMethod("api auth"),sign:schemas.sign.auth};case constants_1.SIGN_TYPE.COINOMAT_CONFIRMATION:return{api:schemas.api.coinomatConfirmation,sign:schemas.sign.coinomatConfirmation};case constants_1.SIGN_TYPE.CREATE_ORDER:return{api:schemas.api.createOrder,sign:schemas.sign.createOrder};case constants_1.SIGN_TYPE.CANCEL_ORDER:return{api:schemas.api.cancelOrder,sign:schemas.sign.cancelOrder};case constants_1.SIGN_TYPE.TRANSFER:return{api:schemas.api.transfer,sign:schemas.sign.transfer};case constants_1.SIGN_TYPE.ISSUE:return{api:schemas.api.issue,sign:schemas.sign.issue};case constants_1.SIGN_TYPE.REISSUE:return{api:schemas.api.reissue,sign:schemas.sign.reissue};case constants_1.SIGN_TYPE.BURN:return{api:schemas.api.burn,sign:schemas.sign.burn};case constants_1.SIGN_TYPE.EXCHANGE:return{api:hasNoApiMethod("api, exchange"),sign:schemas.sign.exchange};case constants_1.SIGN_TYPE.LEASE:return{api:schemas.api.lease,sign:schemas.sign.lease};case constants_1.SIGN_TYPE.CANCEL_LEASING:return{api:schemas.api.cancelLeasing,sign:schemas.sign.cancelLeasing};case constants_1.SIGN_TYPE.CREATE_ALIAS:return{api:schemas.api.alias,sign:schemas.sign.alias};case constants_1.SIGN_TYPE.MASS_TRANSFER:return{api:schemas.api.massTransfer,sign:schemas.sign.massTransfer};case constants_1.SIGN_TYPE.DATA:return{api:schemas.api.data,sign:schemas.sign.data};case constants_1.SIGN_TYPE.SET_SCRIPT:return{api:schemas.api.setScript,sign:schemas.sign.setScript};case constants_1.SIGN_TYPE.SPONSORSHIP:return{api:schemas.api.sponsorship,sign:schemas.sign.sponsorship}}}exports.getSchemaByType=getSchemaByType},{"./constants":10,"./fieldTypes":11,"./prepare":15,"@waves/signature-generator":undefined}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function find(some,list){var keys=Object.keys(some);var isEqual=function(a){return keys.every(function(n){return a[n]===some[n]})};for(var i=0;i<list.length;i++){if(isEqual(list[i])){return list[i]}}return null}exports.find=find},{}]},{},[9])(9)});
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function (f) {
    if ((typeof exports === "undefined" ? "undefined" : _typeof(exports)) === "object" && typeof module !== "undefined") {
        module.exports = f();
    } else if (typeof define === "function" && define.amd) {
        define([], f);
    } else {
        var g;if (typeof window !== "undefined") {
            g = window;
        } else if (typeof global !== "undefined") {
            g = global;
        } else if (typeof self !== "undefined") {
            g = self;
        } else {
            g = this;
        }g.ds = f();
    }
})(function () {
    var define, module, exports;return function () {
        function r(e, n, t) {
            function o(i, f) {
                if (!n[i]) {
                    if (!e[i]) {
                        var c = "function" == typeof require && require;if (!f && c) return c(i, !0);if (u) return u(i, !0);var a = new Error("Cannot find module '" + i + "'");throw a.code = "MODULE_NOT_FOUND", a;
                    }var p = n[i] = { exports: {} };e[i][0].call(p.exports, function (r) {
                        var n = e[i][1][r];return o(n || r);
                    }, p, p.exports, r, e, n, t);
                }return n[i].exports;
            }for (var u = "function" == typeof require && require, i = 0; i < t.length; i++) {
                o(t[i]);
            }return o;
        }return r;
    }()({ 1: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var assetsApi = require("./assets/assets");
            var transactionsApi = require("./transactions/transactions");
            var parse_1 = require("./transactions/parse");
            var utilsFunctions = require("../utils/utils");
            var request_1 = require("../utils/request");
            var AssetStorage_1 = require("../utils/AssetStorage");
            var node_1 = require("./node/node");
            var orderBook_1 = require("./matcher/orderBook");
            var getOrders_1 = require("./matcher/getOrders");
            var getLastPrice_1 = require("./matcher/getLastPrice");
            var aliases_1 = require("./aliases/aliases");
            var pairsModule = require("./pairs/pairs");
            var dataModule = require("./data");
            exports.aliases = { getAliasesByAddress: aliases_1.getAliasesByAddress, getAddressByAlias: aliases_1.getAddressByAlias };
            exports.node = { height: node_1.height };
            exports.matcher = {
                getOrderBook: orderBook_1.get, getOrdersByPair: getOrders_1.getOrdersByPair, addSignature: getOrders_1.addSignature, clearSignature: getOrders_1.clearSignature, getOrders: getOrders_1.getOrders, signatureTimeout: getOrders_1.signatureTimeout, getLastPrice: getLastPrice_1.getLastPrice
            };
            exports.assets = __assign({}, assetsApi);
            exports.transactions = __assign({}, transactionsApi, { parseTx: parse_1.parseTx });
            exports.utils = __assign({}, utilsFunctions, { request: request_1.request, assetStorage: AssetStorage_1.assetStorage });
            exports.pairs = __assign({}, pairsModule);
            exports.data = __assign({}, dataModule);
        }, { "../utils/AssetStorage": 21, "../utils/request": 24, "../utils/utils": 26, "./aliases/aliases": 2, "./assets/assets": 3, "./data": 4, "./matcher/getLastPrice": 5, "./matcher/getOrders": 6, "./matcher/orderBook": 7, "./node/node": 8, "./pairs/pairs": 9, "./transactions/parse": 10, "./transactions/transactions": 11 }], 2: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var request_1 = require("../../utils/request");
            var config_1 = require("../../config");
            function getAliasesByAddress(address) {
                var ds = config_1.getDataService();
                return request_1.request({ method: function method() {
                        return ds.aliases.getByAddress(address);
                    } }).then(function (r) {
                    return r.data.map(function (alias) {
                        return alias.alias;
                    });
                });
            }
            exports.getAliasesByAddress = getAliasesByAddress;
            function getAddressByAlias(alias) {
                var ds = config_1.getDataService();
                return request_1.request({ method: function method() {
                        return ds.aliases.getById(alias).then(function (r) {
                            return r.data;
                        });
                    } });
            }
            exports.getAddressByAlias = getAddressByAlias;
        }, { "../../config": 17, "../../utils/request": 24 }], 3: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var config_1 = require("../../config");
            var request_1 = require("../../utils/request");
            var signature_generator_1 = require("@waves/signature-generator");
            var AssetStorage_1 = require("../../utils/AssetStorage");
            var utils_1 = require("../../utils/utils");
            var ts_utils_1 = require("ts-utils");
            var MAX_ASSETS_IN_REQUEST = 30;
            function get(assets) {
                return AssetStorage_1.assetStorage.getAssets(utils_1.toArray(assets), getAssetRequestCb).then(function (list) {
                    if (typeof assets === 'string') {
                        return list[0];
                    } else {
                        return list;
                    }
                });
            }
            exports.get = get;
            //ToDo add USD asset here
            function getAssetFromNode(assetId) {
                if (assetId === signature_generator_1.WAVES_ID) {
                    return Promise.resolve(new data_entities_1.Asset({
                        ticker: 'WAVES',
                        id: 'WAVES',
                        name: 'Acryl',
                        precision: 8,
                        description: '',
                        height: 0,
                        timestamp: new Date('2016-04-11T21:00:00.000Z'),
                        sender: '',
                        quantity: 10000000000000000,
                        reissuable: false
                    }));
                }
                return request_1.request({ url: config_1.get('node') + "/assets/details/" + assetId }).then(function (data) {
                    return new data_entities_1.Asset({
                        id: data.assetId,
                        name: data.name,
                        description: data.description,
                        height: data.issueHeight,
                        precision: data.decimals,
                        quantity: data.quantity,
                        reissuable: data.reissuable,
                        sender: data.issuer,
                        timestamp: new Date(data.issueTimestamp)
                    });
                });
            }
            exports.getAssetFromNode = getAssetFromNode;
            function balanceList(address, txHash, ordersHash) {
                return Promise.all([wavesBalance(address), assetsBalance(address)]).then(function (_a) {
                    var waves = _a[0],
                        balances = _a[1];
                    return applyTxAndOrdersDif([waves].concat(balances), txHash, ordersHash);
                });
            }
            exports.balanceList = balanceList;
            function wavesBalance(address) {
                return Promise.all([get(signature_generator_1.WAVES_ID), request_1.request({ url: config_1.get('node') + "/addresses/balance/details/" + address })]).then(function (_a) {
                    var waves = _a[0],
                        details = _a[1];
                    return remapWavesBalance(waves, details);
                });
            }
            exports.wavesBalance = wavesBalance;
            function assetsBalance(address) {
                return request_1.request({ url: config_1.get('node') + "/assets/balance/" + address }).then(function (data) {
                    data.balances.forEach(function (asset) {
                        AssetStorage_1.assetStorage.updateAsset(asset.assetId, new data_entities_1.BigNumber(asset.quantity), asset.reissuable);
                    });
                    return getAssetsByBalanceList(data).then(function (assets) {
                        var hash = utils_1.toHash(assets, 'id');
                        return remapAssetsBalance(data, hash);
                    });
                });
            }
            exports.assetsBalance = assetsBalance;
            function remapWavesBalance(waves, data) {
                var inOrders = new data_entities_1.Money(0, waves);
                var regular = new data_entities_1.Money(data.regular, waves);
                var available = new data_entities_1.Money(data.available, waves);
                var leasedOut = new data_entities_1.Money(data.regular, waves).sub(available);
                var leasedIn = new data_entities_1.Money(data.effective, waves).sub(available);
                return {
                    asset: waves,
                    regular: regular,
                    available: available,
                    inOrders: inOrders,
                    leasedOut: leasedOut,
                    leasedIn: leasedIn
                };
            }
            exports.remapWavesBalance = remapWavesBalance;
            function remapAssetsBalance(data, assetsHash) {
                utils_1.clearTransferFee();
                return data.balances.map(function (assetData) {
                    var asset = assetsHash[assetData.assetId];
                    var inOrders = new data_entities_1.Money(new data_entities_1.BigNumber('0'), asset);
                    var regular = new data_entities_1.Money(new data_entities_1.BigNumber(assetData.balance), asset);
                    var available = regular.sub(inOrders);
                    var empty = new data_entities_1.Money(new data_entities_1.BigNumber('0'), asset);
                    var balance = ts_utils_1.isEmpty(assetData.sponsorBalance) ? null : new data_entities_1.Money(assetData.sponsorBalance, assetsHash[signature_generator_1.WAVES_ID]);
                    var fee = ts_utils_1.isEmpty(assetData.minSponsoredAssetFee) ? null : new data_entities_1.Money(assetData.minSponsoredAssetFee, asset);
                    var issueTransaction = assetData.issueTransaction;
                    var sender = issueTransaction.sender;
                    var isMy = sender === data.address;
                    if (balance && fee) {
                        utils_1.setTransferFeeItem({ balance: balance, fee: fee, isMy: isMy });
                    }
                    return {
                        asset: asset,
                        regular: regular,
                        available: available,
                        inOrders: inOrders,
                        leasedOut: empty,
                        leasedIn: empty
                    };
                }).sort(function (a, b) {
                    return a.asset.name > b.asset.name ? 1 : a.asset.name === b.asset.name ? 0 : -1;
                });
            }
            exports.remapAssetsBalance = remapAssetsBalance;
            function applyTxAndOrdersDif(balance, txHash, ordersHash) {
                var list = utils_1.toArray(balance);
                txHash = txHash || Object.create(null);
                ordersHash = ordersHash || Object.create(null);
                list.forEach(function (balance) {
                    balance.regular = moneyDif(balance.regular, txHash[balance.asset.id]);
                    balance.available = moneyDif(balance.available, txHash[balance.asset.id], ordersHash[balance.asset.id]);
                    balance.inOrders = ordersHash[balance.asset.id] || new data_entities_1.Money(new data_entities_1.BigNumber(0), balance.asset);
                });
                if (Array.isArray(balance)) {
                    return list;
                }
                return list[0];
            }
            exports.applyTxAndOrdersDif = applyTxAndOrdersDif;
            function moneyDif(target) {
                var toDif = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    toDif[_i - 1] = arguments[_i];
                }
                var result = toDif.filter(Boolean).reduce(function (result, toSub) {
                    return result.sub(toSub);
                }, target);
                if (result.getTokens().lt(0)) {
                    return result.cloneWithCoins('0');
                } else {
                    return result;
                }
            }
            exports.moneyDif = moneyDif;
            function getAssetsByBalanceList(data) {
                return get([signature_generator_1.WAVES_ID].concat(data.balances.map(function (balance) {
                    return utils_1.normalizeAssetId(balance.assetId);
                })));
            }
            exports.getAssetsByBalanceList = getAssetsByBalanceList;
            var splitRequest = function splitRequest(list, getData) {
                var newList = list.slice();
                var requests = [];
                var _loop_1 = function _loop_1() {
                    var listPart = newList.splice(0, MAX_ASSETS_IN_REQUEST);
                    var result = getData(listPart);
                    var timeout = exports.wait(5000).then(function () {
                        return { data: listPart.map(function () {
                                return null;
                            }) };
                    });
                    requests.push(Promise.race([result, timeout]));
                };
                while (newList.length) {
                    _loop_1();
                }
                return Promise.all(requests).then(function (results) {
                    var data = [];
                    for (var _i = 0, results_1 = results; _i < results_1.length; _i++) {
                        var items = results_1[_i];
                        data = data.concat(items.data);
                    }
                    return { data: data };
                }).catch(function (e) {
                    return { data: list.map(function () {
                            return null;
                        }) };
                });
            };
            var getAssetRequestCb = function getAssetRequestCb(list) {
                var ds = config_1.getDataService();
                return splitRequest(list, ds.getAssets) //TODO delete after modify client lib
                .then(function (response) {
                    var assets = response.data;
                    var fails = [];
                    list.forEach(function (id, index) {
                        if (!assets[index]) {
                            fails.push(id);
                        }
                    });
                    return Promise.all(fails.map(getAssetFromNode)).then(function (reloadedAssets) {
                        var failCount = 0;
                        return list.map(function (id, index) {
                            if (assets[index]) {
                                return assets[index];
                            } else {
                                return reloadedAssets[failCount++];
                            }
                        });
                    });
                });
            };
            exports.wait = function (time) {
                return new Promise(function (resolve) {
                    return setTimeout(resolve, time);
                });
            };
        }, { "../../config": 17, "../../utils/AssetStorage": 21, "../../utils/request": 24, "../../utils/utils": 26, "@waves/data-entities": undefined, "@waves/signature-generator": undefined, "ts-utils": undefined }], 4: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var request_1 = require("../../utils/request");
            var config_1 = require("../../config");
            var oracle_data_1 = require("@waves/oracle-data");
            var ramda_1 = require("ramda");
            function getDataFields(address) {
                return request_1.request({ url: config_1.get('node') + "/addresses/data/" + address });
            }
            exports.getDataFields = getDataFields;
            function getOracleData(address) {
                return getDataFields(address).then(function (fields) {
                    var oracle = oracle_data_1.getProviderData(fields);
                    if (oracle.status === oracle_data_1.RESPONSE_STATUSES.ERROR) {
                        return null;
                    }
                    var assets = oracle_data_1.getProviderAssets(fields).filter(function (item) {
                        return item.status === oracle_data_1.RESPONSE_STATUSES.OK;
                    }).map(function (item) {
                        return item.content;
                    });
                    return {
                        oracle: oracle.content,
                        assets: ramda_1.indexBy(ramda_1.prop('id'), assets)
                    };
                });
            }
            exports.getOracleData = getOracleData;
        }, { "../../config": 17, "../../utils/request": 24, "@waves/oracle-data": undefined, "ramda": undefined }], 5: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var request_1 = require("../../utils/request");
            var config_1 = require("../../config");
            function getLastPrice(pair) {
                return request_1.request({
                    url: config_1.get('matcher') + "/orderbook/" + pair.amountAsset.id + "/" + pair.priceAsset.id + "/status"
                }).then(function (_a) {
                    var lastPrice = _a.lastPrice,
                        lastSide = _a.lastSide;
                    var orderPrice = new data_entities_1.OrderPrice(new data_entities_1.BigNumber(lastPrice), pair).getTokens();
                    var price = new data_entities_1.Money(0, pair.priceAsset).cloneWithTokens(orderPrice);
                    return { price: price, lastSide: lastSide };
                });
            }
            exports.getLastPrice = getLastPrice;
        }, { "../../config": 17, "../../utils/request": 24, "@waves/data-entities": undefined }], 6: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var signature_generator_1 = require("@waves/signature-generator");
            var data_entities_1 = require("@waves/data-entities");
            var utils_1 = require("../../utils/utils");
            var ts_utils_1 = require("ts-utils");
            var request_1 = require("../../utils/request");
            var config_1 = require("../../config");
            var assets_1 = require("../assets/assets");
            var signatureData;
            var timer = null;
            exports.factory = {
                price: utils_1.priceMoneyFactory,
                money: utils_1.coinsMoneyFactory
            };
            exports.remapOrder = function (factory) {
                return function (assets) {
                    return function (order) {
                        var amountAsset = assets[utils_1.normalizeAssetId(order.assetPair.amountAsset)];
                        var priceAsset = assets[utils_1.normalizeAssetId(order.assetPair.priceAsset)];
                        var assetPair = new data_entities_1.AssetPair(amountAsset, priceAsset);
                        var amount = factory.money(order.amount, amountAsset);
                        var price = factory.price(order.price, assetPair);
                        var filled = factory.money(order.filled, amountAsset);
                        var total = data_entities_1.Money.fromTokens(amount.getTokens().times(price.getTokens()), priceAsset);
                        var progress = filled.getTokens().div(amount.getTokens()).toNumber();
                        var timestamp = new Date(order.timestamp);
                        var isActive = order.status === 'Accepted' || order.status === 'PartiallyFilled';
                        return __assign({}, order, { amount: amount, price: price, filled: filled, assetPair: assetPair, progress: progress, timestamp: timestamp, isActive: isActive, total: total });
                    };
                };
            };
            exports.matcherOrderRemap = exports.remapOrder(exports.factory);
            function addSignature(signature, publicKey, timestamp) {
                addTimer({
                    timestamp: timestamp,
                    signature: signature,
                    publicKey: publicKey
                });
            }
            exports.addSignature = addSignature;
            function hasSignature() {
                return !!signatureData;
            }
            exports.hasSignature = hasSignature;
            function clearSignature() {
                signatureData = null;
                if (timer) {
                    clearTimeout(timer);
                    timer = null;
                }
            }
            exports.clearSignature = clearSignature;
            exports.signatureTimeout = new ts_utils_1.Signal();
            var fetch = function fetch(url) {
                return request_1.request({
                    url: config_1.get('matcher') + "/" + url,
                    fetchOptions: {
                        headers: {
                            Timestamp: signatureData.timestamp,
                            Signature: signatureData.signature
                        }
                    }
                });
            };
            exports.parse = function (list) {
                var assets = getAssetsFromOrderList(list);
                return assets_1.get(assets).then(function (assets) {
                    var hash = utils_1.toHash(assets, 'id');
                    return list.map(function (order) {
                        return exports.matcherOrderRemap(hash)(order);
                    });
                });
            };
            function getOrders() {
                if (!signatureData) {
                    throw new Error('Get orders without signature! Call method "addSignature"!');
                }
                return fetch("orderbook/" + signatureData.publicKey + "?activeOnly=true").then(exports.parse);
            }
            exports.getOrders = getOrders;
            function getOrdersByPair(pair) {
                if (!signatureData) {
                    throw new Error('Get orders without signature! Call method "addSignature"!');
                }
                return fetch("orderbook/" + pair.amountAsset.id + "/" + pair.priceAsset.id + "/publicKey/" + signatureData.publicKey).then(exports.parse);
            }
            exports.getOrdersByPair = getOrdersByPair;
            function getReservedBalance() {
                if (!signatureData) {
                    throw new Error('Get orders without signature! Call method "addSignature"!');
                }
                return fetch("/balance/reserved/" + signatureData.publicKey).then(prepareReservedBalance);
            }
            exports.getReservedBalance = getReservedBalance;
            function prepareReservedBalance(data) {
                var assetIdList = Object.keys(data);
                return assets_1.get(assetIdList).then(function (assets) {
                    return assets.reduce(function (acc, asset) {
                        var count = data[asset.id];
                        acc[asset.id] = new data_entities_1.Money(count, asset);
                        return acc;
                    }, Object.create(null));
                });
            }
            exports.prepareReservedBalance = prepareReservedBalance;
            function getAssetsFromOrderList(orders) {
                var hash = Object.create(null);
                hash[signature_generator_1.WAVES_ID] = true;
                return Object.keys(orders.reduce(getAssetsFromOrder, hash));
            }
            function getAssetsFromOrder(assets, order) {
                assets[utils_1.normalizeAssetId(order.assetPair.amountAsset)] = true;
                assets[utils_1.normalizeAssetId(order.assetPair.priceAsset)] = true;
                return assets;
            }
            function addTimer(sign) {
                clearSignature();
                timer = setTimeout(function () {
                    signatureData = null;
                    exports.signatureTimeout.dispatch({});
                }, sign.timestamp - Date.now());
                signatureData = sign;
            }
        }, { "../../config": 17, "../../utils/request": 24, "../../utils/utils": 26, "../assets/assets": 3, "@waves/data-entities": undefined, "@waves/signature-generator": undefined, "ts-utils": undefined }], 7: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var config_1 = require("../../config");
            var pairs_1 = require("../pairs/pairs");
            var utils_1 = require("../../utils/utils");
            var data_entities_1 = require("@waves/data-entities");
            var request_1 = require("../../utils/request");
            function get(asset1, asset2) {
                var timer;
                var timeout = new Promise(function (_, reject) {
                    timer = setTimeout(function () {
                        return reject(new Error('Request timeout!'));
                    }, 3000);
                });
                var promise = pairs_1.get(asset1, asset2).then(function (pair) {
                    clearTimeout(timer);
                    return request_1.request({ url: config_1.get('matcher') + "/orderbook/" + pair.toString() }).then(utils_1.addParam(remapOrderBook, pair));
                });
                return Promise.race([promise, timeout]);
            }
            exports.get = get;
            function remapOrderBook(orderBook, pair) {
                var remap = remapOrder(pair);
                return {
                    pair: pair,
                    bids: orderBook.bids.map(remap),
                    asks: orderBook.asks.map(remap)
                };
            }
            var remapOrder = function remapOrder(pair) {
                return function (order) {
                    return {
                        amount: new data_entities_1.Money(order.amount, pair.amountAsset),
                        price: data_entities_1.Money.fromTokens(data_entities_1.OrderPrice.fromMatcherCoins(new data_entities_1.BigNumber(order.price), pair).getTokens(), pair.priceAsset)
                    };
                };
            };
        }, { "../../config": 17, "../../utils/request": 24, "../../utils/utils": 26, "../pairs/pairs": 9, "@waves/data-entities": undefined }], 8: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var request_1 = require("../../utils/request");
            var config_1 = require("../../config");
            function height() {
                return request_1.request({ url: config_1.get('node') + "/blocks/height" });
            }
            exports.height = height;
            function time() {
                return request_1.request({ url: config_1.get('node') + "/utils/time" }).then(function (_a) {
                    var NTP = _a.NTP;
                    return new Date(NTP);
                });
            }
            exports.time = time;
        }, { "../../config": 17, "../../utils/request": 24 }], 9: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var config_1 = require("../../config");
            var request_1 = require("../../utils/request");
            var assets_1 = require("../assets/assets");
            var assets_pairs_order_1 = require("@waves/assets-pairs-order");
            var signature_generator_1 = require("@waves/signature-generator");
            function get(assetId1, assetId2) {
                return config_1.matcherSettingsPromise.then(function (list) {
                    return assets_1.get([toId(assetId1), toId(assetId2)]).then(function (_a) {
                        var asset1 = _a[0],
                            asset2 = _a[1];
                        var hash = (_b = {}, _b[asset1.id] = asset1, _b[asset2.id] = asset2, _b);
                        var _c = assets_pairs_order_1.createOrderPair(list, asset1.id, asset2.id),
                            amountAssetId = _c[0],
                            priceAssetId = _c[1];
                        return new data_entities_1.AssetPair(hash[amountAssetId], hash[priceAssetId]);
                        var _b;
                    });
                });
            }
            exports.get = get;
            var remapPairInfo = function remapPairInfo(pairs, volumeFactory) {
                return function (list) {
                    return pairs.map(function (pair, index) {
                        var moneyOrNull = function moneyOrNull(pair) {
                            return function (data) {
                                return data && data_entities_1.Money.fromTokens(data, pair.priceAsset) || null;
                            };
                        };
                        var change24F = function change24F(open, close) {
                            return !open || open.eq(0) || !close ? new data_entities_1.BigNumber(0) : close.minus(open).div(open).times(100).dp(2);
                        };
                        var moneyFactory = moneyOrNull(pair);
                        var data = list[index] || Object.create(null);
                        var amountAsset = pair.amountAsset;
                        var priceAsset = pair.priceAsset;
                        var lastPrice = moneyFactory(data.lastPrice);
                        var firstPrice = moneyFactory(data.firstPrice);
                        var volume = volumeFactory(data.volumeWaves);
                        var change24 = change24F(firstPrice && firstPrice.getTokens(), lastPrice && lastPrice.getTokens());
                        if (change24.isGreaterThan(1000)) {
                            change24 = change24.dp(0);
                        }
                        var id = [amountAsset.id, priceAsset.id].sort().join();
                        return { amountAsset: amountAsset, priceAsset: priceAsset, lastPrice: lastPrice, firstPrice: firstPrice, volume: volume, change24: change24, id: id };
                    });
                };
            };
            function info() {
                var pairs = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    pairs[_i] = arguments[_i];
                }
                return Promise.all([assets_1.get(signature_generator_1.WAVES_ID), request_1.request({ method: function method() {
                        return (_a = config_1.getDataService()).getPairs.apply(_a, pairs).then(function (response) {
                            return response.data;
                        });
                        var _a;
                    } })]).then(function (_a) {
                    var waves = _a[0],
                        list = _a[1];
                    var factory = function factory(data) {
                        return data && data_entities_1.Money.fromTokens(data, waves) || null;
                    };
                    return remapPairInfo(pairs, factory)(list);
                });
            }
            exports.info = info;
            function toId(asset) {
                return typeof asset === 'string' ? asset : asset.id;
            }
        }, { "../../config": 17, "../../utils/request": 24, "../assets/assets": 3, "@waves/assets-pairs-order": 28, "@waves/data-entities": undefined, "@waves/signature-generator": undefined }], 10: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var signature_generator_1 = require("@waves/signature-generator");
            var assets_1 = require("../assets/assets");
            var utils_1 = require("../../utils/utils");
            var getOrders_1 = require("../matcher/getOrders");
            var sign_1 = require("../../sign");
            var getFactory = function getFactory(isTokens) {
                if (isTokens) {
                    return {
                        money: utils_1.tokensMoneyFactory,
                        price: function price(_price, pair) {
                            return data_entities_1.Money.fromTokens(_price, pair.priceAsset);
                        }
                    };
                } else {
                    return getOrders_1.factory;
                }
            };
            // TODO Remove is tokens flag after support Dima's api
            // ToDo fix leasing if many tx's
            function parseTx(transactions, isUTX, isTokens) {
                var hash = Object.create(null);
                hash[signature_generator_1.WAVES_ID] = true;
                transactions.forEach(function (tx) {
                    return getAssetsHashFromTx(tx, hash);
                });
                var api = sign_1.getSignatureApi();
                return Promise.all([assets_1.get(Object.keys(hash)).then(function (assets) {
                    return utils_1.toHash(assets, 'id');
                }), api && api.getPublicKey() || Promise.resolve(null)]).then(function (_a) {
                    var hash = _a[0],
                        sender = _a[1];
                    return transactions.map(function (transaction) {
                        switch (transaction.type) {
                            case 2 /* SEND_OLD */:
                                return parseTransferTx(remapOldTransfer(transaction), hash, isUTX);
                            case 3 /* ISSUE */:
                                return parseIssueTx(transaction, hash, isUTX);
                            case 4 /* TRANSFER */:
                                return parseTransferTx(transaction, hash, isUTX);
                            case 5 /* REISSUE */:
                                return parseReissueTx(transaction, hash, isUTX);
                            case 6 /* BURN */:
                                return parseBurnTx(transaction, hash, isUTX);
                            case 7 /* EXCHANGE */:
                                return parseExchangeTx(transaction, hash, isUTX, isTokens, sender);
                            case 8 /* LEASE */:
                                return parseLeasingTx(transaction, hash, isUTX);
                            case 9 /* CANCEL_LEASING */:
                                return parseCancelLeasingTx(transaction, hash, isUTX);
                            case 10 /* CREATE_ALIAS */:
                                return parseCreateAliasTx(transaction, hash, isUTX);
                            case 11 /* MASS_TRANSFER */:
                                return parseMassTransferTx(transaction, hash, isUTX);
                            case 12 /* DATA */:
                                return parseDataTx(transaction, hash, isUTX);
                            case 14 /* SPONSORSHIP */:
                                return parseSponsorshipTx(transaction, hash, isUTX);
                            case 13 /* SET_SCRIPT */:
                                return parseScriptTx(transaction, hash, isUTX);
                            default:
                                return transaction;
                        }
                    });
                });
            }
            exports.parseTx = parseTx;
            function getAssetsHashFromTx(transaction, hash) {
                if (hash === void 0) {
                    hash = Object.create(null);
                }
                hash[signature_generator_1.WAVES_ID] = true;
                switch (transaction.type) {
                    case 5 /* REISSUE */:
                    case 6 /* BURN */:
                    case 11 /* MASS_TRANSFER */:
                    case 14 /* SPONSORSHIP */:
                        hash[utils_1.normalizeAssetId(transaction.assetId)] = true;
                        break;
                    case 4 /* TRANSFER */:
                        hash[utils_1.normalizeAssetId(transaction.assetId)] = true;
                        hash[utils_1.normalizeAssetId(transaction.feeAssetId)] = true;
                        break;
                    case 7 /* EXCHANGE */:
                        hash[utils_1.normalizeAssetId(transaction.order1.assetPair.amountAsset)] = true;
                        hash[utils_1.normalizeAssetId(transaction.order1.assetPair.priceAsset)] = true;
                        break;
                }
                return hash;
            }
            exports.getAssetsHashFromTx = getAssetsHashFromTx;
            function remapOldTransfer(tx) {
                var type = 4 /* TRANSFER */;
                var assetId = signature_generator_1.WAVES_ID;
                return __assign({}, tx, { type: type, assetId: assetId, attachment: '', feeAssetId: signature_generator_1.WAVES_ID });
            }
            exports.remapOldTransfer = remapOldTransfer;
            function parseIssueTx(tx, assetsHash, isUTX) {
                var quantity = new data_entities_1.BigNumber(tx.quantity);
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { precision: tx.decimals, quantity: quantity, fee: fee, isUTX: isUTX });
            }
            exports.parseIssueTx = parseIssueTx;
            function parseTransferTx(tx, assetsHash, isUTX) {
                var bytes = signature_generator_1.libs.base58.decode(tx.attachment);
                var attachment;
                try {
                    attachment = signature_generator_1.libs.converters.byteArrayToString(bytes);
                } catch (e) {
                    attachment = null;
                }
                var rawAttachment = tx.attachment;
                var recipient = utils_1.normalizeRecipient(tx.recipient);
                var amount = new data_entities_1.Money(tx.amount, assetsHash[utils_1.normalizeAssetId(tx.assetId)]);
                var fee = new data_entities_1.Money(tx.fee, assetsHash[utils_1.normalizeAssetId(tx.feeAssetId)]);
                var assetId = utils_1.normalizeAssetId(tx.assetId);
                return __assign({}, tx, { amount: amount, fee: fee, assetId: assetId, isUTX: isUTX, attachment: attachment, rawAttachment: rawAttachment, recipient: recipient });
            }
            exports.parseTransferTx = parseTransferTx;
            function parseReissueTx(tx, assetsHash, isUTX) {
                var quantity = new data_entities_1.Money(tx.quantity, assetsHash[utils_1.normalizeAssetId(tx.assetId)]);
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { quantity: quantity, fee: fee, isUTX: isUTX });
            }
            exports.parseReissueTx = parseReissueTx;
            function parseBurnTx(tx, assetsHash, isUTX) {
                var amount = new data_entities_1.Money(tx.amount, assetsHash[utils_1.normalizeAssetId(tx.assetId)]);
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { amount: amount, fee: fee, isUTX: isUTX });
            }
            exports.parseBurnTx = parseBurnTx;
            function parseExchangeTx(tx, assetsHash, isUTX, isTokens, sender) {
                var factory = getFactory(isTokens);
                var order1 = parseExchangeOrder(factory, tx.order1, assetsHash);
                var order2 = parseExchangeOrder(factory, tx.order2, assetsHash);
                var orderHash = (_a = {}, _a[order1.orderType] = order1, _a[order2.orderType] = order2, _a);
                var buyOrder = orderHash.buy;
                var sellOrder = orderHash.sell;
                var exchangeType = getExchangeType(order1, order2, sender);
                var _b = getExchangeTxMoneys(factory, tx, assetsHash),
                    price = _b.price,
                    amount = _b.amount,
                    total = _b.total;
                var buyMatcherFee = factory.money(tx.buyMatcherFee, assetsHash[signature_generator_1.WAVES_ID]);
                var sellMatcherFee = factory.money(tx.sellMatcherFee, assetsHash[signature_generator_1.WAVES_ID]);
                var fee = factory.money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { order1: order1,
                    order2: order2,
                    price: price,
                    amount: amount,
                    buyMatcherFee: buyMatcherFee,
                    sellMatcherFee: sellMatcherFee,
                    fee: fee,
                    isUTX: isUTX,
                    buyOrder: buyOrder,
                    sellOrder: sellOrder,
                    exchangeType: exchangeType,
                    total: total });
                var _a;
            }
            exports.parseExchangeTx = parseExchangeTx;
            function parseScriptTx(tx, assetsHash, isUTX) {
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { fee: fee, isUTX: isUTX });
            }
            exports.parseScriptTx = parseScriptTx;
            function getExchangeTxMoneys(factory, tx, assetsHash) {
                var assetIdPair = utils_1.normalizeAssetPair(tx.order2.assetPair);
                var pair = new data_entities_1.AssetPair(assetsHash[assetIdPair.amountAsset], assetsHash[assetIdPair.priceAsset]);
                var price = factory.price(tx.price, pair);
                var amount = factory.money(tx.amount, pair.amountAsset);
                var total = data_entities_1.Money.fromTokens(amount.getTokens().times(price.getTokens()), price.asset);
                return { price: price, amount: amount, total: total };
            }
            exports.getExchangeTxMoneys = getExchangeTxMoneys;
            function parseLeasingTx(tx, assetsHash, isUTX) {
                var amount = new data_entities_1.Money(tx.amount, assetsHash[signature_generator_1.WAVES_ID]);
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                var recipient = utils_1.normalizeRecipient(tx.recipient);
                var isActive = tx.status === 'active';
                return __assign({}, tx, { amount: amount, fee: fee, isUTX: isUTX, recipient: recipient, isActive: isActive });
            }
            exports.parseLeasingTx = parseLeasingTx;
            function parseCancelLeasingTx(tx, assetsHash, isUTX) {
                var lease = tx.lease && parseLeasingTx(tx.lease, assetsHash, false) || null;
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { lease: lease, fee: fee, isUTX: isUTX });
            }
            exports.parseCancelLeasingTx = parseCancelLeasingTx;
            function parseCreateAliasTx(tx, assetsHash, isUTX) {
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { fee: fee, isUTX: isUTX });
            }
            exports.parseCreateAliasTx = parseCreateAliasTx;
            function parseMassTransferTx(tx, assetsHash, isUTX) {
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                var asset = assetsHash[utils_1.normalizeAssetId(tx.assetId)];
                var transfers = tx.transfers.map(function (transfer) {
                    return {
                        recipient: utils_1.normalizeRecipient(transfer.recipient),
                        amount: new data_entities_1.Money(transfer.amount, assetsHash[utils_1.normalizeAssetId(tx.assetId)])
                    };
                });
                var totalAmount = new data_entities_1.Money(tx.totalAmount || transfers.reduce(function (acc, item) {
                    return acc.add(item.amount);
                }, new data_entities_1.Money(0, asset)).toCoins(), asset);
                var bytes = signature_generator_1.libs.base58.decode(tx.attachment);
                var attachment;
                try {
                    attachment = signature_generator_1.libs.converters.byteArrayToString(bytes);
                } catch (e) {
                    attachment = null;
                }
                var rawAttachment = tx.attachment;
                return __assign({}, tx, { totalAmount: totalAmount, transfers: transfers, fee: fee, isUTX: isUTX, attachment: attachment, rawAttachment: rawAttachment });
            }
            exports.parseMassTransferTx = parseMassTransferTx;
            function parseDataTx(tx, assetsHash, isUTX) {
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                var stringifiedData = JSON.stringify(tx.data, null, 4);
                return __assign({}, tx, { stringifiedData: stringifiedData, fee: fee, isUTX: isUTX });
            }
            exports.parseDataTx = parseDataTx;
            function parseSponsorshipTx(tx, assetsHash, isUTX) {
                var minSponsoredAssetFee = new data_entities_1.Money(tx.minSponsoredAssetFee || 0, assetsHash[tx.assetId]);
                var fee = new data_entities_1.Money(tx.fee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, tx, { fee: fee, minSponsoredAssetFee: minSponsoredAssetFee, isUTX: isUTX });
            }
            function parseExchangeOrder(factory, order, assetsHash) {
                var assetPair = utils_1.normalizeAssetPair(order.assetPair);
                var pair = new data_entities_1.AssetPair(assetsHash[assetPair.amountAsset], assetsHash[assetPair.priceAsset]);
                var price = factory.price(order.price, pair);
                var amount = factory.money(order.amount, assetsHash[assetPair.amountAsset]);
                var total = data_entities_1.Money.fromTokens(amount.getTokens().times(price.getTokens()), price.asset);
                var matcherFee = factory.money(order.matcherFee, assetsHash[signature_generator_1.WAVES_ID]);
                return __assign({}, order, { price: price, amount: amount, matcherFee: matcherFee, assetPair: assetPair, total: total });
            }
            function getExchangeType(order1, order2, sender) {
                if (isBothOwnedBy(order1, order2, sender) || isBothNotOwnedBy(order1, order2, sender)) {
                    return order1.timestamp > order2.timestamp ? order1.orderType : order2.orderType;
                } else {
                    return getMineOrder(order1, order2, sender).orderType;
                }
            }
            function getMineOrder(order1, order2, sender) {
                return order1.senderPublicKey === sender ? order1 : order2;
            }
            function isBothOwnedBy(order1, order2, sender) {
                return order1.senderPublicKey === sender && order2.senderPublicKey === sender;
            }
            function isBothNotOwnedBy(order1, order2, sender) {
                return order1.senderPublicKey !== sender && order2.senderPublicKey !== sender;
            }
        }, { "../../sign": 19, "../../utils/utils": 26, "../assets/assets": 3, "../matcher/getOrders": 6, "@waves/data-entities": undefined, "@waves/signature-generator": undefined }], 11: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var config_1 = require("../../config");
            var request_1 = require("../../utils/request");
            var parse_1 = require("./parse");
            var ts_utils_1 = require("ts-utils");
            var ramda_1 = require("ramda");
            // ToDo fix leasing if many tx's
            function list(address, limit) {
                if (limit === void 0) {
                    limit = 100;
                }
                return request_1.request({ url: config_1.get('node') + "/transactions/address/" + address + "/limit/" + limit }).then(ramda_1.pipe(ramda_1.prop('0'), ramda_1.uniqBy(ramda_1.prop('id')))).then(function (transactions) {
                    return parse_1.parseTx(transactions, false);
                });
            }
            exports.list = list;
            function getExchangeTxList(options) {
                if (options === void 0) {
                    options = Object.create(null);
                }
                return request_1.request({ method: function method() {
                        return config_1.getDataService().getExchangeTxs(options).then(function (r) {
                            return r.data;
                        });
                    } }).then(function (transactions) {
                    return parse_1.parseTx(transactions, false, true);
                });
            }
            exports.getExchangeTxList = getExchangeTxList;
            function listUTX(address) {
                return request_1.request({ url: config_1.get('node') + "/transactions/unconfirmed" }).then(ramda_1.uniqBy(ramda_1.prop('id'))).then(function (transactions) {
                    return filterByAddress(transactions, address);
                }).then(function (transactions) {
                    return parse_1.parseTx(transactions, true);
                });
            }
            exports.listUTX = listUTX;
            function get(id) {
                return request_1.request({ url: config_1.get('node') + "/transactions/info/" + id }).then(function (tx) {
                    return parse_1.parseTx([tx], false);
                }).then(function (list) {
                    return list[0];
                });
            }
            exports.get = get;
            function getUTX(id) {
                return request_1.request({ url: config_1.get('node') + "/transactions/unconfirmed/info/" + id }).then(function (tx) {
                    return parse_1.parseTx([tx], true);
                }).then(function (list) {
                    return list[0];
                });
            }
            exports.getUTX = getUTX;
            function filterByAddress(transactions, address) {
                if (address) {
                    return transactions.filter(ts_utils_1.contains({ sender: address }));
                }
                return transactions;
            }
            exports.filterByAddress = filterByAddress;
            function isTransfer(tx) {
                return tx.type === 11 /* MASS_TRANSFER */;
            }
            exports.isTransfer = isTransfer;
            function isIssue(tx) {
                return tx.type === 3 /* ISSUE */;
            }
            exports.isIssue = isIssue;
            function isReissue(tx) {
                return tx.type === 5 /* REISSUE */;
            }
            exports.isReissue = isReissue;
            function isBurn(tx) {
                return tx.type === 6 /* BURN */;
            }
            exports.isBurn = isBurn;
            function isExchange(tx) {
                return tx.type === 7 /* EXCHANGE */;
            }
            exports.isExchange = isExchange;
            function isLeasing(tx) {
                return tx.type === 8 /* LEASE */;
            }
            exports.isLeasing = isLeasing;
            function isCancelLeasing(tx) {
                return tx.type === 9 /* CANCEL_LEASING */;
            }
            exports.isCancelLeasing = isCancelLeasing;
            function isCreateAlias(tx) {
                return tx.type === 10 /* CREATE_ALIAS */;
            }
            exports.isCreateAlias = isCreateAlias;
            function isMassTransfer(tx) {
                return tx.type === 11 /* MASS_TRANSFER */;
            }
            exports.isMassTransfer = isMassTransfer;
            function isData(tx) {
                return tx.type === 12 /* DATA */;
            }
            exports.isData = isData;
        }, { "../../config": 17, "../../utils/request": 24, "./parse": 10, "ramda": undefined, "ts-utils": undefined }], 12: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var request_1 = require("../utils/request");
            var getOrders_1 = require("../api/matcher/getOrders");
            var config_1 = require("../config");
            var store_1 = require("../store");
            var utils_1 = require("../utils/utils");
            function broadcast(data) {
                return request_1.request({
                    url: config_1.get('node') + "/transactions/broadcast",
                    fetchOptions: {
                        method: 'POST',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json;charset=UTF-8'
                        },
                        body: utils_1.stringifyJSON(data)
                    }
                });
            }
            exports.broadcast = broadcast;
            function createOrderSend(txData) {
                return request_1.request({
                    url: config_1.get('matcher') + "/orderbook",
                    fetchOptions: {
                        method: 'POST',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json;charset=UTF-8'
                        },
                        body: utils_1.stringifyJSON(txData)
                    }
                }).then(function (data) {
                    return getOrders_1.parse([__assign({}, data.message, { type: data.message.orderType, status: 'Accepted', filled: 0 })]);
                }).then(store_1.addOrderToStore);
            }
            exports.createOrderSend = createOrderSend;
            function cancelOrderSend(txData, amountId, priceId, type) {
                if (type === void 0) {
                    type = 'cancel';
                }
                return request_1.request({
                    url: config_1.get('matcher') + "/orderbook/" + amountId + "/" + priceId + "/" + type,
                    fetchOptions: {
                        method: 'POST',
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json;charset=UTF-8'
                        },
                        body: utils_1.stringifyJSON(txData)
                    }
                }).then(function (data) {
                    store_1.removeOrderFromStore({ id: txData.orderId });
                    return data;
                });
            }
            exports.cancelOrderSend = cancelOrderSend;
        }, { "../api/matcher/getOrders": 6, "../config": 17, "../store": 20, "../utils/request": 24, "../utils/utils": 26 }], 13: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var Poll_1 = require("../utils/Poll");
            var assets_1 = require("../api/assets/assets");
            var getOrders_1 = require("../api/matcher/getOrders");
            var UTXManager_1 = require("./UTXManager");
            var aliases_1 = require("../api/aliases/aliases");
            var PollControl_1 = require("./PollControl");
            var config_1 = require("../config");
            var data_1 = require("../api/data");
            var oracle_data_1 = require("@waves/oracle-data");
            var DataManager = /** @class */function () {
                function DataManager() {
                    var _this = this;
                    this.transactions = new UTXManager_1.UTXManager();
                    this.pollControl = new PollControl_1.PollControl(function () {
                        return _this._createPolls();
                    });
                }
                DataManager.prototype.applyAddress = function (address) {
                    this._address = address;
                    this.pollControl.create();
                    this.transactions.applyAddress(this._address);
                };
                DataManager.prototype.dropAddress = function () {
                    this.pollControl.destroy();
                    this.transactions.dropAddress();
                };
                DataManager.prototype.getBalances = function () {
                    return this.pollControl.getPollHash().balance.getDataPromise();
                };
                DataManager.prototype.getReservedInOrders = function () {
                    return this.pollControl.getPollHash().orders.getDataPromise();
                };
                DataManager.prototype.getAliasesPromise = function () {
                    return this.pollControl.getPollHash().aliases.getDataPromise();
                };
                DataManager.prototype.getLastAliases = function () {
                    return this.pollControl.getPollHash().aliases.lastData || [];
                };
                DataManager.prototype.getOracleAssetData = function (id) {
                    var lastData = this.pollControl.getPollHash().oracle.lastData;
                    var assets = lastData && lastData.assets || Object.create(null);
                    var WavesApp = window.WavesApp;
                    var gateways = (_a = {}, _a[WavesApp.defaultAssets.BTC] = true, _a);
                    var descriptionHash = {
                        WAVES: { en: 'Acryl is a blockchain ecosystem that offers comprehensive and effective blockchain-based tools for businesses, individuals and developers. Acryl Platform offers unprecedented throughput and flexibility. Features include the LPoS consensus algorithm, Acryl-NG protocol and advanced smart contract functionality.' }
                    };
                    var gatewayAsset = {
                        status: 3,
                        version: oracle_data_1.DATA_PROVIDER_VERSIONS.BETA,
                        id: id,
                        provider: 'WavesPlatform',
                        ticker: null,
                        link: null,
                        email: null,
                        logo: null,
                        description: descriptionHash[id]
                    };
                    if (id === 'WAVES') {
                        return { status: oracle_data_1.STATUS_LIST.VERIFIED, description: descriptionHash.WAVES };
                    }
                    if (gateways[id]) {
                        return gatewayAsset;
                    }
                    return assets[id] ? __assign({}, assets[id], { provider: lastData.oracle.name }) : null;
                    var _a;
                };
                DataManager.prototype.getOracleData = function () {
                    return this.pollControl.getPollHash().oracle.lastData;
                };
                DataManager.prototype._getPollBalanceApi = function () {
                    var _this = this;
                    var get = function get() {
                        var hash = _this.pollControl.getPollHash();
                        var inOrdersHash = hash && hash.orders.lastData || Object.create(null);
                        return assets_1.balanceList(_this._address, Object.create(null), inOrdersHash);
                    };
                    return { get: get, set: function set() {
                            return null;
                        } };
                };
                DataManager.prototype._getPollOrdersApi = function () {
                    return {
                        get: function get() {
                            return getOrders_1.getReservedBalance();
                        },
                        set: function set() {
                            return null;
                        }
                    };
                };
                DataManager.prototype._getPollAliasesApi = function () {
                    var _this = this;
                    return {
                        get: function get() {
                            return aliases_1.getAliasesByAddress(_this._address);
                        },
                        set: function set() {
                            return null;
                        }
                    };
                };
                DataManager.prototype._getPollOracleApi = function () {
                    return {
                        get: function get() {
                            var address = config_1.get('oracleAddress');
                            return address ? data_1.getOracleData(address) : Promise.resolve({ assets: Object.create(null) });
                        },
                        set: function set() {
                            return null;
                        }
                    };
                };
                DataManager.prototype._createPolls = function () {
                    var balance = new Poll_1.Poll(this._getPollBalanceApi(), 1000);
                    var orders = new Poll_1.Poll(this._getPollOrdersApi(), 1000);
                    var aliases = new Poll_1.Poll(this._getPollAliasesApi(), 5000);
                    var oracle = new Poll_1.Poll(this._getPollOracleApi(), 30000);
                    config_1.change.on(function (key) {
                        if (key === 'oracleAddress') {
                            oracle.restart();
                        }
                    });
                    return { balance: balance, orders: orders, aliases: aliases, oracle: oracle };
                };
                return DataManager;
            }();
            exports.DataManager = DataManager;
        }, { "../api/aliases/aliases": 2, "../api/assets/assets": 3, "../api/data": 4, "../api/matcher/getOrders": 6, "../config": 17, "../utils/Poll": 23, "./PollControl": 14, "./UTXManager": 16, "@waves/oracle-data": undefined }], 14: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var PollControl = /** @class */function () {
                function PollControl(create) {
                    this._create = create;
                }
                PollControl.prototype.restart = function () {
                    if (this._hash) {
                        Object.values(this._hash).forEach(function (poll) {
                            return poll.restart();
                        });
                    }
                };
                PollControl.prototype.destroy = function () {
                    if (this._hash) {
                        Object.values(this._hash).forEach(function (poll) {
                            return poll.destroy();
                        });
                        this._hash = null;
                    }
                };
                PollControl.prototype.create = function () {
                    this.destroy();
                    this._hash = this._create();
                };
                PollControl.prototype.getPollHash = function () {
                    return this._hash;
                };
                return PollControl;
            }();
            exports.PollControl = PollControl;
        }, {}], 15: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var signature_generator_1 = require("@waves/signature-generator");
            var seedDictionary_1 = require("../utils/seedDictionary");
            var config_1 = require("../config");
            signature_generator_1.config.set({
                networkByte: window.WavesApp.network.code.charCodeAt(0)
            });
            var Seed = /** @class */function () {
                function Seed(phrase) {
                    if (phrase.length < config_1.get('minimalSeedLength')) {
                        throw new Error('Your seed length is less than allowed in config');
                    }
                    var keys = signature_generator_1.utils.crypto.buildKeyPair(phrase);
                    this.phrase = phrase;
                    this.address = signature_generator_1.utils.crypto.buildRawAddress(keys.publicKey);
                    this.keyPair = {
                        privateKey: signature_generator_1.libs.base58.encode(keys.privateKey),
                        publicKey: signature_generator_1.libs.base58.encode(keys.publicKey)
                    };
                    Object.freeze(this);
                    Object.freeze(this.keyPair);
                }
                Seed.prototype.encrypt = function (password, encryptionRounds) {
                    return Seed.encryptSeedPhrase(this.phrase, password, encryptionRounds);
                };
                Seed.encryptSeedPhrase = function (seedPhrase, password, encryptionRounds) {
                    if (encryptionRounds === void 0) {
                        encryptionRounds = 5000;
                    }
                    if (password && password.length < 8) {
                        // logger.warn('Your password may be too weak');
                    }
                    if (encryptionRounds < 1000) {
                        // logger.warn('Encryption rounds may be too few');
                    }
                    if (seedPhrase.length < config_1.get('minimalSeedLength')) {
                        throw new Error('The seed phrase you are trying to encrypt is too short');
                    }
                    return signature_generator_1.utils.crypto.encryptSeed(seedPhrase, password, encryptionRounds);
                };
                Seed.decryptSeedPhrase = function (encryptedSeedPhrase, password, encryptionRounds) {
                    if (encryptionRounds === void 0) {
                        encryptionRounds = 5000;
                    }
                    var wrongPasswordMessage = 'The password is wrong';
                    var phrase;
                    try {
                        phrase = signature_generator_1.utils.crypto.decryptSeed(encryptedSeedPhrase, password, encryptionRounds);
                    } catch (e) {
                        throw new Error(wrongPasswordMessage);
                    }
                    if (phrase === '' || phrase.length < config_1.get('minimalSeedLength')) {
                        throw new Error(wrongPasswordMessage);
                    }
                    return phrase;
                };
                Seed.create = function (words) {
                    if (words === void 0) {
                        words = 15;
                    }
                    var phrase = Seed._generateNewSeed(words);
                    var minimumSeedLength = config_1.get('minimalSeedLength');
                    if (phrase.length < minimumSeedLength) {
                        // If you see that error you should increase the number of words in the generated seed
                        throw new Error("The resulted seed length is less than the minimum length (" + minimumSeedLength + ")");
                    }
                    return new Seed(phrase);
                };
                Seed._generateNewSeed = function (length) {
                    var random = signature_generator_1.utils.crypto.generateRandomUint32Array(length);
                    var wordCount = seedDictionary_1.default.length;
                    var phrase = [];
                    for (var i = 0; i < length; i++) {
                        var wordIndex = random[i] % wordCount;
                        phrase.push(seedDictionary_1.default[wordIndex]);
                    }
                    random.set(new Uint8Array(random.length));
                    return phrase.join(' ');
                };
                return Seed;
            }();
            exports.Seed = Seed;
        }, { "../config": 17, "../utils/seedDictionary": 25, "@waves/signature-generator": undefined }], 16: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var transactions_1 = require("../api/transactions/transactions");
            var Poll_1 = require("../utils/Poll");
            var MoneyHash_1 = require("../utils/MoneyHash");
            var UTXManager = /** @class */function () {
                function UTXManager() {
                    this._txList = [];
                    this._txHash = Object.create(null);
                }
                UTXManager.prototype.applyAddress = function (address) {
                    this._address = address;
                    this._txList = [];
                    this._txHash = Object.create(null);
                    this._getTransactionsFromUTX();
                };
                UTXManager.prototype.dropAddress = function () {
                    this._address = null;
                    this._txList = [];
                    this._txHash = Object.create(null);
                    this._removePoll();
                };
                UTXManager.prototype._getTransactionsFromUTX = function () {
                    return transactions_1.listUTX(this._address).then(this._applyUTXList.bind(this));
                };
                UTXManager.prototype._applyUTXList = function (list) {
                    if (list.length) {
                        this._createPoll();
                        this._txList = list;
                        this._updateTxMoneyHash();
                    } else {
                        this._removePoll();
                    }
                };
                UTXManager.prototype._removePoll = function () {
                    if (this._poll) {
                        this._poll.destroy();
                        this._poll = null;
                    }
                };
                UTXManager.prototype._createPoll = function () {
                    if (!this._poll) {
                        this._poll = new Poll_1.Poll(this._getPollAPI(), 1000);
                    }
                };
                UTXManager.prototype._getPollAPI = function () {
                    var _this = this;
                    return {
                        get: function get() {
                            return transactions_1.listUTX(_this._address);
                        },
                        set: this._applyUTXList.bind(this)
                    };
                };
                UTXManager.prototype._updateTxMoneyHash = function () {
                    var moneyList = this._txList.reduce(function (moneyList, tx) {
                        moneyList.push(tx.fee);
                        switch (tx.type) {
                            case 4 /* TRANSFER */:
                                moneyList.push(tx.amount);
                                break;
                            case 8 /* LEASE */:
                                moneyList.push(tx.amount);
                                break;
                            case 11 /* MASS_TRANSFER */:
                                moneyList.push(tx.totalAmount);
                                break;
                        }
                        return moneyList;
                    }, []);
                    var hash = new MoneyHash_1.MoneyHash(moneyList).toHash();
                    if (!this._isEqualHash(hash)) {
                        this._txHash = hash;
                    }
                };
                UTXManager.prototype._isEqualHash = function (hash) {
                    var _this = this;
                    var newIdList = Object.keys(hash);
                    var myIdList = Object.keys(this._txHash);
                    var isEqualLength = newIdList.length === myIdList.length;
                    return isEqualLength && (!myIdList.length || myIdList.every(function (id) {
                        return hash[id] && _this._txHash[id].eq(hash[id]);
                    }));
                };
                return UTXManager;
            }();
            exports.UTXManager = UTXManager;
        }, { "../api/transactions/transactions": 11, "../utils/MoneyHash": 22, "../utils/Poll": 23 }], 17: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var data_service_client_js_1 = require("@waves/data-service-client-js");
            var node_1 = require("./api/node/node");
            var request_1 = require("./utils/request");
            var assets_pairs_order_1 = require("@waves/assets-pairs-order");
            var ts_utils_1 = require("ts-utils");
            var config = Object.create(null);
            var dataService = null;
            exports.timeDiff = 0;
            exports.matcherSettingsPromise = Promise.resolve(assets_pairs_order_1.MAINNET_DATA);
            exports.parse = function (str) {
                return window.WavesApp.parseJSON(str);
            };
            function get(key) {
                return config[key];
            }
            exports.get = get;
            function set(key, value) {
                config[key] = value;
                if (key === 'node') {
                    node_1.time().then(function (serverTime) {
                        var now = Date.now();
                        var dif = now - serverTime.getTime();
                        if (Math.abs(dif) > 1000 * 30) {
                            exports.timeDiff = dif;
                        } else {
                            exports.timeDiff = 0;
                        }
                    });
                }
                if (key === 'matcher') {
                    exports.matcherSettingsPromise = request_1.request({
                        url: value + "/settings"
                    }).then(function (data) {
                        return data.priceAssets;
                    });
                }
                if (key === 'api' || key === 'apiVersion') {
                    if (config.api && config.apiVersion) {
                        dataService = new data_service_client_js_1.default({ rootUrl: config.api + "/" + config.apiVersion, parse: exports.parse });
                    }
                }
                exports.change.dispatch(key);
            }
            exports.set = set;
            function setConfig(props) {
                Object.keys(props).forEach(function (key) {
                    set(key, props[key]);
                });
            }
            exports.setConfig = setConfig;
            function getDataService() {
                return dataService;
            }
            exports.getDataService = getDataService;
            exports.change = new ts_utils_1.Signal();
        }, { "./api/node/node": 8, "./utils/request": 24, "@waves/assets-pairs-order": 28, "@waves/data-service-client-js": 33, "ts-utils": undefined }], 18: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            function __export(m) {
                for (var p in m) {
                    if (!exports.hasOwnProperty(p)) exports[p] = m[p];
                }
            }
            Object.defineProperty(exports, "__esModule", { value: true });
            var apiMethods = require("./api/API");
            var DataManager_1 = require("./classes/DataManager");
            var configApi = require("./config");
            var sign = require("./sign");
            var utilsModule = require("./utils/utils");
            var request_1 = require("./utils/request");
            var wavesDataEntitiesModule = require("@waves/data-entities");
            var data_entities_1 = require("@waves/data-entities");
            var utils_1 = require("./utils/utils");
            var config_1 = require("./config");
            var pairs_1 = require("./api/pairs/pairs");
            var broadcast_1 = require("./broadcast/broadcast");
            var signature_generator_1 = require("@waves/signature-generator");
            var signatureAdapters = require("@waves/signature-adapter");
            var signature_adapter_1 = require("@waves/signature-adapter");
            var signature_adapter_2 = require("@waves/signature-adapter");
            exports.getAdapterByType = signature_adapter_2.getAdapterByType;
            exports.getAvailableList = signature_adapter_2.getAvailableList;
            var Seed_1 = require("./classes/Seed");
            exports.Seed = Seed_1.Seed;
            var AssetStorage_1 = require("./utils/AssetStorage");
            exports.assetStorage = AssetStorage_1.assetStorage;
            __export(require("./store"));
            exports.wavesDataEntities = __assign({}, wavesDataEntitiesModule);
            exports.api = __assign({}, apiMethods);
            exports.dataManager = new DataManager_1.DataManager();
            exports.config = __assign({}, configApi);
            exports.utils = __assign({}, utilsModule);
            exports.signature = __assign({}, sign);
            exports.signAdapters = signatureAdapters;
            exports.isValidAddress = signature_generator_1.utils.crypto.isValidAddress;
            exports.buildTransactionId = signature_generator_1.utils.crypto.buildTransactionId;
            // export const prepareForBroadcast = prepareForBroadcastF;
            // export const getTransactionId = getTransactionIdF;
            exports.broadcast = broadcast_1.broadcast;
            exports.createOrder = broadcast_1.createOrderSend;
            exports.cancelOrder = broadcast_1.cancelOrderSend;
            wavesDataEntitiesModule.config.set('remapAsset', function (data) {
                var name = config_1.get('remappedAssetNames')[data.id] || data.name;
                return __assign({}, data, { name: name });
            });
            function fetch(url, fetchOptions) {
                return request_1.request({ url: url, fetchOptions: fetchOptions });
            }
            exports.fetch = fetch;
            function moneyFromTokens(tokens, assetData) {
                return utils_1.toAsset(assetData).then(function (asset) {
                    return exports.wavesDataEntities.Money.fromTokens(tokens, asset);
                });
            }
            exports.moneyFromTokens = moneyFromTokens;
            function moneyFromCoins(coins, assetData) {
                return utils_1.toAsset(assetData).then(function (asset) {
                    return new data_entities_1.Money(coins, asset);
                });
            }
            exports.moneyFromCoins = moneyFromCoins;
            function orderPriceFromCoins(coins, pair, asset2) {
                if (pair instanceof data_entities_1.AssetPair) {
                    return Promise.resolve(data_entities_1.OrderPrice.fromMatcherCoins(coins, pair));
                } else {
                    return pairs_1.get(pair, asset2).then(function (pair) {
                        return data_entities_1.OrderPrice.fromMatcherCoins(coins, pair);
                    });
                }
            }
            exports.orderPriceFromCoins = orderPriceFromCoins;
            function orderPriceFromTokens(tokens, pair, asset2) {
                if (pair instanceof data_entities_1.AssetPair) {
                    return Promise.resolve(data_entities_1.OrderPrice.fromTokens(tokens, pair));
                } else {
                    return pairs_1.get(pair, asset2).then(function (pair) {
                        return data_entities_1.OrderPrice.fromTokens(tokens, pair);
                    });
                }
            }
            exports.orderPriceFromTokens = orderPriceFromTokens;
            var App = /** @class */function () {
                function App() {}
                App.prototype.login = function (address, api) {
                    this.address = address;
                    sign.setSignatureApi(api);
                    this._initializeDataManager(address);
                };
                App.prototype.logOut = function () {
                    sign.dropSignatureApi();
                    exports.dataManager.dropAddress();
                };
                App.prototype.addMatcherSign = function (timestamp, signature) {
                    var signApi = sign.getSignatureApi();
                    if (!signApi) {
                        return Promise.reject({ error: 'No exist signature api' });
                    }
                    return signApi.getPublicKey().then(function (senderPublicKey) {
                        exports.api.matcher.addSignature(signature, senderPublicKey, timestamp);
                    });
                };
                App.prototype.getTimeStamp = function (count, timeType) {
                    return utilsModule.addTime(utils_1.normalizeTime(new Date().getTime()), count, timeType).valueOf();
                };
                App.prototype.getSignIdForMatcher = function (timestamp) {
                    return sign.getSignatureApi().makeSignable({
                        type: signature_adapter_1.SIGN_TYPE.MATCHER_ORDERS,
                        data: {
                            timestamp: timestamp
                        }
                    }).getId();
                };
                App.prototype.signForMatcher = function (timestamp) {
                    var signApi = sign.getSignatureApi();
                    if (!signApi) {
                        return Promise.reject({ error: 'Not exist signature api' });
                    }
                    return signApi.makeSignable({
                        type: signature_adapter_1.SIGN_TYPE.MATCHER_ORDERS,
                        data: {
                            timestamp: timestamp
                        }
                    }).getSignature();
                };
                App.prototype._initializeDataManager = function (address) {
                    exports.dataManager.dropAddress();
                    exports.dataManager.applyAddress(address);
                };
                return App;
            }();
            exports.app = new App();
        }, { "./api/API": 1, "./api/pairs/pairs": 9, "./broadcast/broadcast": 12, "./classes/DataManager": 13, "./classes/Seed": 15, "./config": 17, "./sign": 19, "./store": 20, "./utils/AssetStorage": 21, "./utils/request": 24, "./utils/utils": 26, "@waves/data-entities": undefined, "@waves/signature-adapter": undefined, "@waves/signature-generator": undefined }], 19: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var signature_adapter_1 = require("@waves/signature-adapter");
            var API;
            function setSignatureApi(api) {
                API = api;
            }
            exports.setSignatureApi = setSignatureApi;
            function dropSignatureApi() {
                API = null;
            }
            exports.dropSignatureApi = dropSignatureApi;
            function getSignatureApi() {
                return API;
            }
            exports.getSignatureApi = getSignatureApi;
            function getDefaultSignatureApi(user) {
                var encryptionRounds = user.settings.get('encryptionRounds');
                var userData = __assign({}, user, { encryptionRounds: encryptionRounds });
                var Adapter = signature_adapter_1.getAdapterByType(user.userType) || signature_adapter_1.getAdapterByType(signature_adapter_1.adapterList[0].type);
                return new Adapter(userData);
            }
            exports.getDefaultSignatureApi = getDefaultSignatureApi;
        }, { "@waves/signature-adapter": undefined }], 20: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var utils_1 = require("./utils/utils");
            var ramda_1 = require("ramda");
            var ordersStore = [];
            var toRemoveOrders = [];
            function createAddStore(container, timeout) {
                return function (item) {
                    utils_1.toArray(item).forEach(function (item) {
                        var storeItem = {
                            data: item,
                            expiration: window.setTimeout(function () {
                                container.splice(container.indexOf(storeItem), 1);
                            }, timeout)
                        };
                        container.push(storeItem);
                    });
                    return item;
                };
            }
            function removeFromStoreById(container, idKey, item) {
                var id = item[idKey];
                for (var i = container.length - 1; i >= 0; i--) {
                    if (container[i].data[idKey] === id) {
                        window.clearTimeout(container[i].expiration);
                        container.splice(i, 1);
                        break;
                    }
                }
            }
            function createClearStore(addContainer, addRemoveF, idKey) {
                return function (item) {
                    utils_1.toArray(item).forEach(function (item) {
                        removeFromStoreById(addContainer, idKey, item);
                    });
                    addRemoveF(item);
                    return item;
                };
            }
            function createProcessStore(toAddContainer, toRemoveContainer, idKey) {
                return ramda_1.pipe(function (list) {
                    return ramda_1.concat(toAddContainer.map(ramda_1.prop('data')), list);
                }, function (list) {
                    return ramda_1.differenceWith(ramda_1.eqProps(idKey), list, toRemoveContainer.map(ramda_1.prop('data')));
                }, ramda_1.uniqBy(ramda_1.prop(idKey)));
            }
            var addToRemoveStore = createAddStore(toRemoveOrders, 10000);
            exports.addOrderToStore = createAddStore(ordersStore, 10000);
            exports.removeOrderFromStore = createClearStore(ordersStore, addToRemoveStore, 'id');
            exports.processOrdersWithStore = createProcessStore(ordersStore, toRemoveOrders, 'id');
        }, { "./utils/utils": 26, "ramda": undefined }], 21: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var utils_1 = require("./utils");
            var AssetStorage = /** @class */function () {
                function AssetStorage() {
                    this._promiseHash = Object.create(null);
                    this._hash = Object.create(null);
                }
                AssetStorage.prototype.getAssets = function (idList, getMethod) {
                    var _this = this;
                    var promiseHash = idList.reduce(function (result, assetId) {
                        if (_this._promiseHash[assetId]) {
                            result[assetId] = _this._promiseHash[assetId];
                        }
                        return result;
                    }, Object.create(null));
                    var noCachedList = idList.filter(function (assetId) {
                        return !promiseHash[assetId] && !_this._hash[assetId];
                    });
                    var loadedIdList = Object.keys(promiseHash);
                    if (loadedIdList.length) {
                        var promiseList = loadedIdList.map(function (id) {
                            return promiseHash[id];
                        });
                        var newRequestPromise = this._getNewRequestPromise(noCachedList, getMethod);
                        promiseList.push(newRequestPromise);
                        return Promise.all(promiseList).then(function () {
                            return idList.map(function (id) {
                                return _this._hash[id];
                            });
                        });
                    } else {
                        if (noCachedList.length) {
                            var newRequestPromise = this._getNewRequestPromise(noCachedList, getMethod);
                            return newRequestPromise.then(function () {
                                return idList.map(function (id) {
                                    return _this._hash[id];
                                });
                            });
                        } else {
                            return Promise.resolve(idList.map(function (id) {
                                return _this._hash[id];
                            }));
                        }
                    }
                };
                AssetStorage.prototype.updateAsset = function (id, quantity, reissuable) {
                    if (this._hash[id]) {
                        var asset = this._hash[id];
                        if (asset.reissuable !== reissuable || !quantity.eq(asset.quantity)) {
                            var info = {
                                id: id,
                                ticker: asset.ticker,
                                name: asset.name,
                                precision: asset.precision,
                                description: asset.description,
                                height: asset.height,
                                timestamp: asset.timestamp,
                                sender: asset.sender,
                                quantity: quantity,
                                reissuable: reissuable
                            };
                            this._hash[id] = new data_entities_1.Asset(info);
                        }
                    }
                };
                AssetStorage.prototype.save = function (idList, data) {
                    var _this = this;
                    if (utils_1.isPromise(data)) {
                        var list_1 = utils_1.toArray(idList);
                        list_1.forEach(function (id) {
                            _this._promiseHash[id] = data;
                        });
                        data.then(function (asset) {
                            var assetList = utils_1.toArray(asset);
                            assetList.forEach(function (asset) {
                                delete _this._promiseHash[asset.id];
                                _this._hash[asset.id] = asset;
                            });
                        });
                        data.catch(function () {
                            list_1.forEach(function (id) {
                                delete _this._promiseHash[id];
                            });
                        });
                    } else {
                        var list = utils_1.toArray(data);
                        list.forEach(function (asset) {
                            delete _this._promiseHash[asset.id];
                            _this._hash[asset.id] = asset;
                        });
                    }
                };
                AssetStorage.prototype._getNewRequestPromise = function (idList, getMethod) {
                    var newRequestPromise = idList.length ? getMethod(idList) : Promise.resolve([]);
                    if (idList.length) {
                        this.save(idList, newRequestPromise);
                    }
                    return newRequestPromise;
                };
                return AssetStorage;
            }();
            exports.AssetStorage = AssetStorage;
            exports.assetStorage = new AssetStorage();
        }, { "./utils": 26, "@waves/data-entities": undefined }], 22: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var MoneyHash = /** @class */function () {
                function MoneyHash(list) {
                    this._storage = Object.create(null);
                    if (list) {
                        list.forEach(this.add, this);
                    }
                }
                MoneyHash.prototype.add = function (money) {
                    if (this._storage[money.asset.id]) {
                        this._storage[money.asset.id] = this._storage[money.asset.id].add(money);
                    } else {
                        this._storage[money.asset.id] = money;
                    }
                };
                MoneyHash.prototype.get = function (id) {
                    return this._storage[id];
                };
                MoneyHash.prototype.toHash = function () {
                    return this._storage;
                };
                return MoneyHash;
            }();
            exports.MoneyHash = MoneyHash;
        }, {}], 23: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var ts_utils_1 = require("ts-utils");
            var Poll = /** @class */function () {
                function Poll(api, timeout) {
                    this.signals = {
                        requestSuccess: new ts_utils_1.Signal(),
                        requestError: new ts_utils_1.Signal()
                    };
                    this._api = api;
                    this._timeout = timeout;
                    this._run();
                }
                Poll.prototype.getDataPromise = function () {
                    var _this = this;
                    if (this.lastData) {
                        return Promise.resolve(this.lastData);
                    } else {
                        return new Promise(function (resolve, reject) {
                            var s = function s(data) {
                                resolve(data);
                                _this.signals.requestError.off(r);
                            };
                            var r = function r(data) {
                                reject(data);
                                _this.signals.requestSuccess.off(s);
                            };
                            _this.signals.requestSuccess.once(s);
                            _this.signals.requestError.once(r);
                        });
                    }
                };
                Poll.prototype.destroy = function () {
                    this._clear();
                };
                Poll.prototype.restart = function () {
                    this._clear();
                    this._run();
                };
                Poll.prototype._run = function () {
                    var _this = this;
                    try {
                        var promise = this._api.get();
                        promise.then(function (data) {
                            _this._api.set(data);
                            _this.lastData = data;
                            _this.signals.requestSuccess.dispatch(data);
                            _this._setTimeout();
                        }, function (e) {
                            _this.signals.requestError.dispatch(e);
                            _this._setTimeout();
                        });
                    } catch (e) {
                        this.signals.requestError.dispatch(e);
                        this._setTimeout();
                    }
                };
                Poll.prototype._setTimeout = function () {
                    var _this = this;
                    this._clear();
                    this._timer = window.setTimeout(function () {
                        return _this._run();
                    }, this._timeout);
                };
                Poll.prototype._clear = function () {
                    if (this._timer) {
                        clearTimeout(this._timer);
                        this._timer = null;
                    }
                };
                return Poll;
            }();
            exports.Poll = Poll;
        }, { "ts-utils": undefined }], 24: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var config_1 = require("../config");
            var utils_1 = require("./utils");
            var ts_utils_1 = require("ts-utils");
            function request(params) {
                var promise;
                if (params.url) {
                    params.fetchOptions = addDefaultRequestParams(params.url, params.fetchOptions);
                    promise = fetch(utils_1.normalizeUrl(params.url), params.fetchOptions || Object.create(null)).then(function (response) {
                        var isJSON = response.headers.get('Content-Type').toLowerCase().includes('application/json');
                        if (response.ok) {
                            return response.text().then(function (data) {
                                return isJSON ? config_1.parse(data) : data;
                            });
                        } else {
                            if (response.status >= 500) {
                                return Promise.reject('An unexpected error has occured: #' + response.status);
                            } else {
                                return response.text().then(function (text) {
                                    return Promise.reject(text);
                                });
                            }
                        }
                    });
                } else if (params.method) {
                    promise = params.method();
                } else {
                    throw new Error('Wrong request params!');
                }
                // TODO catch errors
                return promise;
            }
            exports.request = request;
            function addDefaultRequestParams(url, options) {
                if (options === void 0) {
                    options = Object.create(null);
                }
                if (url.indexOf(config_1.get('node')) === 0 && ts_utils_1.isEmpty(options.credentials) && options.method !== 'POST') {
                    options.credentials = 'include';
                }
                return options;
            }
        }, { "../config": 17, "./utils": 26, "ts-utils": undefined }], 25: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            exports.default = ['abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse', 'access', 'accident', 'account', 'accuse', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act', 'action', 'actor', 'actress', 'actual', 'adapt', 'add', 'addict', 'address', 'adjust', 'admit', 'adult', 'advance', 'advice', 'aerobic', 'affair', 'afford', 'afraid', 'again', 'age', 'agent', 'agree', 'ahead', 'aim', 'air', 'airport', 'aisle', 'alarm', 'album', 'alcohol', 'alert', 'alien', 'all', 'alley', 'allow', 'almost', 'alone', 'alpha', 'already', 'also', 'alter', 'always', 'amateur', 'amazing', 'among', 'amount', 'amused', 'analyst', 'anchor', 'ancient', 'anger', 'angle', 'angry', 'animal', 'ankle', 'announce', 'annual', 'another', 'answer', 'antenna', 'antique', 'anxiety', 'any', 'apart', 'apology', 'appear', 'apple', 'approve', 'april', 'arch', 'arctic', 'area', 'arena', 'argue', 'arm', 'armed', 'armor', 'army', 'around', 'arrange', 'arrest', 'arrive', 'arrow', 'art', 'artefact', 'artist', 'artwork', 'ask', 'aspect', 'assault', 'asset', 'assist', 'assume', 'asthma', 'athlete', 'atom', 'attack', 'attend', 'attitude', 'attract', 'auction', 'audit', 'august', 'aunt', 'author', 'auto', 'autumn', 'average', 'avocado', 'avoid', 'awake', 'aware', 'away', 'awesome', 'awful', 'awkward', 'axis', 'baby', 'bachelor', 'bacon', 'badge', 'bag', 'balance', 'balcony', 'ball', 'bamboo', 'banana', 'banner', 'bar', 'barely', 'bargain', 'barrel', 'base', 'basic', 'basket', 'battle', 'beach', 'bean', 'beauty', 'because', 'become', 'beef', 'before', 'begin', 'behave', 'behind', 'believe', 'below', 'belt', 'bench', 'benefit', 'best', 'betray', 'better', 'between', 'beyond', 'bicycle', 'bid', 'bike', 'bind', 'biology', 'bird', 'birth', 'bitter', 'black', 'blade', 'blame', 'blanket', 'blast', 'bleak', 'bless', 'blind', 'blood', 'blossom', 'blouse', 'blue', 'blur', 'blush', 'board', 'boat', 'body', 'boil', 'bomb', 'bone', 'bonus', 'book', 'boost', 'border', 'boring', 'borrow', 'boss', 'bottom', 'bounce', 'box', 'boy', 'bracket', 'brain', 'brand', 'brass', 'brave', 'bread', 'breeze', 'brick', 'bridge', 'brief', 'bright', 'bring', 'brisk', 'broccoli', 'broken', 'bronze', 'broom', 'brother', 'brown', 'brush', 'bubble', 'buddy', 'budget', 'buffalo', 'build', 'bulb', 'bulk', 'bullet', 'bundle', 'bunker', 'burden', 'burger', 'burst', 'bus', 'business', 'busy', 'butter', 'buyer', 'buzz', 'cabbage', 'cabin', 'cable', 'cactus', 'cage', 'cake', 'call', 'calm', 'camera', 'camp', 'can', 'canal', 'cancel', 'candy', 'cannon', 'canoe', 'canvas', 'canyon', 'capable', 'capital', 'captain', 'car', 'carbon', 'card', 'cargo', 'carpet', 'carry', 'cart', 'case', 'cash', 'casino', 'castle', 'casual', 'cat', 'catalog', 'catch', 'category', 'cattle', 'caught', 'cause', 'caution', 'cave', 'ceiling', 'celery', 'cement', 'census', 'century', 'cereal', 'certain', 'chair', 'chalk', 'champion', 'change', 'chaos', 'chapter', 'charge', 'chase', 'chat', 'cheap', 'check', 'cheese', 'chef', 'cherry', 'chest', 'chicken', 'chief', 'child', 'chimney', 'choice', 'choose', 'chronic', 'chuckle', 'chunk', 'churn', 'cigar', 'cinnamon', 'circle', 'citizen', 'city', 'civil', 'claim', 'clap', 'clarify', 'claw', 'clay', 'clean', 'clerk', 'clever', 'click', 'client', 'cliff', 'climb', 'clinic', 'clip', 'clock', 'clog', 'close', 'cloth', 'cloud', 'clown', 'club', 'clump', 'cluster', 'clutch', 'coach', 'coast', 'coconut', 'code', 'coffee', 'coil', 'coin', 'collect', 'color', 'column', 'combine', 'come', 'comfort', 'comic', 'common', 'company', 'concert', 'conduct', 'confirm', 'congress', 'connect', 'consider', 'control', 'convince', 'cook', 'cool', 'copper', 'copy', 'coral', 'core', 'corn', 'correct', 'cost', 'cotton', 'couch', 'country', 'couple', 'course', 'cousin', 'cover', 'coyote', 'crack', 'cradle', 'craft', 'cram', 'crane', 'crash', 'crater', 'crawl', 'crazy', 'cream', 'credit', 'creek', 'crew', 'cricket', 'crime', 'crisp', 'critic', 'crop', 'cross', 'crouch', 'crowd', 'crucial', 'cruel', 'cruise', 'crumble', 'crunch', 'crush', 'cry', 'crystal', 'cube', 'culture', 'cup', 'cupboard', 'curious', 'current', 'curtain', 'curve', 'cushion', 'custom', 'cute', 'cycle', 'dad', 'damage', 'damp', 'dance', 'danger', 'daring', 'dash', 'daughter', 'dawn', 'day', 'deal', 'debate', 'debris', 'decade', 'december', 'decide', 'decline', 'decorate', 'decrease', 'deer', 'defense', 'define', 'defy', 'degree', 'delay', 'deliver', 'demand', 'demise', 'denial', 'dentist', 'deny', 'depart', 'depend', 'deposit', 'depth', 'deputy', 'derive', 'describe', 'desert', 'design', 'desk', 'despair', 'destroy', 'detail', 'detect', 'develop', 'device', 'devote', 'diagram', 'dial', 'diamond', 'diary', 'dice', 'diesel', 'diet', 'differ', 'digital', 'dignity', 'dilemma', 'dinner', 'dinosaur', 'direct', 'dirt', 'disagree', 'discover', 'disease', 'dish', 'dismiss', 'disorder', 'display', 'distance', 'divert', 'divide', 'divorce', 'dizzy', 'doctor', 'document', 'dog', 'doll', 'dolphin', 'domain', 'donate', 'donkey', 'donor', 'door', 'dose', 'double', 'dove', 'draft', 'dragon', 'drama', 'drastic', 'draw', 'dream', 'dress', 'drift', 'drill', 'drink', 'drip', 'drive', 'drop', 'drum', 'dry', 'duck', 'dumb', 'dune', 'during', 'dust', 'dutch', 'duty', 'dwarf', 'dynamic', 'eager', 'eagle', 'early', 'earn', 'earth', 'easily', 'east', 'easy', 'echo', 'ecology', 'economy', 'edge', 'edit', 'educate', 'effort', 'egg', 'eight', 'either', 'elbow', 'elder', 'electric', 'elegant', 'element', 'elephant', 'elevator', 'elite', 'else', 'embark', 'embody', 'embrace', 'emerge', 'emotion', 'employ', 'empower', 'empty', 'enable', 'enact', 'end', 'endless', 'endorse', 'enemy', 'energy', 'enforce', 'engage', 'engine', 'enhance', 'enjoy', 'enlist', 'enough', 'enrich', 'enroll', 'ensure', 'enter', 'entire', 'entry', 'envelope', 'episode', 'equal', 'equip', 'era', 'erase', 'erode', 'erosion', 'error', 'erupt', 'escape', 'essay', 'essence', 'estate', 'eternal', 'ethics', 'evidence', 'evil', 'evoke', 'evolve', 'exact', 'example', 'excess', 'exchange', 'excite', 'exclude', 'excuse', 'execute', 'exercise', 'exhaust', 'exhibit', 'exile', 'exist', 'exit', 'exotic', 'expand', 'expect', 'expire', 'explain', 'expose', 'express', 'extend', 'extra', 'eye', 'eyebrow', 'fabric', 'face', 'faculty', 'fade', 'faint', 'faith', 'fall', 'false', 'fame', 'family', 'famous', 'fan', 'fancy', 'fantasy', 'farm', 'fashion', 'fat', 'fatal', 'father', 'fatigue', 'fault', 'favorite', 'feature', 'february', 'federal', 'fee', 'feed', 'feel', 'female', 'fence', 'festival', 'fetch', 'fever', 'few', 'fiber', 'fiction', 'field', 'figure', 'file', 'film', 'filter', 'final', 'find', 'fine', 'finger', 'finish', 'fire', 'firm', 'first', 'fiscal', 'fish', 'fit', 'fitness', 'fix', 'flag', 'flame', 'flash', 'flat', 'flavor', 'flee', 'flight', 'flip', 'float', 'flock', 'floor', 'flower', 'fluid', 'flush', 'fly', 'foam', 'focus', 'fog', 'foil', 'fold', 'follow', 'food', 'foot', 'force', 'forest', 'forget', 'fork', 'fortune', 'forum', 'forward', 'fossil', 'foster', 'found', 'fox', 'fragile', 'frame', 'frequent', 'fresh', 'friend', 'fringe', 'frog', 'front', 'frost', 'frown', 'frozen', 'fruit', 'fuel', 'fun', 'funny', 'furnace', 'fury', 'future', 'gadget', 'gain', 'galaxy', 'gallery', 'game', 'gap', 'garage', 'garbage', 'garden', 'garlic', 'garment', 'gas', 'gasp', 'gate', 'gather', 'gauge', 'gaze', 'general', 'genius', 'genre', 'gentle', 'genuine', 'gesture', 'ghost', 'giant', 'gift', 'giggle', 'ginger', 'giraffe', 'girl', 'give', 'glad', 'glance', 'glare', 'glass', 'glide', 'glimpse', 'globe', 'gloom', 'glory', 'glove', 'glow', 'glue', 'goat', 'goddess', 'gold', 'good', 'goose', 'gorilla', 'gospel', 'gossip', 'govern', 'gown', 'grab', 'grace', 'grain', 'grant', 'grape', 'grass', 'gravity', 'great', 'green', 'grid', 'grief', 'grit', 'grocery', 'group', 'grow', 'grunt', 'guard', 'guess', 'guide', 'guilt', 'guitar', 'gun', 'gym', 'habit', 'hair', 'half', 'hammer', 'hamster', 'hand', 'happy', 'harbor', 'hard', 'harsh', 'harvest', 'hat', 'have', 'hawk', 'hazard', 'head', 'health', 'heart', 'heavy', 'hedgehog', 'height', 'hello', 'helmet', 'help', 'hen', 'hero', 'hidden', 'high', 'hill', 'hint', 'hip', 'hire', 'history', 'hobby', 'hockey', 'hold', 'hole', 'holiday', 'hollow', 'home', 'honey', 'hood', 'hope', 'horn', 'horror', 'horse', 'hospital', 'host', 'hotel', 'hour', 'hover', 'hub', 'huge', 'human', 'humble', 'humor', 'hundred', 'hungry', 'hunt', 'hurdle', 'hurry', 'hurt', 'husband', 'hybrid', 'ice', 'icon', 'idea', 'identify', 'idle', 'ignore', 'ill', 'illegal', 'illness', 'image', 'imitate', 'immense', 'immune', 'impact', 'impose', 'improve', 'impulse', 'inch', 'include', 'income', 'increase', 'index', 'indicate', 'indoor', 'industry', 'infant', 'inflict', 'inform', 'inhale', 'inherit', 'initial', 'inject', 'injury', 'inmate', 'inner', 'innocent', 'input', 'inquiry', 'insane', 'insect', 'inside', 'inspire', 'install', 'intact', 'interest', 'into', 'invest', 'invite', 'involve', 'iron', 'island', 'isolate', 'issue', 'item', 'ivory', 'jacket', 'jaguar', 'jar', 'jazz', 'jealous', 'jeans', 'jelly', 'jewel', 'job', 'join', 'joke', 'journey', 'joy', 'judge', 'juice', 'jump', 'jungle', 'junior', 'junk', 'just', 'kangaroo', 'keen', 'keep', 'ketchup', 'key', 'kick', 'kid', 'kidney', 'kind', 'kingdom', 'kiss', 'kit', 'kitchen', 'kite', 'kitten', 'kiwi', 'knee', 'knife', 'knock', 'know', 'lab', 'label', 'labor', 'ladder', 'lady', 'lake', 'lamp', 'language', 'laptop', 'large', 'later', 'latin', 'laugh', 'laundry', 'lava', 'law', 'lawn', 'lawsuit', 'layer', 'lazy', 'leader', 'leaf', 'learn', 'leave', 'lecture', 'left', 'leg', 'legal', 'legend', 'leisure', 'lemon', 'lend', 'length', 'lens', 'leopard', 'lesson', 'letter', 'level', 'liar', 'liberty', 'library', 'license', 'life', 'lift', 'light', 'like', 'limb', 'limit', 'link', 'lion', 'liquid', 'list', 'little', 'live', 'lizard', 'load', 'loan', 'lobster', 'local', 'lock', 'logic', 'lonely', 'long', 'loop', 'lottery', 'loud', 'lounge', 'love', 'loyal', 'lucky', 'luggage', 'lumber', 'lunar', 'lunch', 'luxury', 'lyrics', 'machine', 'mad', 'magic', 'magnet', 'maid', 'mail', 'main', 'major', 'make', 'mammal', 'man', 'manage', 'mandate', 'mango', 'mansion', 'manual', 'maple', 'marble', 'march', 'margin', 'marine', 'market', 'marriage', 'mask', 'mass', 'master', 'match', 'material', 'math', 'matrix', 'matter', 'maximum', 'maze', 'meadow', 'mean', 'measure', 'meat', 'mechanic', 'medal', 'media', 'melody', 'melt', 'member', 'memory', 'mention', 'menu', 'mercy', 'merge', 'merit', 'merry', 'mesh', 'message', 'metal', 'method', 'middle', 'midnight', 'milk', 'million', 'mimic', 'mind', 'minimum', 'minor', 'minute', 'miracle', 'mirror', 'misery', 'miss', 'mistake', 'mix', 'mixed', 'mixture', 'mobile', 'model', 'modify', 'mom', 'moment', 'monitor', 'monkey', 'monster', 'month', 'moon', 'moral', 'more', 'morning', 'mosquito', 'mother', 'motion', 'motor', 'mountain', 'mouse', 'move', 'movie', 'much', 'muffin', 'mule', 'multiply', 'muscle', 'museum', 'mushroom', 'music', 'must', 'mutual', 'myself', 'mystery', 'myth', 'naive', 'name', 'napkin', 'narrow', 'nasty', 'nation', 'nature', 'near', 'neck', 'need', 'negative', 'neglect', 'neither', 'nephew', 'nerve', 'nest', 'net', 'network', 'neutral', 'never', 'news', 'next', 'nice', 'night', 'noble', 'noise', 'nominee', 'noodle', 'normal', 'north', 'nose', 'notable', 'note', 'nothing', 'notice', 'novel', 'now', 'nuclear', 'number', 'nurse', 'nut', 'oak', 'obey', 'object', 'oblige', 'obscure', 'observe', 'obtain', 'obvious', 'occur', 'ocean', 'october', 'odor', 'off', 'offer', 'office', 'often', 'oil', 'okay', 'old', 'olive', 'olympic', 'omit', 'once', 'one', 'onion', 'online', 'only', 'open', 'opera', 'opinion', 'oppose', 'option', 'orange', 'orbit', 'orchard', 'order', 'ordinary', 'organ', 'orient', 'original', 'orphan', 'ostrich', 'other', 'outdoor', 'outer', 'output', 'outside', 'oval', 'oven', 'over', 'own', 'owner', 'oxygen', 'oyster', 'ozone', 'pact', 'paddle', 'page', 'pair', 'palace', 'palm', 'panda', 'panel', 'panic', 'panther', 'paper', 'parade', 'parent', 'park', 'parrot', 'party', 'pass', 'patch', 'path', 'patient', 'patrol', 'pattern', 'pause', 'pave', 'payment', 'peace', 'peanut', 'pear', 'peasant', 'pelican', 'pen', 'penalty', 'pencil', 'people', 'pepper', 'perfect', 'permit', 'person', 'pet', 'phone', 'photo', 'phrase', 'physical', 'piano', 'picnic', 'picture', 'piece', 'pig', 'pigeon', 'pill', 'pilot', 'pink', 'pioneer', 'pipe', 'pistol', 'pitch', 'pizza', 'place', 'planet', 'plastic', 'plate', 'play', 'please', 'pledge', 'pluck', 'plug', 'plunge', 'poem', 'poet', 'point', 'polar', 'pole', 'police', 'pond', 'pony', 'pool', 'popular', 'portion', 'position', 'possible', 'post', 'potato', 'pottery', 'poverty', 'powder', 'power', 'practice', 'praise', 'predict', 'prefer', 'prepare', 'present', 'pretty', 'prevent', 'price', 'pride', 'primary', 'print', 'priority', 'prison', 'private', 'prize', 'problem', 'process', 'produce', 'profit', 'program', 'project', 'promote', 'proof', 'property', 'prosper', 'protect', 'proud', 'provide', 'public', 'pudding', 'pull', 'pulp', 'pulse', 'pumpkin', 'punch', 'pupil', 'puppy', 'purchase', 'purity', 'purpose', 'purse', 'push', 'put', 'puzzle', 'pyramid', 'quality', 'quantum', 'quarter', 'question', 'quick', 'quit', 'quiz', 'quote', 'rabbit', 'raccoon', 'race', 'rack', 'radar', 'radio', 'rail', 'rain', 'raise', 'rally', 'ramp', 'ranch', 'random', 'range', 'rapid', 'rare', 'rate', 'rather', 'raven', 'raw', 'razor', 'ready', 'real', 'reason', 'rebel', 'rebuild', 'recall', 'receive', 'recipe', 'record', 'recycle', 'reduce', 'reflect', 'reform', 'refuse', 'region', 'regret', 'regular', 'reject', 'relax', 'release', 'relief', 'rely', 'remain', 'remember', 'remind', 'remove', 'render', 'renew', 'rent', 'reopen', 'repair', 'repeat', 'replace', 'report', 'require', 'rescue', 'resemble', 'resist', 'resource', 'response', 'result', 'retire', 'retreat', 'return', 'reunion', 'reveal', 'review', 'reward', 'rhythm', 'rib', 'ribbon', 'rice', 'rich', 'ride', 'ridge', 'rifle', 'right', 'rigid', 'ring', 'riot', 'ripple', 'risk', 'ritual', 'rival', 'river', 'road', 'roast', 'robot', 'robust', 'rocket', 'romance', 'roof', 'rookie', 'room', 'rose', 'rotate', 'rough', 'round', 'route', 'royal', 'rubber', 'rude', 'rug', 'rule', 'run', 'runway', 'rural', 'sad', 'saddle', 'sadness', 'safe', 'sail', 'salad', 'salmon', 'salon', 'salt', 'salute', 'same', 'sample', 'sand', 'satisfy', 'satoshi', 'sauce', 'sausage', 'save', 'say', 'scale', 'scan', 'scare', 'scatter', 'scene', 'scheme', 'school', 'science', 'scissors', 'scorpion', 'scout', 'scrap', 'screen', 'script', 'scrub', 'sea', 'search', 'season', 'seat', 'second', 'secret', 'section', 'security', 'seed', 'seek', 'segment', 'select', 'sell', 'seminar', 'senior', 'sense', 'sentence', 'series', 'service', 'session', 'settle', 'setup', 'seven', 'shadow', 'shaft', 'shallow', 'share', 'shed', 'shell', 'sheriff', 'shield', 'shift', 'shine', 'ship', 'shiver', 'shock', 'shoe', 'shoot', 'shop', 'short', 'shoulder', 'shove', 'shrimp', 'shrug', 'shuffle', 'shy', 'sibling', 'sick', 'side', 'siege', 'sight', 'sign', 'silent', 'silk', 'silly', 'silver', 'similar', 'simple', 'since', 'sing', 'siren', 'sister', 'situate', 'six', 'size', 'skate', 'sketch', 'ski', 'skill', 'skin', 'skirt', 'skull', 'slab', 'slam', 'sleep', 'slender', 'slice', 'slide', 'slight', 'slim', 'slogan', 'slot', 'slow', 'slush', 'small', 'smart', 'smile', 'smoke', 'smooth', 'snack', 'snake', 'snap', 'sniff', 'snow', 'soap', 'soccer', 'social', 'sock', 'soda', 'soft', 'solar', 'soldier', 'solid', 'solution', 'solve', 'someone', 'song', 'soon', 'sorry', 'sort', 'soul', 'sound', 'soup', 'source', 'south', 'space', 'spare', 'spatial', 'spawn', 'speak', 'special', 'speed', 'spell', 'spend', 'sphere', 'spice', 'spider', 'spike', 'spin', 'spirit', 'split', 'spoil', 'sponsor', 'spoon', 'sport', 'spot', 'spray', 'spread', 'spring', 'spy', 'square', 'squeeze', 'squirrel', 'stable', 'stadium', 'staff', 'stage', 'stairs', 'stamp', 'stand', 'start', 'state', 'stay', 'steak', 'steel', 'stem', 'step', 'stereo', 'stick', 'still', 'sting', 'stock', 'stomach', 'stone', 'stool', 'story', 'stove', 'strategy', 'street', 'strike', 'strong', 'struggle', 'student', 'stuff', 'stumble', 'style', 'subject', 'submit', 'subway', 'success', 'such', 'sudden', 'suffer', 'sugar', 'suggest', 'suit', 'summer', 'sun', 'sunny', 'sunset', 'super', 'supply', 'supreme', 'sure', 'surface', 'surge', 'surprise', 'surround', 'survey', 'suspect', 'sustain', 'swallow', 'swamp', 'swap', 'swarm', 'swear', 'sweet', 'swift', 'swim', 'swing', 'switch', 'sword', 'symbol', 'symptom', 'syrup', 'system', 'table', 'tackle', 'tag', 'tail', 'talent', 'talk', 'tank', 'tape', 'target', 'task', 'taste', 'tattoo', 'taxi', 'teach', 'team', 'tell', 'ten', 'tenant', 'tennis', 'tent', 'term', 'test', 'text', 'thank', 'that', 'theme', 'then', 'theory', 'there', 'they', 'thing', 'this', 'thought', 'three', 'thrive', 'throw', 'thumb', 'thunder', 'ticket', 'tide', 'tiger', 'tilt', 'timber', 'time', 'tiny', 'tip', 'tired', 'tissue', 'title', 'toast', 'tobacco', 'today', 'toddler', 'toe', 'together', 'toilet', 'token', 'tomato', 'tomorrow', 'tone', 'tongue', 'tonight', 'tool', 'tooth', 'top', 'topic', 'topple', 'torch', 'tornado', 'tortoise', 'toss', 'total', 'tourist', 'toward', 'tower', 'town', 'toy', 'track', 'trade', 'traffic', 'tragic', 'train', 'transfer', 'trap', 'trash', 'travel', 'tray', 'treat', 'tree', 'trend', 'trial', 'tribe', 'trick', 'trigger', 'trim', 'trip', 'trophy', 'trouble', 'truck', 'true', 'truly', 'trumpet', 'trust', 'truth', 'try', 'tube', 'tuition', 'tumble', 'tuna', 'tunnel', 'turkey', 'turn', 'turtle', 'twelve', 'twenty', 'twice', 'twin', 'twist', 'two', 'type', 'typical', 'ugly', 'umbrella', 'unable', 'unaware', 'uncle', 'uncover', 'under', 'undo', 'unfair', 'unfold', 'unhappy', 'uniform', 'unique', 'unit', 'universe', 'unknown', 'unlock', 'until', 'unusual', 'unveil', 'update', 'upgrade', 'uphold', 'upon', 'upper', 'upset', 'urban', 'urge', 'usage', 'use', 'used', 'useful', 'useless', 'usual', 'utility', 'vacant', 'vacuum', 'vague', 'valid', 'valley', 'valve', 'van', 'vanish', 'vapor', 'various', 'vast', 'vault', 'vehicle', 'velvet', 'vendor', 'venture', 'venue', 'verb', 'verify', 'version', 'very', 'vessel', 'veteran', 'viable', 'vibrant', 'vicious', 'victory', 'video', 'view', 'village', 'vintage', 'violin', 'virtual', 'virus', 'visa', 'visit', 'visual', 'vital', 'vivid', 'vocal', 'voice', 'void', 'volcano', 'volume', 'vote', 'voyage', 'wage', 'wagon', 'wait', 'walk', 'wall', 'walnut', 'want', 'warfare', 'warm', 'warrior', 'wash', 'wasp', 'waste', 'water', 'wave', 'way', 'wealth', 'weapon', 'wear', 'weasel', 'weather', 'web', 'wedding', 'weekend', 'weird', 'welcome', 'west', 'wet', 'whale', 'what', 'wheat', 'wheel', 'when', 'where', 'whip', 'whisper', 'wide', 'width', 'wife', 'wild', 'will', 'win', 'window', 'wine', 'wing', 'wink', 'winner', 'winter', 'wire', 'wisdom', 'wise', 'wish', 'witness', 'wolf', 'woman', 'wonder', 'wood', 'wool', 'word', 'work', 'world', 'worry', 'worth', 'wrap', 'wreck', 'wrestle', 'wrist', 'write', 'wrong', 'yard', 'year', 'yellow', 'you', 'young', 'youth', 'zebra', 'zero', 'zone', 'zoo'];
        }, {}], 26: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var signature_generator_1 = require("@waves/signature-generator");
            var data_entities_1 = require("@waves/data-entities");
            var assets_1 = require("../api/assets/assets");
            var config_1 = require("../config");
            function normalizeTime(time) {
                if (typeof time === 'number') {
                    return time - config_1.timeDiff;
                } else {
                    return new Date(time.getTime() - config_1.timeDiff);
                }
            }
            exports.normalizeTime = normalizeTime;
            function normalizeRecipient(recipient) {
                return recipient.replace("alias:" + config_1.get('code') + ":", '');
            }
            exports.normalizeRecipient = normalizeRecipient;
            function coinsMoneyFactory(money, asset) {
                return new data_entities_1.Money(money, asset);
            }
            exports.coinsMoneyFactory = coinsMoneyFactory;
            function tokensMoneyFactory(money, asset) {
                return data_entities_1.Money.fromTokens(money, asset);
            }
            exports.tokensMoneyFactory = tokensMoneyFactory;
            function priceMoneyFactory(money, pair) {
                return data_entities_1.Money.fromTokens(data_entities_1.OrderPrice.fromMatcherCoins(money, pair).getTokens(), pair.priceAsset);
            }
            exports.priceMoneyFactory = priceMoneyFactory;
            function normalizeAssetPair(assetPair) {
                var priceAsset = normalizeAssetId(assetPair.priceAsset);
                var amountAsset = normalizeAssetId(assetPair.amountAsset);
                return { priceAsset: priceAsset, amountAsset: amountAsset };
            }
            exports.normalizeAssetPair = normalizeAssetPair;
            function normalizeUrl(url) {
                var urlObject = new URL(url, document.location.origin);
                var parts = [urlObject.host, urlObject.pathname, urlObject.search, urlObject.hash].map(function (item) {
                    return item.replace(/\/\//, '/');
                });
                return urlObject.protocol + "//" + parts.join('');
            }
            exports.normalizeUrl = normalizeUrl;
            function normalizeAssetId(assetId) {
                return assetId || signature_generator_1.WAVES_ID;
            }
            exports.normalizeAssetId = normalizeAssetId;
            function idToNode(id) {
                return id === signature_generator_1.WAVES_ID ? '' : id;
            }
            exports.idToNode = idToNode;
            function toHash(list, property) {
                return list.reduce(function (result, item) {
                    result[item[property]] = item;
                    return result;
                }, Object.create(null));
            }
            exports.toHash = toHash;
            function proxyArrayArgs(cb) {
                return function (args) {
                    return cb.apply(this, args);
                };
            }
            exports.proxyArrayArgs = proxyArrayArgs;
            function addParam(cb, param) {
                return function (data) {
                    return cb(data, param);
                };
            }
            exports.addParam = addParam;
            function isPromise(some) {
                return typeof some.then === 'function' && typeof some.catch === 'function';
            }
            exports.isPromise = isPromise;
            function toArray(some) {
                if (Array.isArray(some)) {
                    return some;
                } else {
                    return [some];
                }
            }
            exports.toArray = toArray;
            function dateTime(time) {
                if (typeof time === 'number') {
                    return time;
                }
                return time.getTime();
            }
            exports.dateTime = dateTime;
            function addTime(date, count, timeType) {
                return new Date(dateTime(date) + getTime(count, timeType).getTime());
            }
            exports.addTime = addTime;
            function getTime(count, timeType) {
                switch (timeType) {
                    case 'second':
                        return new Date(count * 1000);
                    case 'minute':
                        return getTime(60 * count, 'second');
                    case 'hour':
                        return getTime(60 * count, 'minute');
                    case 'day':
                        return getTime(24 * count, 'hour');
                }
            }
            exports.getTime = getTime;
            function curryN(deep, cb) {
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return getCurryCallback(deep, [], cb).apply(void 0, args);
                };
            }
            exports.curryN = curryN;
            function curry(cb) {
                return curryN(cb.length, cb);
            }
            exports.curry = curry;
            function getCurryCallback(deep, args1, cb) {
                return function () {
                    var args2 = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args2[_i] = arguments[_i];
                    }
                    var args3 = args1.concat(args2);
                    if (args3.length >= deep) {
                        return cb.call.apply(cb, [null].concat(args3));
                    } else {
                        return getCurryCallback(deep, args3, cb);
                    }
                };
            }
            function toBigNumber(some) {
                return some instanceof data_entities_1.BigNumber ? some : new data_entities_1.BigNumber(some);
            }
            exports.toBigNumber = toBigNumber;
            function toAsset(asset) {
                return typeof asset === 'string' ? assets_1.get(asset) : Promise.resolve(asset);
            }
            exports.toAsset = toAsset;
            function defer() {
                var resolve, reject;
                var promise = new Promise(function (res, rej) {
                    resolve = res;
                    reject = rej;
                });
                return { resolve: resolve, reject: reject, promise: promise };
            }
            exports.defer = defer;
            function stringifyJSON(data) {
                return window.WavesApp.stringifyJSON(data);
            }
            exports.stringifyJSON = stringifyJSON;
            var transferFeeList = [];
            function clearTransferFee() {
                transferFeeList.splice(0, transferFeeList.length);
            }
            exports.clearTransferFee = clearTransferFee;
            function setTransferFeeItem(item) {
                transferFeeList.push(item);
            }
            exports.setTransferFeeItem = setTransferFeeItem;
            function getTransferFeeList() {
                return transferFeeList.filter(function (item) {
                    return item.balance.getTokens().gt(1.005) || item.isMy;
                }).map(function (item) {
                    return item.fee;
                });
            }
            exports.getTransferFeeList = getTransferFeeList;
        }, { "../api/assets/assets": 3, "../config": 17, "@waves/data-entities": undefined, "@waves/signature-generator": undefined }], 27: [function (require, module, exports) {
            module.exports = [{ "ticker": "WAVES", "id": "WAVES" }];
        }, {}], 28: [function (require, module, exports) {
            var Base58 = require('bs58');

            var _require = require('./utils'),
                compareUint8Arrays = _require.compareUint8Arrays,
                isPair = _require.isPair,
                isEmptyArray = _require.isEmptyArray;

            var MAINNET_RAW_DATA = require('./mainnet.json');
            var TESTNET_RAW_DATA = require('./testnet.json');
            var ARBITRARY_RAW_DATA = require('./arbitrary.json');

            var MAINNET_DATA = MAINNET_RAW_DATA.map(function (d) {
                return d.id;
            });
            var TESTNET_DATA = TESTNET_RAW_DATA.map(function (d) {
                return d.id;
            });
            var ARBITRARY_DATA = ARBITRARY_RAW_DATA.map(function (d) {
                return d.id;
            });

            var orderPair = function orderPair(predefinedList, first, second) {
                var firstListIndex = predefinedList.indexOf(first);
                var secondListIndex = predefinedList.indexOf(second);
                var isFirstInList = Boolean(~firstListIndex);
                var isSecondInList = Boolean(~secondListIndex);
                switch (true) {
                    case isFirstInList && isSecondInList:
                        return firstListIndex > secondListIndex ? [first, second] : [second, first];
                    case isFirstInList && !isSecondInList:
                        return [second, first];
                    case !isFirstInList && isSecondInList:
                        return [first, second];
                    default:
                        return compareUint8Arrays(Base58.decode(first), Base58.decode(second)) ? [first, second] : [second, first];
                }
            };

            var curry = function curry(f) {
                var slice = Array.prototype.slice,
                    self = f,
                    totalargs = self.length,
                    partial = function partial(args, fn) {
                    return function () {
                        return fn.apply({}, args.concat(slice.call(arguments)));
                    };
                },
                    fn = function fn() {
                    var args = slice.call(arguments);
                    return args.length < totalargs ? partial(args, fn) : self.apply({}, slice.apply(arguments, [0, totalargs]));
                };
                return fn;
            };
            module.exports.createOrderPair = curry(orderPair);
            module.exports.MAINNET_DATA = MAINNET_DATA;
            module.exports.TESTNET_DATA = TESTNET_DATA;
            module.exports.ARBITRARY_DATA = ARBITRARY_DATA;
        }, { "./arbitrary.json": 27, "./mainnet.json": 29, "./testnet.json": 30, "./utils": 31, "bs58": 46 }], 29: [function (require, module, exports) {
            module.exports = [{ "ticker": "USD", "id": "Ft8X1v1LTa1ABafufpaCWyVj8KkaxUWE6xBhW6sNFJck" }, { "ticker": "EUR", "id": "Gtb1WRznfchDnTh37ezoDTJ4wcoKaRsKqKjJjy7nm2zU" }, { "ticker": "CNY", "id": "DEJbZipbKQjwEiRjx2AqQFucrj5CZ3rAc4ZvFM8nAsoA" }, { "ticker": "TRY", "id": "2mX5DzVKWrAJw8iwdJnV2qtoeVG9h5nTDpTqC1wb1WEN" }, { "ticker": "BTC", "id": "8LQW8f7P5d5PZM7GtZEBgaqRPGSzS3DfPuiXrURJ4AJS" }, { "ticker": "WAVES", "id": "WAVES" }, { "ticker": "BCH", "id": "zMFqXuoyrn5w17PFurTqxB7GsS71fp9dfk6XFwxbPCy" }, { "ticker": "ETH", "id": "474jTeYx2r2Va35794tCScAXWJG9hU2HcgxzMowaZUnu" }, { "ticker": "LTC", "id": "HZk1mbfuJpmxU1Fs4AX5MWLVYtctsNcg6e2C6VKqK8zk" }, { "ticker": "DASH", "id": "B3uGHFRpSUuGEDWjqB9LWWxafQj8VTvpMucEyoxzws5H" }, { "ticker": "Monero", "id": "5WvPKSJXzVE2orvbkJ8wsQmmQKqTv9sGBPksV4adViw3" }, { "ticker": "ZEC", "id": "BrjUWjndUanm5VsJkbUip8VRYy6LWJePtxya3FNv4TQa" }];
        }, {}], 30: [function (require, module, exports) {
            module.exports = [{ "ticker": "WAVES", "id": "WAVES" }, { "ticker": "BTC", "id": "Fmg13HEHJHuZYbtJq8Da8wifJENq8uBxDuWoP9pVe2Qe" }, { "ticker": "USD", "id": "HyFJ3rrq5m7FxdkWtQXkZrDat1F7LjVVGfpSkUuEXQHj" }, { "ticker": "EUR", "id": "2xnE3EdpqXtFgCP156qt1AbyjpqdZ5jGjWo3CwTawcux" }, { "ticker": "CNY", "id": "6pmDivReTLikwYqQtJTv6dTcE59knriaodB3AK8T9cF8" }];
        }, {}], 31: [function (require, module, exports) {
            var WAVES_ID_TYPE = null;

            var compareUint8Arrays = function compareUint8Arrays(arr1, arr2) {
                //  true    - arr1 bigger
                //  false    - arr2 bigger
                return arr1.toString('hex') > arr2.toString('hex');
            };
            var isPair = function isPair(o) {
                return Array.isArray(o) && o.length === 2 && o.every(function (id) {
                    return typeof id === 'string' || id === WAVES_ID_TYPE;
                });
            };
            var isEmptyArray = function isEmptyArray(a) {
                return Array.isArray(a) && a.length === 0;
            };

            module.exports = {
                compareUint8Arrays: compareUint8Arrays,
                isPair: isPair,
                isEmptyArray: isEmptyArray
            };
        }, {}], 32: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var utils_1 = require("./utils");
            var types_1 = require("./types");
            exports.createRequest = function (methodUrl, params) {
                var URL_MAX_LENGTH = 2000;
                if (typeof params === 'undefined') {
                    return { url: methodUrl, method: types_1.HttpMethods.Get };
                }
                var getUrl = "" + methodUrl + utils_1.createQS(params);
                return getUrl.length > URL_MAX_LENGTH ? {
                    url: methodUrl,
                    method: types_1.HttpMethods.Post,
                    body: JSON.stringify(params),
                    headers: {
                        'Content-Type': 'application/json',
                        Accept: 'application/json, text/plain, */*'
                    }
                } : { url: getUrl, method: types_1.HttpMethods.Get };
            };
        }, { "./types": 42, "./utils": 43 }], 33: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            function __export(m) {
                for (var p in m) {
                    if (!exports.hasOwnProperty(p)) exports[p] = m[p];
                }
            }
            Object.defineProperty(exports, "__esModule", { value: true });
            var utils_1 = require("./utils");
            var transform_1 = require("./transform");
            exports.defaultTransform = transform_1.default;
            var getAssets_1 = require("./methods/getAssets");
            var getPairs_1 = require("./methods/getPairs");
            var getExchangeTxs_1 = require("./methods/getExchangeTxs");
            var getTransferTxs_1 = require("./methods/getTransferTxs");
            var getMassTransferTxs_1 = require("./methods/getMassTransferTxs");
            var getAliases_1 = require("./methods/getAliases");
            var DataServiceClient = /** @class */function () {
                function DataServiceClient(params) {
                    var options = __assign({}, params);
                    if (!options.rootUrl) {
                        throw new Error('No rootUrl was presented in options object. Check constructor call.');
                    }
                    // Add defaults
                    if (!options.transform) {
                        options.transform = transform_1.default;
                    }
                    if (!options.fetch) {
                        options.fetch = utils_1.defaultFetch;
                    }
                    if (!options.parse) {
                        options.parse = utils_1.defaultParse;
                    }
                    // Create methods
                    this.getAssets = getAssets_1.default(options);
                    this.getPairs = getPairs_1.default(options);
                    this.getExchangeTxs = getExchangeTxs_1.default(options);
                    this.getTransferTxs = getTransferTxs_1.default(options);
                    this.getMassTransferTxs = getMassTransferTxs_1.default(options);
                    this.aliases = getAliases_1.default(options);
                }
                return DataServiceClient;
            }();
            exports.default = DataServiceClient;
            __export(require("./types"));
        }, { "./methods/getAliases": 35, "./methods/getAssets": 36, "./methods/getExchangeTxs": 37, "./methods/getMassTransferTxs": 38, "./methods/getPairs": 39, "./methods/getTransferTxs": 40, "./transform": 41, "./types": 42, "./utils": 43 }], 34: [function (require, module, exports) {
            "use strict";

            var __rest = this && this.__rest || function (s, e) {
                var t = {};
                for (var p in s) {
                    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
                }if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];
                }return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var utils_1 = require("../utils");
            var createMethod = function createMethod(_a) {
                var _b = _a.validate,
                    validate = _b === void 0 ? utils_1.T : _b,
                    generateRequest = _a.generateRequest,
                    libOptions = _a.libOptions,
                    addPaginationToArgs = _a.addPaginationToArgs;
                function method() {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return utils_1.pipeP(validate, generateRequest(libOptions.rootUrl), function (_a) {
                        var url = _a.url,
                            options = __rest(_a, ["url"]);
                        return libOptions.fetch(url, options);
                    }, libOptions.parse, function (rawData) {
                        return utils_1.pipeP(libOptions.transform, addPagination({ method: method, args: args, addPaginationToArgs: addPaginationToArgs, rawData: rawData }))(rawData);
                    }).apply(void 0, args);
                }
                return method;
            };
            exports.createMethod = createMethod;
            var addPagination = function addPagination(_a) {
                var method = _a.method,
                    args = _a.args,
                    addPaginationToArgs = _a.addPaginationToArgs,
                    rawData = _a.rawData;
                return function (data) {
                    if (!data || !addPaginationToArgs || !rawData || !rawData.lastCursor) {
                        return { data: data };
                    }
                    return {
                        data: data,
                        fetchMore: function fetchMore(count) {
                            return method(addPaginationToArgs({ args: args, cursor: rawData.lastCursor, count: count }));
                        }
                    };
                };
            };
        }, { "../utils": 43 }], 35: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var utils_1 = require("../utils");
            var createMethod_1 = require("./createMethod");
            var createRequest_1 = require("../createRequest");
            var validateId = function validateId(id) {
                return utils_1.isNotString(id) ? Promise.reject(new Error('ArgumentsError: aliasId should be string')) : Promise.resolve(id);
            };
            var validateByAddressParams = function validateByAddressParams(_a) {
                var address = _a[0],
                    options = _a[1];
                return utils_1.isNotString(address) ? Promise.reject(new Error('ArgumentsError: address should be string')) : Promise.resolve([address, options]);
            };
            var createRequestForId = function createRequestForId(rootUrl) {
                return function (id) {
                    return createRequest_1.createRequest(rootUrl + "/aliases/" + id);
                };
            };
            var createRequestForAddress = function createRequestForAddress(rootUrl) {
                return function (_a) {
                    var address = _a[0],
                        showBroken = _a[1].showBroken;
                    return createRequest_1.createRequest(rootUrl + "/aliases", {
                        address: address,
                        showBroken: showBroken
                    });
                };
            };
            var createGetAliases = function createGetAliases(libOptions) {
                return {
                    getById: createMethod_1.createMethod({
                        validate: validateId,
                        generateRequest: createRequestForId,
                        libOptions: libOptions
                    }),
                    getByAddress: function getByAddress(address, options) {
                        if (options === void 0) {
                            options = {};
                        }
                        return createMethod_1.createMethod({
                            validate: validateByAddressParams,
                            generateRequest: createRequestForAddress,
                            libOptions: libOptions
                        })(address, options);
                    }
                };
            };
            exports.default = createGetAliases;
        }, { "../createRequest": 32, "../utils": 43, "./createMethod": 34 }], 36: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var utils_1 = require("../utils");
            var createMethod_1 = require("./createMethod");
            var createRequest_1 = require("../createRequest");
            var validateIds = function validateIds(idOrIds) {
                var arrayToCheck = Array.isArray(idOrIds) ? idOrIds : [idOrIds];
                return arrayToCheck.some(utils_1.isNotString) ? Promise.reject(new Error('ArgumentsError: AssetId should be string')) : Promise.resolve(arrayToCheck);
            };
            var createRequestForMany = function createRequestForMany(rootUrl) {
                return function (ids) {
                    return createRequest_1.createRequest(rootUrl + "/assets", { ids: ids });
                };
            };
            var createGetAssets = function createGetAssets(libOptions) {
                return createMethod_1.createMethod({
                    validate: validateIds,
                    generateRequest: createRequestForMany,
                    libOptions: libOptions
                });
            };
            exports.default = createGetAssets;
        }, { "../createRequest": 32, "../utils": 43, "./createMethod": 34 }], 37: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var createMethod_1 = require("./createMethod");
            var createRequest_1 = require("../createRequest");
            // One
            var validateId = function validateId(id) {
                return typeof id === 'string' ? Promise.resolve(id) : Promise.reject('Wrong id');
            };
            var generateRequestOne = function generateRequestOne(rootUrl) {
                return function (id) {
                    return createRequest_1.createRequest(rootUrl + "/transactions/exchange/" + id);
                };
            };
            //Many
            var isFilters = function isFilters(filters) {
                var possibleFilters = ['timeStart', 'timeEnd', 'limit', 'sort', 'matcher', 'sender', 'amountAsset', 'priceAsset', 'after'];
                return (typeof filters === "undefined" ? "undefined" : _typeof(filters)) === 'object' && Object.keys(filters).every(function (k) {
                    return possibleFilters.includes(k);
                });
            };
            var validateFilters = function validateFilters(filters) {
                return isFilters(filters) ? Promise.resolve(filters) : Promise.reject('Wrong filters object');
            };
            var generateRequestMany = function generateRequestMany(rootUrl) {
                return function (filters) {
                    return createRequest_1.createRequest(rootUrl + "/transactions/exchange", filters);
                };
            };
            var createGetExchangeTxs = function createGetExchangeTxs(libOptions) {
                var getExchangeTxsOne = createMethod_1.createMethod({
                    validate: validateId,
                    generateRequest: generateRequestOne,
                    libOptions: libOptions
                });
                var getExchangeTxsMany = createMethod_1.createMethod({
                    validate: validateFilters,
                    generateRequest: generateRequestMany,
                    libOptions: libOptions,
                    addPaginationToArgs: function addPaginationToArgs(_a) {
                        var filters = _a.args[0],
                            cursor = _a.cursor,
                            count = _a.count;
                        return __assign({}, filters, { after: cursor }, count ? { limit: count } : {});
                    }
                });
                var getExchangeTxs = function getExchangeTxs(idOrFilters) {
                    if (idOrFilters === void 0) {
                        idOrFilters = {};
                    }
                    return typeof idOrFilters === 'string' ? getExchangeTxsOne(idOrFilters) : getExchangeTxsMany(idOrFilters);
                };
                return getExchangeTxs;
            };
            exports.default = createGetExchangeTxs;
        }, { "../createRequest": 32, "./createMethod": 34 }], 38: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var createMethod_1 = require("./createMethod");
            var createRequest_1 = require("../createRequest");
            // One
            var validateId = function validateId(id) {
                return typeof id === 'string' ? Promise.resolve(id) : Promise.reject('Wrong id');
            };
            var generateRequestOne = function generateRequestOne(rootUrl) {
                return function (id) {
                    return createRequest_1.createRequest(rootUrl + "/transactions/mass-transfer/" + id);
                };
            };
            //Many
            var isFilters = function isFilters(filters) {
                var possibleFilters = ['sender', 'assetId', 'recipient', 'after', 'timeStart', 'timeEnd', 'sort', 'limit'];
                return (typeof filters === "undefined" ? "undefined" : _typeof(filters)) === 'object' && Object.keys(filters).every(function (k) {
                    return possibleFilters.includes(k);
                });
            };
            var validateFilters = function validateFilters(filters) {
                return isFilters(filters) ? Promise.resolve(filters) : Promise.reject('Wrong filters object');
            };
            var generateRequestMany = function generateRequestMany(rootUrl) {
                return function (filters) {
                    return createRequest_1.createRequest(rootUrl + "/transactions/mass-transfer", filters);
                };
            };
            var createGetMassTransferTxs = function createGetMassTransferTxs(libOptions) {
                var getMassTransferTxsOne = createMethod_1.createMethod({
                    validate: validateId,
                    generateRequest: generateRequestOne,
                    libOptions: libOptions
                });
                var getMassTransferTxsMany = createMethod_1.createMethod({
                    validate: validateFilters,
                    generateRequest: generateRequestMany,
                    libOptions: libOptions,
                    addPaginationToArgs: function addPaginationToArgs(_a) {
                        var filters = _a.args[0],
                            cursor = _a.cursor,
                            count = _a.count;
                        return __assign({}, filters, { after: cursor }, count ? { limit: count } : {});
                    }
                });
                var getMassTransferTxs = function getMassTransferTxs(idOrFilters) {
                    if (idOrFilters === void 0) {
                        idOrFilters = {};
                    }
                    return typeof idOrFilters === 'string' ? getMassTransferTxsOne(idOrFilters) : getMassTransferTxsMany(idOrFilters);
                };
                return getMassTransferTxs;
            };
            exports.default = createGetMassTransferTxs;
        }, { "../createRequest": 32, "./createMethod": 34 }], 39: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var createMethod_1 = require("./createMethod");
            var createRequest_1 = require("../createRequest");
            var isAssetPair = function isAssetPair(pair) {
                switch (true) {
                    case typeof pair === 'string':
                        return pair.split('/').length === 2;
                    case (typeof pair === "undefined" ? "undefined" : _typeof(pair)) === 'object':
                        return data_entities_1.AssetPair.isAssetPair(pair);
                    default:
                        return false;
                }
            };
            var validatePairs = function validatePairs(pairOrPairs) {
                var arrayToCheck = Array.isArray(pairOrPairs) ? pairOrPairs : [pairOrPairs];
                return arrayToCheck.every(isAssetPair) ? Promise.resolve(arrayToCheck) : Promise.reject(new Error('ArgumentsError: AssetPair should be object with amountAsset, priceAsset'));
            };
            var createRequestForMany = function createRequestForMany(nodeUrl) {
                return function (pairs) {
                    return createRequest_1.createRequest(nodeUrl + "/pairs", { pairs: pairs.map(function (p) {
                            return p.toString();
                        }) });
                };
            };
            var getPairs = function getPairs(libOptions) {
                return createMethod_1.createMethod({
                    validate: validatePairs,
                    generateRequest: createRequestForMany,
                    libOptions: libOptions
                });
            };
            exports.default = getPairs;
        }, { "../createRequest": 32, "./createMethod": 34, "@waves/data-entities": undefined }], 40: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var createMethod_1 = require("./createMethod");
            var createRequest_1 = require("../createRequest");
            // One
            var validateId = function validateId(id) {
                return typeof id === 'string' ? Promise.resolve(id) : Promise.reject('Wrong id');
            };
            var generateRequestOne = function generateRequestOne(rootUrl) {
                return function (id) {
                    return createRequest_1.createRequest(rootUrl + "/transactions/transfer/" + id);
                };
            };
            //Many
            var isFilters = function isFilters(filters) {
                var possibleFilters = ['sender', 'assetId', 'recipient', 'after', 'timeStart', 'timeEnd', 'sort', 'limit'];
                return (typeof filters === "undefined" ? "undefined" : _typeof(filters)) === 'object' && Object.keys(filters).every(function (k) {
                    return possibleFilters.includes(k);
                });
            };
            var validateFilters = function validateFilters(filters) {
                return isFilters(filters) ? Promise.resolve(filters) : Promise.reject('Wrong filters object');
            };
            var generateRequestMany = function generateRequestMany(rootUrl) {
                return function (filters) {
                    return createRequest_1.createRequest(rootUrl + "/transactions/transfer", filters);
                };
            };
            var createGetTransferTxs = function createGetTransferTxs(libOptions) {
                var getTransferTxsOne = createMethod_1.createMethod({
                    validate: validateId,
                    generateRequest: generateRequestOne,
                    libOptions: libOptions
                });
                var getTransferTxsMany = createMethod_1.createMethod({
                    validate: validateFilters,
                    generateRequest: generateRequestMany,
                    libOptions: libOptions,
                    addPaginationToArgs: function addPaginationToArgs(_a) {
                        var filters = _a.args[0],
                            cursor = _a.cursor,
                            count = _a.count;
                        return __assign({}, filters, { after: cursor }, count ? { limit: count } : {});
                    }
                });
                var getTransferTxs = function getTransferTxs(idOrFilters) {
                    if (idOrFilters === void 0) {
                        idOrFilters = {};
                    }
                    return typeof idOrFilters === 'string' ? getTransferTxsOne(idOrFilters) : getTransferTxsMany(idOrFilters);
                };
                return getTransferTxs;
            };
            exports.default = createGetTransferTxs;
        }, { "../createRequest": 32, "./createMethod": 34 }], 41: [function (require, module, exports) {
            "use strict";

            var __assign = this && this.__assign || Object.assign || function (t) {
                for (var s, i = 1, n = arguments.length; i < n; i++) {
                    s = arguments[i];
                    for (var p in s) {
                        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
                    }
                }
                return t;
            };
            var __rest = this && this.__rest || function (s, e) {
                var t = {};
                for (var p in s) {
                    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
                }if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];
                }return t;
            };
            Object.defineProperty(exports, "__esModule", { value: true });
            var data_entities_1 = require("@waves/data-entities");
            var types_1 = require("./types");
            var utils_1 = require("./utils");
            var transformer = function transformer(_a) {
                var __type = _a.__type,
                    data = _a.data,
                    rest = __rest(_a, ["__type", "data"]);
                switch (__type) {
                    case types_1.ApiTypes.List:
                        return data.map(transformer);
                    case types_1.ApiTypes.Asset:
                        return transformAsset(data);
                    case types_1.ApiTypes.Alias:
                        return data;
                    case types_1.ApiTypes.Pair:
                        return transformPair(data);
                    case types_1.ApiTypes.Transaction:
                        return data;
                    default:
                        return __assign({ __type: __type, data: data }, rest);
                }
            };
            var transformAsset = function transformAsset(data) {
                return data === null ? null : new data_entities_1.Asset(data);
            };
            var transformPair = utils_1.id;
            exports.default = transformer;
        }, { "./types": 42, "./utils": 43, "@waves/data-entities": undefined }], 42: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            var ApiTypes;
            (function (ApiTypes) {
                ApiTypes["List"] = "list";
                ApiTypes["Asset"] = "asset";
                ApiTypes["Pair"] = "pair";
                ApiTypes["Transaction"] = "transaction";
                ApiTypes["Alias"] = "alias";
            })(ApiTypes = exports.ApiTypes || (exports.ApiTypes = {}));
            var HttpMethods;
            (function (HttpMethods) {
                HttpMethods["Get"] = "GET";
                HttpMethods["Post"] = "POST";
            })(HttpMethods = exports.HttpMethods || (exports.HttpMethods = {}));
        }, {}], 43: [function (require, module, exports) {
            "use strict";

            Object.defineProperty(exports, "__esModule", { value: true });
            exports.noop = function () {};
            exports.defaultFetch = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return fetch.apply(void 0, args).then(function (res) {
                    return res.ok ? res.text() : res.text().then(function (str) {
                        return Promise.reject(new Error(str));
                    });
                });
            };
            exports.defaultParse = JSON.parse.bind(JSON);
            exports.isNotString = function (value) {
                return typeof value !== 'string';
            };
            exports.pipeP = function () {
                var fns = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    fns[_i] = arguments[_i];
                }
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return fns.reduce(function (prev, fn) {
                        return prev.then(fn);
                    }, Promise.resolve(args.length === 1 ? args[0] : args));
                };
            };
            exports.some = function (predicate) {
                return function (arr) {
                    return arr.some(predicate);
                };
            };
            /**
             * @param obj flat object with primitives or arrays of primitives as values
             * @returns query string for obj
             */
            /**
             * customSerialize :: a -> string
             */
            var customSerialize = function customSerialize(v) {
                switch (true) {
                    case v instanceof Date:
                        return v.toISOString();
                    default:
                        return v;
                }
            };
            var createKeyValue = function createKeyValue(key, v) {
                return key + "=" + customSerialize(v);
            };
            exports.createQS = function (obj) {
                var qs = Object.entries(obj).filter(function (_a) {
                    var _ = _a[0],
                        value = _a[1];
                    return value !== undefined;
                }).map(function (_a) {
                    var key = _a[0],
                        valueOrValues = _a[1];
                    return Array.isArray(valueOrValues) ? valueOrValues.map(function (v) {
                        return createKeyValue(key, v);
                    }).join('&') : createKeyValue(key, valueOrValues);
                }).join('&');
                return qs === '' ? qs : "?" + qs;
            };
            exports.id = function (_) {
                return _;
            };
            exports.T = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return true;
            };
        }, {}], 44: [function (require, module, exports) {
            // base-x encoding / decoding
            // Copyright (c) 2018 base-x contributors
            // Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)
            // Distributed under the MIT software license, see the accompanying
            // file LICENSE or http://www.opensource.org/licenses/mit-license.php.

            var Buffer = require('safe-buffer').Buffer;

            module.exports = function base(ALPHABET) {
                if (ALPHABET.length >= 255) throw new TypeError('Alphabet too long');

                var BASE_MAP = new Uint8Array(256);
                BASE_MAP.fill(255);

                for (var i = 0; i < ALPHABET.length; i++) {
                    var x = ALPHABET.charAt(i);
                    var xc = x.charCodeAt(0);

                    if (BASE_MAP[xc] !== 255) throw new TypeError(x + ' is ambiguous');
                    BASE_MAP[xc] = i;
                }

                var BASE = ALPHABET.length;
                var LEADER = ALPHABET.charAt(0);
                var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up
                var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up

                function encode(source) {
                    if (!Buffer.isBuffer(source)) throw new TypeError('Expected Buffer');
                    if (source.length === 0) return '';

                    // Skip & count leading zeroes.
                    var zeroes = 0;
                    var length = 0;
                    var pbegin = 0;
                    var pend = source.length;

                    while (pbegin !== pend && source[pbegin] === 0) {
                        pbegin++;
                        zeroes++;
                    }

                    // Allocate enough space in big-endian base58 representation.
                    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;
                    var b58 = new Uint8Array(size);

                    // Process the bytes.
                    while (pbegin !== pend) {
                        var carry = source[pbegin];

                        // Apply "b58 = b58 * 256 + ch".
                        var _i2 = 0;
                        for (var _it = size - 1; (carry !== 0 || _i2 < length) && _it !== -1; _it--, _i2++) {
                            carry += 256 * b58[_it] >>> 0;
                            b58[_it] = carry % BASE >>> 0;
                            carry = carry / BASE >>> 0;
                        }

                        if (carry !== 0) throw new Error('Non-zero carry');
                        length = _i2;
                        pbegin++;
                    }

                    // Skip leading zeroes in base58 result.
                    var it = size - length;
                    while (it !== size && b58[it] === 0) {
                        it++;
                    }

                    // Translate the result into a string.
                    var str = LEADER.repeat(zeroes);
                    for (; it < size; ++it) {
                        str += ALPHABET.charAt(b58[it]);
                    }return str;
                }

                function decodeUnsafe(source) {
                    if (typeof source !== 'string') throw new TypeError('Expected String');
                    if (source.length === 0) return Buffer.alloc(0);

                    var psz = 0;

                    // Skip leading spaces.
                    if (source[psz] === ' ') return;

                    // Skip and count leading '1's.
                    var zeroes = 0;
                    var length = 0;
                    while (source[psz] === LEADER) {
                        zeroes++;
                        psz++;
                    }

                    // Allocate enough space in big-endian base256 representation.
                    var size = (source.length - psz) * FACTOR + 1 >>> 0; // log(58) / log(256), rounded up.
                    var b256 = new Uint8Array(size);

                    // Process the characters.
                    while (source[psz]) {
                        // Decode character
                        var carry = BASE_MAP[source.charCodeAt(psz)];

                        // Invalid character
                        if (carry === 255) return;

                        var _i3 = 0;
                        for (var _it2 = size - 1; (carry !== 0 || _i3 < length) && _it2 !== -1; _it2--, _i3++) {
                            carry += BASE * b256[_it2] >>> 0;
                            b256[_it2] = carry % 256 >>> 0;
                            carry = carry / 256 >>> 0;
                        }

                        if (carry !== 0) throw new Error('Non-zero carry');
                        length = _i3;
                        psz++;
                    }

                    // Skip trailing spaces.
                    if (source[psz] === ' ') return;

                    // Skip leading zeroes in b256.
                    var it = size - length;
                    while (it !== size && b256[it] === 0) {
                        it++;
                    }

                    var vch = Buffer.allocUnsafe(zeroes + (size - it));
                    vch.fill(0x00, 0, zeroes);

                    var j = zeroes;
                    while (it !== size) {
                        vch[j++] = b256[it++];
                    }

                    return vch;
                }

                function decode(string) {
                    var buffer = decodeUnsafe(string);
                    if (buffer) return buffer;

                    throw new Error('Non-base' + BASE + ' character');
                }

                return {
                    encode: encode,
                    decodeUnsafe: decodeUnsafe,
                    decode: decode
                };
            };
        }, { "safe-buffer": 49 }], 45: [function (require, module, exports) {
            'use strict';

            exports.byteLength = byteLength;
            exports.toByteArray = toByteArray;
            exports.fromByteArray = fromByteArray;

            var lookup = [];
            var revLookup = [];
            var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;

            var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
            for (var i = 0, len = code.length; i < len; ++i) {
                lookup[i] = code[i];
                revLookup[code.charCodeAt(i)] = i;
            }

            // Support decoding URL-safe base64 strings, as Node.js does.
            // See: https://en.wikipedia.org/wiki/Base64#URL_applications
            revLookup['-'.charCodeAt(0)] = 62;
            revLookup['_'.charCodeAt(0)] = 63;

            function getLens(b64) {
                var len = b64.length;

                if (len % 4 > 0) {
                    throw new Error('Invalid string. Length must be a multiple of 4');
                }

                // Trim off extra bytes after placeholder bytes are found
                // See: https://github.com/beatgammit/base64-js/issues/42
                var validLen = b64.indexOf('=');
                if (validLen === -1) validLen = len;

                var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;

                return [validLen, placeHoldersLen];
            }

            // base64 is 4/3 + up to two characters of the original data
            function byteLength(b64) {
                var lens = getLens(b64);
                var validLen = lens[0];
                var placeHoldersLen = lens[1];
                return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
            }

            function _byteLength(b64, validLen, placeHoldersLen) {
                return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
            }

            function toByteArray(b64) {
                var tmp;
                var lens = getLens(b64);
                var validLen = lens[0];
                var placeHoldersLen = lens[1];

                var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));

                var curByte = 0;

                // if there are placeholders, only get up to the last complete 4 chars
                var len = placeHoldersLen > 0 ? validLen - 4 : validLen;

                for (var i = 0; i < len; i += 4) {
                    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];
                    arr[curByte++] = tmp >> 16 & 0xFF;
                    arr[curByte++] = tmp >> 8 & 0xFF;
                    arr[curByte++] = tmp & 0xFF;
                }

                if (placeHoldersLen === 2) {
                    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;
                    arr[curByte++] = tmp & 0xFF;
                }

                if (placeHoldersLen === 1) {
                    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;
                    arr[curByte++] = tmp >> 8 & 0xFF;
                    arr[curByte++] = tmp & 0xFF;
                }

                return arr;
            }

            function tripletToBase64(num) {
                return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];
            }

            function encodeChunk(uint8, start, end) {
                var tmp;
                var output = [];
                for (var i = start; i < end; i += 3) {
                    tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);
                    output.push(tripletToBase64(tmp));
                }
                return output.join('');
            }

            function fromByteArray(uint8) {
                var tmp;
                var len = uint8.length;
                var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes
                var parts = [];
                var maxChunkLength = 16383; // must be multiple of 3

                // go through the array every three bytes, we'll deal with trailing stuff later
                for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
                    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));
                }

                // pad the end with zeros, but make sure to not forget the extra bytes
                if (extraBytes === 1) {
                    tmp = uint8[len - 1];
                    parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');
                } else if (extraBytes === 2) {
                    tmp = (uint8[len - 2] << 8) + uint8[len - 1];
                    parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');
                }

                return parts.join('');
            }
        }, {}], 46: [function (require, module, exports) {
            var basex = require('base-x');
            var ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';

            module.exports = basex(ALPHABET);
        }, { "base-x": 44 }], 47: [function (require, module, exports) {
            /*!
             * The buffer module from node.js, for the browser.
             *
             * @author   Feross Aboukhadijeh <https://feross.org>
             * @license  MIT
             */
            /* eslint-disable no-proto */

            'use strict';

            var base64 = require('base64-js');
            var ieee754 = require('ieee754');

            exports.Buffer = Buffer;
            exports.SlowBuffer = SlowBuffer;
            exports.INSPECT_MAX_BYTES = 50;

            var K_MAX_LENGTH = 0x7fffffff;
            exports.kMaxLength = K_MAX_LENGTH;

            /**
             * If `Buffer.TYPED_ARRAY_SUPPORT`:
             *   === true    Use Uint8Array implementation (fastest)
             *   === false   Print warning and recommend using `buffer` v4.x which has an Object
             *               implementation (most compatible, even IE6)
             *
             * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
             * Opera 11.6+, iOS 4.2+.
             *
             * We report that the browser does not support typed arrays if the are not subclassable
             * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
             * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
             * for __proto__ and has a buggy typed array implementation.
             */
            Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport();

            if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' && typeof console.error === 'function') {
                console.error('This browser lacks typed array (Uint8Array) support which is required by ' + '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.');
            }

            function typedArraySupport() {
                // Can typed array instances can be augmented?
                try {
                    var arr = new Uint8Array(1);
                    arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function foo() {
                            return 42;
                        } };
                    return arr.foo() === 42;
                } catch (e) {
                    return false;
                }
            }

            Object.defineProperty(Buffer.prototype, 'parent', {
                enumerable: true,
                get: function get() {
                    if (!Buffer.isBuffer(this)) return undefined;
                    return this.buffer;
                }
            });

            Object.defineProperty(Buffer.prototype, 'offset', {
                enumerable: true,
                get: function get() {
                    if (!Buffer.isBuffer(this)) return undefined;
                    return this.byteOffset;
                }
            });

            function createBuffer(length) {
                if (length > K_MAX_LENGTH) {
                    throw new RangeError('The value "' + length + '" is invalid for option "size"');
                }
                // Return an augmented `Uint8Array` instance
                var buf = new Uint8Array(length);
                buf.__proto__ = Buffer.prototype;
                return buf;
            }

            /**
             * The Buffer constructor returns instances of `Uint8Array` that have their
             * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
             * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
             * and the `Uint8Array` methods. Square bracket notation works as expected -- it
             * returns a single octet.
             *
             * The `Uint8Array` prototype remains unmodified.
             */

            function Buffer(arg, encodingOrOffset, length) {
                // Common case.
                if (typeof arg === 'number') {
                    if (typeof encodingOrOffset === 'string') {
                        throw new TypeError('The "string" argument must be of type string. Received type number');
                    }
                    return allocUnsafe(arg);
                }
                return from(arg, encodingOrOffset, length);
            }

            // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
            if (typeof Symbol !== 'undefined' && Symbol.species != null && Buffer[Symbol.species] === Buffer) {
                Object.defineProperty(Buffer, Symbol.species, {
                    value: null,
                    configurable: true,
                    enumerable: false,
                    writable: false
                });
            }

            Buffer.poolSize = 8192; // not used by this implementation

            function from(value, encodingOrOffset, length) {
                if (typeof value === 'string') {
                    return fromString(value, encodingOrOffset);
                }

                if (ArrayBuffer.isView(value)) {
                    return fromArrayLike(value);
                }

                if (value == null) {
                    throw TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' + 'or Array-like Object. Received type ' + (typeof value === "undefined" ? "undefined" : _typeof(value)));
                }

                if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {
                    return fromArrayBuffer(value, encodingOrOffset, length);
                }

                if (typeof value === 'number') {
                    throw new TypeError('The "value" argument must not be of type number. Received type number');
                }

                var valueOf = value.valueOf && value.valueOf();
                if (valueOf != null && valueOf !== value) {
                    return Buffer.from(valueOf, encodingOrOffset, length);
                }

                var b = fromObject(value);
                if (b) return b;

                if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === 'function') {
                    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length);
                }

                throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' + 'or Array-like Object. Received type ' + (typeof value === "undefined" ? "undefined" : _typeof(value)));
            }

            /**
             * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
             * if value is a number.
             * Buffer.from(str[, encoding])
             * Buffer.from(array)
             * Buffer.from(buffer)
             * Buffer.from(arrayBuffer[, byteOffset[, length]])
             **/
            Buffer.from = function (value, encodingOrOffset, length) {
                return from(value, encodingOrOffset, length);
            };

            // Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
            // https://github.com/feross/buffer/pull/148
            Buffer.prototype.__proto__ = Uint8Array.prototype;
            Buffer.__proto__ = Uint8Array;

            function assertSize(size) {
                if (typeof size !== 'number') {
                    throw new TypeError('"size" argument must be of type number');
                } else if (size < 0) {
                    throw new RangeError('The value "' + size + '" is invalid for option "size"');
                }
            }

            function alloc(size, fill, encoding) {
                assertSize(size);
                if (size <= 0) {
                    return createBuffer(size);
                }
                if (fill !== undefined) {
                    // Only pay attention to encoding if it's a string. This
                    // prevents accidentally sending in a number that would
                    // be interpretted as a start offset.
                    return typeof encoding === 'string' ? createBuffer(size).fill(fill, encoding) : createBuffer(size).fill(fill);
                }
                return createBuffer(size);
            }

            /**
             * Creates a new filled Buffer instance.
             * alloc(size[, fill[, encoding]])
             **/
            Buffer.alloc = function (size, fill, encoding) {
                return alloc(size, fill, encoding);
            };

            function allocUnsafe(size) {
                assertSize(size);
                return createBuffer(size < 0 ? 0 : checked(size) | 0);
            }

            /**
             * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
             * */
            Buffer.allocUnsafe = function (size) {
                return allocUnsafe(size);
            };
            /**
             * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
             */
            Buffer.allocUnsafeSlow = function (size) {
                return allocUnsafe(size);
            };

            function fromString(string, encoding) {
                if (typeof encoding !== 'string' || encoding === '') {
                    encoding = 'utf8';
                }

                if (!Buffer.isEncoding(encoding)) {
                    throw new TypeError('Unknown encoding: ' + encoding);
                }

                var length = byteLength(string, encoding) | 0;
                var buf = createBuffer(length);

                var actual = buf.write(string, encoding);

                if (actual !== length) {
                    // Writing a hex string, for example, that contains invalid characters will
                    // cause everything after the first invalid character to be ignored. (e.g.
                    // 'abxxcd' will be treated as 'ab')
                    buf = buf.slice(0, actual);
                }

                return buf;
            }

            function fromArrayLike(array) {
                var length = array.length < 0 ? 0 : checked(array.length) | 0;
                var buf = createBuffer(length);
                for (var i = 0; i < length; i += 1) {
                    buf[i] = array[i] & 255;
                }
                return buf;
            }

            function fromArrayBuffer(array, byteOffset, length) {
                if (byteOffset < 0 || array.byteLength < byteOffset) {
                    throw new RangeError('"offset" is outside of buffer bounds');
                }

                if (array.byteLength < byteOffset + (length || 0)) {
                    throw new RangeError('"length" is outside of buffer bounds');
                }

                var buf;
                if (byteOffset === undefined && length === undefined) {
                    buf = new Uint8Array(array);
                } else if (length === undefined) {
                    buf = new Uint8Array(array, byteOffset);
                } else {
                    buf = new Uint8Array(array, byteOffset, length);
                }

                // Return an augmented `Uint8Array` instance
                buf.__proto__ = Buffer.prototype;
                return buf;
            }

            function fromObject(obj) {
                if (Buffer.isBuffer(obj)) {
                    var len = checked(obj.length) | 0;
                    var buf = createBuffer(len);

                    if (buf.length === 0) {
                        return buf;
                    }

                    obj.copy(buf, 0, 0, len);
                    return buf;
                }

                if (obj.length !== undefined) {
                    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
                        return createBuffer(0);
                    }
                    return fromArrayLike(obj);
                }

                if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
                    return fromArrayLike(obj.data);
                }
            }

            function checked(length) {
                // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
                // length is NaN (which is otherwise coerced to zero.)
                if (length >= K_MAX_LENGTH) {
                    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');
                }
                return length | 0;
            }

            function SlowBuffer(length) {
                if (+length != length) {
                    // eslint-disable-line eqeqeq
                    length = 0;
                }
                return Buffer.alloc(+length);
            }

            Buffer.isBuffer = function isBuffer(b) {
                return b != null && b._isBuffer === true && b !== Buffer.prototype; // so Buffer.isBuffer(Buffer.prototype) will be false
            };

            Buffer.compare = function compare(a, b) {
                if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength);
                if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength);
                if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
                    throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
                }

                if (a === b) return 0;

                var x = a.length;
                var y = b.length;

                for (var i = 0, len = Math.min(x, y); i < len; ++i) {
                    if (a[i] !== b[i]) {
                        x = a[i];
                        y = b[i];
                        break;
                    }
                }

                if (x < y) return -1;
                if (y < x) return 1;
                return 0;
            };

            Buffer.isEncoding = function isEncoding(encoding) {
                switch (String(encoding).toLowerCase()) {
                    case 'hex':
                    case 'utf8':
                    case 'utf-8':
                    case 'ascii':
                    case 'latin1':
                    case 'binary':
                    case 'base64':
                    case 'ucs2':
                    case 'ucs-2':
                    case 'utf16le':
                    case 'utf-16le':
                        return true;
                    default:
                        return false;
                }
            };

            Buffer.concat = function concat(list, length) {
                if (!Array.isArray(list)) {
                    throw new TypeError('"list" argument must be an Array of Buffers');
                }

                if (list.length === 0) {
                    return Buffer.alloc(0);
                }

                var i;
                if (length === undefined) {
                    length = 0;
                    for (i = 0; i < list.length; ++i) {
                        length += list[i].length;
                    }
                }

                var buffer = Buffer.allocUnsafe(length);
                var pos = 0;
                for (i = 0; i < list.length; ++i) {
                    var buf = list[i];
                    if (isInstance(buf, Uint8Array)) {
                        buf = Buffer.from(buf);
                    }
                    if (!Buffer.isBuffer(buf)) {
                        throw new TypeError('"list" argument must be an Array of Buffers');
                    }
                    buf.copy(buffer, pos);
                    pos += buf.length;
                }
                return buffer;
            };

            function byteLength(string, encoding) {
                if (Buffer.isBuffer(string)) {
                    return string.length;
                }
                if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
                    return string.byteLength;
                }
                if (typeof string !== 'string') {
                    throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' + 'Received type ' + (typeof string === "undefined" ? "undefined" : _typeof(string)));
                }

                var len = string.length;
                var mustMatch = arguments.length > 2 && arguments[2] === true;
                if (!mustMatch && len === 0) return 0;

                // Use a for loop to avoid recursion
                var loweredCase = false;
                for (;;) {
                    switch (encoding) {
                        case 'ascii':
                        case 'latin1':
                        case 'binary':
                            return len;
                        case 'utf8':
                        case 'utf-8':
                            return utf8ToBytes(string).length;
                        case 'ucs2':
                        case 'ucs-2':
                        case 'utf16le':
                        case 'utf-16le':
                            return len * 2;
                        case 'hex':
                            return len >>> 1;
                        case 'base64':
                            return base64ToBytes(string).length;
                        default:
                            if (loweredCase) {
                                return mustMatch ? -1 : utf8ToBytes(string).length; // assume utf8
                            }
                            encoding = ('' + encoding).toLowerCase();
                            loweredCase = true;
                    }
                }
            }
            Buffer.byteLength = byteLength;

            function slowToString(encoding, start, end) {
                var loweredCase = false;

                // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
                // property of a typed array.

                // This behaves neither like String nor Uint8Array in that we set start/end
                // to their upper/lower bounds if the value passed is out of range.
                // undefined is handled specially as per ECMA-262 6th Edition,
                // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
                if (start === undefined || start < 0) {
                    start = 0;
                }
                // Return early if start > this.length. Done here to prevent potential uint32
                // coercion fail below.
                if (start > this.length) {
                    return '';
                }

                if (end === undefined || end > this.length) {
                    end = this.length;
                }

                if (end <= 0) {
                    return '';
                }

                // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
                end >>>= 0;
                start >>>= 0;

                if (end <= start) {
                    return '';
                }

                if (!encoding) encoding = 'utf8';

                while (true) {
                    switch (encoding) {
                        case 'hex':
                            return hexSlice(this, start, end);

                        case 'utf8':
                        case 'utf-8':
                            return utf8Slice(this, start, end);

                        case 'ascii':
                            return asciiSlice(this, start, end);

                        case 'latin1':
                        case 'binary':
                            return latin1Slice(this, start, end);

                        case 'base64':
                            return base64Slice(this, start, end);

                        case 'ucs2':
                        case 'ucs-2':
                        case 'utf16le':
                        case 'utf-16le':
                            return utf16leSlice(this, start, end);

                        default:
                            if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);
                            encoding = (encoding + '').toLowerCase();
                            loweredCase = true;
                    }
                }
            }

            // This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
            // to detect a Buffer instance. It's not possible to use `instanceof Buffer`
            // reliably in a browserify context because there could be multiple different
            // copies of the 'buffer' package in use. This method works even for Buffer
            // instances that were created from another copy of the `buffer` package.
            // See: https://github.com/feross/buffer/issues/154
            Buffer.prototype._isBuffer = true;

            function swap(b, n, m) {
                var i = b[n];
                b[n] = b[m];
                b[m] = i;
            }

            Buffer.prototype.swap16 = function swap16() {
                var len = this.length;
                if (len % 2 !== 0) {
                    throw new RangeError('Buffer size must be a multiple of 16-bits');
                }
                for (var i = 0; i < len; i += 2) {
                    swap(this, i, i + 1);
                }
                return this;
            };

            Buffer.prototype.swap32 = function swap32() {
                var len = this.length;
                if (len % 4 !== 0) {
                    throw new RangeError('Buffer size must be a multiple of 32-bits');
                }
                for (var i = 0; i < len; i += 4) {
                    swap(this, i, i + 3);
                    swap(this, i + 1, i + 2);
                }
                return this;
            };

            Buffer.prototype.swap64 = function swap64() {
                var len = this.length;
                if (len % 8 !== 0) {
                    throw new RangeError('Buffer size must be a multiple of 64-bits');
                }
                for (var i = 0; i < len; i += 8) {
                    swap(this, i, i + 7);
                    swap(this, i + 1, i + 6);
                    swap(this, i + 2, i + 5);
                    swap(this, i + 3, i + 4);
                }
                return this;
            };

            Buffer.prototype.toString = function toString() {
                var length = this.length;
                if (length === 0) return '';
                if (arguments.length === 0) return utf8Slice(this, 0, length);
                return slowToString.apply(this, arguments);
            };

            Buffer.prototype.toLocaleString = Buffer.prototype.toString;

            Buffer.prototype.equals = function equals(b) {
                if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');
                if (this === b) return true;
                return Buffer.compare(this, b) === 0;
            };

            Buffer.prototype.inspect = function inspect() {
                var str = '';
                var max = exports.INSPECT_MAX_BYTES;
                str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();
                if (this.length > max) str += ' ... ';
                return '<Buffer ' + str + '>';
            };

            Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
                if (isInstance(target, Uint8Array)) {
                    target = Buffer.from(target, target.offset, target.byteLength);
                }
                if (!Buffer.isBuffer(target)) {
                    throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. ' + 'Received type ' + (typeof target === "undefined" ? "undefined" : _typeof(target)));
                }

                if (start === undefined) {
                    start = 0;
                }
                if (end === undefined) {
                    end = target ? target.length : 0;
                }
                if (thisStart === undefined) {
                    thisStart = 0;
                }
                if (thisEnd === undefined) {
                    thisEnd = this.length;
                }

                if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
                    throw new RangeError('out of range index');
                }

                if (thisStart >= thisEnd && start >= end) {
                    return 0;
                }
                if (thisStart >= thisEnd) {
                    return -1;
                }
                if (start >= end) {
                    return 1;
                }

                start >>>= 0;
                end >>>= 0;
                thisStart >>>= 0;
                thisEnd >>>= 0;

                if (this === target) return 0;

                var x = thisEnd - thisStart;
                var y = end - start;
                var len = Math.min(x, y);

                var thisCopy = this.slice(thisStart, thisEnd);
                var targetCopy = target.slice(start, end);

                for (var i = 0; i < len; ++i) {
                    if (thisCopy[i] !== targetCopy[i]) {
                        x = thisCopy[i];
                        y = targetCopy[i];
                        break;
                    }
                }

                if (x < y) return -1;
                if (y < x) return 1;
                return 0;
            };

            // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
            // OR the last index of `val` in `buffer` at offset <= `byteOffset`.
            //
            // Arguments:
            // - buffer - a Buffer to search
            // - val - a string, Buffer, or number
            // - byteOffset - an index into `buffer`; will be clamped to an int32
            // - encoding - an optional encoding, relevant is val is a string
            // - dir - true for indexOf, false for lastIndexOf
            function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
                // Empty buffer means no match
                if (buffer.length === 0) return -1;

                // Normalize byteOffset
                if (typeof byteOffset === 'string') {
                    encoding = byteOffset;
                    byteOffset = 0;
                } else if (byteOffset > 0x7fffffff) {
                    byteOffset = 0x7fffffff;
                } else if (byteOffset < -0x80000000) {
                    byteOffset = -0x80000000;
                }
                byteOffset = +byteOffset; // Coerce to Number.
                if (numberIsNaN(byteOffset)) {
                    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
                    byteOffset = dir ? 0 : buffer.length - 1;
                }

                // Normalize byteOffset: negative offsets start from the end of the buffer
                if (byteOffset < 0) byteOffset = buffer.length + byteOffset;
                if (byteOffset >= buffer.length) {
                    if (dir) return -1;else byteOffset = buffer.length - 1;
                } else if (byteOffset < 0) {
                    if (dir) byteOffset = 0;else return -1;
                }

                // Normalize val
                if (typeof val === 'string') {
                    val = Buffer.from(val, encoding);
                }

                // Finally, search either indexOf (if dir is true) or lastIndexOf
                if (Buffer.isBuffer(val)) {
                    // Special case: looking for empty string/buffer always fails
                    if (val.length === 0) {
                        return -1;
                    }
                    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
                } else if (typeof val === 'number') {
                    val = val & 0xFF; // Search for a byte value [0-255]
                    if (typeof Uint8Array.prototype.indexOf === 'function') {
                        if (dir) {
                            return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);
                        } else {
                            return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
                        }
                    }
                    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);
                }

                throw new TypeError('val must be string, number or Buffer');
            }

            function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
                var indexSize = 1;
                var arrLength = arr.length;
                var valLength = val.length;

                if (encoding !== undefined) {
                    encoding = String(encoding).toLowerCase();
                    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {
                        if (arr.length < 2 || val.length < 2) {
                            return -1;
                        }
                        indexSize = 2;
                        arrLength /= 2;
                        valLength /= 2;
                        byteOffset /= 2;
                    }
                }

                function read(buf, i) {
                    if (indexSize === 1) {
                        return buf[i];
                    } else {
                        return buf.readUInt16BE(i * indexSize);
                    }
                }

                var i;
                if (dir) {
                    var foundIndex = -1;
                    for (i = byteOffset; i < arrLength; i++) {
                        if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
                            if (foundIndex === -1) foundIndex = i;
                            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;
                        } else {
                            if (foundIndex !== -1) i -= i - foundIndex;
                            foundIndex = -1;
                        }
                    }
                } else {
                    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;
                    for (i = byteOffset; i >= 0; i--) {
                        var found = true;
                        for (var j = 0; j < valLength; j++) {
                            if (read(arr, i + j) !== read(val, j)) {
                                found = false;
                                break;
                            }
                        }
                        if (found) return i;
                    }
                }

                return -1;
            }

            Buffer.prototype.includes = function includes(val, byteOffset, encoding) {
                return this.indexOf(val, byteOffset, encoding) !== -1;
            };

            Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
                return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
            };

            Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
                return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
            };

            function hexWrite(buf, string, offset, length) {
                offset = Number(offset) || 0;
                var remaining = buf.length - offset;
                if (!length) {
                    length = remaining;
                } else {
                    length = Number(length);
                    if (length > remaining) {
                        length = remaining;
                    }
                }

                var strLen = string.length;

                if (length > strLen / 2) {
                    length = strLen / 2;
                }
                for (var i = 0; i < length; ++i) {
                    var parsed = parseInt(string.substr(i * 2, 2), 16);
                    if (numberIsNaN(parsed)) return i;
                    buf[offset + i] = parsed;
                }
                return i;
            }

            function utf8Write(buf, string, offset, length) {
                return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
            }

            function asciiWrite(buf, string, offset, length) {
                return blitBuffer(asciiToBytes(string), buf, offset, length);
            }

            function latin1Write(buf, string, offset, length) {
                return asciiWrite(buf, string, offset, length);
            }

            function base64Write(buf, string, offset, length) {
                return blitBuffer(base64ToBytes(string), buf, offset, length);
            }

            function ucs2Write(buf, string, offset, length) {
                return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
            }

            Buffer.prototype.write = function write(string, offset, length, encoding) {
                // Buffer#write(string)
                if (offset === undefined) {
                    encoding = 'utf8';
                    length = this.length;
                    offset = 0;
                    // Buffer#write(string, encoding)
                } else if (length === undefined && typeof offset === 'string') {
                    encoding = offset;
                    length = this.length;
                    offset = 0;
                    // Buffer#write(string, offset[, length][, encoding])
                } else if (isFinite(offset)) {
                    offset = offset >>> 0;
                    if (isFinite(length)) {
                        length = length >>> 0;
                        if (encoding === undefined) encoding = 'utf8';
                    } else {
                        encoding = length;
                        length = undefined;
                    }
                } else {
                    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');
                }

                var remaining = this.length - offset;
                if (length === undefined || length > remaining) length = remaining;

                if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
                    throw new RangeError('Attempt to write outside buffer bounds');
                }

                if (!encoding) encoding = 'utf8';

                var loweredCase = false;
                for (;;) {
                    switch (encoding) {
                        case 'hex':
                            return hexWrite(this, string, offset, length);

                        case 'utf8':
                        case 'utf-8':
                            return utf8Write(this, string, offset, length);

                        case 'ascii':
                            return asciiWrite(this, string, offset, length);

                        case 'latin1':
                        case 'binary':
                            return latin1Write(this, string, offset, length);

                        case 'base64':
                            // Warning: maxLength not taken into account in base64Write
                            return base64Write(this, string, offset, length);

                        case 'ucs2':
                        case 'ucs-2':
                        case 'utf16le':
                        case 'utf-16le':
                            return ucs2Write(this, string, offset, length);

                        default:
                            if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);
                            encoding = ('' + encoding).toLowerCase();
                            loweredCase = true;
                    }
                }
            };

            Buffer.prototype.toJSON = function toJSON() {
                return {
                    type: 'Buffer',
                    data: Array.prototype.slice.call(this._arr || this, 0)
                };
            };

            function base64Slice(buf, start, end) {
                if (start === 0 && end === buf.length) {
                    return base64.fromByteArray(buf);
                } else {
                    return base64.fromByteArray(buf.slice(start, end));
                }
            }

            function utf8Slice(buf, start, end) {
                end = Math.min(buf.length, end);
                var res = [];

                var i = start;
                while (i < end) {
                    var firstByte = buf[i];
                    var codePoint = null;
                    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;

                    if (i + bytesPerSequence <= end) {
                        var secondByte, thirdByte, fourthByte, tempCodePoint;

                        switch (bytesPerSequence) {
                            case 1:
                                if (firstByte < 0x80) {
                                    codePoint = firstByte;
                                }
                                break;
                            case 2:
                                secondByte = buf[i + 1];
                                if ((secondByte & 0xC0) === 0x80) {
                                    tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;
                                    if (tempCodePoint > 0x7F) {
                                        codePoint = tempCodePoint;
                                    }
                                }
                                break;
                            case 3:
                                secondByte = buf[i + 1];
                                thirdByte = buf[i + 2];
                                if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
                                    tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;
                                    if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
                                        codePoint = tempCodePoint;
                                    }
                                }
                                break;
                            case 4:
                                secondByte = buf[i + 1];
                                thirdByte = buf[i + 2];
                                fourthByte = buf[i + 3];
                                if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
                                    tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;
                                    if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
                                        codePoint = tempCodePoint;
                                    }
                                }
                        }
                    }

                    if (codePoint === null) {
                        // we did not generate a valid codePoint so insert a
                        // replacement char (U+FFFD) and advance only 1 byte
                        codePoint = 0xFFFD;
                        bytesPerSequence = 1;
                    } else if (codePoint > 0xFFFF) {
                        // encode to utf16 (surrogate pair dance)
                        codePoint -= 0x10000;
                        res.push(codePoint >>> 10 & 0x3FF | 0xD800);
                        codePoint = 0xDC00 | codePoint & 0x3FF;
                    }

                    res.push(codePoint);
                    i += bytesPerSequence;
                }

                return decodeCodePointsArray(res);
            }

            // Based on http://stackoverflow.com/a/22747272/680742, the browser with
            // the lowest limit is Chrome, with 0x10000 args.
            // We go 1 magnitude less, for safety
            var MAX_ARGUMENTS_LENGTH = 0x1000;

            function decodeCodePointsArray(codePoints) {
                var len = codePoints.length;
                if (len <= MAX_ARGUMENTS_LENGTH) {
                    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()
                }

                // Decode in chunks to avoid "call stack size exceeded".
                var res = '';
                var i = 0;
                while (i < len) {
                    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));
                }
                return res;
            }

            function asciiSlice(buf, start, end) {
                var ret = '';
                end = Math.min(buf.length, end);

                for (var i = start; i < end; ++i) {
                    ret += String.fromCharCode(buf[i] & 0x7F);
                }
                return ret;
            }

            function latin1Slice(buf, start, end) {
                var ret = '';
                end = Math.min(buf.length, end);

                for (var i = start; i < end; ++i) {
                    ret += String.fromCharCode(buf[i]);
                }
                return ret;
            }

            function hexSlice(buf, start, end) {
                var len = buf.length;

                if (!start || start < 0) start = 0;
                if (!end || end < 0 || end > len) end = len;

                var out = '';
                for (var i = start; i < end; ++i) {
                    out += toHex(buf[i]);
                }
                return out;
            }

            function utf16leSlice(buf, start, end) {
                var bytes = buf.slice(start, end);
                var res = '';
                for (var i = 0; i < bytes.length; i += 2) {
                    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
                }
                return res;
            }

            Buffer.prototype.slice = function slice(start, end) {
                var len = this.length;
                start = ~~start;
                end = end === undefined ? len : ~~end;

                if (start < 0) {
                    start += len;
                    if (start < 0) start = 0;
                } else if (start > len) {
                    start = len;
                }

                if (end < 0) {
                    end += len;
                    if (end < 0) end = 0;
                } else if (end > len) {
                    end = len;
                }

                if (end < start) end = start;

                var newBuf = this.subarray(start, end);
                // Return an augmented `Uint8Array` instance
                newBuf.__proto__ = Buffer.prototype;
                return newBuf;
            };

            /*
             * Need to make sure that buffer isn't trying to write out of bounds.
             */
            function checkOffset(offset, ext, length) {
                if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');
                if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');
            }

            Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {
                offset = offset >>> 0;
                byteLength = byteLength >>> 0;
                if (!noAssert) checkOffset(offset, byteLength, this.length);

                var val = this[offset];
                var mul = 1;
                var i = 0;
                while (++i < byteLength && (mul *= 0x100)) {
                    val += this[offset + i] * mul;
                }

                return val;
            };

            Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {
                offset = offset >>> 0;
                byteLength = byteLength >>> 0;
                if (!noAssert) {
                    checkOffset(offset, byteLength, this.length);
                }

                var val = this[offset + --byteLength];
                var mul = 1;
                while (byteLength > 0 && (mul *= 0x100)) {
                    val += this[offset + --byteLength] * mul;
                }

                return val;
            };

            Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 1, this.length);
                return this[offset];
            };

            Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 2, this.length);
                return this[offset] | this[offset + 1] << 8;
            };

            Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 2, this.length);
                return this[offset] << 8 | this[offset + 1];
            };

            Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 4, this.length);

                return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;
            };

            Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 4, this.length);

                return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
            };

            Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {
                offset = offset >>> 0;
                byteLength = byteLength >>> 0;
                if (!noAssert) checkOffset(offset, byteLength, this.length);

                var val = this[offset];
                var mul = 1;
                var i = 0;
                while (++i < byteLength && (mul *= 0x100)) {
                    val += this[offset + i] * mul;
                }
                mul *= 0x80;

                if (val >= mul) val -= Math.pow(2, 8 * byteLength);

                return val;
            };

            Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {
                offset = offset >>> 0;
                byteLength = byteLength >>> 0;
                if (!noAssert) checkOffset(offset, byteLength, this.length);

                var i = byteLength;
                var mul = 1;
                var val = this[offset + --i];
                while (i > 0 && (mul *= 0x100)) {
                    val += this[offset + --i] * mul;
                }
                mul *= 0x80;

                if (val >= mul) val -= Math.pow(2, 8 * byteLength);

                return val;
            };

            Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 1, this.length);
                if (!(this[offset] & 0x80)) return this[offset];
                return (0xff - this[offset] + 1) * -1;
            };

            Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 2, this.length);
                var val = this[offset] | this[offset + 1] << 8;
                return val & 0x8000 ? val | 0xFFFF0000 : val;
            };

            Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 2, this.length);
                var val = this[offset + 1] | this[offset] << 8;
                return val & 0x8000 ? val | 0xFFFF0000 : val;
            };

            Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 4, this.length);

                return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
            };

            Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 4, this.length);

                return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
            };

            Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 4, this.length);
                return ieee754.read(this, offset, true, 23, 4);
            };

            Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 4, this.length);
                return ieee754.read(this, offset, false, 23, 4);
            };

            Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 8, this.length);
                return ieee754.read(this, offset, true, 52, 8);
            };

            Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
                offset = offset >>> 0;
                if (!noAssert) checkOffset(offset, 8, this.length);
                return ieee754.read(this, offset, false, 52, 8);
            };

            function checkInt(buf, value, offset, ext, max, min) {
                if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance');
                if (value > max || value < min) throw new RangeError('"value" argument is out of bounds');
                if (offset + ext > buf.length) throw new RangeError('Index out of range');
            }

            Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {
                value = +value;
                offset = offset >>> 0;
                byteLength = byteLength >>> 0;
                if (!noAssert) {
                    var maxBytes = Math.pow(2, 8 * byteLength) - 1;
                    checkInt(this, value, offset, byteLength, maxBytes, 0);
                }

                var mul = 1;
                var i = 0;
                this[offset] = value & 0xFF;
                while (++i < byteLength && (mul *= 0x100)) {
                    this[offset + i] = value / mul & 0xFF;
                }

                return offset + byteLength;
            };

            Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {
                value = +value;
                offset = offset >>> 0;
                byteLength = byteLength >>> 0;
                if (!noAssert) {
                    var maxBytes = Math.pow(2, 8 * byteLength) - 1;
                    checkInt(this, value, offset, byteLength, maxBytes, 0);
                }

                var i = byteLength - 1;
                var mul = 1;
                this[offset + i] = value & 0xFF;
                while (--i >= 0 && (mul *= 0x100)) {
                    this[offset + i] = value / mul & 0xFF;
                }

                return offset + byteLength;
            };

            Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);
                this[offset] = value & 0xff;
                return offset + 1;
            };

            Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);
                this[offset] = value & 0xff;
                this[offset + 1] = value >>> 8;
                return offset + 2;
            };

            Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);
                this[offset] = value >>> 8;
                this[offset + 1] = value & 0xff;
                return offset + 2;
            };

            Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);
                this[offset + 3] = value >>> 24;
                this[offset + 2] = value >>> 16;
                this[offset + 1] = value >>> 8;
                this[offset] = value & 0xff;
                return offset + 4;
            };

            Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);
                this[offset] = value >>> 24;
                this[offset + 1] = value >>> 16;
                this[offset + 2] = value >>> 8;
                this[offset + 3] = value & 0xff;
                return offset + 4;
            };

            Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) {
                    var limit = Math.pow(2, 8 * byteLength - 1);

                    checkInt(this, value, offset, byteLength, limit - 1, -limit);
                }

                var i = 0;
                var mul = 1;
                var sub = 0;
                this[offset] = value & 0xFF;
                while (++i < byteLength && (mul *= 0x100)) {
                    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
                        sub = 1;
                    }
                    this[offset + i] = (value / mul >> 0) - sub & 0xFF;
                }

                return offset + byteLength;
            };

            Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) {
                    var limit = Math.pow(2, 8 * byteLength - 1);

                    checkInt(this, value, offset, byteLength, limit - 1, -limit);
                }

                var i = byteLength - 1;
                var mul = 1;
                var sub = 0;
                this[offset + i] = value & 0xFF;
                while (--i >= 0 && (mul *= 0x100)) {
                    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
                        sub = 1;
                    }
                    this[offset + i] = (value / mul >> 0) - sub & 0xFF;
                }

                return offset + byteLength;
            };

            Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);
                if (value < 0) value = 0xff + value + 1;
                this[offset] = value & 0xff;
                return offset + 1;
            };

            Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);
                this[offset] = value & 0xff;
                this[offset + 1] = value >>> 8;
                return offset + 2;
            };

            Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);
                this[offset] = value >>> 8;
                this[offset + 1] = value & 0xff;
                return offset + 2;
            };

            Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
                this[offset] = value & 0xff;
                this[offset + 1] = value >>> 8;
                this[offset + 2] = value >>> 16;
                this[offset + 3] = value >>> 24;
                return offset + 4;
            };

            Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
                if (value < 0) value = 0xffffffff + value + 1;
                this[offset] = value >>> 24;
                this[offset + 1] = value >>> 16;
                this[offset + 2] = value >>> 8;
                this[offset + 3] = value & 0xff;
                return offset + 4;
            };

            function checkIEEE754(buf, value, offset, ext, max, min) {
                if (offset + ext > buf.length) throw new RangeError('Index out of range');
                if (offset < 0) throw new RangeError('Index out of range');
            }

            function writeFloat(buf, value, offset, littleEndian, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) {
                    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);
                }
                ieee754.write(buf, value, offset, littleEndian, 23, 4);
                return offset + 4;
            }

            Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
                return writeFloat(this, value, offset, true, noAssert);
            };

            Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
                return writeFloat(this, value, offset, false, noAssert);
            };

            function writeDouble(buf, value, offset, littleEndian, noAssert) {
                value = +value;
                offset = offset >>> 0;
                if (!noAssert) {
                    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);
                }
                ieee754.write(buf, value, offset, littleEndian, 52, 8);
                return offset + 8;
            }

            Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
                return writeDouble(this, value, offset, true, noAssert);
            };

            Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
                return writeDouble(this, value, offset, false, noAssert);
            };

            // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
            Buffer.prototype.copy = function copy(target, targetStart, start, end) {
                if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer');
                if (!start) start = 0;
                if (!end && end !== 0) end = this.length;
                if (targetStart >= target.length) targetStart = target.length;
                if (!targetStart) targetStart = 0;
                if (end > 0 && end < start) end = start;

                // Copy 0 bytes; we're done
                if (end === start) return 0;
                if (target.length === 0 || this.length === 0) return 0;

                // Fatal error conditions
                if (targetStart < 0) {
                    throw new RangeError('targetStart out of bounds');
                }
                if (start < 0 || start >= this.length) throw new RangeError('Index out of range');
                if (end < 0) throw new RangeError('sourceEnd out of bounds');

                // Are we oob?
                if (end > this.length) end = this.length;
                if (target.length - targetStart < end - start) {
                    end = target.length - targetStart + start;
                }

                var len = end - start;

                if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
                    // Use built-in when available, missing from IE11
                    this.copyWithin(targetStart, start, end);
                } else if (this === target && start < targetStart && targetStart < end) {
                    // descending copy from end
                    for (var i = len - 1; i >= 0; --i) {
                        target[i + targetStart] = this[i + start];
                    }
                } else {
                    Uint8Array.prototype.set.call(target, this.subarray(start, end), targetStart);
                }

                return len;
            };

            // Usage:
            //    buffer.fill(number[, offset[, end]])
            //    buffer.fill(buffer[, offset[, end]])
            //    buffer.fill(string[, offset[, end]][, encoding])
            Buffer.prototype.fill = function fill(val, start, end, encoding) {
                // Handle string cases:
                if (typeof val === 'string') {
                    if (typeof start === 'string') {
                        encoding = start;
                        start = 0;
                        end = this.length;
                    } else if (typeof end === 'string') {
                        encoding = end;
                        end = this.length;
                    }
                    if (encoding !== undefined && typeof encoding !== 'string') {
                        throw new TypeError('encoding must be a string');
                    }
                    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
                        throw new TypeError('Unknown encoding: ' + encoding);
                    }
                    if (val.length === 1) {
                        var code = val.charCodeAt(0);
                        if (encoding === 'utf8' && code < 128 || encoding === 'latin1') {
                            // Fast path: If `val` fits into a single byte, use that numeric value.
                            val = code;
                        }
                    }
                } else if (typeof val === 'number') {
                    val = val & 255;
                }

                // Invalid ranges are not set to a default, so can range check early.
                if (start < 0 || this.length < start || this.length < end) {
                    throw new RangeError('Out of range index');
                }

                if (end <= start) {
                    return this;
                }

                start = start >>> 0;
                end = end === undefined ? this.length : end >>> 0;

                if (!val) val = 0;

                var i;
                if (typeof val === 'number') {
                    for (i = start; i < end; ++i) {
                        this[i] = val;
                    }
                } else {
                    var bytes = Buffer.isBuffer(val) ? val : Buffer.from(val, encoding);
                    var len = bytes.length;
                    if (len === 0) {
                        throw new TypeError('The value "' + val + '" is invalid for argument "value"');
                    }
                    for (i = 0; i < end - start; ++i) {
                        this[i + start] = bytes[i % len];
                    }
                }

                return this;
            };

            // HELPER FUNCTIONS
            // ================

            var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;

            function base64clean(str) {
                // Node takes equal signs as end of the Base64 encoding
                str = str.split('=')[0];
                // Node strips out invalid characters like \n and \t from the string, base64-js does not
                str = str.trim().replace(INVALID_BASE64_RE, '');
                // Node converts strings with length < 2 to ''
                if (str.length < 2) return '';
                // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
                while (str.length % 4 !== 0) {
                    str = str + '=';
                }
                return str;
            }

            function toHex(n) {
                if (n < 16) return '0' + n.toString(16);
                return n.toString(16);
            }

            function utf8ToBytes(string, units) {
                units = units || Infinity;
                var codePoint;
                var length = string.length;
                var leadSurrogate = null;
                var bytes = [];

                for (var i = 0; i < length; ++i) {
                    codePoint = string.charCodeAt(i);

                    // is surrogate component
                    if (codePoint > 0xD7FF && codePoint < 0xE000) {
                        // last char was a lead
                        if (!leadSurrogate) {
                            // no lead yet
                            if (codePoint > 0xDBFF) {
                                // unexpected trail
                                if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
                                continue;
                            } else if (i + 1 === length) {
                                // unpaired lead
                                if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
                                continue;
                            }

                            // valid lead
                            leadSurrogate = codePoint;

                            continue;
                        }

                        // 2 leads in a row
                        if (codePoint < 0xDC00) {
                            if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
                            leadSurrogate = codePoint;
                            continue;
                        }

                        // valid surrogate pair
                        codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;
                    } else if (leadSurrogate) {
                        // valid bmp char, but last char was a lead
                        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
                    }

                    leadSurrogate = null;

                    // encode utf8
                    if (codePoint < 0x80) {
                        if ((units -= 1) < 0) break;
                        bytes.push(codePoint);
                    } else if (codePoint < 0x800) {
                        if ((units -= 2) < 0) break;
                        bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);
                    } else if (codePoint < 0x10000) {
                        if ((units -= 3) < 0) break;
                        bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);
                    } else if (codePoint < 0x110000) {
                        if ((units -= 4) < 0) break;
                        bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);
                    } else {
                        throw new Error('Invalid code point');
                    }
                }

                return bytes;
            }

            function asciiToBytes(str) {
                var byteArray = [];
                for (var i = 0; i < str.length; ++i) {
                    // Node's code seems to be doing this and not & 0x7F..
                    byteArray.push(str.charCodeAt(i) & 0xFF);
                }
                return byteArray;
            }

            function utf16leToBytes(str, units) {
                var c, hi, lo;
                var byteArray = [];
                for (var i = 0; i < str.length; ++i) {
                    if ((units -= 2) < 0) break;

                    c = str.charCodeAt(i);
                    hi = c >> 8;
                    lo = c % 256;
                    byteArray.push(lo);
                    byteArray.push(hi);
                }

                return byteArray;
            }

            function base64ToBytes(str) {
                return base64.toByteArray(base64clean(str));
            }

            function blitBuffer(src, dst, offset, length) {
                for (var i = 0; i < length; ++i) {
                    if (i + offset >= dst.length || i >= src.length) break;
                    dst[i + offset] = src[i];
                }
                return i;
            }

            // ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
            // the `instanceof` check but they should be treated as of that type.
            // See: https://github.com/feross/buffer/issues/166
            function isInstance(obj, type) {
                return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;
            }
            function numberIsNaN(obj) {
                // For IE11 support
                return obj !== obj; // eslint-disable-line no-self-compare
            }
        }, { "base64-js": 45, "ieee754": 48 }], 48: [function (require, module, exports) {
            exports.read = function (buffer, offset, isLE, mLen, nBytes) {
                var e, m;
                var eLen = nBytes * 8 - mLen - 1;
                var eMax = (1 << eLen) - 1;
                var eBias = eMax >> 1;
                var nBits = -7;
                var i = isLE ? nBytes - 1 : 0;
                var d = isLE ? -1 : 1;
                var s = buffer[offset + i];

                i += d;

                e = s & (1 << -nBits) - 1;
                s >>= -nBits;
                nBits += eLen;
                for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

                m = e & (1 << -nBits) - 1;
                e >>= -nBits;
                nBits += mLen;
                for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

                if (e === 0) {
                    e = 1 - eBias;
                } else if (e === eMax) {
                    return m ? NaN : (s ? -1 : 1) * Infinity;
                } else {
                    m = m + Math.pow(2, mLen);
                    e = e - eBias;
                }
                return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
            };

            exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
                var e, m, c;
                var eLen = nBytes * 8 - mLen - 1;
                var eMax = (1 << eLen) - 1;
                var eBias = eMax >> 1;
                var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
                var i = isLE ? 0 : nBytes - 1;
                var d = isLE ? 1 : -1;
                var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;

                value = Math.abs(value);

                if (isNaN(value) || value === Infinity) {
                    m = isNaN(value) ? 1 : 0;
                    e = eMax;
                } else {
                    e = Math.floor(Math.log(value) / Math.LN2);
                    if (value * (c = Math.pow(2, -e)) < 1) {
                        e--;
                        c *= 2;
                    }
                    if (e + eBias >= 1) {
                        value += rt / c;
                    } else {
                        value += rt * Math.pow(2, 1 - eBias);
                    }
                    if (value * c >= 2) {
                        e++;
                        c /= 2;
                    }

                    if (e + eBias >= eMax) {
                        m = 0;
                        e = eMax;
                    } else if (e + eBias >= 1) {
                        m = (value * c - 1) * Math.pow(2, mLen);
                        e = e + eBias;
                    } else {
                        m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
                        e = 0;
                    }
                }

                for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

                e = e << mLen | m;
                eLen += mLen;
                for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

                buffer[offset + i - d] |= s * 128;
            };
        }, {}], 49: [function (require, module, exports) {
            /* eslint-disable node/no-deprecated-api */
            var buffer = require('buffer');
            var Buffer = buffer.Buffer;

            // alternative to using Object.keys for old browsers
            function copyProps(src, dst) {
                for (var key in src) {
                    dst[key] = src[key];
                }
            }
            if (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {
                module.exports = buffer;
            } else {
                // Copy properties from require('buffer')
                copyProps(buffer, exports);
                exports.Buffer = SafeBuffer;
            }

            function SafeBuffer(arg, encodingOrOffset, length) {
                return Buffer(arg, encodingOrOffset, length);
            }

            // Copy static methods from Buffer
            copyProps(Buffer, SafeBuffer);

            SafeBuffer.from = function (arg, encodingOrOffset, length) {
                if (typeof arg === 'number') {
                    throw new TypeError('Argument must not be a number');
                }
                return Buffer(arg, encodingOrOffset, length);
            };

            SafeBuffer.alloc = function (size, fill, encoding) {
                if (typeof size !== 'number') {
                    throw new TypeError('Argument must be a number');
                }
                var buf = Buffer(size);
                if (fill !== undefined) {
                    if (typeof encoding === 'string') {
                        buf.fill(fill, encoding);
                    } else {
                        buf.fill(fill);
                    }
                } else {
                    buf.fill(0);
                }
                return buf;
            };

            SafeBuffer.allocUnsafe = function (size) {
                if (typeof size !== 'number') {
                    throw new TypeError('Argument must be a number');
                }
                return Buffer(size);
            };

            SafeBuffer.allocUnsafeSlow = function (size) {
                if (typeof size !== 'number') {
                    throw new TypeError('Argument must be a number');
                }
                return buffer.SlowBuffer(size);
            };
        }, { "buffer": 47 }] }, {}, [18])(18);
});


!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.QRCode=t()}}(function(){return function(){function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){return o(e[a][1][t]||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return t}()({1:[function(t,e,r){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},{}],2:[function(t,e,r){var n=t("./utils").getSymbolSize;r.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,r=n(t),o=145===r?26:2*Math.ceil((r-13)/(2*e-2)),i=[r-7],a=1;a<e-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},r.getPositions=function(t){for(var e=[],n=r.getRowColCoords(t),o=n.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||e.push([n[i],n[a]]);return e}},{"./utils":21}],3:[function(t,e,r){function n(t){this.mode=o.ALPHANUMERIC,this.data=t}var o=t("./mode"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];n.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var r=45*i.indexOf(this.data[e]);r+=i.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},e.exports=n},{"./mode":14}],4:[function(t,e,r){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},e.exports=n},{}],5:[function(t,e,r){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new o(t*t),this.data.fill(0),this.reservedBit=new o(t*t),this.reservedBit.fill(0)}var o=t("../utils/buffer");n.prototype.set=function(t,e,r,n){var o=t*this.size+e;this.data[o]=r,n&&(this.reservedBit[o]=!0)},n.prototype.get=function(t,e){return this.data[t*this.size+e]},n.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},n.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},e.exports=n},{"../utils/buffer":28}],6:[function(t,e,r){function n(t){this.mode=i.BYTE,this.data=new o(t)}var o=t("../utils/buffer"),i=t("./mode");n.getBitsLength=function(t){return 8*t},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)},e.exports=n},{"../utils/buffer":28,"./mode":14}],7:[function(t,e,r){var n=t("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r.getBlocksCount=function(t,e){switch(e){case n.L:return o[4*(t-1)+0];case n.M:return o[4*(t-1)+1];case n.Q:return o[4*(t-1)+2];case n.H:return o[4*(t-1)+3];default:return}},r.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return i[4*(t-1)+0];case n.M:return i[4*(t-1)+1];case n.Q:return i[4*(t-1)+2];case n.H:return i[4*(t-1)+3];default:return}}},{"./error-correction-level":8}],8:[function(t,e,r){function n(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},r.from=function(t,e){if(r.isValid(t))return t;try{return n(t)}catch(t){return e}}},{}],9:[function(t,e,r){var n=t("./utils").getSymbolSize;r.getPositions=function(t){var e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},{"./utils":21}],10:[function(t,e,r){var n=t("./utils"),o=n.getBCHDigit(1335);r.getEncodedBits=function(t,e){for(var r=t.bit<<3|e,i=r<<10;n.getBCHDigit(i)-o>=0;)i^=1335<<n.getBCHDigit(i)-o;return 21522^(r<<10|i)}},{"./utils":21}],11:[function(t,e,r){var n=t("../utils/buffer"),o=new n(512),i=new n(256);!function(){for(var t=1,e=0;e<255;e++)o[e]=t,i[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)o[e]=o[e-255]}(),r.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},r.exp=function(t){return o[t]},r.mul=function(t,e){return 0===t||0===e?0:o[i[t]+i[e]]}},{"../utils/buffer":28}],12:[function(t,e,r){function n(t){this.mode=o.KANJI,this.data=t}var o=t("./mode"),i=t("./utils");n.getBitsLength=function(t){return 13*t},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=i.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}},e.exports=n},{"./mode":14,"./utils":21}],13:[function(t,e,r){function n(t,e,n){switch(t){case r.Patterns.PATTERN000:return(e+n)%2==0;case r.Patterns.PATTERN001:return e%2==0;case r.Patterns.PATTERN010:return n%3==0;case r.Patterns.PATTERN011:return(e+n)%3==0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case r.Patterns.PATTERN101:return e*n%2+e*n%3==0;case r.Patterns.PATTERN110:return(e*n%2+e*n%3)%2==0;case r.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var o={N1:3,N2:3,N3:40,N4:10};r.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},r.from=function(t){return r.isValid(t)?parseInt(t,10):void 0},r.getPenaltyN1=function(t){for(var e=t.size,r=0,n=0,i=0,a=null,u=null,s=0;s<e;s++){n=i=0,a=u=null;for(var f=0;f<e;f++){var c=t.get(s,f);c===a?n++:(n>=5&&(r+=o.N1+(n-5)),a=c,n=1),c=t.get(f,s),c===u?i++:(i>=5&&(r+=o.N1+(i-5)),u=c,i=1)}n>=5&&(r+=o.N1+(n-5)),i>=5&&(r+=o.N1+(i-5))}return r},r.getPenaltyN2=function(t){for(var e=t.size,r=0,n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var a=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==a&&0!==a||r++}return r*o.N2},r.getPenaltyN3=function(t){for(var e=t.size,r=0,n=0,i=0,a=0;a<e;a++){n=i=0;for(var u=0;u<e;u++)n=n<<1&2047|t.get(a,u),u>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|t.get(u,a),u>=10&&(1488===i||93===i)&&r++}return r*o.N3},r.getPenaltyN4=function(t){for(var e=0,r=t.data.length,n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*o.N4},r.applyMask=function(t,e){for(var r=e.size,o=0;o<r;o++)for(var i=0;i<r;i++)e.isReserved(i,o)||e.xor(i,o,n(t,i,o))},r.getBestMask=function(t,e){for(var n=Object.keys(r.Patterns).length,o=0,i=1/0,a=0;a<n;a++){e(a),r.applyMask(a,t);var u=r.getPenaltyN1(t)+r.getPenaltyN2(t)+r.getPenaltyN3(t)+r.getPenaltyN4(t);r.applyMask(a,t),u<i&&(i=u,o=a)}return o}},{}],14:[function(t,e,r){function n(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+t)}}var o=t("./version-check"),i=t("./regex");r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},r.getBestModeForData=function(t){return i.testNumeric(t)?r.NUMERIC:i.testAlphanumeric(t)?r.ALPHANUMERIC:i.testKanji(t)?r.KANJI:r.BYTE},r.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},r.isValid=function(t){return t&&t.bit&&t.ccBits},r.from=function(t,e){if(r.isValid(t))return t;try{return n(t)}catch(t){return e}}},{"./regex":19,"./version-check":22}],15:[function(t,e,r){function n(t){this.mode=o.NUMERIC,this.data=t.toString()}var o=t("./mode");n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);var o=this.data.length-e;o>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*o+1))},e.exports=n},{"./mode":14}],16:[function(t,e,r){var n=t("../utils/buffer"),o=t("./galois-field");r.mul=function(t,e){var r=new n(t.length+e.length-1);r.fill(0);for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)r[i+a]^=o.mul(t[i],e[a]);return r},r.mod=function(t,e){for(var r=new n(t);r.length-e.length>=0;){for(var i=r[0],a=0;a<e.length;a++)r[a]^=o.mul(e[a],i);for(var u=0;u<r.length&&0===r[u];)u++;r=r.slice(u)}return r},r.generateECPolynomial=function(t){for(var e=new n([1]),i=0;i<t;i++)e=r.mul(e,[1,o.exp(i)]);return e}},{"../utils/buffer":28,"./galois-field":11}],17:[function(t,e,r){function n(t,e){for(var r=t.size,n=w.getPositions(e),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],u=-1;u<=7;u++)if(!(i+u<=-1||r<=i+u))for(var s=-1;s<=7;s++)a+s<=-1||r<=a+s||(u>=0&&u<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===u||6===u)||u>=2&&u<=4&&s>=2&&s<=4?t.set(i+u,a+s,!0,!0):t.set(i+u,a+s,!1,!0))}function o(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2==0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function i(t,e){for(var r=m.getPositions(e),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var u=-2;u<=2;u++)-2===a||2===a||-2===u||2===u||0===a&&0===u?t.set(o+a,i+u,!0,!0):t.set(o+a,i+u,!1,!0)}function a(t,e){for(var r,n,o,i=t.size,a=A.getEncodedBits(e),u=0;u<18;u++)r=Math.floor(u/3),n=u%3+i-8-3,o=1==(a>>u&1),t.set(r,n,o,!0),t.set(n,r,o,!0)}function u(t,e,r){var n,o,i=t.size,a=B.getEncodedBits(e,r);for(n=0;n<15;n++)o=1==(a>>n&1),n<6?t.set(n,8,o,!0):n<8?t.set(n+1,8,o,!0):t.set(i-15+n,8,o,!0),n<8?t.set(8,i-n-1,o,!0):n<9?t.set(8,15-n-1+1,o,!0):t.set(8,15-n-1,o,!0);t.set(i-8,8,1,!0)}function s(t,e){for(var r=t.size,n=-1,o=r-1,i=7,a=0,u=r-1;u>0;u-=2)for(6===u&&u--;;){for(var s=0;s<2;s++)if(!t.isReserved(o,u-s)){var f=!1;a<e.length&&(f=1==(e[a]>>>i&1)),t.set(o,u-s,f),i--,-1===i&&(a++,i=7)}if((o+=n)<0||r<=o){o-=n,n=-n;break}}}function f(t,e,r){var n=new p;r.forEach(function(e){n.put(e.mode.bit,4),n.put(e.getLength(),P.getCharCountIndicator(e.mode,t)),e.write(n)});var o=d.getSymbolTotalCodewords(t),i=E.getTotalCodewordsCount(t,e),a=8*(o-i);for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var u=(a-n.getLengthInBits())/8,s=0;s<u;s++)n.put(s%2?17:236,8);return c(n,t,e)}function c(t,e,r){for(var n=d.getSymbolTotalCodewords(e),o=E.getTotalCodewordsCount(e,r),i=n-o,a=E.getBlocksCount(e,r),u=n%a,s=a-u,f=Math.floor(n/a),c=Math.floor(i/a),l=c+1,g=f-c,p=new b(g),v=0,m=new Array(a),w=new Array(a),y=0,A=new h(t.buffer),B=0;B<a;B++){var P=B<s?c:l;m[B]=A.slice(v,v+P),w[B]=p.encode(m[B]),v+=P,y=Math.max(y,P)}var R,T,C=new h(n),N=0;for(R=0;R<y;R++)for(T=0;T<a;T++)R<m[T].length&&(C[N++]=m[T][R]);for(R=0;R<g;R++)for(T=0;T<a;T++)C[N++]=w[T][R];return C}function l(t,e,r,c){var l;if(T(t))l=R.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var h=e;if(!h){var g=R.rawSplit(t);h=A.getBestVersionForData(g,r)}l=R.fromString(t,h||40)}var p=A.getBestVersionForData(l,r);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<p)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else e=p;var m=f(e,r,l),w=d.getSymbolSize(e),E=new v(w);return n(E,e),o(E),i(E,e),u(E,r,0),e>=7&&a(E,e),s(E,m),isNaN(c)&&(c=y.getBestMask(E,u.bind(null,E,r))),y.applyMask(c,E),u(E,r,c),{modules:E,version:e,errorCorrectionLevel:r,maskPattern:c,segments:l}}var h=t("../utils/buffer"),d=t("./utils"),g=t("./error-correction-level"),p=t("./bit-buffer"),v=t("./bit-matrix"),m=t("./alignment-pattern"),w=t("./finder-pattern"),y=t("./mask-pattern"),E=t("./error-correction-code"),b=t("./reed-solomon-encoder"),A=t("./version"),B=t("./format-info"),P=t("./mode"),R=t("./segments"),T=t("isarray");r.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var r,n,o=g.M;return void 0!==e&&(o=g.from(e.errorCorrectionLevel,g.M),r=A.from(e.version),n=y.from(e.maskPattern),e.toSJISFunc&&d.setToSJISFunction(e.toSJISFunc)),l(t,r,o,n)}},{"../utils/buffer":28,"./alignment-pattern":2,"./bit-buffer":4,"./bit-matrix":5,"./error-correction-code":7,"./error-correction-level":8,"./finder-pattern":9,"./format-info":10,"./mask-pattern":13,"./mode":14,"./reed-solomon-encoder":18,"./segments":20,"./utils":21,"./version":23,isarray:30}],18:[function(t,e,r){function n(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}var o=t("../utils/buffer"),i=t("./polynomial");n.prototype.initialize=function(t){this.degree=t,this.genPoly=i.generateECPolynomial(this.degree)},n.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new o(this.degree);e.fill(0);var r=o.concat([t,e],t.length+this.degree),n=i.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){var u=new o(this.degree);return u.fill(0),n.copy(u,a),u}return n},e.exports=n},{"../utils/buffer":28,"./polynomial":16}],19:[function(t,e,r){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");var o="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";r.KANJI=new RegExp(n,"g"),r.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r.BYTE=new RegExp(o,"g"),r.NUMERIC=new RegExp("[0-9]+","g"),r.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),a=new RegExp("^[0-9]+$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");r.testKanji=function(t){return i.test(t)},r.testNumeric=function(t){return a.test(t)},r.testAlphanumeric=function(t){return u.test(t)}},{}],20:[function(t,e,r){function n(t){return unescape(encodeURIComponent(t)).length}function o(t,e,r){for(var n,o=[];null!==(n=t.exec(r));)o.push({data:n[0],index:n.index,mode:e,length:n[0].length});return o}function i(t){var e,r,n=o(v.NUMERIC,l.NUMERIC,t),i=o(v.ALPHANUMERIC,l.ALPHANUMERIC,t);return m.isKanjiModeEnabled()?(e=o(v.BYTE,l.BYTE,t),r=o(v.KANJI,l.KANJI,t)):(e=o(v.BYTE_KANJI,l.BYTE,t),r=[]),n.concat(i,e,r).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function a(t,e){switch(e){case l.NUMERIC:return h.getBitsLength(t);case l.ALPHANUMERIC:return d.getBitsLength(t);case l.KANJI:return p.getBitsLength(t);case l.BYTE:return g.getBitsLength(t)}}function u(t){return t.reduce(function(t,e){var r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}function s(t){for(var e=[],r=0;r<t.length;r++){var o=t[r];switch(o.mode){case l.NUMERIC:e.push([o,{data:o.data,mode:l.ALPHANUMERIC,length:o.length},{data:o.data,mode:l.BYTE,length:o.length}]);break;case l.ALPHANUMERIC:e.push([o,{data:o.data,mode:l.BYTE,length:o.length}]);break;case l.KANJI:e.push([o,{data:o.data,mode:l.BYTE,length:n(o.data)}]);break;case l.BYTE:e.push([{data:o.data,mode:l.BYTE,length:n(o.data)}])}}return e}function f(t,e){for(var r={},n={start:{}},o=["start"],i=0;i<t.length;i++){for(var u=t[i],s=[],f=0;f<u.length;f++){var c=u[f],h=""+i+f;s.push(h),r[h]={node:c,lastCount:0},n[h]={};for(var d=0;d<o.length;d++){var g=o[d];r[g]&&r[g].node.mode===c.mode?(n[g][h]=a(r[g].lastCount+c.length,c.mode)-a(r[g].lastCount,c.mode),r[g].lastCount+=c.length):(r[g]&&(r[g].lastCount=c.length),n[g][h]=a(c.length,c.mode)+4+l.getCharCountIndicator(c.mode,e))}}o=s}for(d=0;d<o.length;d++)n[o[d]].end=0;return{map:n,table:r}}function c(t,e){var r,n=l.getBestModeForData(t);if((r=l.from(e,n))!==l.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+l.toString(r)+".\n Suggested mode is: "+l.toString(n));switch(r!==l.KANJI||m.isKanjiModeEnabled()||(r=l.BYTE),r){case l.NUMERIC:return new h(t);case l.ALPHANUMERIC:return new d(t);case l.KANJI:return new p(t);case l.BYTE:return new g(t)}}var l=t("./mode"),h=t("./numeric-data"),d=t("./alphanumeric-data"),g=t("./byte-data"),p=t("./kanji-data"),v=t("./regex"),m=t("./utils"),w=t("dijkstrajs");r.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(c(e,null)):e.data&&t.push(c(e.data,e.mode)),t},[])},r.fromString=function(t,e){for(var n=i(t,m.isKanjiModeEnabled()),o=s(n),a=f(o,e),c=w.find_path(a.map,"start","end"),l=[],h=1;h<c.length-1;h++)l.push(a.table[c[h]].node);return r.fromArray(u(l))},r.rawSplit=function(t){return r.fromArray(i(t,m.isKanjiModeEnabled()))}},{"./alphanumeric-data":3,"./byte-data":6,"./kanji-data":12,"./mode":14,"./numeric-data":15,"./regex":19,"./utils":21,dijkstrajs:29}],21:[function(t,e,r){var n,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},r.getSymbolTotalCodewords=function(t){return o[t]},r.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},r.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},r.isKanjiModeEnabled=function(){return void 0!==n},r.toSJIS=function(t){return n(t)}},{}],22:[function(t,e,r){r.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},{}],23:[function(t,e,r){function n(t,e,n){for(var o=1;o<=40;o++)if(e<=r.getCapacity(o,n,t))return o}function o(t,e){return c.getCharCountIndicator(t,e)+4}function i(t,e){var r=0;return t.forEach(function(t){var n=o(t.mode,e);r+=n+t.getBitsLength()}),r}function a(t,e){for(var n=1;n<=40;n++){if(i(t,n)<=r.getCapacity(n,e,c.MIXED))return n}}var u=t("./utils"),s=t("./error-correction-code"),f=t("./error-correction-level"),c=t("./mode"),l=t("./version-check"),h=t("isarray"),d=u.getBCHDigit(7973);r.from=function(t,e){return l.isValid(t)?parseInt(t,10):e},r.getCapacity=function(t,e,r){if(!l.isValid(t))throw new Error("Invalid QR Code version");void 0===r&&(r=c.BYTE);var n=u.getSymbolTotalCodewords(t),i=s.getTotalCodewordsCount(t,e),a=8*(n-i);if(r===c.MIXED)return a;var f=a-o(r,t);switch(r){case c.NUMERIC:return Math.floor(f/10*3);case c.ALPHANUMERIC:return Math.floor(f/11*2);case c.KANJI:return Math.floor(f/13);case c.BYTE:default:return Math.floor(f/8)}},r.getBestVersionForData=function(t,e){var r,o=f.from(e,f.M);if(h(t)){if(t.length>1)return a(t,o);if(0===t.length)return 1;r=t[0]}else r=t;return n(r.mode,r.getLength(),o)},r.getEncodedBits=function(t){if(!l.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;u.getBCHDigit(e)-d>=0;)e^=7973<<u.getBCHDigit(e)-d;return t<<12|e}},{"./error-correction-code":7,"./error-correction-level":8,"./mode":14,"./utils":21,"./version-check":22,isarray:30}],24:[function(t,e,r){function n(t,e,r,n,a){var u=[].slice.call(arguments,1),s=u.length,f="function"==typeof u[s-1];if(!f&&!o())throw new Error("Callback required as last argument");if(!f){if(s<1)throw new Error("Too few arguments provided");return 1===s?(r=e,e=n=void 0):2!==s||e.getContext||(n=r,r=e,e=void 0),new Promise(function(o,a){try{var u=i.create(r,n);o(t(u,e,n))}catch(t){a(t)}})}if(s<2)throw new Error("Too few arguments provided");2===s?(a=r,r=e,e=n=void 0):3===s&&(e.getContext&&void 0===a?(a=n,n=void 0):(a=n,n=r,r=e,e=void 0));try{var c=i.create(r,n);a(null,t(c,e,n))}catch(t){a(t)}}var o=t("./can-promise"),i=t("./core/qrcode"),a=t("./renderer/canvas"),u=t("./renderer/svg-tag.js");r.create=i.create,r.toCanvas=n.bind(null,a.render),r.toDataURL=n.bind(null,a.renderToDataURL),r.toString=n.bind(null,function(t,e,r){return u.render(t,r)})},{"./can-promise":1,"./core/qrcode":17,"./renderer/canvas":25,"./renderer/svg-tag.js":26}],25:[function(t,e,r){function n(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function o(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}var i=t("./utils");r.render=function(t,e,r){var a=r,u=e;void 0!==a||e&&e.getContext||(a=e,e=void 0),e||(u=o()),a=i.getOptions(a);var s=i.getImageWidth(t.modules.size,a),f=u.getContext("2d"),c=f.createImageData(s,s);return i.qrToImageData(c.data,t,a),n(f,u,s),f.putImageData(c,0,0),u},r.renderToDataURL=function(t,e,n){var o=n;void 0!==o||e&&e.getContext||(o=e,e=void 0),o||(o={});var i=r.render(t,e,o),a=o.type||"image/png",u=o.rendererOpts||{};return i.toDataURL(a,u.quality)}},{"./utils":27}],26:[function(t,e,r){function n(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(t,e,r){var n=t+e;return void 0!==r&&(n+=" "+r),n}function i(t,e,r){for(var n="",i=0,a=!1,u=0,s=0;s<t.length;s++){var f=Math.floor(s%e),c=Math.floor(s/e);f||a||(a=!0),t[s]?(u++,s>0&&f>0&&t[s-1]||(n+=a?o("M",f+r,.5+c+r):o("m",i,0),i=0,a=!1),f+1<e&&t[s+1]||(n+=o("h",u),u=0)):i++}return n}var a=t("./utils");r.render=function(t,e,r){var o=a.getOptions(e),u=t.modules.size,s=t.modules.data,f=u+2*o.margin,c=o.color.light.a?"<path "+n(o.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",l="<path "+n(o.color.dark,"stroke")+' d="'+i(s,u,o.margin)+'"/>',h='viewBox="0 0 '+f+" "+f+'"',d=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",g='<svg xmlns="http://www.w3.org/2000/svg" '+d+h+' shape-rendering="crispEdges">'+c+l+"</svg>\n";return"function"==typeof r&&r(null,g),g}},{"./utils":27}],27:[function(t,e,r){function n(t){if("string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:r,scale:r?4:o,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},r.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},r.getImageWidth=function(t,e){var n=r.getScale(t,e);return Math.floor((t+2*e.margin)*n)},r.qrToImageData=function(t,e,n){for(var o=e.modules.size,i=e.modules.data,a=r.getScale(o,n),u=Math.floor((o+2*n.margin)*a),s=n.margin*a,f=[n.color.light,n.color.dark],c=0;c<u;c++)for(var l=0;l<u;l++){var h=4*(c*u+l),d=n.color.light;if(c>=s&&l>=s&&c<u-s&&l<u-s){var g=Math.floor((c-s)/a),p=Math.floor((l-s)/a);d=f[i[g*o+p]?1:0]}t[h++]=d.r,t[h++]=d.g,t[h++]=d.b,t[h]=d.a}}},{}],28:[function(t,e,r){"use strict";function n(t,e,r){return n.TYPED_ARRAY_SUPPORT||this instanceof n?"number"==typeof t?u(this,t):v(this,t,e,r):new n(t,e,r)}function o(t){if(t>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|t}function i(t){return t!==t}function a(t,e){var r;return n.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=n.prototype):(r=t,null===r&&(r=new n(e)),r.length=e),r}function u(t,e){var r=a(t,e<0?0:0|o(e));if(!n.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)r[i]=0;return r}function s(t,e){var r=0|d(e),n=a(t,r),o=n.write(e);return o!==r&&(n=n.slice(0,o)),n}function f(t,e){for(var r=e.length<0?0:0|o(e.length),n=a(t,r),i=0;i<r;i+=1)n[i]=255&e[i];return n}function c(t,e,r,o){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===r&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,r):new Uint8Array(e,r,o),n.TYPED_ARRAY_SUPPORT?i.__proto__=n.prototype:i=f(t,i),i}function l(t,e){if(n.isBuffer(e)){var r=0|o(e.length),u=a(t,r);return 0===u.length?u:(e.copy(u,0,0,r),u)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||i(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function d(t){return n.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:h(t).length)}function g(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function p(t,e,r,n){return g(h(e,t.length-r),t,r,n)}function v(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?c(t,e,r,n):"string"==typeof e?s(t,e,r):l(t,e)}var m=t("isarray");n.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var w=n.TYPED_ARRAY_SUPPORT?2147483647:1073741823;n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),n.prototype.write=function(t,e,r){void 0===e?(r=this.length,e=0):void 0===r&&"string"==typeof e?(r=this.length,e=0):isFinite(e)&&(e|=0,isFinite(r)?r|=0:r=void 0);var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return p(this,t,e,r)},n.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var o;if(n.TYPED_ARRAY_SUPPORT)o=this.subarray(t,e),o.__proto__=n.prototype;else{var i=e-t;o=new n(i,void 0);for(var a=0;a<i;++a)o[a]=this[a+t]}return o},n.prototype.copy=function(t,e,r,o){if(r||(r=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-r&&(o=t.length-e+r);var i,a=o-r;if(this===t&&r<e&&e<o)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!n.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},n.prototype.fill=function(t,e,r){if("string"==typeof t){if("string"==typeof e?(e=0,r=this.length):"string"==typeof r&&(r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=n.isBuffer(t)?t:new n(t),u=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%u]}return this},n.concat=function(t,e){if(!m(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a(null,0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var o=u(null,e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!n.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o},n.byteLength=d,n.prototype._isBuffer=!0,n.isBuffer=function(t){return!(null==t||!t._isBuffer)},e.exports=n},{isarray:30}],29:[function(t,e,r){"use strict";var n={single_source_shortest_paths:function(t,e,r){var o={},i={};i[e]=0;var a=n.PriorityQueue.make();a.push(e,0);for(var u,s,f,c,l,h,d,g;!a.empty();){u=a.pop(),s=u.value,c=u.cost,l=t[s]||{};for(f in l)l.hasOwnProperty(f)&&(h=l[f],d=c+h,g=i[f],(void 0===i[f]||g>d)&&(i[f]=d,a.push(f,d),o[f]=s))}if(void 0!==r&&void 0===i[r]){var p=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var o=n.single_source_shortest_paths(t,e,r);return n.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(t){var e,r=n.PriorityQueue,o={};t=t||{};for(e in r)r.hasOwnProperty(e)&&(o[e]=r[e]);return o.queue=[],o.sorter=t.sorter||r.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==e&&(e.exports=n)},{}],30:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}]},{},[24])(24)});
//# sourceMappingURL=qrcode.min.js.map

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.tsApiValidator=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./src/Schema"));__export(require("./src/config"));__export(require("./src/BooleanPart"));__export(require("./src/StringPart"));__export(require("./src/DatePart"));__export(require("./src/StringDatePart"));__export(require("./src/NumberPart"));__export(require("./src/ObjectPart"));__export(require("./src/ArrayPart"));__export(require("./src/BasePart"))},{"./src/ArrayPart":2,"./src/BasePart":3,"./src/BooleanPart":4,"./src/DatePart":5,"./src/NumberPart":6,"./src/ObjectPart":7,"./src/Schema":8,"./src/StringDatePart":9,"./src/StringPart":10,"./src/config":11}],2:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var ts_utils_1=require("ts-utils");var ArrayPart=function(_super){__extends(ArrayPart,_super);function ArrayPart(config,path){var _this=_super.call(this,config,path)||this;var Component=_this.options.content.type;_this._child=new Component(_this.options.content);return _this}ArrayPart.prototype.process=function(data,rootList){var _this=this;return _super.prototype.process.call(this,data,rootList).then(function(value){if(value&&ts_utils_1.isArray(value)){return Promise.all(value.map(function(item){return _this._child.process(item,rootList.concat(data))}))}else{return value}})};ArrayPart.prototype.getValue=function(data){if(ts_utils_1.isArray(data)){return data}else{return null}};return ArrayPart}(BasePart_1.BasePart);exports.ArrayPart=ArrayPart},{"./BasePart":3,"ts-utils":undefined}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ts_utils_1=require("ts-utils");var BasePart=function(){function BasePart(options,path){this.options=options;this.path=path;if(this.options.isEmpty){this.isEmpty=this.options.isEmpty}if(this.options.isValid){this.isValid=this.options.isValid}if(this.options.required&&"defaultValue"in this.options){throw new Error('Wrong params! Conflict options "required" and defaultValue')}}BasePart.prototype.process=function(data,roots){var _this=this;var path=this.getPath();var result=this.getValue(this.getDataByPath(data,path),roots);return BasePart.toPromise(result).then(function(value){var isEmpty=_this.isEmpty(value);var isValid=_this.isValid(value);var type=_this.options.type.name||_this.options.type.prototype.constructor.name;if(_this.options.required){if(isEmpty){throw new Error('Required field type "'+type+'" "'+path+'" is empty!')}}if("defaultValue"in _this.options&&isEmpty){value=_this.options.defaultValue}else{if(!isValid){throw new Error('Field "'+path+'" is invalid!')}}return value})};BasePart.prototype.getPath=function(){return this.options.path===null?null:this.options.path||this.path};BasePart.prototype.isEmpty=function(data){return data==null};BasePart.prototype.isValid=function(data){return true};BasePart.prototype.getDataByPath=function(data,path){if(this.options.parseValue){if(path){return this.options.parseValue(ts_utils_1.get(data,path))}else{return this.options.parseValue(data)}}else if(path!=null){return ts_utils_1.get(data,path)}else{return data}};BasePart.isPromise=function(some){return some&&some.then&&typeof some.then==="function"};BasePart.toPromise=function(some){return BasePart.isPromise(some)?some:Promise.resolve(some)};return BasePart}();exports.BasePart=BasePart},{"ts-utils":undefined}],4:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var BooleanPart=function(_super){__extends(BooleanPart,_super);function BooleanPart(){return _super!==null&&_super.apply(this,arguments)||this}BooleanPart.prototype.getValue=function(data){switch(typeof data){case"boolean":return data;case"string":case"number":return Boolean(data);default:return null}};return BooleanPart}(BasePart_1.BasePart);exports.BooleanPart=BooleanPart},{"./BasePart":3}],5:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var DatePart=function(_super){__extends(DatePart,_super);function DatePart(){return _super!==null&&_super.apply(this,arguments)||this}DatePart.prototype.getValue=function(data){if(data instanceof Date){return data}if(typeof data==="number"){return new Date(data)}return null};return DatePart}(BasePart_1.BasePart);exports.DatePart=DatePart},{"./BasePart":3}],6:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var NumberPart=function(_super){__extends(NumberPart,_super);function NumberPart(){return _super!==null&&_super.apply(this,arguments)||this}NumberPart.prototype.getValue=function(data){switch(typeof data){case"number":return data;case"string":return Number(data);default:return null}};NumberPart.prototype.isEmpty=function(data){return data==null||isNaN(data)};return NumberPart}(BasePart_1.BasePart);exports.NumberPart=NumberPart},{"./BasePart":3}],7:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var ts_utils_1=require("ts-utils");var ObjectPart=function(_super){__extends(ObjectPart,_super);function ObjectPart(config,path){var _this=_super.call(this,config,path)||this;var myPath=_this.getPath();_this._childHash=Object.create(null);ts_utils_1.each(_this.options.content,function(config,key){var Component=config.type;var localPath=path==null?String(key):myPath+"."+key;_this._childHash[key]=new Component(config,localPath)});return _this}ObjectPart.prototype.process=function(data,rootList){var _this=this;return _super.prototype.process.call(this,data,rootList).then(function(value){if(value&&ts_utils_1.isObject(value)){var promises_1=[];var result_1=Object.create(null);Object.keys(_this._childHash).forEach(function(name){var promise=_this._childHash[name].process(data,rootList).then(function(itemValue){result_1[name]=itemValue});promises_1.push(promise)});return Promise.all(promises_1).then(function(){return result_1})}else{return value}})};ObjectPart.prototype.getValue=function(data){if(ts_utils_1.isObject(data)){return data}else{return null}};return ObjectPart}(BasePart_1.BasePart);exports.ObjectPart=ObjectPart},{"./BasePart":3,"ts-utils":undefined}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Schema=function(){function Schema(config){var Component=config.type;this._children=new Component(config)}Schema.prototype.parse=function(data){return this._children.process(data,[])};return Schema}();exports.Schema=Schema},{}],9:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var config_1=require("./config");var ts_utils_1=require("ts-utils");var StringDatePart=function(_super){__extends(StringDatePart,_super);function StringDatePart(config,path){var _this=_super.call(this,config,path)||this;_this.dateProcessor=ts_utils_1.date(_this.options.outPattern||config_1.OUT_DATE_PATTERN);return _this}StringDatePart.prototype.getValue=function(data){var date;if(data instanceof Date){date=data}if(typeof data==="number"){date=new Date(data)}if(date){return this.dateProcessor(date)}return null};return StringDatePart}(BasePart_1.BasePart);exports.StringDatePart=StringDatePart},{"./BasePart":3,"./config":11,"ts-utils":undefined}],10:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var BasePart_1=require("./BasePart");var StringPart=function(_super){__extends(StringPart,_super);function StringPart(){return _super!==null&&_super.apply(this,arguments)||this}StringPart.prototype.getValue=function(data){switch(typeof data){case"string":return data;case"number":return String(data);default:return null}};return StringPart}(BasePart_1.BasePart);exports.StringPart=StringPart},{"./BasePart":3}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OUT_DATE_PATTERN="DD.MM.YYYY"},{}]},{},[1])(1)});
/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.2.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext;function B(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function E(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):D.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],!1))},not:function(a){return this.pushStack(E(this,a||[],!0))},is:function(a){return!!E(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||F,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:G.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),C.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};H.prototype=r.fn,F=r(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return B(a,"iframe")?a.contentDocument:(B(a,"template")&&(a=a.content||a),r.merge([],a.childNodes))}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(J[a]||r.uniqueSort(e),I.test(a)&&e.reverse()),this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};return r.each(a.match(L)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?M(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=e||a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{a&&r.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&r.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,N,e),g(f,c,O,e)):(f++,j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))):(d!==N&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==O&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:N,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:N)),c[2][3].add(g(0,a,r.isFunction(d)?d:O))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(P(a,g.done(h(c)).resolve,g.reject,!b),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)P(e[c],h(c),g.reject);return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Q.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var R=r.Deferred();r.fn.ready=function(a){return R.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||R.resolveWith(d,[r]))}}),r.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S),
a.removeEventListener("load",S),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",S),a.addEventListener("load",S));var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)T(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function V(){this.expando=r.expando+V.uid++}V.uid=1,V.prototype={cache:function(a){var b=a[this.expando];return b||(b={},U(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(L)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var W=new V,X=new V,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Y.test(a)?JSON.parse(a):a)}function _(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Z,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=$(c)}catch(e){}X.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return X.hasData(a)||W.hasData(a)},data:function(a,b,c){return X.access(a,b,c)},removeData:function(a,b){X.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=X.get(f),1===f.nodeType&&!W.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),_(f,d,e[d])));W.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){X.set(this,a)}):T(this,function(b){var c;if(f&&void 0===b){if(c=X.get(f,a),void 0!==c)return c;if(c=_(f,a),void 0!==c)return c}else this.each(function(){X.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){X.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||Array.isArray(c)?d=W.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:r.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=W.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^(?:([+-])=|)("+aa+")([a-z%]*)$","i"),ca=["Top","Right","Bottom","Left"],da=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ea=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function fa(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&ba.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ga={};function ha(a){var b,c=a.ownerDocument,d=a.nodeName,e=ga[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ga[d]=e,e)}function ia(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=W.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&da(d)&&(e[f]=ha(d))):"none"!==c&&(e[f]="none",W.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){da(this)?r(this).show():r(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,la=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option,ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead,ma.th=ma.td;function na(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&B(a,b)?r.merge([a],c):c}function oa(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],"globalEval",!b||W.get(b[c],"globalEval"))}var pa=/<|&#?\w+;/;function qa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(pa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ka.exec(f)||["",""])[1].toLowerCase(),i=ma[h]||ma._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=na(l.appendChild(f),"script"),j&&oa(g),c){k=0;while(f=g[k++])la.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ra=d.documentElement,sa=/^key/,ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ua=/^([^.]*)(?:\.(.+)|)/;function va(){return!0}function wa(){return!1}function xa(){try{return d.activeElement}catch(a){}}function ya(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ya(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=wa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(ra,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(L)||[""],j=b.length;while(j--)h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.hasData(a)&&W.get(a);if(q&&(i=q.events)){b=(b||"").match(L)||[""],j=b.length;while(j--)if(h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&W.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(W.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(a){return B(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?va:wa,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=va,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=va,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=va,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&sa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ta.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return ya(this,a,b,c,d)},one:function(a,b,c,d){return ya(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=wa),this.each(function(){r.event.remove(this,a,c,b)})}});var za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Aa=/<script|<style|<link/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,Da=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ea(a,b){return B(a,"table")&&B(11!==b.nodeType?b:b.firstChild,"tr")?r(">tbody",a)[0]||a:a}function Fa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ga(a){var b=Ca.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ha(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(W.hasData(a)&&(f=W.access(a),g=W.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}X.hasData(a)&&(h=X.access(a),i=r.extend({},h),X.set(b,i))}}function Ia(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ja.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ja(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Ba.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ja(f,b,c,d)});if(m&&(e=qa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(na(e,"script"),Fa),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,na(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ga),l=0;l<i;l++)j=h[l],la.test(j.type||"")&&!W.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Da,""),k))}return a}function Ka(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(na(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&oa(na(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(za,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=na(h),f=na(a),d=0,e=f.length;d<e;d++)Ia(f[d],g[d]);if(b)if(c)for(f=f||na(a),g=g||na(h),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);else Ha(a,h);return g=na(h,"script"),g.length>0&&oa(g,!i&&na(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(U(c)){if(b=c[W.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[W.expando]=void 0}c[X.expando]&&(c[X.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ka(this,a,!0)},remove:function(a){return Ka(this,a)},text:function(a){return T(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.appendChild(a)}})},prepend:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(na(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Aa.test(a)&&!ma[(ka.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(na(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ja(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(na(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var La=/^margin/,Ma=new RegExp("^("+aa+")(?!px)[a-z%]+$","i"),Na=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",ra.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,ra.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Oa(a,b,c){var d,e,f,g,h=a.style;return c=c||Na(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ma.test(g)&&La.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Pa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Qa=/^(none|table(?!-c[ea]).+)/,Ra=/^--/,Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","Moz","ms"],Va=d.createElement("div").style;function Wa(a){if(a in Va)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ua.length;while(c--)if(a=Ua[c]+b,a in Va)return a}function Xa(a){var b=r.cssProps[a];return b||(b=r.cssProps[a]=Wa(a)||a),b}function Ya(a,b,c){var d=ba.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Za(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ca[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ca[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ca[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ca[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ca[f]+"Width",!0,e)));return g}function $a(a,b,c){var d,e=Na(a),f=Oa(a,b,e),g="border-box"===r.css(a,"boxSizing",!1,e);return Ma.test(f)?f:(d=g&&(o.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+Za(a,b,c||(g?"border":"content"),d,e)+"px")}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=Ra.test(b),j=a.style;return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=ba.exec(c))&&e[1]&&(c=fa(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b),i=Ra.test(b);return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Oa(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Qa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?$a(a,b,d):ea(a,Sa,function(){return $a(a,b,d)})},set:function(a,c,d){var e,f=d&&Na(a),g=d&&Za(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=ba.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ya(a,c,g)}}}),r.cssHooks.marginLeft=Pa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Oa(a,"marginLeft"))||a.getBoundingClientRect().left-ea(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ca[d]+b]=f[d]||f[d-2]||f[0];return e}},La.test(a)||(r.cssHooks[a+b].set=Ya)}),r.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=Na(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function _a(a,b,c,d,e){return new _a.prototype.init(a,b,c,d,e)}r.Tween=_a,_a.prototype={constructor:_a,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=_a.propHooks[this.prop];return a&&a.get?a.get(this):_a.propHooks._default.get(this)},run:function(a){var b,c=_a.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):_a.propHooks._default.set(this),this}},_a.prototype.init.prototype=_a.prototype,_a.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},_a.propHooks.scrollTop=_a.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=_a.prototype.init,r.fx.step={};var ab,bb,cb=/^(?:toggle|show|hide)$/,db=/queueHooks$/;function eb(){bb&&(d.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,r.fx.interval),r.fx.tick())}function fb(){return a.setTimeout(function(){ab=void 0}),ab=r.now()}function gb(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ca[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function hb(a,b,c){for(var d,e=(kb.tweeners[b]||[]).concat(kb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&da(a),q=W.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=W.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ia([a],!0),j=a.style.display||j,k=r.css(a,"display"),ia([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=W.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ia([a],!0),m.done(function(){p||ia([a]),W.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=hb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=kb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ab||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:ab||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);f<g;f++)if(d=kb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,hb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}r.Animation=r.extend(kb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return fa(c.elem,a,ba.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(L);for(var c,d=0,e=a.length;d<e;d++)c=a[d],kb.tweeners[c]=kb.tweeners[c]||[],kb.tweeners[c].unshift(b)},prefilters:[ib],prefilter:function(a,b){b?kb.prefilters.unshift(a):kb.prefilters.push(a)}}),r.speed=function(a,b,c){var d=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in r.fx.speeds?d.duration=r.fx.speeds[d.duration]:d.duration=r.fx.speeds._default),null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)},d},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=kb(this,r.extend({},a),f);(e||W.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=W.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=W.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),r.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(ab=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),ab=void 0},r.fx.timer=function(a){r.timers.push(a),r.fx.start()},r.fx.interval=13,r.fx.start=function(){bb||(bb=!0,eb())},r.fx.stop=function(){bb=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var lb,mb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return T(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?lb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),
null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&B(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),lb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||r.find.attr;mb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=mb[g],mb[g]=e,e=null!=c(a,b,d)?g:null,mb[g]=f),e}});var nb=/^(?:input|select|textarea|button)$/i,ob=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return T(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):nb.test(a.nodeName)||ob.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function pb(a){var b=a.match(L)||[];return b.join(" ")}function qb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,qb(this)))});if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,qb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,qb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(L)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=qb(this),b&&W.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":W.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+pb(qb(c))+" ").indexOf(b)>-1)return!0;return!1}});var rb=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:pb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!B(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var sb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!sb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,sb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&U(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!U(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0),W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});var tb=a.location,ub=r.now(),vb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(Array.isArray(b))r.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!ja.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:Array.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}});var Bb=/%20/g,Cb=/#.*$/,Db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Ib={},Jb={},Kb="*/".concat("*"),Lb=d.createElement("a");Lb.href=tb.href;function Mb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(L)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nb(a,b,c,d){var e={},f=a===Jb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Ob(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Pb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Qb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:Fb.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Ob(Ob(a,r.ajaxSettings),b):Ob(r.ajaxSettings,a)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Eb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||tb.href)+"").replace(Hb,tb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Lb.protocol+"//"+Lb.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Nb(Ib,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Gb.test(o.type),f=o.url.replace(Cb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(vb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Db,"$1"),n=(vb.test(f)?"&":"?")+"_="+ub++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Kb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Nb(Jb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Pb(o,y,d)),v=Qb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=r.ajaxSettings.xhr();o.cors=!!Sb&&"withCredentials"in Sb,o.ajax=Sb=!!Sb,r.ajaxTransport(function(b){var c,d;if(o.cors||Sb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||r.expando+"_"+ub++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(vb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=C.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=qa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=pb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),B(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||ra})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return T(this,function(a,d,e){var f;return r.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Pa(o.pixelPosition,function(a,c){if(c)return c=Oa(a,b),Ma.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return T(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.holdReady=function(a){a?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=B,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Vb=a.jQuery,Wb=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Wb),b&&a.jQuery===r&&(a.jQuery=Vb),r},b||(a.jQuery=a.$=r),r});

!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function i(n){return!isNaN(n)}function u(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var u=r+i>>>1;n(t[u],e)<0?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function f(n){return(n+="")===bo||n[0]===_o?_o+n:n}function s(n){return(n+="")[0]===_o?n.slice(1):n}function h(n){return f(n)in this._}function p(n){return(n=f(n))in this._&&delete this._[n]}function g(){var n=[];for(var t in this._)n.push(s(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=wo.length;r>e;++e){var i=wo[e]+t;if(i in n)return i}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,i){var u,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function S(){ao.event.preventDefault()}function k(){for(var n,t=ao.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=ao.event;i.target=n,ao.event=i,t[i.type].apply(e,r)}finally{ao.event=u}}},t}function E(n){return ko(n,Co),n}function A(n){return"function"==typeof n?n:function(){return No(n,this)}}function C(n){return"function"==typeof n?n:function(){return Eo(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ao.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+ao.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=T(n).map(D);var i=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",L(i+" "+n))):e.setAttribute("class",L(i.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===zo&&t.documentElement.namespaceURI===zo?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ao.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return Ao(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var i,u=n[e],o=0,a=u.length;a>o;o++)(i=u[o])&&t(i,o,e);return n}function Z(n){return ko(n,qo),n}function V(n){var t,e;return function(r,i,u){var o,a=n[u].update,l=a.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(o=a[t])&&++t<l;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=l(t,co(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+ao.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),l=$;a>0&&(n=n.slice(0,a));var c=To.get(n);return c&&(n=c,l=B),a?t?i:r:t?b:u}function $(n,t){return function(e){var r=ao.event;ao.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ao.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Do,i="click"+r,u=ao.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ro&&(Ro="onselectstart"in e?!1:x(e.style,"userSelect")),Ro){var o=n(e).style,a=o[Ro];o[Ro]="none"}return function(n){if(u.on(r,null),Ro&&(o[Ro]=a),n){var t=function(){u.on(i,null)};u.on(i,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Po){var u=t(n);if(u.scrollX||u.scrollY){r=ao.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Po=!(o.f||o.e),r.remove()}}return Po?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ao.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:-1>n?Fo:Math.acos(n)}function tn(n){return n>1?Io:-1>n?-Io:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?u+(o-u)*n/60:180>n?o:240>n?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,u=2*e-o,new mn(i(n+120),i(n),i(n-120))}function fn(n,t,e){return this instanceof fn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof fn?new fn(n.h,n.c,n.l):n instanceof hn?gn(n.l,n.a,n.b):gn((n=Sn((n=ao.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new fn(n,t,e)}function sn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Yo)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof fn?sn(n.h,n.c,n.l):Sn((n=mn(n)).r,n.g,n.b):new hn(n,t,e)}function pn(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=vn(i)*na,r=vn(r)*ta,u=vn(u)*ea,new mn(yn(3.2404542*i-1.5371385*r-.4985314*u),yn(-.969266*i+1.8760108*r+.041556*u),yn(.0556434*i-.2040259*r+1.0572252*u))}function gn(n,t,e){return n>0?new fn(Math.atan2(e,t)*Zo,Math.sqrt(t*t+e*e),n):new fn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yn(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mn(n,t,e){return this instanceof mn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mn?new mn(n.r,n.g,n.b):_n(""+n,mn,cn):new mn(n,t,e)}function Mn(n){return new mn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,i,u,o=0,a=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nn(i[0]),Nn(i[1]),Nn(i[2]))}return(u=ua.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&u)>>4,o=o>>4|o,a=240&u,a=a>>4|a,l=15&u,l=l<<4|l):7===n.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,l=255&u)),t(o,a,l))}function wn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,l=(o+u)/2;return a?(i=.5>l?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=l>0&&1>l?0:r),new ln(r,i,l)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/na),i=dn((.2126729*n+.7151522*t+.072175*e)/ta),u=dn((.0193339*n+.119192*t+.9503041*e)/ea);return hn(116*i-16,500*(r-i),200*(i-u))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function i(){var n,t=l.status;if(!t&&Ln(l)||t>=200&&300>t||304===t){try{n=e.call(u,l)}catch(r){return void o.error.call(u,r)}o.load.call(u,n)}else o.error.call(u,l)}var u={},o=ao.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(n){var t=ao.event;ao.event=n;try{o.progress.call(u,l)}finally{ao.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(c=n,u):c},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(co(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var f in a)l.setRequestHeader(f,a[f]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,l),l.send(null==r?null:r),u},u.abort=function(){return l.abort(),u},ao.rebind(u,o,"on"),null==r?u:u.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var i=e+t,u={c:n,t:i,n:null};return aa?aa.n=u:oa=u,aa=u,la||(ca=clearTimeout(ca),la=1,fa(Tn)),u}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(ca),ca=setTimeout(Tn,t)),la=0):(la=1,fa(Tn))}function Rn(){for(var n=Date.now(),t=oa;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=oa,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:oa=t.n;return aa=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Un(n,t){var e=Math.pow(10,3*xo(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function jn(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r&&e?function(n,t){for(var i=n.length,u=[],o=0,a=r[0],l=0;i>0&&a>0&&(l+a+1>t&&(a=Math.max(1,t-l)),u.push(n.substring(i-=a,i+a)),!((l+=a+1)>t));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:m;return function(n){var e=ha.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",l=e[4]||"",c=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],g=1,v="",d="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),p){case"n":s=!0,p="g";break;case"%":g=100,d="%",p="f";break;case"p":g=100,d="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===l&&(v=i[0],d=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=pa.get(p)||Fn;var M=c&&s;return function(n){var e=d;if(y&&n%1)return"";var i=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>g){var l=ao.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=g;n=p(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=m?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!c&&s&&(x=u(x,1/0));var S=v.length+x.length+b.length+(M?0:i.length),k=f>S?new Array(S=f-S+1).join(r):"";return M&&(x=u(k+x,k.length?f-b.length:1/0)),i+=v,n=x+b,("<"===o?i+n+k:">"===o?k+i+n:"^"===o?k.substring(0,S>>=1)+i+n+k.substring(S):i+(M?n:k+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=u(e,1);return r-t>t-e?e:r}function i(e){return t(e=n(new va(e-1)),1),e}function u(n,e){return t(n=new va(+n),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;r>o;)e(o)%u||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{va=Hn;var r=new Hn;return r._=n,o(r,t,e)}finally{va=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(i),l.offset=In(u),l.range=a,n}function In(n){return function(t,e){try{va=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{va=Date}}}function Yn(n){function t(n){function t(t){for(var e,i,u,o=[],a=-1,l=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(l,a)),null!=(i=ya[e=n.charAt(++a)])&&(e=n.charAt(++a)),(u=A[e])&&(e=u(t,null==i?"e"===e?" ":"0":i)),o.push(e),l=a+1);return o.push(n.slice(l,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,n,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&va!==Hn,o=new(u?Hn:va);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,l=t.length,c=e.length;l>a;){if(r>=c)return-1;if(i=t.charCodeAt(a++),37===i){if(o=t.charAt(a++),u=C[o in ya?t.charAt(a++):o],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,p=n.time,g=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{va=Hn;var t=new va;return t._=n,r(t)}finally{va=Date}}var r=t(n);return e.parse=function(n){try{va=Hn;var t=r.parse(n);return t&&t._}finally{va=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=ao.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),S=Vn(y),k=Xn(y),N=Vn(m),E=Xn(m);g.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+ga.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return g[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(ga.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(ga.mondayOfYear(n),t,2)},x:t(h),X:t(p),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:tt,e:tt,H:rt,I:rt,j:et,L:ot,m:nt,M:it,p:f,S:ut,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=0>n?"-":"",i=(r?-n:n)+"",u=i.length;return r+(e>u?new Array(e-u+1).join(t)+i:i)}function Vn(n){return new RegExp("^(?:"+n.map(ao.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function it(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ut(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ot(n,t,e){ma.lastIndex=0;var r=ma.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function at(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=xo(t)/60|0,i=xo(t)%60;return e+Zn(r,"0",2)+Zn(i,"0",2)}function lt(n,t,e){Ma.lastIndex=0;var r=Ma.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ft(){}function st(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function ht(n,t){n&&wa.hasOwnProperty(n.type)&&wa[n.type](n,t)}function pt(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function gt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)pt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Yo,t=t*Yo/2+Fo/4;var e=n-r,o=e>=0?1:-1,a=o*e,l=Math.cos(t),c=Math.sin(t),f=u*c,s=i*l+f*Math.cos(a),h=f*o*Math.sin(a);ka.add(Math.atan2(h,s)),r=n,i=l,u=c}var t,e,r,i,u;Na.point=function(o,a){Na.point=n,r=(t=o)*Yo,i=Math.cos(a=(e=a)*Yo/2+Fo/4),u=Math.sin(a)},Na.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function yt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function mt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return xo(n[0]-t[0])<Uo&&xo(n[1]-t[1])<Uo}function St(n,t){n*=Yo;var e=Math.cos(t*=Yo);kt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function kt(n,t,e){++Ea,Ca+=(n-Ca)/Ea,za+=(t-za)/Ea,La+=(e-La)/Ea}function Nt(){function n(n,i){n*=Yo;var u=Math.cos(i*=Yo),o=u*Math.cos(n),a=u*Math.sin(n),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*a)*c+(c=r*o-t*l)*c+(c=t*a-e*o)*c),t*o+e*a+r*l);Aa+=c,qa+=c*(t+(t=o)),Ta+=c*(e+(e=a)),Ra+=c*(r+(r=l)),kt(t,e,r)}var t,e,r;ja.point=function(i,u){i*=Yo;var o=Math.cos(u*=Yo);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),ja.point=n,kt(t,e,r)}}function Et(){ja.point=St}function At(){function n(n,t){n*=Yo;var e=Math.cos(t*=Yo),o=e*Math.cos(n),a=e*Math.sin(n),l=Math.sin(t),c=i*l-u*a,f=u*o-r*l,s=r*a-i*o,h=Math.sqrt(c*c+f*f+s*s),p=r*o+i*a+u*l,g=h&&-nn(p)/h,v=Math.atan2(h,p);Da+=g*c,Pa+=g*f,Ua+=g*s,Aa+=v,qa+=v*(r+(r=o)),Ta+=v*(i+(i=a)),Ra+=v*(u+(u=l)),kt(r,i,u)}var t,e,r,i,u;ja.point=function(o,a){t=o,e=a,ja.point=n,o*=Yo;var l=Math.cos(a*=Yo);r=l*Math.cos(o),i=l*Math.sin(o),u=Math.sin(a),kt(r,i,u)},ja.lineEnd=function(){n(t,e),ja.lineEnd=Et,ja.point=St}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){i.lineStart();for(var a=0;t>a;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,u.push(l),o.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,u.push(l),o.push(c)}}),o.sort(t),qt(u),qt(o),u.length){for(var a=0,l=e,c=o.length;c>a;++a)o[a].e=l=!l;for(var f,s,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,c=f.length;c>a;++a)i.point((s=f[a])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){f=p.p.z;for(var a=f.length-1;a>=0;--a)i.point((s=f[a])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,g=!g}while(!p.v);i.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);d.point(e[0],e[1])}function l(){m.point=a,d.lineStart()}function c(){m.point=o,d.lineEnd()}function f(n,t){v.push([n,t]);var e=i(n,t);x.point(e[0],e[1])}function s(){x.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),g.push(v),v=null,r)if(1&t){n=e[0];var i,r=n.length-1,o=-1;if(r>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++o<r;)u.point((i=n[o])[0],i[1]);u.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Dt))}var p,g,v,d=t(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:l,lineEnd:c,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=o,m.lineStart=l,m.lineEnd=c,p=ao.merge(p);var n=Ot(y,g);p.length?(b||(u.polygonStart(),b=!0),Lt(p,Ut,n,e,u)):n&&(b||(u.polygonStart(),b=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),p=g=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},M=Pt(),x=t(M),b=!1;return m}}function Dt(n){return n.length>1}function Pt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(n,t){return((n=n.x)[0]<0?n[1]-Io-Uo:Io-n[1])-((t=t.x)[0]<0?t[1]-Io-Uo:Io-t[1])}function jt(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,o){var a=u>0?Fo:-Fo,l=xo(u-e);xo(l-Fo)<Uo?(n.point(e,r=(r+o)/2>0?Io:-Io),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),t=0):i!==a&&l>=Fo&&(xo(e-i)<Uo&&(e-=i*Uo),xo(u-a)<Uo&&(u-=a*Uo),r=Ft(e,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=u,r=o),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ft(n,t,e,r){var i,u,o=Math.sin(n-e);return xo(o)>Uo?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Ht(n,t,e,r){var i;if(null==n)i=e*Io,r.point(-Fo,i),r.point(0,i),r.point(Fo,i),r.point(Fo,0),r.point(Fo,-i),r.point(0,-i),r.point(-Fo,-i),r.point(-Fo,0),r.point(-Fo,i);else if(xo(n[0]-t[0])>Uo){var u=n[0]<t[0]?Fo:-Fo;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;ka.reset();for(var a=0,l=t.length;l>a;++a){var c=t[a],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+Fo/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0),n=c[d];var y=n[0],m=n[1]/2+Fo/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=b>=0?1:-1,w=_*b,S=w>Fo,k=g*M;if(ka.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),u+=S?b+_*Ho:b,S^h>=e^y>=e){var N=mt(dt(s),dt(n));bt(N);var E=mt(i,N);bt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(-Uo>u||Uo>u&&-Uo>ka)^1&o}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,h){var p,g=[s,h],v=t(s,h),d=o?v?0:i(s,h):v?i(s+(0>s?Fo:-Fo),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(p=r(e,g),(wt(e,p)||wt(g,p))&&(g[0]+=Uo,g[1]+=Uo,v=t(g[0],g[1]))),v!==l)f=0,v?(n.lineStart(),p=r(g,e),n.point(p[0],p[1])):(p=r(e,g),n.point(p[0],p[1]),n.lineEnd()),e=p;else if(a&&e&&o^v){var y;d&u||!(y=r(g,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&wt(e,g)||n.point(g[0],g[1]),e=g,l=v,u=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),i=dt(t),o=[1,0,0],a=mt(r,i),l=yt(a,a),c=a[0],f=l-c*c;if(!f)return!e&&n;var s=u*l/f,h=-u*c/f,p=mt(o,a),g=xt(o,s),v=xt(a,h);Mt(g,v);var d=p,y=yt(g,d),m=yt(d,d),M=y*y-m*(yt(g,g)-1);if(!(0>M)){var x=Math.sqrt(M),b=xt(d,(-y-x)/m);if(Mt(b,g),b=_t(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];w>S&&(_=w,w=S,S=_);var E=S-w,A=xo(E-Fo)<Uo,C=A||Uo>E;if(!A&&k>N&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(xo(b[0]-w)<Uo?k:N):k<=b[1]&&b[1]<=N:E>Fo^(w<=b[0]&&b[0]<=S)){var z=xt(d,(-y+x)/m);return Mt(z,g),[b,_t(z)]}}}function i(t,e){var r=o?n:Fo-n,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>e?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=xo(u)>Uo,l=ve(n,6*Yo);return Rt(t,e,l,o?[0,-n]:[-Fo,n-Fo])}function Yt(n,t,e,r){return function(i){var u,o=i.a,a=i.b,l=o.x,c=o.y,f=a.x,s=a.y,h=0,p=1,g=f-l,v=s-c;if(u=n-l,g||!(u>0)){if(u/=g,0>g){if(h>u)return;p>u&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-l,g||!(0>u)){if(u/=g,0>g){if(u>p)return;u>h&&(h=u)}else if(g>0){if(h>u)return;p>u&&(p=u)}if(u=t-c,v||!(u>0)){if(u/=v,0>v){if(h>u)return;p>u&&(p=u)}else if(v>0){if(u>p)return;u>h&&(h=u)}if(u=r-c,v||!(0>u)){if(u/=v,0>v){if(u>p)return;u>h&&(h=u)}else if(v>0){if(h>u)return;p>u&&(p=u)}return h>0&&(i.a={x:l+h*g,y:c+h*v}),1>p&&(i.b={x:l+p*g,y:c+p*v}),i}}}}}}function Zt(n,t,e,r){function i(r,i){return xo(r[0]-n)<Uo?i>0?0:3:xo(r[0]-e)<Uo?i>0?2:1:xo(r[1]-t)<Uo?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function l(n){for(var t=0,e=d.length,r=n[1],i=0;e>i;++i)for(var u,o=1,a=d[i],l=a.length,c=a[0];l>o;++o)u=a[o],c[1]<=r?u[1]>r&&Q(c,u,n)>0&&++t:u[1]<=r&&Q(c,u,n)<0&&--t,c=u;return 0!==t}function c(u,a,l,c){var f=0,s=0;if(null==u||(f=i(u,l))!==(s=i(a,l))||o(u,a)<0^l>0){do c.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+l+4)%4)!==s)}else c.point(a[0],a[1])}function f(i,u){return i>=n&&e>=i&&u>=t&&r>=u}function s(n,t){f(n,t)&&a.point(n,t)}function h(){C.point=g,d&&d.push(y=[]),S=!0,w=!1,b=_=NaN}function p(){v&&(g(m,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=s,w&&a.lineEnd()}function g(n,t){n=Math.max(-Ha,Math.min(Ha,n)),t=Math.max(-Ha,Math.min(Ha,t));var e=f(n,t);if(d&&y.push([n,t]),S)m=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,y,m,M,x,b,_,w,S,k,N=a,E=Pt(),A=Yt(n,t,e,r),C={point:s,lineStart:h,lineEnd:p,polygonStart:function(){a=E,v=[],d=[],k=!0},polygonEnd:function(){a=N,v=ao.merge(v);var t=l([n,r]),e=k&&t,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),i&&Lt(v,u,t,c,a),a.polygonEnd()),v=d=y=null}};return C}}function Vt(n){var t=0,e=Fo/3,r=ae(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*Fo/180,e=n[1]*Fo/180):[t/Fo*180,e/Fo*180]},i}function Xt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,tn((u-(n*n+e*e)*i*i)/(2*i))]},e}function $t(){function n(n,t){Ia+=i*n-r*t,r=n,i=t}var t,e,r,i;$a.point=function(u,o){$a.point=n,t=r=u,e=i=o},$a.lineEnd=function(){n(t,e)}}function Bt(n,t){Ya>n&&(Ya=n),n>Va&&(Va=n),Za>t&&(Za=t),t>Xa&&(Xa=t)}function Wt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Jt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Jt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Ca+=n,za+=t,++La}function Kt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);qa+=o*(t+n)/2,Ta+=o*(e+r)/2,Ra+=o,Gt(t=n,e=r)}var t,e;Wa.point=function(r,i){Wa.point=n,Gt(t=r,e=i)}}function Qt(){Wa.point=Gt}function ne(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);qa+=o*(r+n)/2,Ta+=o*(i+t)/2,Ra+=o,o=i*n-r*t,Da+=o*(r+n),Pa+=o*(i+t),Ua+=3*o,Gt(r=n,i=t)}var t,e,r,i;Wa.point=function(u,o){Wa.point=n,Gt(t=r=u,e=i=o)},Wa.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,Ho)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function ee(n){function t(n){return(a?r:e)(n)}function e(t){return ue(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=u,t.lineStart()}function u(e,r){var u=dt([e,r]),o=n(e,r);i(M,x,m,b,_,w,M=o[0],x=o[1],m=e,b=u[0],_=u[1],w=u[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function l(){
r(),S.point=c,S.lineEnd=f}function c(n,t){u(s=n,h=t),p=M,g=x,v=b,d=_,y=w,S.point=u}function f(){i(M,x,m,b,_,w,p,g,s,v,d,y,a,t),S.lineEnd=o,o()}var s,h,p,g,v,d,y,m,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function i(t,e,r,a,l,c,f,s,h,p,g,v,d,y){var m=f-t,M=s-e,x=m*m+M*M;if(x>4*u&&d--){var b=a+p,_=l+g,w=c+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=xo(xo(w)-1)<Uo||xo(r-h)<Uo?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-m*L;(q*q/x>u||xo((m*z+M*L)/x-.5)>.3||o>a*p+l*g+c*v)&&(i(t,e,r,a,l,c,A,C,N,b/=S,_/=S,w,d,y),y.point(A,C),i(A,C,N,b,_,w,f,s,h,p,g,v,d,y))}}var u=.5,o=Math.cos(30*Yo),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function re(n){var t=ee(function(t,e){return n([t*Zo,e*Zo])});return function(n){return le(t(n))}}function ie(n){this.stream=n}function ue(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function oe(n){return ae(function(){return n})()}function ae(n){function t(n){return n=a(n[0]*Yo,n[1]*Yo),[n[0]*h+l,c-n[1]*h]}function e(n){return n=a.invert((n[0]-l)/h,(c-n[1])/h),n&&[n[0]*Zo,n[1]*Zo]}function r(){a=Ct(o=se(y,M,x),u);var n=u(v,d);return l=p-n[0]*h,c=g+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,l,c,f,s=ee(function(n,t){return n=u(n,t),[n[0]*h+l,c-n[1]*h]}),h=150,p=480,g=250,v=0,d=0,y=0,M=0,x=0,b=Fa,_=m,w=null,S=null;return t.stream=function(n){return f&&(f.valid=!1),f=le(b(o,s(_(n)))),f.valid=!0,f},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Fa):It((w=+n)*Yo),i()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):m,i()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(p=+n[0],g=+n[1],r()):[p,g]},t.center=function(n){return arguments.length?(v=n[0]%360*Yo,d=n[1]%360*Yo,r()):[v*Zo,d*Zo]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Yo,M=n[1]%360*Yo,x=n.length>2?n[2]%360*Yo:0,r()):[y*Zo,M*Zo,x*Zo]},ao.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function le(n){return ue(n,function(t,e){n.point(t*Yo,e*Yo)})}function ce(n,t){return[n,t]}function fe(n,t){return[n>Fo?n-Ho:-Fo>n?n+Ho:n,t]}function se(n,t,e){return n?t||e?Ct(pe(n),ge(t,e)):pe(n):t||e?ge(t,e):fe}function he(n){return function(t,e){return t+=n,[t>Fo?t-Ho:-Fo>t?t+Ho:t,e]}}function pe(n){var t=he(n);return t.invert=he(-n),t}function ge(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*r+a*i;return[Math.atan2(l*u-f*o,a*r-c*i),tn(f*u+l*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*u-l*o;return[Math.atan2(l*u+c*o,a*r+f*i),tn(f*r-a*i)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var l=o*t;null!=i?(i=de(e,i),u=de(e,u),(o>0?u>i:i>u)&&(i+=o*Ho)):(i=n+o*Ho,u=n-.5*l);for(var c,f=i;o>0?f>u:u>f;f-=l)a.point((c=_t([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Uo)%(2*Math.PI)}function ye(n,t,e){var r=ao.range(n,t-Uo,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function me(n,t,e){var r=ao.range(n,t-Uo,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),l=i*Math.cos(n),c=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+i*o*on(e-n))),p=1/Math.sin(h),g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*l+t*f,i=e*c+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Zo,Math.atan2(o,Math.sqrt(r*r+i*i))*Zo]}:function(){return[n*Zo,t*Zo]};return g.distance=h,g}function _e(){function n(n,i){var u=Math.sin(i*=Yo),o=Math.cos(i),a=xo((n*=Yo)-t),l=Math.cos(a);Ja+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*l)*a),e*u+r*o*l),t=n,e=u,r=o}var t,e,r;Ga.point=function(i,u){t=i*Yo,e=Math.sin(u*=Yo),r=Math.cos(u),Ga.point=n},Ga.lineEnd=function(){Ga.point=Ga.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function Se(n,t){function e(n,t){o>0?-Io+Uo>t&&(t=-Io+Uo):t>Io-Uo&&(t=Io-Uo);var e=o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(Fo/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=K(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-Io]},e):Ne}function ke(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return xo(i)<Uo?ce:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-K(i)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(Fo/4+t/2))]}function Ee(n){var t,e=oe(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=u.apply(e,arguments);if(o===e){if(t=null==n){var a=Fo*r(),l=i();u([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(Fo/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,i=2;t>i;i++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,l=n[1],c=e[1],f=t[1]-l,s=r[1]-c,h=(a*(l-c)-s*(i-u))/(s*o-a*f);return[i+h*o,l+h*f]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function Ue(n){var t=cl.pop()||new Pe;return t.site=n,t}function je(n){Be(n),ol.remove(n),cl.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];je(n);for(var l=u;l.circle&&xo(e-l.circle.x)<Uo&&xo(r-l.circle.cy)<Uo;)u=l.P,a.unshift(l),je(l),l=u;a.unshift(l),Be(l);for(var c=o;c.circle&&xo(e-c.circle.x)<Uo&&xo(r-c.circle.cy)<Uo;)o=c.N,a.push(c),je(c),c=o;a.push(c),Be(c);var f,s=a.length;for(f=1;s>f;++f)c=a[f],l=a[f-1],nr(c.edge,l.site,c.site,i);l=a[0],c=a[s-1],c.edge=Ke(l.site,c.site,null,i),$e(l),$e(c)}function He(n){for(var t,e,r,i,u=n.x,o=n.y,a=ol._;a;)if(r=Oe(a,o)-u,r>Uo)a=a.L;else{if(i=u-Ie(a,o),!(i>Uo)){r>-Uo?(t=a.P,e=a):i>-Uo?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var l=Ue(n);if(ol.insert(t,l),t||e){if(t===e)return Be(t),e=Ue(t.site),ol.insert(l,e),l.edge=e.edge=Ke(t.site,l.site),$e(t),void $e(e);if(!e)return void(l.edge=Ke(t.site,l.site));Be(t),Be(e);var c=t.site,f=c.x,s=c.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};nr(e.edge,c,g,x),l.edge=Ke(c,n,null,x),e.edge=Ke(n,g,null,x),$e(t),$e(e)}}function Oe(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,l=e.y,c=l-t;if(!c)return a;var f=a-r,s=1/u-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-u/2)))/s+r:(r+a)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t,e,r,i,u,o,a,l,c,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=ul,d=v.length;d--;)if(u=v[d],u&&u.prepare())for(a=u.edges,l=a.length,o=0;l>o;)f=a[o].end(),r=f.x,i=f.y,c=a[++o%l].start(),t=c.x,e=c.y,(xo(r-t)>Uo||xo(i-e)>Uo)&&(a.splice(o,0,new tr(Qe(u.site,f,xo(r-s)<Uo&&g-i>Uo?{x:s,y:xo(t-s)<Uo?e:g}:xo(i-g)<Uo&&h-r>Uo?{x:xo(e-g)<Uo?t:h,y:g}:xo(r-h)<Uo&&i-p>Uo?{x:h,y:xo(t-h)<Uo?e:p}:xo(i-p)<Uo&&r-s>Uo?{x:xo(e-p)<Uo?t:s,y:p}:null),u.site,null)),++l)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,l=r.x-o,c=r.y-a,f=u.x-o,s=u.y-a,h=2*(l*s-c*f);if(!(h>=-jo)){var p=l*l+c*c,g=f*f+s*s,v=(s*p-c*g)/h,d=(l*g-f*p)/h,s=d+a,y=fl.pop()||new Xe;y.arc=n,y.site=i,y.x=v+o,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var m=null,M=ll._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}ll.insert(m,y),m||(al=y)}}}}function Be(n){var t=n.circle;t&&(t.P||(al=t.N),ll.remove(t),fl.push(t),rr(t),n.circle=null)}function We(n){for(var t,e=il,r=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)t=e[i],(!Je(t,n)||!r(t)||xo(t.a.x-t.b.x)<Uo&&xo(t.a.y-t.b.y)<Uo)&&(t.a=t.b=null,e.splice(i,1))}function Je(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],l=t[0][1],c=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(o>d||d>=a)return;if(h>g){if(u){if(u.y>=c)return}else u={x:d,y:l};e={x:d,y:c}}else{if(u){if(u.y<l)return}else u={x:d,y:c};e={x:d,y:l}}}else if(r=(h-g)/(v-p),i=y-r*d,-1>r||r>1)if(h>g){if(u){if(u.y>=c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else{if(u){if(u.y<l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else if(v>p){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var i=new Ge(n,t);return il.push(i),e&&nr(i,n,t,e),r&&nr(i,t,n,r),ul[n.i].edges.push(new tr(i,n,t)),ul[t.i].edges.push(new tr(i,t,n)),i}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,il.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ir(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ur(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function or(n){for(;n.L;)n=n.L;return n}function ar(n,t){var e,r,i,u=n.sort(lr).pop();for(il=[],ul=new Array(n.length),ol=new er,ll=new er;;)if(i=al,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))u.x===e&&u.y===r||(ul[u.i]=new Ye(u),He(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;Fe(i.arc)}t&&(We(t),Ze(t));var o={cells:ul,edges:il};return ol=ll=il=ul=null,o}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function fr(n){return n.x}function sr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),l=t.nodes;l[0]&&pr(n,l[0],e,r,o,a),l[1]&&pr(n,l[1],o,r,i,a),l[2]&&pr(n,l[2],e,a,o,u),l[3]&&pr(n,l[3],o,a,i,u)}}function gr(n,t,e,r,i,u,o){var a,l=1/0;return function c(n,f,s,h,p){if(!(f>u||s>o||r>h||i>p)){if(g=n.point){var g,v=t-n.x,d=e-n.y,y=v*v+d*d;if(l>y){var m=Math.sqrt(l=y);r=t-m,i=e-m,u=t+m,o=e+m,a=g}}for(var M=n.nodes,x=.5*(f+h),b=.5*(s+p),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:c(n,f,s,x,b);break;case 1:c(n,x,s,h,b);break;case 2:c(n,f,b,x,p);break;case 3:c(n,x,b,h,p)}}}(n,r,i,u,o),a}function vr(n,t){n=ao.rgb(n),t=ao.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+bn(Math.round(e+u*n))+bn(Math.round(r+o*n))+bn(Math.round(i+a*n))}}function dr(n,t){var e,r={},i={};for(e in n)e in t?r[e]=Mr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function yr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function mr(n,t){var e,r,i,u=hl.lastIndex=pl.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(e=hl.exec(n))&&(r=pl.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:yr(e,r)})),u=pl.lastIndex;return u<t.length&&(i=t.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;t>r;++r)a[(e=l[r]).i]=e.x(n);return a.join("")})}function Mr(n,t){for(var e,r=ao.interpolators.length;--r>=0&&!(e=ao.interpolators[r](n,t)););return e}function xr(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(Mr(n[e],t[e]));for(;u>e;++e)i[e]=n[e];for(;o>e;++e)i[e]=t[e];return function(n){for(e=0;a>e;++e)i[e]=r[e](n);return i}}function br(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function Sr(n){return n*n}function kr(n){return n*n*n}function Nr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Io)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/Ho*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Ho/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=ao.hcl(n),t=ao.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:-180>u&&(u+=360),function(n){return sn(e+u*n,r+o*n,i+a*n)+""}}function Dr(n,t){n=ao.hsl(n),t=ao.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:-180>u&&(u+=360),function(n){return cn(e+u*n,r+o*n,i+a*n)+""}}function Pr(n,t){n=ao.lab(n),t=ao.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return pn(e+u*n,r+o*n,i+a*n)+""}}function Ur(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function jr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),i=Fr(t,e),u=Hr(Or(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Zo,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Zo:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:yr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:yr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else 1===t[0]&&1===t[1]||e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=ao.transform(n),t=ao.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t,i=-1,u=r.length;++i<u;)e[(t=r[i]).i]=t.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function Qr(n){n.fixed|=2}function ni(n){n.fixed&=-7}function ti(n){n.fixed|=4,n.px=n.x,n.py=n.y}function ei(n){n.fixed&=-5}function ri(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,o=n.nodes,a=o.length,l=-1;++l<a;)u=o[l],null!=u&&(ri(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,i+=c*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function ii(n,t){return ao.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=fi,n}function ui(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function oi(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(n=r.pop());)t(n)}function ai(n){return n.children}function li(n){return n.value}function ci(n,t){return t.value-n.value}function fi(n){return ao.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function si(n){return n.x}function hi(n){return n.y}function pi(n,t,e){n.y0=t,n.y=e}function gi(n){return ao.range(n.length)}function vi(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function di(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;u>e;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function yi(n){return n.reduce(mi,0)}function mi(n,t){return n+t[1]}function Mi(n,t){return xi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function bi(n){return[ao.min(n),ao.max(n)]}function _i(n,t){return n.value-t.value}function wi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Si(n,t){n._pack_next=t,t._pack_prev=n}function ki(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Ni(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),p=Math.max(n.y+n.r,p)}if((e=n.children)&&(c=e.length)){var e,r,i,u,o,a,l,c,f=1/0,s=-(1/0),h=1/0,p=-(1/0);if(e.forEach(Ei),r=e[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=e[1],i.x=i.r,i.y=0,t(i),c>2))for(u=e[2],zi(r,i,u),t(u),wi(r,u),r._pack_prev=u,wi(u,i),i=r._pack_next,o=3;c>o;o++){zi(r,i,u=e[o]);var g=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(ki(a,u)){g=1;break}if(1==g)for(l=r._pack_prev;l!==a._pack_prev&&!ki(l,u);l=l._pack_prev,d++);g?(d>v||v==d&&i.r<r.r?Si(r,i=a):Si(r=l,i),o--):(wi(r,u),i=u,t(u))}var y=(f+s)/2,m=(h+p)/2,M=0;for(o=0;c>o;o++)u=e[o],u.x-=y,u.y-=m,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(Ai)}}function Ei(n){n._pack_next=n._pack_prev=n}function Ai(n){delete n._pack_next,delete n._pack_prev}function Ci(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)Ci(i[u],t,e,r)}function zi(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o,r*=r;var l=.5+(r-o)/(2*a),c=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+l*i+c*u,e.y=n.y+l*u-c*i}else e.x=n.x+r,e.y=n.y}function Li(n,t){return n.parent==t.parent?1:2}function qi(n){var t=n.children;return t.length?t[0]:n.t}function Ti(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ri(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Di(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Pi(n,t,e){return n.a.parent===t.parent?n.a:e}function Ui(n){return 1+ao.max(n,function(n){return n.y})}function ji(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fi(n){var t=n.children;return t&&t.length?Fi(t[0]):n}function Hi(n){var t,e=n.children;return e&&(t=e.length)?Hi(e[t-1]):n}function Oi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Ii(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return 0>i&&(e+=i/2,i=0),0>u&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Yi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Zi(n){return n.rangeExtent?n.rangeExtent():Yi(n.range())}function Vi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Xi(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return u>o&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function $i(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:Sl}function Bi(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=ao.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Wi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Bi:Vi,l=r?Wr:Br;return o=i(n,t,l,e),a=i(t,n,l,Mr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(Ur)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return Qi(n,t)},u.tickFormat=function(t,e){return nu(n,t,e)},u.nice=function(t){return Gi(n,t),i()},u.copy=function(){return Wi(n,t,e,r)},i()}function Ji(n,t){return ao.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gi(n,t){return Xi(n,$i(Ki(n,t)[2])),Xi(n,$i(Ki(n,t)[2])),n}function Ki(n,t){null==t&&(t=10);var e=Yi(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return.15>=u?i*=10:.35>=u?i*=5:.75>=u&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Qi(n,t){return ao.range.apply(ao,Ki(n,t))}function nu(n,t,e){var r=Ki(n,t);if(e){var i=ha.exec(e);if(i.shift(),"s"===i[8]){var u=ao.formatPrefix(Math.max(xo(r[0]),xo(r[1])));return i[7]||(i[7]="."+tu(u.scale(r[2]))),i[8]="f",e=ao.format(i.join("")),function(n){return e(u.scale(n))+u.symbol}}i[7]||(i[7]="."+eu(i[8],r)),e=i.join("")}else e=",."+tu(r[2])+"f";return ao.format(e)}function tu(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function eu(n,t){var e=tu(t[2]);return n in kl?Math.abs(e-tu(Math.max(xo(t[0]),xo(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ru(n,t,e,r){function i(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Xi(r.map(i),e?Math:El);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Yi(r),o=[],a=n[0],l=n[1],c=Math.floor(i(a)),f=Math.ceil(i(l)),s=t%1?2:t;if(isFinite(f-c)){if(e){for(;f>c;c++)for(var h=1;s>h;h++)o.push(u(c)*h);o.push(u(c))}else for(o.push(u(c));c++<f;)for(var h=s-1;h>0;h--)o.push(u(c)*h);for(c=0;o[c]<a;c++);for(f=o.length;o[f-1]>l;f--);o=o.slice(c,f)}return o},o.tickFormat=function(n,e){if(!arguments.length)return Nl;arguments.length<2?e=Nl:"function"!=typeof e&&(e=ao.format(e));var r=Math.max(1,t*n/o.ticks().length);return function(n){var o=n/u(Math.round(i(n)));return t-.5>o*t&&(o*=t),r>=o?e(n):""}},o.copy=function(){return ru(n.copy(),t,e,r)},Ji(o,n)}function iu(n,t,e){function r(t){return n(i(t))}var i=uu(t),u=uu(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return Qi(e,n)},r.tickFormat=function(n,t){return nu(e,n,t)},r.nice=function(n){return r.domain(Gi(e,n))},r.exponent=function(o){return arguments.length?(i=uu(t=o),u=uu(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return iu(n.copy(),t,e)},Ji(r,n)}function uu(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function ou(n,t){function e(e){return u[((i.get(e)||("range"===t.t?i.set(e,n.push(e)):NaN))-1)%u.length]}function r(t,e){return ao.range(n.length).map(function(n){return t+e*n})}var i,u,o;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new c;for(var u,o=-1,a=r.length;++o<a;)i.has(u=r[o])||i.set(u,n.push(u));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(u=n,o=0,t={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+a);return u=r(l+f*a/2,f),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+a)|0;return u=r(l+Math.round(f*a/2+(c-l-(n.length-1+a)*f)/2),f),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=(s-f)/(n.length-a+2*l);return u=r(f+h*l,h),c&&u.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=Math.floor((s-f)/(n.length-a+2*l));return u=r(f+Math.round((s-f-(n.length-a)*h)/2),h),c&&u.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Yi(t.a[0])},e.copy=function(){return ou(n,t)},e.domain(n)}function au(n,t){function u(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ao.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ao.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(i).sort(e),u()):n},o.range=function(n){return arguments.length?(t=n,u()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return au(n,t)},u()}function lu(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return lu(n,t,e)},i()}function cu(n,t){function e(e){return e>=e?t[ao.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return cu(n,t)},e}function fu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qi(n,t)},t.tickFormat=function(t,e){return nu(n,t,e)},t.copy=function(){return fu(n)},t}function su(){return 0}function hu(n){return n.innerRadius}function pu(n){return n.outerRadius}function gu(n){return n.startAngle}function vu(n){return n.endAngle}function du(n){return n&&n.padAngle}function yu(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function mu(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),l=a*o,c=-a*u,f=n[0]+l,s=n[1]+c,h=t[0]+l,p=t[1]+c,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(0>y?-1:1)*Math.sqrt(Math.max(0,M*M*m-x*x)),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,S=(x*y+d*b)/m,k=(-x*d+y*b)/m,N=_-g,E=w-v,A=S-g,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function Mu(n){function t(t){function o(){c.push("M",u(n(f),a))}for(var l,c=[],f=[],s=-1,h=t.length,p=En(e),g=En(r);++s<h;)i.call(this,l=t[s],s)?f.push([+p.call(this,l,s),+g.call(this,l,s)]):f.length&&(o(),f=[]);return f.length&&o(),c.length?c.join(""):null}var e=Ce,r=ze,i=zt,u=xu,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=Tl.get(n)||xu).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function xu(n){return n.length>1?n.join("L"):n+"Z"}function bu(n){return n.join("L")+"Z"}function _u(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function wu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function Su(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function ku(n,t){return n.length<4?xu(n):n[1]+Au(n.slice(1,-1),Cu(n,t))}function Nu(n,t){return n.length<3?bu(n):n[0]+Au((n.push(n[0]),n),Cu([n[n.length-2]].concat(n,[n[1]]),t))}function Eu(n,t){return n.length<3?xu(n):n[0]+Au(n,Cu(n,t))}function Au(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xu(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,l=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],l=2),t.length>1){a=t[1],u=n[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var c=2;c<t.length;c++,l++)u=n[l],a=t[c],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[l];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function Cu(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,l=n.length;++a<l;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function zu(n){if(n.length<3)return xu(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],l=[i,",",u,"L",Ru(Pl,o),",",Ru(Pl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Du(l,o,a);return n.pop(),l.push("L",r),l.join("")}function Lu(n){if(n.length<4)return xu(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(Ru(Pl,u)+","+Ru(Pl,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),Du(e,u,o);return e.join("")}function qu(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[Ru(Pl,o),",",Ru(Pl,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Du(t,o,a);return t.join("")}function Tu(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,l=n[e][1]-o,c=-1;++c<=e;)r=n[c],i=c/e,r[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*l);return zu(n)}function Ru(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Du(n,t,e){n.push("C",Ru(Rl,t),",",Ru(Rl,e),",",Ru(Dl,t),",",Ru(Dl,e),",",Ru(Pl,t),",",Ru(Pl,e))}function Pu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Uu(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=Pu(i,u);++t<e;)r[t]=(o+(o=Pu(i=u,u=n[t+1])))/2;return r[t]=o,r}function ju(n){for(var t,e,r,i,u=[],o=Uu(n),a=-1,l=n.length-1;++a<l;)t=Pu(n[a],n[a+1]),xo(t)<Uo?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,i=e*e+r*r,i>9&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=l;)i=(n[Math.min(l,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Fu(n){return n.length<3?xu(n):n[0]+Au(n,ju(n))}function Hu(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]-Io,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Ou(n){function t(t){function l(){v.push("M",a(n(y),s),f,c(n(d.reverse()),s),"Z")}for(var h,p,g,v=[],d=[],y=[],m=-1,M=t.length,x=En(e),b=En(i),_=e===r?function(){
return p}:En(r),w=i===u?function(){return g}:En(u);++m<M;)o.call(this,h=t[m],m)?(d.push([p=+x.call(this,h,m),g=+b.call(this,h,m)]),y.push([+_.call(this,h,m),+w.call(this,h,m)])):d.length&&(l(),d=[],y=[]);return d.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,i=0,u=ze,o=zt,a=xu,l=a.key,c=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?a=n:(a=Tl.get(n)||xu).key,c=a.reverse||a,f=a.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Iu(n){return n.radius}function Yu(n){return[n.x,n.y]}function Zu(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Io;return[e*Math.cos(r),e*Math.sin(r)]}}function Vu(){return 64}function Xu(){return"circle"}function $u(n){var t=Math.sqrt(n/Fo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bu(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wu(n,t,e){return ko(n,Yl),n.namespace=t,n.id=e,n}function Ju(n,t,e,r){var i=n.id,u=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[u][i].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function Gu(n){return null==n&&(n=""),function(){this.textContent=n}}function Ku(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qu(n,t,e,r,i){function u(n){var t=v.delay;return f.t=t+l,n>=t?o(n-t):void(f.c=o)}function o(e){var i=g.active,u=g[i];u&&(u.timer.c=null,u.timer.t=NaN,--g.count,delete g[i],u.event&&u.event.interrupt.call(n,n.__data__,u.index));for(var o in g)if(r>+o){var c=g[o];c.timer.c=null,c.timer.t=NaN,--g.count,delete g[o]}f.c=a,qn(function(){return f.c&&a(e||1)&&(f.c=null,f.t=NaN),1},0,l),g.active=r,v.event&&v.event.start.call(n,n.__data__,t),p=[],v.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&p.push(r)}),h=v.ease,s=v.duration}function a(i){for(var u=i/s,o=h(u),a=p.length;a>0;)p[--a].call(n,o);return u>=1?(v.event&&v.event.end.call(n,n.__data__,t),--g.count?delete g[r]:delete n[e],1):void 0}var l,f,s,h,p,g=n[e]||(n[e]={active:0,count:0}),v=g[r];v||(l=i.time,f=qn(u,0,l),v=g[r]={tween:new c,time:l,timer:f,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++g.count)}function no(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function to(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function eo(n){return n.toISOString()}function ro(n,t,e){function r(t){return n(t)}function i(n,e){var r=n[1]-n[0],i=r/e,u=ao.bisect(Kl,i);return u==Kl.length?[t.year,Ki(n.map(function(n){return n/31536e6}),e)[2]]:u?t[i/Kl[u-1]<Kl[u]/i?u-1:u]:[tc,Ki(n,e)[2]]}return r.invert=function(t){return io(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(io)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,io(+e+1),t).length}var u=r.domain(),o=Yi(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Xi(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=io(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=io(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yi(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],io(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ro(n.copy(),t,e)},Ji(r,n)}function io(n){return new Date(n)}function uo(n){return JSON.parse(n.responseText)}function oo(n){var t=fo.createRange();return t.selectNode(fo.body),t.createContextualFragment(n.responseText)}var ao={version:"3.5.17"},lo=[].slice,co=function(n){return lo.call(n)},fo=this.document;if(fo)try{co(fo.documentElement.childNodes)[0].nodeType}catch(so){co=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),fo)try{fo.createElement("DIV").style.setProperty("opacity",0,"")}catch(ho){var po=this.Element.prototype,go=po.setAttribute,vo=po.setAttributeNS,yo=this.CSSStyleDeclaration.prototype,mo=yo.setProperty;po.setAttribute=function(n,t){go.call(this,n,t+"")},po.setAttributeNS=function(n,t,e){vo.call(this,n,t,e+"")},yo.setProperty=function(n,t,e){mo.call(this,n,t+"",e)}}ao.ascending=e,ao.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN},ao.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},ao.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},ao.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(r=n[u])&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=n[u])&&(e>r&&(e=r),r>i&&(i=r))}else{for(;++u<o;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),r>i&&(i=r))}return[e,i]},ao.sum=function(n,t){var e,r=0,u=n.length,o=-1;if(1===arguments.length)for(;++o<u;)i(e=+n[o])&&(r+=e);else for(;++o<u;)i(e=+t.call(n,n[o],o))&&(r+=e);return r},ao.mean=function(n,t){var e,u=0,o=n.length,a=-1,l=o;if(1===arguments.length)for(;++a<o;)i(e=r(n[a]))?u+=e:--l;else for(;++a<o;)i(e=r(t.call(n,n[a],a)))?u+=e:--l;return l?u/l:void 0},ao.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},ao.median=function(n,t){var u,o=[],a=n.length,l=-1;if(1===arguments.length)for(;++l<a;)i(u=r(n[l]))&&o.push(u);else for(;++l<a;)i(u=r(t.call(n,n[l],l)))&&o.push(u);return o.length?ao.quantile(o.sort(e),.5):void 0},ao.variance=function(n,t){var e,u,o=n.length,a=0,l=0,c=-1,f=0;if(1===arguments.length)for(;++c<o;)i(e=r(n[c]))&&(u=e-a,a+=u/++f,l+=u*(e-a));else for(;++c<o;)i(e=r(t.call(n,n[c],c)))&&(u=e-a,a+=u/++f,l+=u*(e-a));return f>1?l/(f-1):void 0},ao.deviation=function(){var n=ao.variance.apply(this,arguments);return n?Math.sqrt(n):n};var Mo=u(e);ao.bisectLeft=Mo.left,ao.bisect=ao.bisectRight=Mo.right,ao.bisector=function(n){return u(1===n.length?function(t,r){return e(n(t),r)}:n)},ao.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,2>u&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},ao.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ao.pairs=function(n){for(var t,e=0,r=n.length-1,i=n[0],u=new Array(0>r?0:r);r>e;)u[e]=[t=i,i=n[++e]];return u},ao.transpose=function(n){if(!(i=n.length))return[];for(var t=-1,e=ao.min(n,o),r=new Array(e);++t<e;)for(var i,u=-1,a=r[t]=new Array(i);++u<i;)a[u]=n[u][t];return r},ao.zip=function(){return ao.transpose(arguments)},ao.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ao.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ao.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ao.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--o]=r[t];return e};var xo=Math.abs;ao.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,i=[],u=a(xo(e)),o=-1;if(n*=u,t*=u,e*=u,0>e)for(;(r=n+e*++o)>t;)i.push(r/u);else for(;(r=n+e*++o)<t;)i.push(r/u);return i},ao.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1===arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var o in n)e.set(o,n[o]);return e};var bo="__proto__",_o="\x00";l(c,{has:h,get:function(n){return this._[f(n)]},set:function(n,t){return this._[f(n)]=t},remove:p,keys:g,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:s(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t),this._[t])}}),ao.nest=function(){function n(t,o,a){if(a>=u.length)return r?r.call(i,o):e?o.sort(e):o;for(var l,f,s,h,p=-1,g=o.length,v=u[a++],d=new c;++p<g;)(h=d.get(l=v(f=o[p])))?h.push(f):d.set(l,[f]);return t?(f=t(),s=function(e,r){f.set(e,n(t,r,a))}):(f={},s=function(e,r){f[e]=n(t,r,a)}),d.forEach(s),f}function t(n,e){if(e>=u.length)return n;var r=[],i=o[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,i={},u=[],o=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n(ao.map,e,0),0)},i.key=function(n){return u.push(n),i},i.sortKeys=function(n){return o[u.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},ao.set=function(n){var t=new y;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},l(y,{has:h,add:function(n){return this._[f(n+="")]=!0,n},remove:p,values:g,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t))}}),ao.behavior={},ao.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=M(n,t,t[e]);return n};var wo=["webkit","ms","moz","Moz","o","O"];ao.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ao.event=null,ao.requote=function(n){return n.replace(So,"\\$&")};var So=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ko={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},No=function(n,t){return t.querySelector(n)},Eo=function(n,t){return t.querySelectorAll(n)},Ao=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(Ao=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(No=function(n,t){return Sizzle(n,t)[0]||null},Eo=Sizzle,Ao=Sizzle.matchesSelector),ao.selection=function(){return ao.select(fo.documentElement)};var Co=ao.selection.prototype=[];Co.select=function(n){var t,e,r,i,u=[];n=A(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(e=n.call(i,i.__data__,l,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return E(u)},Co.selectAll=function(n){var t,e,r=[];n=C(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,l=o.length;++a<l;)(e=o[a])&&(r.push(t=co(n.call(e,e.__data__,a,i))),t.parentNode=e);return E(r)};var zo="http://www.w3.org/1999/xhtml",Lo={svg:"http://www.w3.org/2000/svg",xhtml:zo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ao.ns={prefix:Lo,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Lo.hasOwnProperty(e)?{space:Lo[e],local:n}:n}},Co.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ao.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Co.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!q(n[i]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Co.style=function(n,e,r){var i=arguments.length;if(3>i){if("string"!=typeof n){2>i&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>i){var u=this.node();return t(u).getComputedStyle(u,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Co.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},Co.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Co.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Co.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Co.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Co.remove=function(){return this.each(F)},Co.data=function(n,t){function e(n,e){var r,i,u,o=n.length,s=e.length,h=Math.min(o,s),p=new Array(s),g=new Array(s),v=new Array(o);if(t){var d,y=new c,m=new Array(o);for(r=-1;++r<o;)(i=n[r])&&(y.has(d=t.call(i,i.__data__,r))?v[r]=i:y.set(d,i),m[r]=d);for(r=-1;++r<s;)(i=y.get(d=t.call(e,u=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=u):g[r]=H(u),y.set(d,!0);for(r=-1;++r<o;)r in m&&y.get(m[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)i=n[r],u=e[r],i?(i.__data__=u,p[r]=i):g[r]=H(u);for(;s>r;++r)g[r]=H(e[r]);for(;o>r;++r)v[r]=n[r]}g.update=p,g.parentNode=p.parentNode=v.parentNode=n.parentNode,a.push(g),l.push(p),f.push(v)}var r,i,u=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++u<o;)(i=r[u])&&(n[u]=i.__data__);return n}var a=Z([]),l=E([]),f=E([]);if("function"==typeof n)for(;++u<o;)e(r=this[u],n.call(r,r.parentNode.__data__,u));else for(;++u<o;)e(r=this[u],n);return l.enter=function(){return a},l.exit=function(){return f},l},Co.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Co.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;o>u;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,l=e.length;l>a;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return E(i)},Co.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},Co.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Co.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Co.call=function(n){var t=co(arguments);return n.apply(t[0]=this,t),this},Co.empty=function(){return!this.node()},Co.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,i=e.length;i>r;r++){var u=e[r];if(u)return u}return null},Co.size=function(){var n=0;return Y(this,function(){++n}),n};var qo=[];ao.selection.enter=Z,ao.selection.enter.prototype=qo,qo.append=Co.append,qo.empty=Co.empty,qo.node=Co.node,qo.call=Co.call,qo.size=Co.size,qo.select=function(n){for(var t,e,r,i,u,o=[],a=-1,l=this.length;++a<l;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(u=i[c])?(t.push(r[c]=e=n.call(i.parentNode,u.__data__,c,a)),e.__data__=u.__data__):t.push(null)}return E(o)},qo.insert=function(n,t){return arguments.length<2&&(t=V(this)),Co.insert.call(this,n,t)},ao.select=function(t){var e;return"string"==typeof t?(e=[No(t,fo)],e.parentNode=fo.documentElement):(e=[t],e.parentNode=n(t)),E([e])},ao.selectAll=function(n){var t;return"string"==typeof n?(t=co(Eo(n,fo)),t.parentNode=fo.documentElement):(t=co(n),t.parentNode=null),E([t])},Co.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var To=ao.map({mouseenter:"mouseover",mouseleave:"mouseout"});fo&&To.forEach(function(n){"on"+n in fo&&To.remove(n)});var Ro,Do=0;ao.mouse=function(n){return J(n,k())};var Po=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ao.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,i=0,u=t.length;u>i;++i)if((r=t[i]).identifier===e)return J(n,r)},ao.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",o)}function e(n,t,e,u,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],g|=n|e,M=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function l(){t(h,v)&&(y.on(u+d,null).on(o+d,null),m(g),p({type:"dragend"}))}var c,f=this,s=ao.event.target.correspondingElement||ao.event.target,h=f.parentNode,p=r.of(f,arguments),g=0,v=n(),d=".drag"+(null==v?"":"-"+v),y=ao.select(e(s)).on(u+d,a).on(o+d,l),m=W(s),M=t(h,v);i?(c=i.apply(f,arguments),c=[c.x-M[0],c.y-M[1]]):c=[0,0],p({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),i=null,u=e(b,ao.mouse,t,"mousemove","mouseup"),o=e(G,ao.touch,m,"touchmove","touchend");return n.origin=function(t){return arguments.length?(i=t,n):i},ao.rebind(n,r,"on")},ao.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?co(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Uo=1e-6,jo=Uo*Uo,Fo=Math.PI,Ho=2*Fo,Oo=Ho-Uo,Io=Fo/2,Yo=Fo/180,Zo=180/Fo,Vo=Math.SQRT2,Xo=2,$o=4;ao.interpolateZoom=function(n,t){var e,r,i=n[0],u=n[1],o=n[2],a=t[0],l=t[1],c=t[2],f=a-i,s=l-u,h=f*f+s*s;if(jo>h)r=Math.log(c/o)/Vo,e=function(n){return[i+n*f,u+n*s,o*Math.exp(Vo*n*r)]};else{var p=Math.sqrt(h),g=(c*c-o*o+$o*h)/(2*o*Xo*p),v=(c*c-o*o-$o*h)/(2*c*Xo*p),d=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-d)/Vo,e=function(n){var t=n*r,e=rn(d),a=o/(Xo*p)*(e*un(Vo*t+d)-en(d));return[i+a*f,u+a*s,o*e/rn(Vo*t+d)]}}return e.duration=1e3*r,e},ao.behavior.zoom=function(){function n(n){n.on(L,s).on(Wo+".zoom",p).on("dblclick.zoom",g).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function i(n){k.k=Math.max(A[0],Math.min(A[1],n))}function u(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,o)),u(d=e,r),t=ao.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function l(n){z++||n({type:"zoomstart"})}function c(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function f(n){--z||(n({type:"zoomend"}),d=null)}function s(){function n(){a=1,u(ao.mouse(i),h),c(o)}function r(){s.on(q,null).on(T,null),p(a),f(o)}var i=this,o=D.of(i,arguments),a=0,s=ao.select(t(i)).on(q,n).on(T,r),h=e(ao.mouse(i)),p=W(i);Il.call(i),l(o)}function h(){function n(){var n=ao.touches(g);return p=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ao.event.target;ao.select(t).on(x,r).on(b,a),_.push(t);for(var e=ao.event.changedTouches,i=0,u=e.length;u>i;++i)d[e[i].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(500>c-M){var f=l[0];o(g,f,d[f.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=c}else if(l.length>1){var f=l[0],s=l[1],h=f[0]-s[0],p=f[1]-s[1];y=h*h+p*p}}function r(){var n,t,e,r,o=ao.touches(g);Il.call(g);for(var a=0,l=o.length;l>a;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var f=(f=e[0]-n[0])*f+(f=e[1]-n[1])*f,s=y&&Math.sqrt(f/y);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(s*p)}M=null,u(n,t),c(v)}function a(){if(ao.event.touches.length){for(var t=ao.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var i in d)return void n()}ao.selectAll(_).on(m,null),w.on(L,s).on(R,h),N(),f(v)}var p,g=this,v=D.of(g,arguments),d={},y=0,m=".zoom-"+ao.event.changedTouches[0].identifier,x="touchmove"+m,b="touchend"+m,_=[],w=ao.select(g),N=W(g);t(),l(v),w.on(L,null).on(R,t)}function p(){var n=D.of(this,arguments);m?clearTimeout(m):(Il.call(this),v=e(d=y||ao.mouse(this)),l(n)),m=setTimeout(function(){m=null,f(n)},50),S(),i(Math.pow(2,.002*Bo())*k.k),u(d,v),c(n)}function g(){var n=ao.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ao.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,y,m,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Jo,C=250,z=0,L="mousedown.zoom",q="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return Wo||(Wo="onwheel"in fo?(Bo=function(){return-ao.event.deltaY*(ao.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fo?(Bo=function(){return ao.event.wheelDelta},"mousewheel"):(Bo=function(){return-ao.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Hl?ao.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=d?d[0]:e/2,u=d?d[1]:r/2,o=ao.interpolateZoom([(i-k.x)/k.k,(u-k.y)/k.k,e/k.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:i-r[0]*a,y:u-r[1]*a,k:a},c(n)}}).each("interrupt.zoom",function(){f(n)}).each("end.zoom",function(){f(n)}):(this.__chart__=k,l(n),c(n),f(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},i(+t),a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Jo:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],n):y},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ao.rebind(n,D,"on")};var Bo,Wo,Jo=[0,1/0];ao.color=an,an.prototype.toString=function(){return this.rgb()+""},ao.hsl=ln;var Go=ln.prototype=new an;Go.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Go.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Go.rgb=function(){return cn(this.h,this.s,this.l)},ao.hcl=fn;var Ko=fn.prototype=new an;Ko.brighter=function(n){return new fn(this.h,this.c,Math.min(100,this.l+Qo*(arguments.length?n:1)))},Ko.darker=function(n){return new fn(this.h,this.c,Math.max(0,this.l-Qo*(arguments.length?n:1)))},Ko.rgb=function(){return sn(this.h,this.c,this.l).rgb()},ao.lab=hn;var Qo=18,na=.95047,ta=1,ea=1.08883,ra=hn.prototype=new an;ra.brighter=function(n){return new hn(Math.min(100,this.l+Qo*(arguments.length?n:1)),this.a,this.b)},ra.darker=function(n){return new hn(Math.max(0,this.l-Qo*(arguments.length?n:1)),this.a,this.b)},ra.rgb=function(){return pn(this.l,this.a,this.b)},ao.rgb=mn;var ia=mn.prototype=new an;ia.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&i>t&&(t=i),e&&i>e&&(e=i),r&&i>r&&(r=i),new mn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mn(i,i,i)},ia.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mn(n*this.r,n*this.g,n*this.b)},ia.hsl=function(){return wn(this.r,this.g,this.b)},ia.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var ua=ao.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ua.forEach(function(n,t){ua.set(n,Mn(t))}),ao.functor=En,ao.xhr=An(m),ao.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=Cn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(f>=c)return o;if(i)return i=!1,u;var t=f;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}f=e+2;var r=n.charCodeAt(e+1);return 13===r?(i=!0,10===n.charCodeAt(e+2)&&++f):10===r&&(i=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;c>f;){var r=n.charCodeAt(f++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(f)&&(++f,++a);else if(r!==l)continue;return n.slice(t,f-a)}return n.slice(t)}for(var r,i,u={},o={},a=[],c=n.length,f=0,s=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,s++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new y,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},ao.csv=ao.dsv(",","text/csv"),ao.tsv=ao.dsv("	","text/tab-separated-values");var oa,aa,la,ca,fa=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ao.timer=function(){qn.apply(this,arguments)},ao.timer.flush=function(){Rn(),Dn()},ao.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var sa=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Un);ao.formatPrefix=function(n,t){var e=0;return(n=+n)&&(0>n&&(n*=-1),t&&(n=ao.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),sa[8+e/3]};var ha=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,pa=ao.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ao.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),ga=ao.time={},va=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){da.setUTCDate.apply(this._,arguments)},setDay:function(){da.setUTCDay.apply(this._,arguments)},setFullYear:function(){da.setUTCFullYear.apply(this._,arguments)},setHours:function(){da.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){da.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){da.setUTCMinutes.apply(this._,arguments)},setMonth:function(){da.setUTCMonth.apply(this._,arguments)},setSeconds:function(){da.setUTCSeconds.apply(this._,arguments)},setTime:function(){da.setTime.apply(this._,arguments)}};var da=Date.prototype;ga.year=On(function(n){return n=ga.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ga.years=ga.year.range,ga.years.utc=ga.year.utc.range,ga.day=On(function(n){var t=new va(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ga.days=ga.day.range,ga.days.utc=ga.day.utc.range,ga.dayOfYear=function(n){var t=ga.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ga[n]=On(function(n){return(n=ga.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ga.year(n).getDay();return Math.floor((ga.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ga[n+"s"]=e.range,ga[n+"s"].utc=e.utc.range,ga[n+"OfYear"]=function(n){var e=ga.year(n).getDay();return Math.floor((ga.dayOfYear(n)+(e+t)%7)/7)}}),ga.week=ga.sunday,ga.weeks=ga.sunday.range,ga.weeks.utc=ga.sunday.utc.range,ga.weekOfYear=ga.sundayOfYear;var ya={"-":"",_:" ",0:"0"},ma=/^\s*\d+/,Ma=/^%/;ao.locale=function(n){return{numberFormat:jn(n),timeFormat:Yn(n)}};var xa=ao.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ao.format=xa.numberFormat,ao.geo={},ft.prototype={s:0,t:0,add:function(n){st(n,this.t,ba),st(ba.s,this.s,this),this.s?this.t+=ba.t:this.s=ba.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ba=new ft;ao.geo.stream=function(n,t){n&&_a.hasOwnProperty(n.type)?_a[n.type](n,t):ht(n,t)};var _a={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ht(e[r].geometry,t)}},wa={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){pt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)pt(e[r],t,0)},Polygon:function(n,t){gt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)gt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ht(e[r],t)}};ao.geo.area=function(n){return Sa=0,ao.geo.stream(n,Na),Sa};var Sa,ka=new ft,Na={sphere:function(){Sa+=4*Fo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ka.reset(),Na.lineStart=vt},polygonEnd:function(){var n=2*ka;Sa+=0>n?4*Fo+n:n,Na.lineStart=Na.lineEnd=Na.point=b}};ao.geo.bounds=function(){function n(n,t){M.push(x=[f=n,h=n]),s>t&&(s=t),t>p&&(p=t)}function t(t,e){var r=dt([t*Yo,e*Yo]);if(y){var i=mt(y,r),u=[i[1],-i[0],0],o=mt(u,i);bt(o),o=_t(o);var l=t-g,c=l>0?1:-1,v=o[0]*Zo*c,d=xo(l)>180;if(d^(v>c*g&&c*t>v)){var m=o[1]*Zo;m>p&&(p=m)}else if(v=(v+360)%360-180,d^(v>c*g&&c*t>v)){var m=-o[1]*Zo;s>m&&(s=m)}else s>e&&(s=e),e>p&&(p=e);d?g>t?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(f>t&&(f=t),t>h&&(h=t)):t>g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,g=t}function e(){b.point=t}function r(){x[0]=f,x[1]=h,b.point=n,y=null}function i(n,e){if(y){var r=n-g;m+=xo(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Na.point(n,e),t(n,e)}function u(){Na.lineStart()}function o(){i(v,d),Na.lineEnd(),xo(m)>Uo&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,p,g,v,d,y,m,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=o,m=0,Na.polygonStart()},polygonEnd:function(){Na.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>ka?(f=-(h=180),s=-(p=90)):m>Uo?p=90:-Uo>m&&(s=-90),x[0]=f,x[1]=h}};return function(n){p=h=-(f=s=1/0),M=[],ao.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e,r=1,i=M[0],u=[i];t>r;++r)e=M[r],c(e[0],i)||c(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var o,e,g=-(1/0),t=u.length-1,r=0,i=u[t];t>=r;i=e,++r)e=u[r],(o=a(i[1],e[0]))>g&&(g=o,f=e[0],h=i[1])}return M=x=null,f===1/0||s===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),ao.geo.centroid=function(n){Ea=Aa=Ca=za=La=qa=Ta=Ra=Da=Pa=Ua=0,ao.geo.stream(n,ja);var t=Da,e=Pa,r=Ua,i=t*t+e*e+r*r;return jo>i&&(t=qa,e=Ta,r=Ra,Uo>Aa&&(t=Ca,e=za,r=La),i=t*t+e*e+r*r,jo>i)?[NaN,NaN]:[Math.atan2(e,t)*Zo,tn(r/Math.sqrt(i))*Zo]};var Ea,Aa,Ca,za,La,qa,Ta,Ra,Da,Pa,Ua,ja={sphere:b,point:St,lineStart:Nt,lineEnd:Et,polygonStart:function(){ja.lineStart=At},polygonEnd:function(){ja.lineStart=Nt}},Fa=Rt(zt,jt,Ht,[-Fo,-Fo/2]),Ha=1e9;ao.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Zt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ao.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,ao.geo.albers=function(){return ao.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ao.geo.albersUsa=function(){function n(n){var u=n[0],o=n[1];return t=null,e(u,o),t||(r(u,o),t)||i(u,o),t}var t,e,r,i,u=ao.geo.albers(),o=ao.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ao.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?a:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),a.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),a.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var c=u.scale(),f=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[f-.455*c,s-.238*c],[f+.455*c,s+.238*c]]).stream(l).point,r=o.translate([f-.307*c,s+.201*c]).clipExtent([[f-.425*c+Uo,s+.12*c+Uo],[f-.214*c-Uo,s+.234*c-Uo]]).stream(l).point,i=a.translate([f-.205*c,s+.212*c]).clipExtent([[f-.214*c+Uo,s+.166*c+Uo],[f-.115*c-Uo,s+.234*c-Uo]]).stream(l).point,n},n.scale(1070)};var Oa,Ia,Ya,Za,Va,Xa,$a={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ia=0,$a.lineStart=$t},polygonEnd:function(){$a.lineStart=$a.lineEnd=$a.point=b,Oa+=xo(Ia/2)}},Ba={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Wa={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Wa.lineStart=ne},polygonEnd:function(){Wa.point=Gt,Wa.lineStart=Kt,Wa.lineEnd=Qt}};ao.geo.path=function(){function n(n){return n&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),ao.geo.stream(n,o)),u.result()}function t(){return o=null,n}var e,r,i,u,o,a=4.5;return n.area=function(n){return Oa=0,ao.geo.stream(n,i($a)),Oa},n.centroid=function(n){return Ca=za=La=qa=Ta=Ra=Da=Pa=Ua=0,ao.geo.stream(n,i(Wa)),Ua?[Da/Ua,Pa/Ua]:Ra?[qa/Ra,Ta/Ra]:La?[Ca/La,za/La]:[NaN,NaN]},n.bounds=function(n){return Va=Xa=-(Ya=Za=1/0),ao.geo.stream(n,i(Ba)),[[Ya,Za],[Va,Xa]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||re(n):m,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new Wt:new te(n),"function"!=typeof a&&u.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(u.pointRadius(+t),+t),n):a},n.projection(ao.geo.albersUsa()).context(null)},ao.geo.transform=function(n){return{stream:function(t){var e=new ie(t);for(var r in n)e[r]=n[r];return e}}},ie.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ao.geo.projection=oe,ao.geo.projectionMutator=ae,(ao.geo.equirectangular=function(){return oe(ce)}).raw=ce.invert=ce,ao.geo.rotation=function(n){function t(t){return t=n(t[0]*Yo,t[1]*Yo),t[0]*=Zo,t[1]*=Zo,t}return n=se(n[0]%360*Yo,n[1]*Yo,n.length>2?n[2]*Yo:0),t.invert=function(t){return t=n.invert(t[0]*Yo,t[1]*Yo),t[0]*=Zo,t[1]*=Zo,t},t},fe.invert=ce,ao.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=se(-n[0]*Yo,-n[1]*Yo,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=Zo,n[1]*=Zo}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ve((t=+r)*Yo,i*Yo),n):t},n.precision=function(r){return arguments.length?(e=ve(t*Yo,(i=+r)*Yo),n):i},n.angle(90)},ao.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Yo,i=n[1]*Yo,u=t[1]*Yo,o=Math.sin(r),a=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=c*f-l*s*a)*e),l*f+c*s*a)},ao.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ao.range(Math.ceil(u/d)*d,i,d).map(h).concat(ao.range(Math.ceil(c/y)*y,l,y).map(p)).concat(ao.range(Math.ceil(r/g)*g,e,g).filter(function(n){return xo(n%d)>Uo}).map(f)).concat(ao.range(Math.ceil(a/v)*v,o,v).filter(function(n){return xo(n%y)>Uo}).map(s))}var e,r,i,u,o,a,l,c,f,s,h,p,g=10,v=g,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(l).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],u>i&&(t=u,u=i,i=t),c>l&&(t=c,c=l,l=t),n.precision(m)):[[u,c],[i,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.minorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],n):[g,v]},n.precision=function(t){return arguments.length?(m=+t,f=ye(a,o,90),s=me(r,e,m),h=ye(c,l,90),p=me(u,i,m),n):m},n.majorExtent([[-180,-90+Uo],[180,90-Uo]]).minorExtent([[-180,-80-Uo],[180,80+Uo]])},ao.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=Me,i=xe;return n.distance=function(){return ao.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},ao.geo.interpolate=function(n,t){return be(n[0]*Yo,n[1]*Yo,t[0]*Yo,t[1]*Yo)},ao.geo.length=function(n){return Ja=0,ao.geo.stream(n,Ga),Ja};var Ja,Ga={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Ka=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ao.geo.azimuthalEqualArea=function(){return oe(Ka)}).raw=Ka;var Qa=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},m);(ao.geo.azimuthalEquidistant=function(){return oe(Qa)}).raw=Qa,(ao.geo.conicConformal=function(){return Vt(Se)}).raw=Se,(ao.geo.conicEquidistant=function(){return Vt(ke)}).raw=ke;var nl=we(function(n){return 1/n},Math.atan);(ao.geo.gnomonic=function(){return oe(nl)}).raw=nl,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Io]},(ao.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var tl=we(function(){return 1},Math.asin);(ao.geo.orthographic=function(){return oe(tl)}).raw=tl;var el=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ao.geo.stereographic=function(){return oe(el)}).raw=el,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Io]},(ao.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,ao.geom={},ao.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i=En(e),u=En(r),o=n.length,a=[],l=[];for(t=0;o>t;t++)a.push([+i.call(this,n[t],t),+u.call(this,n[t],t),t]);for(a.sort(qe),t=0;o>t;t++)l.push([a[t][0],-a[t][1]]);var c=Le(a),f=Le(l),s=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(t=c.length-1;t>=0;--t)p.push(n[a[c[t]][2]]);for(t=+s;t<f.length-h;++t)p.push(n[a[f[t]][2]]);return p}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ao.geom.polygon=function(n){return ko(n,rl),n};var rl=ao.geom.polygon.prototype=[];rl.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},rl.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},rl.clip=function(n){for(var t,e,r,i,u,o,a=De(n),l=-1,c=this.length-De(this),f=this[c-1];++l<c;){for(t=n.slice(),n.length=0,i=this[l],u=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Te(o,f,i)?(Te(u,f,i)||n.push(Re(u,o,f,i)),n.push(o)):Te(u,f,i)&&n.push(Re(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var il,ul,ol,al,ll,cl=[],fl=[];Ye.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ve),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=or(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?or(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=o,o.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ur(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ir(this,i),n=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ir(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ur(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},ao.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return ar(e(n),a).cells.forEach(function(e,a){var l=e.edges,c=e.site,f=t[a]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=u&&c.y>=i&&c.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];f.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Uo)*Uo,y:Math.round(o(n,t)/Uo)*Uo,i:t}})}var r=Ce,i=ze,u=r,o=i,a=sl;return n?t(n):(t.links=function(n){return ar(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return ar(e(n)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(Ve),l=-1,c=a.length,f=a[c-1].edge,s=f.l===o?f.r:f.l;++l<c;)i=f,u=s,f=a[l].edge,s=f.l===o?f.r:f.l,r<u.i&&r<s.i&&cr(o,u,s)<0&&t.push([n[r],n[u.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=En(r=n),t):r},t.y=function(n){return arguments.length?(o=En(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?sl:n,t):a===sl?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===sl?null:a&&a[1]},t)};var sl=[[-1e6,-1e6],[1e6,1e6]];ao.geom.delaunay=function(n){return ao.geom.voronoi().triangles(n)},ao.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,f=n.y;if(null!=l)if(xo(l-e)+xo(f-r)<.01)c(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,c(n,s,l,f,i,u,o,a),c(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,i,u,o,a)}function c(n,t,e,r,i,o,a,l){var c=.5*(i+a),f=.5*(o+l),s=e>=c,h=r>=f,p=h<<1|s;n.leaf=!1,n=n.nodes[p]||(n.nodes[p]=hr()),s?i=c:a=c,h?o=f:l=f,u(n,t,e,r,i,o,a,l)}var f,s,h,p,g,v,d,y,m,M=En(a),x=En(l);if(null!=t)v=t,d=e,y=r,m=i;else if(y=m=-(v=d=1/0),s=[],h=[],g=n.length,o)for(p=0;g>p;++p)f=n[p],f.x<v&&(v=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(p=0;g>p;++p){var b=+M(f=n[p],p),_=+x(f,p);v>b&&(v=b),d>_&&(d=_),b>y&&(y=b),_>m&&(m=_),s.push(b),h.push(_)}var w=y-v,S=m-d;w>S?m=d+w:y=v+S;var k=hr();if(k.add=function(n){u(k,n,+M(n,++p),+x(n,p),v,d,y,m)},k.visit=function(n){pr(n,k,v,d,y,m)},k.find=function(n){return gr(k,n[0],n[1],v,d,y,m)},p=-1,null==t){for(;++p<g;)u(k,n[p],s[p],h[p],v,d,y,m);--p}else n.forEach(k.add);return s=h=n=f=null,k}var o,a=Ce,l=ze;return(o=arguments.length)?(a=fr,l=sr,3===o&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(a=n,u):a},u.y=function(n){return arguments.length?(l=n,u):l},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},ao.interpolateRgb=vr,ao.interpolateObject=dr,ao.interpolateNumber=yr,ao.interpolateString=mr;var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pl=new RegExp(hl.source,"g");ao.interpolate=Mr,ao.interpolators=[function(n,t){var e=typeof t;return("string"===e?ua.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:mr:t instanceof an?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:yr)(n,t)}],ao.interpolateArray=xr;var gl=function(){return m},vl=ao.map({linear:gl,poly:Er,quad:function(){return Sr},cubic:function(){return kr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),dl=ao.map({"in":m,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});ao.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=vl.get(e)||gl,r=dl.get(r)||m,br(r(e.apply(null,lo.call(arguments,1))))},ao.interpolateHcl=Rr,ao.interpolateHsl=Dr,ao.interpolateLab=Pr,ao.interpolateRound=Ur,ao.transform=function(n){var t=fo.createElementNS(ao.ns.prefix.svg,"g");return(ao.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new jr(e?e.matrix:yl)})(n)},jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var yl={a:1,b:0,c:0,d:1,e:0,f:0};ao.interpolateTransform=$r,ao.layout={},ao.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},ao.layout.chord=function(){function n(){var n,c,s,h,p,g={},v=[],d=ao.range(u),y=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(c=0,p=-1;++p<u;)c+=i[h][p];v.push(c),y.push(ao.range(u)),n+=c}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&y.forEach(function(n,t){n.sort(function(n,e){return a(i[t][n],i[t][e])})}),n=(Ho-f*u)/n,c=0,h=-1;++h<u;){for(s=c,p=-1;++p<u;){var m=d[h],M=y[m][p],x=i[m][M],b=c,_=c+=x*n;g[m+"-"+M]={index:m,subindex:M,startAngle:b,endAngle:_,value:x}}r[m]={index:m,startAngle:s,endAngle:c,value:v[m]},c+=f}for(h=-1;++h<u;)for(p=h-1;++p<u;){var w=g[h+"-"+p],S=g[p+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}l&&t()}function t(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,o,a,l,c={},f=0;return c.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,c):i},c.padding=function(n){return arguments.length?(f=n,e=r=null,c):f},c.sortGroups=function(n){return arguments.length?(o=n,e=r=null,c):o},c.sortSubgroups=function(n){return arguments.length?(a=n,e=null,c):a},c.sortChords=function(n){return arguments.length?(l=n,e&&t(),c):l},c.chords=function(){return e||n(),e},c.groups=function(){return r||n(),r},c},ao.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,l=u*u+o*o;if(l>a*a/y){if(v>l){var c=t.charge/l;n.px-=u*c,n.py-=o*c}return!0}if(t.point&&l&&v>l){var c=t.pointCharge/l;n.px-=u*c,n.py-=o*c}}return!t.charge}}function t(n){n.px=ao.event.x,n.py=ao.event.y,l.resume()}var e,r,i,u,o,a,l={},c=ao.dispatch("start","tick","end"),f=[1,1],s=.9,h=ml,p=Ml,g=-30,v=xl,d=.1,y=.64,M=[],x=[];return l.tick=function(){if((i*=.99)<.005)return e=null,c.end({type:"end",alpha:i=0}),!0;var t,r,l,h,p,v,y,m,b,_=M.length,w=x.length;for(r=0;w>r;++r)l=x[r],h=l.source,p=l.target,m=p.x-h.x,b=p.y-h.y,(v=m*m+b*b)&&(v=i*o[r]*((v=Math.sqrt(v))-u[r])/v,m*=v,b*=v,p.x-=m*(y=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=b*y,h.x+=m*(y=1-y),h.y+=b*y);if((y=i*d)&&(m=f[0]/2,b=f[1]/2,r=-1,y))for(;++r<_;)l=M[r],l.x+=(m-l.x)*y,l.y+=(b-l.y)*y;if(g)for(ri(t=ao.geom.quadtree(M),i,a),r=-1;++r<_;)(l=M[r]).fixed||t.visit(n(l));for(r=-1;++r<_;)l=M[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);c.tick({type:"tick",alpha:i})},l.nodes=function(n){return arguments.length?(M=n,l):M},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(f=n,l):f},l.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(p="function"==typeof n?n:+n,l):p},l.friction=function(n){return arguments.length?(s=+n,l):s},l.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,l):g},l.chargeDistance=function(n){return arguments.length?(v=n*n,l):Math.sqrt(v)},l.gravity=function(n){return arguments.length?(d=+n,l):d},l.theta=function(n){return arguments.length?(y=n*n,l):Math.sqrt(y)},l.alpha=function(n){return arguments.length?(n=+n,i?n>0?i=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:i=0})):n>0&&(c.start({type:"start",alpha:i=n}),e=qn(l.tick)),l):i},l.start=function(){function n(n,r){if(!e){for(e=new Array(i),l=0;i>l;++l)e[l]=[];for(l=0;c>l;++l){var u=x[l];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var o,a=e[t],l=-1,f=a.length;++l<f;)if(!isNaN(o=a[l][n]))return o;return Math.random()*r}var t,e,r,i=M.length,c=x.length,s=f[0],v=f[1];for(t=0;i>t;++t)(r=M[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=x[t],"number"==typeof r.source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),++r.source.weight,++r.target.weight;for(t=0;i>t;++t)r=M[t],isNaN(r.x)&&(r.x=n("x",s)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof h)for(t=0;c>t;++t)u[t]=+h.call(this,x[t],t);else for(t=0;c>t;++t)u[t]=h;if(o=[],"function"==typeof p)for(t=0;c>t;++t)o[t]=+p.call(this,x[t],t);else for(t=0;c>t;++t)o[t]=p;if(a=[],"function"==typeof g)for(t=0;i>t;++t)a[t]=+g.call(this,M[t],t);else for(t=0;i>t;++t)a[t]=g;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=ao.behavior.drag().origin(m).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",ni)),arguments.length?void this.on("mouseover.force",ti).on("mouseout.force",ei).call(r):r},ao.rebind(l,c,"on")};var ml=20,Ml=1,xl=1/0;ao.layout.hierarchy=function(){function n(i){var u,o=[i],a=[];for(i.depth=0;null!=(u=o.pop());)if(a.push(u),(c=e.call(n,u,u.depth))&&(l=c.length)){for(var l,c,f;--l>=0;)o.push(f=c[l]),f.parent=u,f.depth=u.depth+1;r&&(u.value=0),u.children=c}else r&&(u.value=+r.call(n,u,u.depth)||0),delete u.children;return oi(i,function(n){var e,i;t&&(e=n.children)&&e.sort(t),r&&(i=n.parent)&&(i.value+=n.value)}),a}var t=ci,e=ai,r=li;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(ui(t,function(n){n.children&&(n.value=0)}),oi(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ao.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)n(a=u[c],e,l=a.value*r,i),e+=l}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=ao.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},ii(e,r)},ao.layout.pie=function(){function n(o){var a,l=o.length,c=o.map(function(e,r){return+t.call(n,e,r)}),f=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(s)/l,+("function"==typeof u?u.apply(this,arguments):u)),p=h*(0>s?-1:1),g=ao.sum(c),v=g?(s-l*p)/g:0,d=ao.range(l),y=[];return null!=e&&d.sort(e===bl?function(n,t){return c[t]-c[n]}:function(n,t){return e(o[n],o[t])}),d.forEach(function(n){y[n]={data:o[n],value:a=c[n],startAngle:f,endAngle:f+=a*v+p,padAngle:h}}),y}var t=Number,e=bl,r=0,i=Ho,u=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n.padAngle=function(t){return arguments.length?(u=t,n):u},n};var bl={};ao.layout.stack=function(){function n(a,l){if(!(h=a.length))return a;var c=a.map(function(e,r){return t.call(n,e,r)}),f=c.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,l);c=ao.permute(c,s),f=ao.permute(f,s);var h,p,g,v,d=r.call(n,f,l),y=c[0].length;for(g=0;y>g;++g)for(i.call(n,c[0][g],v=d[g],f[0][g][1]),p=1;h>p;++p)i.call(n,c[p][g],v+=f[p-1][g][1],f[p][g][1]);return a}var t=m,e=gi,r=vi,i=pi,u=si,o=hi;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:_l.get(t)||gi,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:wl.get(t)||vi,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var _l=ao.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(di),u=n.map(yi),o=ao.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,l=0,c=[],f=[];for(t=0;r>t;++t)e=o[t],l>a?(a+=u[e],c.push(e)):(l+=u[e],f.push(e));return f.reverse().concat(c)},reverse:function(n){return ao.range(n.length).reverse()},"default":gi}),wl=ao.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,l=[];for(e=0;u>e;++e){for(t=0,r=0;i>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;u>e;++e)l[e]=(a-o[e])/2;return l},wiggle:function(n){var t,e,r,i,u,o,a,l,c,f=n.length,s=n[0],h=s.length,p=[];for(p[0]=l=c=0,e=1;h>e;++e){for(t=0,i=0;f>t;++t)i+=n[t][e][1];for(t=0,u=0,a=s[e][0]-s[e-1][0];f>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}p[e]=l-=i?u/i*a:0,c>l&&(c=l)}for(e=0;h>e;++e)p[e]-=c;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;u>e;++e){for(t=0,r=0;i>t;t++)r+=n[t][e][1];if(r)for(t=0;i>t;t++)n[t][e][1]/=r;else for(t=0;i>t;t++)n[t][e][1]=o}for(e=0;u>e;++e)a[e]=0;return a},zero:vi});ao.layout.histogram=function(){function n(n,u){for(var o,a,l=[],c=n.map(e,this),f=r.call(this,c,u),s=i.call(this,f,c,u),u=-1,h=c.length,p=s.length-1,g=t?1:1/h;++u<p;)o=l[u]=[],o.dx=s[u+1]-(o.x=s[u]),o.y=0;if(p>0)for(u=-1;++u<h;)a=c[u],a>=f[0]&&a<=f[1]&&(o=l[ao.bisect(s,a,1,p)-1],o.y+=g,o.push(n[u]));return l}var t=!0,e=Number,r=bi,i=Mi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return xi(n,t)}:En(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ao.layout.pack=function(){function n(n,u){var o=e.call(this,n,u),a=o[0],l=i[0],c=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,oi(a,function(n){n.r=+f(n.value)}),oi(a,Ni),r){var s=r*(t?1:Math.max(2*a.r/l,2*a.r/c))/2;oi(a,function(n){n.r+=s}),oi(a,Ni),oi(a,function(n){n.r-=s})}return Ci(a,l/2,c/2,t?1:1/Math.max(2*a.r/l,2*a.r/c)),o}var t,e=ao.layout.hierarchy().sort(_i),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},ii(n,e)},ao.layout.tree=function(){function n(n,i){var f=o.call(this,n,i),s=f[0],h=t(s);if(oi(h,e),h.parent.m=-h.z,ui(h,r),c)ui(s,u);else{var p=s,g=s,v=s;ui(s,function(n){n.x<p.x&&(p=n),n.x>g.x&&(g=n),n.depth>v.depth&&(v=n)});var d=a(p,g)/2-p.x,y=l[0]/(g.x+a(g,p)/2+d),m=l[1]/(v.depth||1);ui(s,function(n){n.x=(n.x+d)*y,n.y=n.depth*m})}return f}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,o=0,a=u.length;a>o;++o)r.push((u[o]=i={_:u[o],parent:t,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Di(n);var u=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-u):n.z=u}else r&&(n.z=r.z+a(n._,r._));n.parent.A=i(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function i(n,t,e){if(t){for(var r,i=n,u=n,o=t,l=i.parent.children[0],c=i.m,f=u.m,s=o.m,h=l.m;o=Ti(o),i=qi(i),o&&i;)l=qi(l),u=Ti(u),u.a=n,r=o.z+s-i.z-c+a(o._,i._),r>0&&(Ri(Pi(o,n,e),n,r),c+=r,f+=r),s+=o.m,c+=i.m,h+=l.m,f+=u.m;o&&!Ti(u)&&(u.t=o,u.m+=s-f),i&&!qi(l)&&(l.t=i,l.m+=c-h,e=n)}return e}function u(n){n.x*=l[0],n.y=n.depth*l[1]}var o=ao.layout.hierarchy().sort(null).value(null),a=Li,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(c=null==(l=t)?u:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:u,n):c?l:null},ii(n,o)},ao.layout.cluster=function(){function n(n,u){var o,a=t.call(this,n,u),l=a[0],c=0;oi(l,function(n){var t=n.children;t&&t.length?(n.x=ji(t),n.y=Ui(t)):(n.x=o?c+=e(n,o):0,n.y=0,o=n)});var f=Fi(l),s=Hi(l),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return oi(l,i?function(n){n.x=(n.x-l.x)*r[0],n.y=(l.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0],n.y=(1-(l.y?n.y/l.y:1))*r[1]}),a}var t=ao.layout.hierarchy().sort(null).value(null),e=Li,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},ii(n,t)},ao.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var u=e.children;if(u&&u.length){var o,a,l,c=s(e),f=[],h=u.slice(),g=1/0,v="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(n(h,c.dx*c.dy/e.value),f.area=0;(l=h.length)>0;)f.push(o=h[l-1]),f.area+=o.area,"squarify"!==p||(a=r(f,v))<=g?(h.pop(),g=a):(f.area-=f.pop().area,i(f,v,c,!1),v=Math.min(c.dx,c.dy),f.length=f.area=0,g=1/0);f.length&&(i(f,v,c,!0),f.length=f.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,o=s(t),a=r.slice(),l=[];for(n(a,o.dx*o.dy/t.value),l.area=0;u=a.pop();)l.push(u),l.area+=u.area,null!=u.z&&(i(l,u.z?o.dx:o.dy,o,!a.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(u>e&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*u*g)):1/0}function i(n,t,e,r){var i,u=-1,o=n.length,a=e.x,c=e.y,f=t?l(n.area/t):0;
if(t==e.dx){for((r||f>e.dy)&&(f=e.dy);++u<o;)i=n[u],i.x=a,i.y=c,i.dy=f,a+=i.dx=Math.min(e.x+e.dx-a,f?l(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++u<o;)i=n[u],i.x=a,i.y=c,i.dx=f,c+=i.dy=Math.min(e.y+e.dy-c,f?l(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=f,e.dx-=f}}function u(r){var i=o||a(r),u=i[0];return u.x=u.y=0,u.value?(u.dx=c[0],u.dy=c[1]):u.dx=u.dy=0,o&&a.revalue(u),n([u],u.dx*u.dy/u.value),(o?e:t)(u),h&&(o=i),i}var o,a=ao.layout.hierarchy(),l=Math.round,c=[1,1],f=null,s=Oi,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(c=n,u):c},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Oi(t):Ii(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Ii(t,n)}if(!arguments.length)return f;var r;return s=null==(f=n)?Oi:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(l=n?Math.round:Number,u):l!=Number},u.sticky=function(n){return arguments.length?(h=n,o=null,u):h},u.ratio=function(n){return arguments.length?(g=n,u):g},u.mode=function(n){return arguments.length?(p=n+"",u):p},ii(u,a)},ao.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=ao.random.normal.apply(ao,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ao.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ao.scale={};var Sl={floor:m,ceil:m};ao.scale.linear=function(){return Wi([0,1],[0,1],Mr,!1)};var kl={s:1,g:1,p:1,r:1,e:1};ao.scale.log=function(){return ru(ao.scale.linear().domain([0,1]),10,!0,[1,10])};var Nl=ao.format(".0e"),El={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ao.scale.pow=function(){return iu(ao.scale.linear(),1,[0,1])},ao.scale.sqrt=function(){return ao.scale.pow().exponent(.5)},ao.scale.ordinal=function(){return ou([],{t:"range",a:[[]]})},ao.scale.category10=function(){return ao.scale.ordinal().range(Al)},ao.scale.category20=function(){return ao.scale.ordinal().range(Cl)},ao.scale.category20b=function(){return ao.scale.ordinal().range(zl)},ao.scale.category20c=function(){return ao.scale.ordinal().range(Ll)};var Al=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),zl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),Ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);ao.scale.quantile=function(){return au([],[])},ao.scale.quantize=function(){return lu(0,1,[0,1])},ao.scale.threshold=function(){return cu([.5],[0,1])},ao.scale.identity=function(){return fu([0,1])},ao.svg={},ao.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),f=o.apply(this,arguments)-Io,s=a.apply(this,arguments)-Io,h=Math.abs(s-f),p=f>s?0:1;if(n>c&&(g=c,c=n,n=g),h>=Oo)return t(c,p)+(n?t(n,1-p):"")+"Z";var g,v,d,y,m,M,x,b,_,w,S,k,N=0,E=0,A=[];if((y=(+l.apply(this,arguments)||0)/2)&&(d=u===ql?Math.sqrt(n*n+c*c):+u.apply(this,arguments),p||(E*=-1),c&&(E=tn(d/c*Math.sin(y))),n&&(N=tn(d/n*Math.sin(y)))),c){m=c*Math.cos(f+E),M=c*Math.sin(f+E),x=c*Math.cos(s-E),b=c*Math.sin(s-E);var C=Math.abs(s-f-2*E)<=Fo?0:1;if(E&&yu(m,M,x,b)===p^C){var z=(f+s)/2;m=c*Math.cos(z),M=c*Math.sin(z),x=b=null}}else m=M=0;if(n){_=n*Math.cos(s-N),w=n*Math.sin(s-N),S=n*Math.cos(f+N),k=n*Math.sin(f+N);var L=Math.abs(f-s+2*N)<=Fo?0:1;if(N&&yu(_,w,S,k)===1-p^L){var q=(f+s)/2;_=n*Math.cos(q),w=n*Math.sin(q),S=k=null}}else _=w=0;if(h>Uo&&(g=Math.min(Math.abs(c-n)/2,+i.apply(this,arguments)))>.001){v=c>n^p?0:1;var T=g,R=g;if(Fo>h){var D=null==S?[_,w]:null==x?[m,M]:Re([m,M],[S,k],[x,b],[_,w]),P=m-D[0],U=M-D[1],j=x-D[0],F=b-D[1],H=1/Math.sin(Math.acos((P*j+U*F)/(Math.sqrt(P*P+U*U)*Math.sqrt(j*j+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(g,(n-O)/(H-1)),T=Math.min(g,(c-O)/(H+1))}if(null!=x){var I=mu(null==S?[_,w]:[S,k],[m,M],c,T,p),Y=mu([x,b],[_,w],c,T,p);g===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-p^yu(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",m,",",M);if(null!=S){var Z=mu([m,M],[S,k],n,-R,p),V=mu([_,w],null==x?[m,M]:[x,b],n,-R,p);g===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",p^yu(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-p," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",m,",",M),null!=x&&A.push("A",c,",",c," 0 ",C,",",p," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",L,",",1-p," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hu,r=pu,i=su,u=ql,o=gu,a=vu,l=du;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(i=En(t),n):i},n.padRadius=function(t){return arguments.length?(u=t==ql?ql:En(t),n):u},n.startAngle=function(t){return arguments.length?(o=En(t),n):o},n.endAngle=function(t){return arguments.length?(a=En(t),n):a},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Io;return[Math.cos(t)*n,Math.sin(t)*n]},n};var ql="auto";ao.svg.line=function(){return Mu(m)};var Tl=ao.map({linear:xu,"linear-closed":bu,step:_u,"step-before":wu,"step-after":Su,basis:zu,"basis-open":Lu,"basis-closed":qu,bundle:Tu,cardinal:Eu,"cardinal-open":ku,"cardinal-closed":Nu,monotone:Fu});Tl.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Rl=[0,2/3,1/3,0],Dl=[0,1/3,2/3,0],Pl=[0,1/6,2/3,1/6];ao.svg.line.radial=function(){var n=Mu(Hu);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wu.reverse=Su,Su.reverse=wu,ao.svg.area=function(){return Ou(m)},ao.svg.area.radial=function(){var n=Ou(Hu);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ao.svg.chord=function(){function n(n,a){var l=t(this,u,n,a),c=t(this,o,n,a);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=l.call(n,i,r)-Io,f=c.call(n,i,r)-Io;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Fo)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=Me,o=xe,a=Iu,l=gu,c=vu;return n.radius=function(t){return arguments.length?(a=En(t),n):a},n.source=function(t){return arguments.length?(u=En(t),n):u},n.target=function(t){return arguments.length?(o=En(t),n):o},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},ao.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,l=[u,{x:u.x,y:a},{x:o.x,y:a},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yu;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ao.svg.diagonal.radial=function(){var n=ao.svg.diagonal(),t=Yu,e=n.projection;return n.projection=function(n){return arguments.length?e(Zu(t=n)):t},n},ao.svg.symbol=function(){function n(n,r){return(Ul.get(t.call(this,n,r))||$u)(e.call(this,n,r))}var t=Xu,e=Vu;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Ul=ao.map({circle:$u,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Fl)),e=t*Fl;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ao.svg.symbolTypes=Ul.keys();var jl=Math.sqrt(3),Fl=Math.tan(30*Yo);Co.transition=function(n){for(var t,e,r=Hl||++Zl,i=Ku(n),u=[],o=Ol||{time:Date.now(),ease:Nr,delay:0,duration:250},a=-1,l=this.length;++a<l;){u.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(e=c[f])&&Qu(e,f,i,r,o),t.push(e)}return Wu(u,i,r)},Co.interrupt=function(n){return this.each(null==n?Il:Bu(Ku(n)))};var Hl,Ol,Il=Bu(Ku()),Yl=[],Zl=0;Yl.call=Co.call,Yl.empty=Co.empty,Yl.node=Co.node,Yl.size=Co.size,ao.transition=function(n,t){return n&&n.transition?Hl?n.transition(t):n:ao.selection().transition(n)},ao.transition.prototype=Yl,Yl.select=function(n){var t,e,r,i=this.id,u=this.namespace,o=[];n=A(n);for(var a=-1,l=this.length;++a<l;){o.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(r=c[f])&&(e=n.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),Qu(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return Wu(o,u,i)},Yl.selectAll=function(n){var t,e,r,i,u,o=this.id,a=this.namespace,l=[];n=C(n);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[a][o],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&Qu(i,g,a,o,u),t.push(i)}return Wu(l,a,o)},Yl.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;o>u;u++){i.push(t=[]);for(var e=this[u],a=0,l=e.length;l>a;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return Wu(i,this.namespace,this.id)},Yl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},Yl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?$r:Mr,a=ao.ns.qualify(n);return Ju(this,"attr."+n,t,a.local?u:i)},Yl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=ao.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Yl.style=function(n,e,r){function i(){this.style.removeProperty(n)}function u(e){return null==e?i:(e+="",function(){var i,u=t(this).getComputedStyle(this,null).getPropertyValue(n);return u!==e&&(i=Mr(u,e),function(t){this.style.setProperty(n,i(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ju(this,"style."+n,e,u)},Yl.styleTween=function(n,e,r){function i(i,u){var o=e.call(this,i,u,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,i)},Yl.text=function(n){return Ju(this,"text",n,Gu)},Yl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Yl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ao.ease.apply(ao,arguments)),Y(this,function(r){r[e][t].ease=n}))},Yl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},Yl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Yl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Ol,u=Hl;try{Hl=e,Y(this,function(t,i,u){Ol=t[r][e],n.call(t,t.__data__,i,u)})}finally{Ol=i,Hl=u}}else Y(this,function(i){var u=i[r][e];(u.event||(u.event=ao.dispatch("start","end","interrupt"))).on(n,t)});return this},Yl.transition=function(){for(var n,t,e,r,i=this.id,u=++Zl,o=this.namespace,a=[],l=0,c=this.length;c>l;l++){a.push(n=[]);for(var t=this[l],f=0,s=t.length;s>f;f++)(e=t[f])&&(r=e[o][i],Qu(e,f,o,u,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Wu(a,o,u)},ao.svg.axis=function(){function n(n){n.each(function(){var n,c=ao.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==l?s.ticks?s.ticks.apply(s,a):s.domain():l,p=null==t?s.tickFormat?s.tickFormat.apply(s,a):m:t,g=c.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Uo),d=ao.transition(g.exit()).style("opacity",Uo).remove(),y=ao.transition(g.order()).style("opacity",1),M=Math.max(i,0)+o,x=Zi(s),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ao.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=y.select("line"),C=g.select("text").text(p),z=v.select("text"),L=y.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=no,w="x",k="y",S="x2",N="y2",C.attr("dy",0>q?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+q*u+"V0H"+x[1]+"V"+q*u)):(n=to,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",0>q?"end":"start"),_.attr("d","M"+q*u+","+x[0]+"H0V"+x[1]+"H"+q*u)),E.attr(N,q*i),z.attr(k,q*M),A.attr(S,0).attr(N,q*i),L.attr(w,0).attr(k,q*M),s.rangeBand){var T=s,R=T.rangeBand()/2;f=s=function(n){return T(n)+R}}else f.rangeBand?f=s:d.call(n,s,f);v.call(n,f,s),y.call(n,s,s)})}var t,e=ao.scale.linear(),r=Vl,i=6,u=6,o=3,a=[10],l=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Xl?t+"":Vl,n):r},n.ticks=function(){return arguments.length?(a=co(arguments),n):a},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(i=+t,u=+arguments[e-1],n):i},n.innerTickSize=function(t){return arguments.length?(i=+t,n):i},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Vl="bottom",Xl={top:1,right:1,bottom:1,left:1};ao.svg.brush=function(){function n(t){t.each(function(){var t=ao.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,m);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return $l[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var l,s=ao.transition(t),h=ao.transition(o);c&&(l=Zi(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(s)),f&&(l=Zi(f),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(s)),e(s)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",s[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function i(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function u(){function u(){32==ao.event.keyCode&&(C||(M=null,L[0]-=s[1],L[1]-=h[1],C=2),S())}function v(){32==ao.event.keyCode&&2==C&&(L[0]+=s[1],L[1]+=h[1],C=0,S())}function d(){var n=ao.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ao.event.altKey?(M||(M=[(s[0]+s[1])/2,(h[0]+h[1])/2]),L[0]=s[+(n[0]<M[0])],L[1]=h[+(n[1]<M[1])]):M=null),E&&y(n,c,0)&&(r(k),t=!0),A&&y(n,f,1)&&(i(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function y(n,t,e){var r,i,u=Zi(t),l=u[0],c=u[1],f=L[e],v=e?h:s,d=v[1]-v[0];return C&&(l-=f,c-=d+f),r=(e?g:p)?Math.max(l,Math.min(c,n[e])):n[e],C?i=(r+=f)+d:(M&&(f=Math.max(l,Math.min(c,2*M[e]-r))),r>f?(i=r,r=f):i=f),v[0]!=r||v[1]!=i?(e?a=null:o=null,v[0]=r,v[1]=i,!0):void 0}function m(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ao.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ao.select(ao.event.target),w=l.of(b,arguments),k=ao.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&c,A=!/^(e|w)$/.test(N)&&f,C=_.classed("extent"),z=W(b),L=ao.mouse(b),q=ao.select(t(b)).on("keydown.brush",u).on("keyup.brush",v);if(ao.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",m):q.on("mousemove.brush",d).on("mouseup.brush",m),k.interrupt().selectAll("*").interrupt(),C)L[0]=s[0]-L[0],L[1]=h[0]-L[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[s[1-T]-L[0],h[1-R]-L[1]],L[0]=s[T],L[1]=h[R]}else ao.event.altKey&&(M=L.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ao.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,l=N(n,"brushstart","brush","brushend"),c=null,f=null,s=[0,0],h=[0,0],p=!0,g=!0,v=Bl[0];return n.event=function(n){n.each(function(){var n=l.of(this,arguments),t={x:s,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Hl?ao.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,s=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(s,t.x),r=xr(h,t.y);return o=a=null,function(i){s=t.x=e(i),h=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,v=Bl[!c<<1|!f],n):c},n.y=function(t){return arguments.length?(f=t,v=Bl[!c<<1|!f],n):f},n.clamp=function(t){return arguments.length?(c&&f?(p=!!t[0],g=!!t[1]):c?p=!!t:f&&(g=!!t),n):c&&f?[p,g]:c?p:f?g:null},n.extent=function(t){var e,r,i,u,l;return arguments.length?(c&&(e=t[0],r=t[1],f&&(e=e[0],r=r[0]),o=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(l=e,e=r,r=l),e==s[0]&&r==s[1]||(s=[e,r])),f&&(i=t[0],u=t[1],c&&(i=i[1],u=u[1]),a=[i,u],f.invert&&(i=f(i),u=f(u)),i>u&&(l=i,i=u,u=l),i==h[0]&&u==h[1]||(h=[i,u])),n):(c&&(o?(e=o[0],r=o[1]):(e=s[0],r=s[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(l=e,e=r,r=l))),f&&(a?(i=a[0],u=a[1]):(i=h[0],u=h[1],f.invert&&(i=f.invert(i),u=f.invert(u)),i>u&&(l=i,i=u,u=l))),c&&f?[[e,i],[r,u]]:c?[e,r]:f&&[i,u])},n.clear=function(){return n.empty()||(s=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!c&&s[0]==s[1]||!!f&&h[0]==h[1]},ao.rebind(n,l,"on")};var $l={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=ga.format=xa.timeFormat,Jl=Wl.utc,Gl=Jl("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:Gl,eo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},eo.toString=Gl.toString,ga.second=On(function(n){return new va(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ga.seconds=ga.second.range,ga.seconds.utc=ga.second.utc.range,ga.minute=On(function(n){return new va(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ga.minutes=ga.minute.range,ga.minutes.utc=ga.minute.utc.range,ga.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new va(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ga.hours=ga.hour.range,ga.hours.utc=ga.hour.utc.range,ga.month=On(function(n){return n=ga.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ga.months=ga.month.range,ga.months.utc=ga.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ql=[[ga.second,1],[ga.second,5],[ga.second,15],[ga.second,30],[ga.minute,1],[ga.minute,5],[ga.minute,15],[ga.minute,30],[ga.hour,1],[ga.hour,3],[ga.hour,6],[ga.hour,12],[ga.day,1],[ga.day,2],[ga.week,1],[ga.month,1],[ga.month,3],[ga.year,1]],nc=Wl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),tc={range:function(n,t,e){return ao.range(Math.ceil(n/e)*e,+t,e).map(io)},floor:m,ceil:m};Ql.year=ga.year,ga.scale=function(){return ro(ao.scale.linear(),Ql,nc)};var ec=Ql.map(function(n){return[n[0].utc,n[1]]}),rc=Jl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);ec.year=ga.year.utc,ga.scale.utc=function(){return ro(ao.scale.linear(),ec,rc)},ao.text=An(function(n){return n.responseText}),ao.json=function(n,t){return Cn(n,"application/json",uo,t)},ao.html=function(n,t){return Cn(n,"text/html",oo,t)},ao.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=ao,define(ao)):"object"==typeof module&&module.exports?module.exports=ao:this.d3=ao}();
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.identityImg=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};exports.__esModule=true;var Identity=function(){function Identity(hash,options){options=__assign({},Identity.defaultOptions,options||{});if(options.randomColor){options.bgColor=Identity.hashToColor(hash,options.bgStep,options.bgLen);options.mainColor=Identity.hashToColor(hash,options.mainStep,options.mainLen);options.nanColor=Identity.hashToColor(hash,options.nanLen,options.nanStep)}this.hash=hash;this.options=options;this.canvas=document.createElement("CANVAS");this.ctx=this.canvas.getContext("2d");this.canvas.width=this.options.size;this.canvas.height=this.options.size;this.hashMatrix=[];this._fillMatrix(hash)}Identity.prototype.getImage=function(){var w=this.options.size/this.options.cells;var h=this.options.size/this.options.rows;for(var row=0;row<this.options.rows;row++){for(var cell=0;cell<this.options.cells;cell++){this._addCell(cell,row,w,h)}}return this.canvas.toDataURL("image/png")};Identity.prototype._addCell=function(x,y,w,h){var color=this._getColors(x,y);if(!color){this._addRect(x,y,w,h,this.options.bgColor)}this._addRect(x,y,w,h,color)};Identity.prototype._addRect=function(x,y,w,h,color){this.ctx.fillStyle=color;this.ctx.beginPath();this.ctx.rect(x*w-.5,y*h-.5,w+.5,h+.5);this.ctx.fill();this.ctx.closePath()};Identity.prototype._getColors=function(x,y){if(x<this.options.cells/2){return isNaN(this.hashMatrix[x][y])?this.options.nanColor:this.hashMatrix[x][y]%2?this.options.mainColor:null}else{return this._getColors(this.options.cells-1-x,y)}};Identity.prototype._fillMatrix=function(hash){var i=0;for(var x=0;x<this.options.cells;x++){this.hashMatrix[x]=[];for(var y=0;y<this.options.rows;y++){if(this.hash[i]==null){this.hash+=hash}this.hashMatrix[x][y]=parseInt(this.hash[i],30);i++}}};Identity.hashToColor=function(hash,step,length){var parse=function(part){var arr=part.split("");var tmp=[];do{tmp.push(arr.splice(0,length))}while(arr.length);return tmp.reduce(function(r,i){return Math.min(r+parseInt(i,36),255)},0)};var color=[];for(var i=0;i<3;i++){color.push(hash.slice(Math.round(-(7/length)-length*3-step*i),hash.length-step*i))}return"rgb("+color.map(parse).join()+")"};Identity.defaultOptions={size:90,bgColor:"#bfbfbf",nanColor:"#EFB66C",mainColor:"#1C3D29",rows:9,cells:9,randomColor:true,mainStep:4,nanStep:5,mainLen:1.5,nanLen:3,bgStep:3,bgLen:4};return Identity}();function config(options){Identity.defaultOptions=__assign({},Identity.defaultOptions,options)}exports.config=config;function create(hash,options){return new Identity(hash,options).getImage()}exports.create=create},{}]},{},[1])(1)});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.i18nextLocizeBackend=e()}(this,function(){"use strict";function t(t,e,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(o,r)}}function e(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(!t)return{};var r=i(o.shift());!t[r]&&n&&(t[r]=new n),t=t[r]}return t?{obj:t,k:i(o.shift())}:{}}function n(t,n,i){var o=e(t,n,Object);o.obj[o.k]=i}function i(t,n,i,o){var r=e(t,n,Object),s=r.obj,a=r.k;s[a]=s[a]||[],o&&(s[a]=s[a].concat(i)),o||s[a].push(i)}function o(t,n){var i=e(t,n),o=i.obj,r=i.k;if(o)return o[r]}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e,n,i,o){try{var r=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");r.open(i?"POST":"GET",t,1),e.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.authorize&&e.apiKey&&r.setRequestHeader("Authorization",e.apiKey),(i||e.setContentTypeJSON)&&r.setRequestHeader("Content-type","application/json"),r.onreadystatechange=function(){r.readyState>3&&n&&n(r.responseText,r)},r.send(JSON.stringify(i))}catch(t){window.console&&console.log(t)}}function a(){return{loadPath:"https://api.locize.io/{{projectId}}/{{version}}/{{lng}}/{{ns}}",getLanguagesPath:"https://api.locize.io/languages/{{projectId}}",addPath:"https://api.locize.io/missing/{{projectId}}/{{version}}/{{lng}}/{{ns}}",updatePath:"https://api.locize.io/update/{{projectId}}/{{version}}/{{lng}}/{{ns}}",referenceLng:"en",crossDomain:!0,setContentTypeJSON:!1,version:"latest"}}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.init(t,n),this.type="backend"}return c(e,[{key:"init",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=u({},a(),this.options,n),this.queuedWrites={},this.debouncedWrite=t(this.write,1e4)}},{key:"getLanguages",value:function(t){var e=this.services.interpolator.interpolate(this.options.getLanguagesPath,{projectId:this.options.projectId});this.loadUrl(e,t)}},{key:"read",value:function(t,e,n){var i=this.services.interpolator.interpolate(this.options.loadPath,{lng:t,ns:e,projectId:this.options.projectId,version:this.options.version});this.loadUrl(i,n)}},{key:"loadUrl",value:function(t,e){s(t,this.options,function(n,i){if(i.status>=500&&i.status<600)return e("failed loading "+t,!0);if(i.status>=400&&i.status<500)return e("failed loading "+t,!1);var o=void 0,r=void 0;try{o=JSON.parse(n)}catch(e){r="failed parsing "+t+" to json"}if(r)return e(r,!1);e(null,o)})}},{key:"create",value:function(t,e,n,i,o,r){var s=this;o||(o=function(){}),"string"==typeof t&&(t=[t]),t.forEach(function(t){t===s.options.referenceLng&&s.queue.call(s,s.options.referenceLng,e,n,i,o,r)})}},{key:"update",value:function(t,e,n,i,o,r){var s=this;o||(o=function(){}),r||(r={}),"string"==typeof t&&(t=[t]),r.isUpdate=!0,t.forEach(function(t){t===s.options.referenceLng&&s.queue.call(s,s.options.referenceLng,e,n,i,o,r)})}},{key:"write",value:function(t,e){var i=this;if(!o(this.queuedWrites,["locks",t,e])){var r=this.services.interpolator.interpolate(this.options.addPath,{lng:t,ns:e,projectId:this.options.projectId,version:this.options.version}),a=this.services.interpolator.interpolate(this.options.updatePath,{lng:t,ns:e,projectId:this.options.projectId,version:this.options.version}),c=o(this.queuedWrites,[t,e]);if(n(this.queuedWrites,[t,e],[]),c.length){n(this.queuedWrites,["locks",t,e],!0);var l=!1,p=!1,f={},h={};c.forEach(function(t){t.options&&t.options.isUpdate?(p||(p=!0),h[t.key]=t.fallbackValue||""):(l||(l=!0),f[t.key]=t.fallbackValue||"")});var d=0;l&&d++,p&&d++;var v=function(){--d||(n(i.queuedWrites,["locks",t,e],!1),c.forEach(function(t){t.callback&&t.callback()}),i.debouncedWrite(t,e))};d||v(),l&&s(r,u({authorize:!0},this.options),function(t,e){v()},f),p&&s(a,u({authorize:!0},this.options),function(t,e){v()},h)}}}},{key:"queue",value:function(t,e,n,o,r,s){i(this.queuedWrites,[t,e],{key:n,fallbackValue:o||"",callback:r,options:s}),this.debouncedWrite(t,e)}}]),e}();return l.type="backend",l});

/*
 AngularJS v1.6.6
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(u){'use strict';function oe(a){if(E(a))t(a.objectMaxDepth)&&(Lc.objectMaxDepth=Ub(a.objectMaxDepth)?a.objectMaxDepth:NaN);else return Lc}function Ub(a){return Y(a)&&0<a}function M(a,b){b=b||Error;return function(){var d=arguments[0],c;c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.6.6/"+(a?a+"/":"")+d;for(d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var e=encodeURIComponent,f;f=arguments[d];f="function"==typeof f?f.toString().replace(/ \{[\s\S]*$/,""):"undefined"==
typeof f?"undefined":"string"!=typeof f?JSON.stringify(f):f;c+=e(f)}return new b(c)}}function xa(a){if(null==a||$a(a))return!1;if(I(a)||D(a)||B&&a instanceof B)return!0;var b="length"in Object(a)&&a.length;return Y(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"===typeof a.item)}function p(a,b,d){var c,e;if(a)if(A(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(I(a)||xa(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in
a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==p)a.forEach(b,d,a);else if(Mc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)ra.call(a,c)&&b.call(d,a[c],c,a);return a}function Nc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Vb(a){return function(b,d){a(d,b)}}function pe(){return++sb}function Wb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=
b[e];if(E(g)||A(g))for(var k=Object.keys(g),h=0,l=k.length;h<l;h++){var m=k[h],n=g[m];d&&E(n)?ea(n)?a[m]=new Date(n.valueOf()):ab(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Xb(n)?a[m]=n.clone():(E(a[m])||(a[m]=I(n)?[]:{}),Wb(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function P(a){return Wb(a,ya.call(arguments,1),!1)}function qe(a){return Wb(a,ya.call(arguments,1),!0)}function Z(a){return parseInt(a,10)}function Yb(a,b){return P(Object.create(a),b)}function C(){}
function bb(a){return a}function ka(a){return function(){return a}}function Zb(a){return A(a.toString)&&a.toString!==ha}function w(a){return"undefined"===typeof a}function t(a){return"undefined"!==typeof a}function E(a){return null!==a&&"object"===typeof a}function Mc(a){return null!==a&&"object"===typeof a&&!Oc(a)}function D(a){return"string"===typeof a}function Y(a){return"number"===typeof a}function ea(a){return"[object Date]"===ha.call(a)}function $b(a){switch(ha.call(a)){case "[object Error]":return!0;
case "[object Exception]":return!0;case "[object DOMException]":return!0;default:return a instanceof Error}}function A(a){return"function"===typeof a}function ab(a){return"[object RegExp]"===ha.call(a)}function $a(a){return a&&a.window===a}function cb(a){return a&&a.$evalAsync&&a.$watch}function Na(a){return"boolean"===typeof a}function re(a){return a&&Y(a.length)&&se.test(ha.call(a))}function Xb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function te(a){var b={};a=a.split(",");var d;for(d=
0;d<a.length;d++)b[a[d]]=!0;return b}function za(a){return N(a.nodeName||a[0]&&a[0].nodeName)}function db(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function pa(a,b,d){function c(a,b,c){c--;if(0>c)return"...";var d=b.$$hashKey,g;if(I(a)){g=0;for(var f=a.length;g<f;g++)b.push(e(a[g],c))}else if(Mc(a))for(g in a)b[g]=e(a[g],c);else if(a&&"function"===typeof a.hasOwnProperty)for(g in a)a.hasOwnProperty(g)&&(b[g]=e(a[g],c));else for(g in a)ra.call(a,g)&&(b[g]=e(a[g],c));d?b.$$hashKey=d:delete b.$$hashKey;
return b}function e(a,b){if(!E(a))return a;var d=g.indexOf(a);if(-1!==d)return k[d];if($a(a)||cb(a))throw qa("cpws");var d=!1,e=f(a);void 0===e&&(e=I(a)?[]:Object.create(Oc(a)),d=!0);g.push(a);k.push(e);return d?c(a,e,b):e}function f(a){switch(ha.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(e(a.buffer),
a.byteOffset,a.length);case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(A(a.cloneNode))return a.cloneNode(!0)}
var g=[],k=[];d=Ub(d)?d:NaN;if(b){if(re(b)||"[object ArrayBuffer]"===ha.call(b))throw qa("cpta");if(a===b)throw qa("cpi");I(b)?b.length=0:p(b,function(a,c){"$$hashKey"!==c&&delete b[c]});g.push(a);k.push(b);return c(a,b,d)}return e(a,d)}function ac(a,b){return a===b||a!==a&&b!==b}function sa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&"object"===d)if(I(a)){if(!I(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!sa(a[c],
b[c]))return!1;return!0}}else{if(ea(a))return ea(b)?ac(a.getTime(),b.getTime()):!1;if(ab(a))return ab(b)?a.toString()===b.toString():!1;if(cb(a)||cb(b)||$a(a)||$a(b)||I(b)||ea(b)||ab(b))return!1;d=S();for(c in a)if("$"!==c.charAt(0)&&!A(a[c])){if(!sa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&t(b[c])&&!A(b[c]))return!1;return!0}return!1}function eb(a,b,d){return a.concat(ya.call(b,d))}function Ra(a,b){var d=2<arguments.length?ya.call(arguments,2):[];return!A(b)||b instanceof
RegExp?b:d.length?function(){return arguments.length?b.apply(a,eb(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Pc(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:$a(b)?d="$WINDOW":b&&u.document===b?d="$DOCUMENT":cb(b)&&(d="$SCOPE");return d}function fb(a,b){if(!w(a))return Y(b)||(b=b?2:null),JSON.stringify(a,Pc,b)}function Qc(a){return D(a)?JSON.parse(a):a}function Rc(a,b){a=a.replace(ue,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+
a)/6E4;return T(d)?b:d}function bc(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=Rc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function Aa(a){a=B(a).clone().empty();var b=B("<div>").append(a).html();try{return a[0].nodeType===Oa?N(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+N(b)})}catch(d){return N(b)}}function Sc(a){try{return decodeURIComponent(a)}catch(b){}}function Tc(a){var b={};p((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,
"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=Sc(e),t(e)&&(f=t(f)?Sc(f):!0,ra.call(b,e)?I(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function cc(a){var b=[];p(a,function(a,c){I(a)?p(a,function(a){b.push(ia(c,!0)+(!0===a?"":"="+ia(a,!0)))}):b.push(ia(c,!0)+(!0===a?"":"="+ia(a,!0)))});return b.length?b.join("&"):""}function gb(a){return ia(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ia(a,b){return encodeURIComponent(a).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ve(a,b){var d,c,e=Ha.length;for(c=0;c<e;++c)if(d=Ha[c]+b,D(d=a.getAttribute(d)))return d;return null}function we(a,b){var d,c,e={};p(Ha,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});p(Ha,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(xe?(e.strictDi=null!==ve(d,"strict-di"),
b(d,c?[c]:[],e)):u.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Uc(a,b,d){E(d)||(d={});d=P({strictDi:!1},d);var c=function(){a=B(a);if(a.injector()){var c=a[0]===u.document?"document":Aa(a);throw qa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);
b.unshift("ng");c=hb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;u&&e.test(u.name)&&(d.debugInfoEnabled=!0,u.name=u.name.replace(e,""));if(u&&!f.test(u.name))return c();u.name=u.name.replace(f,"");$.resumeBootstrap=function(a){p(a,function(a){b.push(a)});return c()};A($.resumeDeferredBootstrap)&&$.resumeDeferredBootstrap()}function ye(){u.name=
"NG_ENABLE_DEBUG_INFO!"+u.name;u.location.reload()}function ze(a){a=$.element(a).injector();if(!a)throw qa("test");return a.get("$$testability")}function Vc(a,b){b=b||"_";return a.replace(Ae,function(a,c){return(c?b:"")+a.toLowerCase()})}function Be(){var a;if(!Wc){var b=tb();(la=w(b)?u.jQuery:b?u[b]:void 0)&&la.fn.on?(B=la,P(la.fn,{scope:Sa.scope,isolateScope:Sa.isolateScope,controller:Sa.controller,injector:Sa.injector,inheritedData:Sa.inheritedData}),a=la.cleanData,la.cleanData=function(b){for(var c,
e=0,f;null!=(f=b[e]);e++)(c=la._data(f,"events"))&&c.$destroy&&la(f).triggerHandler("$destroy");a(b)}):B=U;$.element=B;Wc=!0}}function ib(a,b,d){if(!a)throw qa("areq",b||"?",d||"required");return a}function ub(a,b,d){d&&I(a)&&(a=a[a.length-1]);ib(A(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ia(a,b){if("hasOwnProperty"===a)throw qa("badname",b);}function Xc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=
b[g],a&&(a=(e=a)[c]);return!d&&A(a)?Ra(e,a):a}function vb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=B(ya.call(a,0,e))),c.push(b);return c||a}function S(){return Object.create(null)}function dc(a){if(null==a)return"";switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=!Zb(a)||I(a)||ea(a)?fb(a):a.toString()}return a}function Ce(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=M("$injector"),c=M("ng");a=b(a,"angular",Object);a.$$minErr=
a.$$minErr||M;return b(a,"module",function(){var a={};return function(f,g,k){var h={};if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,c,d,g){g||(g=e);return function(){g[d||"push"]([b,c,arguments]);return p}}function b(a,c,d){d||(d=e);return function(b,e){e&&A(e)&&(e.$$moduleName=f);d.push([a,c,arguments]);return p}}if(!g)throw d("nomod",f);var e=[],q=[],G=[],L=a("$injector","invoke","push",q),p={_invokeQueue:e,_configBlocks:q,
_runBlocks:G,info:function(a){if(t(a)){if(!E(a))throw c("aobj","value");h=a;return this}return h},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",q),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider",
"component"),config:L,run:function(a){G.push(a);return this}};k&&L(k);return p})}})}function ja(a,b){if(I(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(E(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function De(a,b){var d=[];Ub(b)&&(a=$.copy(a,null,b));return JSON.stringify(a,function(a,b){b=Pc(a,b);if(E(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function Ee(a){P(a,{errorHandlingConfig:oe,bootstrap:Uc,copy:pa,extend:P,merge:qe,equals:sa,
element:B,forEach:p,injector:hb,noop:C,bind:Ra,toJson:fb,fromJson:Qc,identity:bb,isUndefined:w,isDefined:t,isString:D,isFunction:A,isObject:E,isNumber:Y,isElement:Xb,isArray:I,version:Fe,isDate:ea,lowercase:N,uppercase:wb,callbacks:{$$counter:0},getTestability:ze,reloadWithDebugInfo:ye,$$minErr:M,$$csp:Ja,$$encodeUriSegment:gb,$$encodeUriQuery:ia,$$stringify:dc});ec=Ce(u);ec("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Ge});a.provider("$compile",Yc).directive({a:He,input:Zc,
textarea:Zc,form:Ie,script:Je,select:Ke,option:Le,ngBind:Me,ngBindHtml:Ne,ngBindTemplate:Oe,ngClass:Pe,ngClassEven:Qe,ngClassOdd:Re,ngCloak:Se,ngController:Te,ngForm:Ue,ngHide:Ve,ngIf:We,ngInclude:Xe,ngInit:Ye,ngNonBindable:Ze,ngPluralize:$e,ngRepeat:af,ngShow:bf,ngStyle:cf,ngSwitch:df,ngSwitchWhen:ef,ngSwitchDefault:ff,ngOptions:gf,ngTransclude:hf,ngModel:jf,ngList:kf,ngChange:lf,pattern:$c,ngPattern:$c,required:ad,ngRequired:ad,minlength:bd,ngMinlength:bd,maxlength:cd,ngMaxlength:cd,ngValue:mf,
ngModelOptions:nf}).directive({ngInclude:of}).directive(xb).directive(dd);a.provider({$anchorScroll:pf,$animate:qf,$animateCss:rf,$$animateJs:sf,$$animateQueue:tf,$$AnimateRunner:uf,$$animateAsyncRun:vf,$browser:wf,$cacheFactory:xf,$controller:yf,$document:zf,$$isDocumentHidden:Af,$exceptionHandler:Bf,$filter:ed,$$forceReflow:Cf,$interpolate:Df,$interval:Ef,$http:Ff,$httpParamSerializer:Gf,$httpParamSerializerJQLike:Hf,$httpBackend:If,$xhrFactory:Jf,$jsonpCallbacks:Kf,$location:Lf,$log:Mf,$parse:Nf,
$rootScope:Of,$q:Pf,$$q:Qf,$sce:Rf,$sceDelegate:Sf,$sniffer:Tf,$templateCache:Uf,$templateRequest:Vf,$$testability:Wf,$timeout:Xf,$window:Yf,$$rAF:Zf,$$jqLite:$f,$$Map:ag,$$cookieReader:bg})}]).info({angularVersion:"1.6.6"})}function jb(a,b){return b.toUpperCase()}function yb(a){return a.replace(cg,jb)}function fc(a){a=a.nodeType;return 1===a||!a||9===a}function fd(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(gc.test(a)){d=e.appendChild(b.createElement("div"));c=(dg.exec(a)||["",""])[1].toLowerCase();
c=aa[c]||aa._default;d.innerHTML=c[1]+a.replace(eg,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=eb(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";p(f,function(a){e.appendChild(a)});return e}function U(a){if(a instanceof U)return a;var b;D(a)&&(a=Q(a),b=!0);if(!(this instanceof U)){if(b&&"<"!==a.charAt(0))throw hc("nosel");return new U(a)}if(b){b=u.document;var d;a=(d=fg.exec(a))?[b.createElement(d[1])]:(d=fd(a,b))?d.childNodes:
[];ic(this,a)}else A(a)?gd(a):ic(this,a)}function jc(a){return a.cloneNode(!0)}function zb(a,b){!b&&fc(a)&&B.cleanData([a]);a.querySelectorAll&&B.cleanData(a.querySelectorAll("*"))}function hd(a,b,d,c){if(t(c))throw hc("offargs");var e=(c=Ab(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];t(d)&&db(c||[],d);t(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};p(b.split(" "),function(a){g(a);Bb[a]&&g(Bb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b]}
function kc(a,b){var d=a.ng339,c=d&&kb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),hd(a)),delete kb[d],a.ng339=void 0))}function Ab(a,b){var d=a.ng339,d=d&&kb[d];b&&!d&&(a.ng339=d=++gg,d=kb[d]={events:{},data:{},handle:void 0});return d}function lc(a,b,d){if(fc(a)){var c,e=t(d),f=!e&&b&&!E(b),g=!b;a=(a=Ab(a,!f))&&a.data;if(e)a[yb(b)]=d;else{if(g)return a;if(f)return a&&a[yb(b)];for(c in b)a[yb(c)]=b[c]}}}function Cb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||
"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Db(a,b){b&&a.setAttribute&&p(b.split(" "),function(b){a.setAttribute("class",Q((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Q(b)+" "," ")))})}function Eb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");p(b.split(" "),function(a){a=Q(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",Q(d))}}function ic(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=
b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function id(a,b){return Fb(a,"$"+(b||"ngController")+"Controller")}function Fb(a,b,d){9===a.nodeType&&(a=a.documentElement);for(b=I(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(t(d=B.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function jd(a){for(zb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Gb(a,b){b||zb(a);var d=a.parentNode;d&&d.removeChild(a)}function hg(a,
b){b=b||u;if("complete"===b.document.readyState)b.setTimeout(a);else B(b).on("load",a)}function gd(a){function b(){u.document.removeEventListener("DOMContentLoaded",b);u.removeEventListener("load",b);a()}"complete"===u.document.readyState?u.setTimeout(a):(u.document.addEventListener("DOMContentLoaded",b),u.addEventListener("load",b))}function kd(a,b){var d=Hb[b.toLowerCase()];return d&&ld[za(a)]&&d}function ig(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=
b[d||c.type],g=f?f.length:0;if(g){if(w(c.immediatePropagationStopped)){var k=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();k&&k.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=f.specialHandlerWrapper||jg;1<g&&(f=ja(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||h(a,c,f[l])}};d.elem=a;return d}function jg(a,b,d){d.call(a,b)}function kg(a,b,d){var c=
b.relatedTarget;c&&(c===a||lg.call(a,c))||d.call(a,b)}function $f(){this.$get=function(){return P(U,{hasClass:function(a,b){a.attr&&(a=a[0]);return Cb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Eb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Db(a,b)}})}}function Pa(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||pe)():d+":"+a}function md(){this._keys=[];this._values=
[];this._lastKey=NaN;this._lastIndex=-1}function nd(a){a=Function.prototype.toString.call(a).replace(mg,"");return a.match(ng)||a.match(og)}function pg(a){return(a=nd(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function hb(a,b){function d(a){return function(b,c){if(E(b))p(b,Vb(a));else return a(b,c)}}function c(a,b){Ia(a,"service");if(A(b)||I(b))b=q.instantiate(b);if(!b.$get)throw Ba("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=z.invoke(b,this);if(w(c))throw Ba("undef",
a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){ib(w(a)||I(a),"modulesToLoad","not an array");var b=[],c;p(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],g=q.get(e[0]);g[e[1]].apply(g,e[2])}}if(!m.get(a)){m.set(a,!0);try{D(a)?(c=ec(a),z.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):A(a)?b.push(q.invoke(a)):I(a)?b.push(q.invoke(a)):ub(a,"module")}catch(e){throw I(a)&&(a=a[a.length-1]),e.message&&
e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ba("modulerr",a,e.stack||e.message||e);}}});return b}function k(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===h)throw Ba("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=h,a[b]=c(b,e),a[b]}catch(g){throw a[b]===h&&delete a[b],g;}finally{l.shift()}}function e(a,c,g){var f=[];a=hb.$$annotate(a,b,g);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ba("itkn",l);f.push(c&&c.hasOwnProperty(l)?
c[l]:d(l,g))}return f}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);I(a)&&(a=a[a.length-1]);d=a;if(Ca||"function"!==typeof d)d=!1;else{var g=d.$$ngIsClass;Na(g)||(g=d.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(d)));d=g}return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=I(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,
annotate:hb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var h={},l=[],m=new Ib,n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ka(b),!1)}),constant:d(function(a,b){Ia(a,"constant");n[a]=b;G[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=z.invoke(d,c);return z.invoke(b,null,{$delegate:a})}}}},
q=n.$injector=k(n,function(a,b){$.isString(b)&&l.push(b);throw Ba("unpr",l.join(" <- "));}),G={},L=k(G,function(a,b){var c=q.get(a+"Provider",b);return z.invoke(c.$get,c,void 0,a)}),z=L;n.$injectorProvider={$get:ka(L)};z.modules=q.modules=S();var v=g(a),z=L.get("$injector");z.strictDi=b;p(v,function(a){a&&z.invoke(a)});return z}function pf(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,
function(a){if("a"===za(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;A(c)?c=c():Xb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=D(a)?a:Y(a)?a.toString():d.hash();var b;a?(b=k.getElementById(a))?f(b):(b=e(k.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var k=b.document;a&&c.$watch(function(){return d.hash()},
function(a,b){a===b&&""===a||hg(function(){c.$evalAsync(g)})});return g}]}function lb(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;I(a)&&(a=a.join(" "));I(b)&&(b=b.join(" "));return a+" "+b}function qg(a){D(a)&&(a=a.split(" "));var b=S();p(a,function(a){a.length&&(b[a]=!0)});return b}function Ka(a){return E(a)?a:{}}function rg(a,b,d,c){function e(a){try{a.apply(null,ya.call(arguments,1))}finally{if(L--,0===L)for(;z.length;)try{z.pop()()}catch(b){d.error(b)}}}function f(){y=null;k()}function g(){v=
J();v=w(v)?null:v;sa(v,K)&&(v=K);s=K=v}function k(){var a=s;g();if(Ta!==h.url()||a!==v)Ta=h.url(),s=v,p(H,function(a){a(h.url(),v)})}var h=this,l=a.location,m=a.history,n=a.setTimeout,q=a.clearTimeout,G={};h.isMock=!1;var L=0,z=[];h.$$completeOutstandingRequest=e;h.$$incOutstandingRequestCount=function(){L++};h.notifyWhenNoOutstandingRequests=function(a){0===L?a():z.push(a)};var v,s,Ta=l.href,ma=b.find("base"),y=null,J=c.history?function(){try{return m.state}catch(a){}}:C;g();h.url=function(b,d,e){w(e)&&
(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=s===e;if(Ta===b&&(!c.history||f))return h;var k=Ta&&La(Ta)===La(b);Ta=b;s=e;!c.history||k&&f?(k||(y=b),d?l.replace(b):k?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(y=b)):(m[d?"replaceState":"pushState"](e,"",b),g());y&&(y=b);return h}return y||l.href.replace(/%27/g,"'")};h.state=function(){return v};var H=[],ta=!1,K=null;h.onUrlChange=function(b){if(!ta){if(c.history)B(a).on("popstate",
f);B(a).on("hashchange",f);ta=!0}H.push(b);return b};h.$$applicationDestroyed=function(){B(a).off("hashchange popstate",f)};h.$$checkUrlChange=k;h.baseHref=function(){var a=ma.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""};h.defer=function(a,b){var c;L++;c=n(function(){delete G[c];e(a)},b||0);G[c]=!0;return c};h.defer.cancel=function(a){return G[a]?(delete G[a],q(a),e(C),!0):!1}}function wf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new rg(a,c,b,
d)}]}function xf(){this.$get=function(){function a(a,c){function e(a){a!==n&&(q?q===a&&(q=a.n):q=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw M("$cacheFactory")("iid",a);var g=0,k=P({},c,{id:a}),h=S(),l=c&&c.capacity||Number.MAX_VALUE,m=S(),n=null,q=null;return b[a]={put:function(a,b){if(!w(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in h||g++;h[a]=b;g>l&&this.remove(q.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=
m[a];if(!b)return;e(b)}return h[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===n&&(n=b.p);b===q&&(q=b.n);f(b.n,b.p);delete m[a]}a in h&&(delete h[a],g--)},removeAll:function(){h=S();g=0;m=S();n=q=null},destroy:function(){m=k=h=null;delete b[a]},info:function(){return P({},k,{size:g})}}}var b={};a.info=function(){var a={};p(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Uf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}
function Yc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,e=S();p(a,function(a,g){if(a in n)e[g]=n[a];else{var f=a.match(d);if(!f)throw ba("iscp",b,g,a,c?"controller bindings definition":"isolate scope definition");e[g]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||g};f[4]&&(n[a]=e[g])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==N(b))throw ba("baddir",a);if(a!==a.trim())throw ba("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;
!I(b)&&E(b)&&p(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=te("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=S();this.directive=function ma(b,d){ib(b,"name");Ia(b,"directive");D(b)?(c(b),ib(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];p(f[b],function(g,
f){try{var h=a.invoke(g);A(h)?h={compile:ka(h)}:!h.compile&&h.link&&(h.compile=ka(h.link));h.priority=h.priority||0;h.index=f;h.name=h.name||b;h.require=e(h);var k=h,l=h.restrict;if(l&&(!D(l)||!/[EACM]/.test(l)))throw ba("badrestrict",l,b);k.restrict=l||"EA";h.$$moduleName=g.$$moduleName;d.push(h)}catch(m){c(m)}});return d}])),f[b].push(d)):p(b,Vb(ma));return this};this.component=function y(a,b){function c(a){function e(b){return A(b)||I(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:
b}var g=b.template||b.templateUrl?b.template:"",f={controller:d,controllerAs:sg(b.controller)||b.controllerAs||"$ctrl",template:e(g),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};p(b,function(a,b){"$"===b.charAt(0)&&(f[b]=a)});return f}if(!D(a))return p(a,Vb(Ra(this,y))),this;var d=b.controller||function(){};p(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,A(d)&&(d[b]=a))});c.$inject=["$injector"];return this.directive(a,
c)};this.aHrefSanitizationWhitelist=function(a){return t(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return t(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var q=!0;this.debugInfoEnabled=function(a){return t(a)?(q=a,this):q};var G=!1;this.preAssignBindingsEnabled=function(a){return t(a)?(G=a,this):G};var L=!1;this.strictComponentBindingsEnabled=function(a){return t(a)?(L=a,this):L};var z=10;this.onChangesTtl=
function(a){return arguments.length?(z=a,this):z};var v=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(v=a,this):v};var s=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(s=a,this):s};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,F,R,x,W,r){function O(){try{if(!--Fa)throw ga=void 0,ba("infchng",z);R.$apply(function(){for(var a=[],b=0,
c=ga.length;b<c;++b)try{ga[b]()}catch(d){a.push(d)}ga=void 0;if(a.length)throw a;})}finally{Fa++}}function mc(a,b){if(b){var c=Object.keys(b),d,e,g;d=0;for(e=c.length;d<e;d++)g=c[d],this[g]=b[g]}else this.$attr={};this.$$element=a}function Ua(a,b,c){Ba.innerHTML="<span "+b+">";b=Ba.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function na(a,b){try{a.addClass(b)}catch(c){}}function ca(a,b,c,d,e){a instanceof B||(a=B(a));var g=Va(a,b,a,c,d,e);ca.$$addScopeClass(a);
var f=null;return function(b,c,d){if(!a)throw ba("multilink");ib(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var h=d.parentBoundTranscludeFn,k=d.transcludeControllers;d=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude);f||(f=(d=d&&d[0])?"foreignobject"!==za(d)&&ha.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==f?B(ja(f,B("<div>").append(a).html())):c?Sa.clone.call(a):a;if(k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);ca.$$addScopeInfo(d,b);c&&
c(d,b);g&&g(b,d,d,h);c||(a=g=null);return d}}function Va(a,b,c,d,e,g){function f(a,c,d,e){var g,k,l,m,q,n,H;if(s)for(H=Array(c.length),m=0;m<h.length;m+=3)g=h[m],H[g]=c[g];else H=c;m=0;for(q=h.length;m<q;)k=H[h[m++]],c=h[m++],g=h[m++],c?(c.scope?(l=a.$new(),ca.$$addScopeInfo(B(k),l)):l=a,n=c.transcludeOnThisElement?Ma(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?Ma(a,b):null,c(g,l,k,d,n)):g&&g(a,k.childNodes,void 0,e)}for(var h=[],k=I(a)||a instanceof B,l,m,q,n,s,H=0;H<a.length;H++){l=new mc;
11===Ca&&Da(a,H,k);m=M(a[H],[],l,0===H?d:void 0,e);(g=m.length?Y(m,a[H],l,b,c,null,[],[],g):null)&&g.scope&&ca.$$addScopeClass(l.$$element);l=g&&g.terminal||!(q=a[H].childNodes)||!q.length?null:Va(q,g?(g.transcludeOnThisElement||!g.templateOnThisElement)&&g.transclude:b);if(g||l)h.push(H,g,l),n=!0,s=s||g;g=null}return n?f:null}function Da(a,b,c){var d=a[b],e=d.parentNode,g;if(d.nodeType===Oa)for(;;){g=e?d.nextSibling:a[b+1];if(!g||g.nodeType!==Oa)break;d.nodeValue+=g.nodeValue;g.parentNode&&g.parentNode.removeChild(g);
c&&g===a[b+1]&&a.splice(b+1,1)}}function Ma(a,b,c){function d(e,g,f,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,g,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:h})}var e=d.$$slots=S(),g;for(g in b.$$slots)e[g]=b.$$slots[g]?Ma(a,b.$$slots[g],c):null;return d}function M(a,b,c,d,e){var g=c.$attr,f;switch(a.nodeType){case 1:f=za(a);T(b,Ea(f),"E",d,e);for(var h,l,m,q,n=a.attributes,s=0,H=n&&n.length;s<H;s++){var J=!1,G=!1;h=n[s];l=h.name;m=h.value;h=Ea(l);(q=Pa.test(h))&&
(l=l.replace(od,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));(h=h.match(Qa))&&$(h[1])&&(J=l,G=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6));h=Ea(l.toLowerCase());g[h]=l;if(q||!c.hasOwnProperty(h))c[h]=m,kd(a,h)&&(c[h]=!0);xa(a,b,m,h,q);T(b,h,"A",d,e,J,G)}"input"===f&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off");if(!La)break;g=a.className;E(g)&&(g=g.animVal);if(D(g)&&""!==g)for(;a=k.exec(g);)h=Ea(a[2]),T(b,h,"C",d,e)&&(c[h]=Q(a[3])),g=g.substr(a.index+
a[0].length);break;case Oa:oa(b,a.nodeValue);break;case 8:if(!Ka)break;nc(a,b,c,d,e)}b.sort(ka);return b}function nc(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Ea(f[1]);T(b,h,"M",d,e)&&(c[h]=Q(f[2]))}}catch(k){}}function pd(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ba("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return B(d)}function U(a,b,c){return function(d,e,g,f,h){e=
pd(e[0],b,c);return a(d,e,g,f,h)}}function V(a,b,c,d,e,g){var f;return a?ca(b,c,d,e,g):function(){f||(f=ca(b,c,d,e,g),b=c=g=null);return f.apply(this,arguments)}}function Y(a,b,d,e,g,f,h,k,l){function m(a,b,c,d){if(a){c&&(a=U(a,c,d));a.require=x.require;a.directiveName=W;if(K===x||x.$$isolateScope)a=ua(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=U(b,c,d));b.require=x.require;b.directiveName=W;if(K===x||x.$$isolateScope)b=ua(b,{isolateScope:!0});k.push(b)}}function q(a,e,g,f,l){function m(a,b,c,d){var e;
cb(a)||(d=c,c=b,b=a,a=void 0);ta&&(e=L);c||(c=ta?fa.parent():fa);if(d){var g=l.$$slots[d];if(g)return g(a,b,e,c,O);if(w(g))throw ba("noslot",d,Aa(fa));}else return l(a,b,e,c,O)}var n,x,F,y,R,L,z,fa;b===g?(f=d,fa=d.$$element):(fa=B(g),f=new mc(fa,d));R=e;K?y=e.$new(!0):s&&(R=e.$parent);l&&(z=m,z.$$boundTransclude=l,z.isSlotFilled=function(a){return!!l.$$slots[a]});J&&(L=da(fa,f,z,J,y,e,K));K&&(ca.$$addScopeInfo(fa,y,!0,!(v&&(v===K||v===K.$$originalDirective))),ca.$$addScopeClass(fa,!0),y.$$isolateBindings=
K.$$isolateBindings,x=qa(e,f,y,y.$$isolateBindings,K),x.removeWatches&&y.$on("$destroy",x.removeWatches));for(n in L){x=J[n];F=L[n];var W=x.$$bindings.bindToController;if(G){F.bindingInfo=W?qa(R,f,F.instance,W,x):{};var r=F();r!==F.instance&&(F.instance=r,fa.data("$"+x.name+"Controller",r),F.bindingInfo.removeWatches&&F.bindingInfo.removeWatches(),F.bindingInfo=qa(R,f,F.instance,W,x))}else F.instance=F(),fa.data("$"+x.name+"Controller",F.instance),F.bindingInfo=qa(R,f,F.instance,W,x)}p(J,function(a,
b){var c=a.require;a.bindToController&&!I(c)&&E(c)&&P(L[b].instance,X(b,c,fa,L))});p(L,function(a){var b=a.instance;if(A(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(A(b.$onInit))try{b.$onInit()}catch(e){c(e)}A(b.$doCheck)&&(R.$watch(function(){b.$doCheck()}),b.$doCheck());A(b.$onDestroy)&&R.$on("$destroy",function(){b.$onDestroy()})});n=0;for(x=h.length;n<x;n++)F=h[n],wa(F,F.isolateScope?y:e,fa,f,F.require&&X(F.directiveName,F.require,fa,L),z);var O=e;K&&(K.template||
null===K.templateUrl)&&(O=y);a&&a(O,g.childNodes,void 0,l);for(n=k.length-1;0<=n;n--)F=k[n],wa(F,F.isolateScope?y:e,fa,f,F.require&&X(F.directiveName,F.require,fa,L),z);p(L,function(a){a=a.instance;A(a.$postLink)&&a.$postLink()})}l=l||{};for(var n=-Number.MAX_VALUE,s=l.newScopeDirective,J=l.controllerDirectives,K=l.newIsolateScopeDirective,v=l.templateDirective,y=l.nonTlbTranscludeDirective,R=!1,L=!1,ta=l.hasElementTranscludeDirective,F=d.$$element=B(b),x,W,z,r=e,O,t=!1,Jb=!1,u,Da=0,C=a.length;Da<
C;Da++){x=a[Da];var Ua=x.$$start,D=x.$$end;Ua&&(F=pd(b,Ua,D));z=void 0;if(n>x.priority)break;if(u=x.scope)x.templateUrl||(E(u)?(aa("new/isolated scope",K||s,x,F),K=x):aa("new/isolated scope",K,x,F)),s=s||x;W=x.name;if(!t&&(x.replace&&(x.templateUrl||x.template)||x.transclude&&!x.$$tlb)){for(u=Da+1;t=a[u++];)if(t.transclude&&!t.$$tlb||t.replace&&(t.templateUrl||t.template)){Jb=!0;break}t=!0}!x.templateUrl&&x.controller&&(J=J||S(),aa("'"+W+"' controller",J[W],x,F),J[W]=x);if(u=x.transclude)if(R=!0,
x.$$tlb||(aa("transclusion",y,x,F),y=x),"element"===u)ta=!0,n=x.priority,z=F,F=d.$$element=B(ca.$$createComment(W,d[W])),b=F[0],la(g,ya.call(z,0),b),z[0].$$parentNode=z[0].parentNode,r=V(Jb,z,e,n,f&&f.name,{nonTlbTranscludeDirective:y});else{var na=S();if(E(u)){z=[];var Va=S(),Ma=S();p(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Va[a]=b;na[b]=null;Ma[b]=c});p(F.contents(),function(a){var b=Va[Ea(za(a))];b?(Ma[b]=!0,na[b]=na[b]||[],na[b].push(a)):z.push(a)});p(Ma,function(a,b){if(!a)throw ba("reqslot",
b);});for(var N in na)na[N]&&(na[N]=V(Jb,na[N],e))}else z=B(jc(b)).contents();F.empty();r=V(Jb,z,e,void 0,void 0,{needsNewScope:x.$$isolateScope||x.$$newScope});r.$$slots=na}if(x.template)if(L=!0,aa("template",v,x,F),v=x,u=A(x.template)?x.template(F,d):x.template,u=Ia(u),x.replace){f=x;z=gc.test(u)?qd(ja(x.templateNamespace,Q(u))):[];b=z[0];if(1!==z.length||1!==b.nodeType)throw ba("tplrt",W,"");la(g,F,b);C={$attr:{}};u=M(b,[],C);var nc=a.splice(Da+1,a.length-(Da+1));(K||s)&&Z(u,K,s);a=a.concat(u).concat(nc);
ea(d,C);C=a.length}else F.html(u);if(x.templateUrl)L=!0,aa("template",v,x,F),v=x,x.replace&&(f=x),q=ia(a.splice(Da,a.length-Da),F,d,g,R&&r,h,k,{controllerDirectives:J,newScopeDirective:s!==x&&s,newIsolateScopeDirective:K,templateDirective:v,nonTlbTranscludeDirective:y}),C=a.length;else if(x.compile)try{O=x.compile(F,d,r);var T=x.$$originalDirective||x;A(O)?m(null,Ra(T,O),Ua,D):O&&m(Ra(T,O.pre),Ra(T,O.post),Ua,D)}catch($){c($,Aa(F))}x.terminal&&(q.terminal=!0,n=Math.max(n,x.priority))}q.scope=s&&!0===
s.scope;q.transcludeOnThisElement=R;q.templateOnThisElement=L;q.transclude=r;l.hasElementTranscludeDirective=ta;return q}function X(a,b,c,d){var e;if(D(b)){var g=b.match(l);b=b.substring(g[0].length);var f=g[1]||g[3],g="?"===g[2];"^^"===f?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e=f?c.inheritedData(h):c.data(h)}if(!e&&!g)throw ba("ctreq",b,a);}else if(I(b))for(e=[],f=0,g=b.length;f<g;f++)e[f]=X(a,b[f],c,d);else E(b)&&(e={},p(b,function(b,g){e[g]=X(a,b,c,d)}));return e||
null}function da(a,b,c,d,e,g,f){var h=S(),k;for(k in d){var l=d[k],m={$scope:l===f||l.$$isolateScope?e:g,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"===n&&(n=b[l.name]);m=F(n,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}function Z(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Yb(a[d],{$$isolateScope:b,$$newScope:c})}function T(b,c,e,g,h,k,l){if(c===h)return null;var m=null;if(f.hasOwnProperty(c)){h=a.get(c+"Directive");for(var n=0,q=h.length;n<q;n++)if(c=
h[n],(w(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){k&&(c=Yb(c,{$$start:k,$$end:l}));if(!c.$$bindings){var s=m=c,H=c.name,J={isolateScope:null,bindToController:null};E(s.scope)&&(!0===s.bindToController?(J.bindToController=d(s.scope,H,!0),J.isolateScope={}):J.isolateScope=d(s.scope,H,!1));E(s.bindToController)&&(J.bindToController=d(s.bindToController,H,!0));if(J.bindToController&&!s.controller)throw ba("noctrl",H);m=m.$$bindings=J;E(m.isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c);
m=c}}return m}function $(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function ea(a,b){var c=b.$attr,d=a.$attr;p(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))});p(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ia(a,b,d,g,f,h,k,l){var m=[],n,q,s=b[0],J=a.shift(),x=Yb(J,{templateUrl:null,
transclude:null,replace:null,$$originalDirective:J}),G=A(J.templateUrl)?J.templateUrl(b,d):J.templateUrl,F=J.templateNamespace;b.empty();e(G).then(function(c){var e,H;c=Ia(c);if(J.replace){c=gc.test(c)?qd(ja(F,Q(c))):[];e=c[0];if(1!==c.length||1!==e.nodeType)throw ba("tplrt",J.name,G);c={$attr:{}};la(g,b,e);var K=M(e,[],c);E(J.scope)&&Z(K,!0);a=K.concat(a);ea(d,c)}else e=s,b.html(c);a.unshift(x);n=Y(a,e,d,f,b,J,h,k,l);p(g,function(a,c){a===e&&(g[c]=b[0])});for(q=Va(b[0].childNodes,f);m.length;){c=
m.shift();H=m.shift();var v=m.shift(),y=m.shift(),K=b[0];if(!c.$$destroyed){if(H!==s){var L=H.className;l.hasElementTranscludeDirective&&J.replace||(K=jc(e));la(v,B(H),K);na(B(K),L)}H=n.transcludeOnThisElement?Ma(c,n.transclude,y):y;n(q,c,K,g,H)}}m=null}).catch(function(a){$b(a)&&c(a)});return function(a,b,c,d,e){a=e;b.$$destroyed||(m?m.push(b,c,d,a):(n.transcludeOnThisElement&&(a=Ma(b,n.transclude,e)),n(q,b,c,d,a)))}}function ka(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<
b.name?-1:1:a.index-b.index}function aa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ba("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Aa(d));}function oa(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&ca.$$addBindingClass(a);return function(a,c){var e=c.parent();b||ca.$$addBindingClass(e);ca.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ja(a,b){a=N(a||"html");switch(a){case "svg":case "math":var c=
u.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function va(a,b){if("srcdoc"===b)return x.HTML;var c=za(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return x.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b||"link"===c&&"href"===b)return x.RESOURCE_URL}function xa(a,c,d,e,g){var f=va(a,e),k=h[e]||g,l=b(d,!g,f,k);if(l){if("multiple"===e&&"select"===za(a))throw ba("selmulti",
Aa(a));if(m.test(e))throw ba("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers=S());var h=g[e];h!==d&&(l=h&&b(h,!0,f,k),d=h);l&&(g[e]=l(a),(c[e]||(c[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(l,function(a,b){"class"===e&&a!==b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function la(a,b,c){var d=b[0],e=b.length,g=d.parentNode,f,h;if(a)for(f=0,h=a.length;f<h;f++)if(a[f]===d){a[f++]=c;h=f+e-1;for(var k=a.length;f<
k;f++,h++)h<k?a[f]=a[h]:delete a[f];a.length-=e-1;a.context===d&&(a.context=c);break}g&&g.replaceChild(c,d);a=u.document.createDocumentFragment();for(f=0;f<e;f++)a.appendChild(b[f]);B.hasData(d)&&(B.data(c,B.data(d)),B(d).off("$destroy"));B.cleanData(a.querySelectorAll("*"));for(f=1;f<e;f++)delete b[f];b[0]=c;b.length=1}function ua(a,b){return P(function(){return a.apply(null,arguments)},a,b)}function wa(a,b,d,e,g,f){try{a(b,d,e,g,f)}catch(h){c(h,Aa(d))}}function pa(a,b){if(L)throw ba("missingattr",
a,b);}function qa(a,c,d,e,g){function f(b,c,e){A(d.$onChanges)&&!ac(c,e)&&(ga||(a.$$postDigest(O),ga=[]),m||(m={},ga.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Kb(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;p(e,function(e,h){var m=e.attrName,q=e.optional,s,H,x,G;switch(e.mode){case "@":q||ra.call(c,m)||(pa(m,g.name),d[h]=c[m]=void 0);q=c.$observe(m,function(a){if(D(a)||Na(a))f(h,a,d[h]),d[h]=a});c.$$observers[m].$$scope=a;s=c[m];D(s)?d[h]=b(s)(a):Na(s)&&(d[h]=s);l[h]=new Kb(oc,
d[h]);k.push(q);break;case "=":if(!ra.call(c,m)){if(q)break;pa(m,g.name);c[m]=void 0}if(q&&!c[m])break;H=n(c[m]);G=H.literal?sa:ac;x=H.assign||function(){s=d[h]=H(a);throw ba("nonassign",c[m],m,g.name);};s=d[h]=H(a);q=function(b){G(b,d[h])||(G(b,s)?x(a,b=d[h]):d[h]=b);return s=b};q.$stateful=!0;q=e.collection?a.$watchCollection(c[m],q):a.$watch(n(c[m],q),null,H.literal);k.push(q);break;case "<":if(!ra.call(c,m)){if(q)break;pa(m,g.name);c[m]=void 0}if(q&&!c[m])break;H=n(c[m]);var F=H.literal,v=d[h]=
H(a);l[h]=new Kb(oc,d[h]);q=a.$watch(H,function(a,b){if(b===a){if(b===v||F&&sa(b,v))return;b=v}f(h,a,b);d[h]=a},F);k.push(q);break;case "&":q||ra.call(c,m)||pa(m,g.name);H=c.hasOwnProperty(m)?n(c[m]):C;if(H===C&&q)break;d[h]=function(b){return H(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var Ja=/^\w/,Ba=u.document.createElement("div"),Ka=v,La=s,Fa=z,ga;mc.prototype={$normalize:Ea,$addClass:function(a){a&&0<a.length&&W.addClass(this.$$element,
a)},$removeClass:function(a){a&&0<a.length&&W.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=rd(a,b);c&&c.length&&W.addClass(this.$$element,c);(c=rd(b,a))&&c.length&&W.removeClass(this.$$element,c)},$set:function(a,b,d,e){var g=kd(this.$$element[0],a),f=sd[a],h=a;g?(this.$$element.prop(a,b),e=g):f&&(this[f]=b,h=f);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Vc(a,"-"));g=za(this.$$element);if("a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=
b=r(b,"src"===a);else if("img"===g&&"srcset"===a&&t(b)){for(var g="",f=Q(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(f)?k:/(,)/,f=f.split(k),k=Math.floor(f.length/2),l=0;l<k;l++)var m=2*l,g=g+r(Q(f[m]),!0),g=g+(" "+Q(f[m+1]));f=Q(f[2*l]).split(/\s/);g+=r(Q(f[0]),!0);2===f.length&&(g+=" "+Q(f[1]));this[a]=b=g}!1!==d&&(null===b||w(b)?this.$$element.removeAttr(e):Ja.test(e)?this.$$element.attr(e,b):Ua(this.$$element[0],e,b));(a=this.$$observers)&&p(a[h],function(a){try{a(b)}catch(d){c(d)}})},
$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=S()),e=d[a]||(d[a]=[]);e.push(b);R.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||w(c[a])||b(c[a])});return function(){db(e,b)}}};var Ga=b.startSymbol(),Ha=b.endSymbol(),Ia="{{"===Ga&&"}}"===Ha?bb:function(a){return a.replace(/\{\{/g,Ga).replace(/}}/g,Ha)},Pa=/^ngAttr[A-Z]/,Qa=/^(.+)Start$/;ca.$$addBindingInfo=q?function(a,b){var c=a.data("$binding")||[];I(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:C;ca.$$addBindingClass=
q?function(a){na(a,"ng-binding")}:C;ca.$$addScopeInfo=q?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:C;ca.$$addScopeClass=q?function(a,b){na(a,b?"ng-isolate-scope":"ng-scope")}:C;ca.$$createComment=function(a,b){var c="";q&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return u.document.createComment(c)};return ca}]}function Kb(a,b){this.previousValue=a;this.currentValue=b}function Ea(a){return a.replace(od,"").replace(tg,jb)}function rd(a,b){var d="",c=a.split(/\s+/),
e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],k=0;k<e.length;k++)if(g===e[k])continue a;d+=(0<d.length?" ":"")+g}return d}function qd(a){a=B(a);var b=a.length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Oa&&""===d.nodeValue.trim())&&ug.call(a,b,1)}return a}function sg(a,b){if(b&&D(b))return b;if(D(a)){var d=td.exec(a);if(d)return d[3]}}function yf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Ia(b,"controller");E(b)?
P(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!E(a.$scope))throw M("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,k,h){var l,m,n;k=!0===k;h&&D(h)&&(n=h);if(D(f)){h=f.match(td);if(!h)throw ud("ctrlfmt",f);m=h[1];n=n||h[3];f=a.hasOwnProperty(m)?a[m]:Xc(g.$scope,m,!0)||(b?Xc(c,m,!0):void 0);if(!f)throw ud("ctrlreg",m);ub(f,m,!0)}if(k)return k=(I(f)?f[f.length-1]:f).prototype,l=Object.create(k||null),n&&e(g,n,
l,m||f.name),P(function(){var a=d.invoke(f,l,g,m);a!==l&&(E(a)||A(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function zf(){this.$get=["$window",function(a){return B(a.document)}]}function Af(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function Bf(){this.$get=
["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function pc(a){return E(a)?ea(a)?a.toISOString():fb(a):a}function Gf(){this.$get=function(){return function(a){if(!a)return"";var b=[];Nc(a,function(a,c){null===a||w(a)||A(a)||(I(a)?p(a,function(a){b.push(ia(c)+"="+ia(pc(a)))}):b.push(ia(c)+"="+ia(pc(a))))});return b.join("&")}}}function Hf(){this.$get=function(){return function(a){function b(a,e,f){null===a||w(a)||(I(a)?p(a,function(a,c){b(a,e+"["+(E(a)?c:"")+"]")}):E(a)&&!ea(a)?
Nc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ia(e)+"="+ia(pc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function qc(a,b){if(D(a)){var d=a.replace(vg,"").trim();if(d){var c=b("Content-Type"),c=c&&0===c.indexOf(vd),e;(e=c)||(e=(e=d.match(wg))&&xg[e[0]].test(d));if(e)try{a=Qc(d)}catch(f){if(!c)return a;throw rc("baddata",a,f);}}}return a}function wd(a){var b=S(),d;D(a)?p(a.split("\n"),function(a){d=a.indexOf(":");var e=N(Q(a.substr(0,d)));a=Q(a.substr(d+1));e&&(b[e]=
b[e]?b[e]+", "+a:a)}):E(a)&&p(a,function(a,d){var f=N(d),g=Q(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function xd(a){var b;return function(d){b||(b=wd(a));return d?(d=b[N(d)],void 0===d&&(d=null),d):b}}function yd(a,b,d,c){if(A(c))return c(a,b,d);p(c,function(c){a=c(a,b,d)});return a}function Ff(){var a=this.defaults={transformResponse:[qc],transformRequest:[function(a){return E(a)&&"[object File]"!==ha.call(a)&&"[object Blob]"!==ha.call(a)&&"[object FormData]"!==ha.call(a)?fb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},
post:ja(sc),put:ja(sc),patch:ja(sc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return t(a)?(b=!!a,this):b};var d=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(c,e,f,g,k,h,l,m){function n(b){function d(a,b){for(var c=0,e=b.length;c<e;){var g=b[c++],f=b[c++];a=a.then(g,f)}b.length=0;return a}
function e(a,b){var c,d={};p(a,function(a,e){A(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}function g(a){var b=P({},a);b.data=yd(a.data,a.headers,a.status,f.transformResponse);a=a.status;return 200<=a&&300>a?b:h.reject(b)}if(!E(b))throw M("$http")("badreq",b);if(!D(m.valueOf(b.url)))throw M("$http")("badreq",b.url);var f=P({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);f.headers=
function(b){var c=a.headers,d=P({},b.headers),g,f,h,c=P({},c.common,c[N(b.method)]);a:for(g in c){f=N(g);for(h in d)if(N(h)===f)continue a;d[g]=c[g]}return e(d,ja(b))}(b);f.method=wb(f.method);f.paramSerializer=D(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;c.$$incOutstandingRequestCount();var k=[],n=[];b=h.resolve(f);p(v,function(a){(a.request||a.requestError)&&k.unshift(a.request,a.requestError);(a.response||a.responseError)&&n.push(a.response,a.responseError)});b=d(b,k);b=b.then(function(b){var c=
b.headers,d=yd(b.data,xd(c),void 0,b.transformRequest);w(d)&&p(c,function(a,b){"content-type"===N(b)&&delete c[b]});w(b.withCredentials)&&!w(a.withCredentials)&&(b.withCredentials=a.withCredentials);return q(b,d).then(g,g)});b=d(b,n);return b=b.finally(function(){c.$$completeOutstandingRequest(C)})}function q(c,d){function g(a){if(a){var c={};p(a,function(a,d){c[d]=function(c){function d(){a(c)}b?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}});return c}}function l(a,c,d,e,g){function f(){q(c,a,d,e,
g)}R&&(200<=a&&300>a?R.put(O,[a,c,wd(d),e,g]):R.remove(O));b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function q(a,b,d,e,g){b=-1<=b?b:0;(200<=b&&300>b?K.resolve:K.reject)({data:a,status:b,headers:xd(d),config:c,statusText:e,xhrStatus:g})}function H(a){q(a.data,a.status,ja(a.headers()),a.statusText,a.xhrStatus)}function v(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var K=h.defer(),F=K.promise,R,x,W=c.headers,r="jsonp"===N(c.method),O=c.url;r?O=m.getTrustedResourceUrl(O):
D(O)||(O=m.valueOf(O));O=G(O,c.paramSerializer(c.params));r&&(O=L(O,c.jsonpCallbackParam));n.pendingRequests.push(c);F.then(v,v);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(R=E(c.cache)?c.cache:E(a.cache)?a.cache:z);R&&(x=R.get(O),t(x)?x&&A(x.then)?x.then(H,H):I(x)?q(x[1],x[0],ja(x[2]),x[3],x[4]):q(x,200,{},"OK","complete"):R.put(O,F));w(x)&&((x=zd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(W[c.xsrfHeaderName||a.xsrfHeaderName]=x),e(c.method,O,d,l,W,c.timeout,
c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers)));return F}function G(a,b){0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}function L(a,b){if(/[&?][^=]+=JSON_CALLBACK/.test(a))throw rc("badjsonp",a);if((new RegExp("[&?]"+b+"=")).test(a))throw rc("badjsonp",b,a);return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var z=g("$http");a.paramSerializer=D(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var v=[];p(d,function(a){v.unshift(D(a)?l.get(a):
l.invoke(a))});n.pendingRequests=[];(function(a){p(arguments,function(a){n[a]=function(b,c){return n(P({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){p(arguments,function(a){n[a]=function(b,c,d){return n(P({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");n.defaults=a;return n}]}function Jf(){this.$get=function(){return function(){return new u.XMLHttpRequest}}}function If(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return yg(a,
c,a.defer,b,d[0])}]}function yg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m);f.removeEventListener("error",m);e.body.removeChild(f);f=null;var g=-1,G="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),G=a.type,g="error"===a.type?404:200);d&&d(g,G)};f.addEventListener("load",m);f.addEventListener("error",m);e.body.appendChild(f);return m}return function(e,
k,h,l,m,n,q,G,L,z){function v(){ma&&ma();y&&y.abort()}function s(a,b,c,e,g,f){t(H)&&d.cancel(H);ma=y=null;a(b,c,e,g,f)}k=k||a.url();if("jsonp"===N(e))var r=c.createCallback(k),ma=f(k,r,function(a,b){var d=200===a&&c.getResponse(r);s(l,a,d,"",b,"complete");c.removeCallback(r)});else{var y=b(e,k);y.open(e,k,!0);p(m,function(a,b){t(a)&&y.setRequestHeader(b,a)});y.onload=function(){var a=y.statusText||"",b="response"in y?y.response:y.responseText,c=1223===y.status?204:y.status;0===c&&(c=b?200:"file"===
ua(k).protocol?404:0);s(l,c,b,y.getAllResponseHeaders(),a,"complete")};y.onerror=function(){s(l,-1,null,null,"","error")};y.onabort=function(){s(l,-1,null,null,"","abort")};y.ontimeout=function(){s(l,-1,null,null,"","timeout")};p(L,function(a,b){y.addEventListener(b,a)});p(z,function(a,b){y.upload.addEventListener(b,a)});q&&(y.withCredentials=!0);if(G)try{y.responseType=G}catch(J){if("json"!==G)throw J;}y.send(w(h)?null:h)}if(0<n)var H=d(v,n);else n&&A(n.then)&&n.then(v)}}function Df(){var a="{{",
b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(q,b)}function k(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function h(f,h,q,n){function s(a){try{var b=a;a=q?e.getTrusted(q,b):e.valueOf(b);return n&&!t(a)?a:dc(a)}catch(d){c(Fa.interr(f,d))}}if(!f.length||-1===f.indexOf(a)){var p;
h||(h=g(f),p=ka(h),p.exp=f,p.expressions=[],p.$$watchDelegate=k);return p}n=!!n;var r,y,J=0,H=[],ta=[];p=f.length;for(var K=[],F=[];J<p;)if(-1!==(r=f.indexOf(a,J))&&-1!==(y=f.indexOf(b,r+l)))J!==r&&K.push(g(f.substring(J,r))),J=f.substring(r+l,y),H.push(J),ta.push(d(J,s)),J=y+m,F.push(K.length),K.push("");else{J!==p&&K.push(g(f.substring(J)));break}q&&1<K.length&&Fa.throwNoconcat(f);if(!h||H.length){var R=function(a){for(var b=0,c=H.length;b<c;b++){if(n&&w(a[b]))return;K[F[b]]=a[b]}return K.join("")};
return P(function(a){var b=0,d=H.length,e=Array(d);try{for(;b<d;b++)e[b]=ta[b](a);return R(e)}catch(g){c(Fa.interr(f,g))}},{exp:f,expressions:H,$$watchDelegate:function(a,b){var c;return a.$watchGroup(ta,function(d,e){var g=R(d);A(b)&&b.call(this,g,d!==e?c:g,a);c=g})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),q=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function Ef(){this.$get=["$rootScope","$window","$q",
"$$q","$browser",function(a,b,d,c,e){function f(f,h,l,m){function n(){q?f.apply(null,G):f(v)}var q=4<arguments.length,G=q?ya.call(arguments,4):[],L=b.setInterval,p=b.clearInterval,v=0,s=t(m)&&!m,r=(s?c:d).defer(),ma=r.promise;l=t(l)?l:0;ma.$$intervalId=L(function(){s?e.defer(n):a.$evalAsync(n);r.notify(v++);0<l&&v>=l&&(r.resolve(v),p(ma.$$intervalId),delete g[ma.$$intervalId]);s||a.$apply()},h);g[ma.$$intervalId]=r;return ma}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].promise.$$state.pur=
!0,g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};return f}]}function tc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=gb(a[b]);return a.join("/")}function Ad(a,b){var d=ua(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=Z(d.port)||zg[d.protocol]||null}function Bd(a,b){if(Ag.test(a))throw mb("badpath",a);var d="/"!==a.charAt(0);d&&(a="/"+a);var c=ua(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):
c.pathname);b.$$search=Tc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function uc(a,b){return a.slice(0,b.length)===b}function va(a,b){if(uc(b,a))return b.substr(a.length)}function La(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function nb(a){return a.replace(/(#.+)|#$/,"$1")}function vc(a,b,d){this.$$html5=!0;d=d||"";Ad(a,this);this.$$parse=function(a){var d=va(b,a);if(!D(d))throw mb("ipthprfx",a,b);Bd(d,this);this.$$path||(this.$$path=
"/");this.$$compose()};this.$$compose=function(){var a=cc(this.$$search),d=this.$$hash?"#"+gb(this.$$hash):"";this.$$url=tc(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+this.$$url.substr(1);this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;t(f=va(a,c))?(g=f,g=d&&t(f=va(d,f))?b+(va("/",f)||f):a+g):t(f=va(b,c))?g=b+f:b===c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function wc(a,b,d){Ad(a,this);this.$$parse=function(c){var e=va(a,
c)||va(b,c),f;w(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",w(e)&&(a=c,this.replace())):(f=va(d,e),w(f)&&(f=e));Bd(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;uc(f,e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=cc(this.$$search),e=this.$$hash?"#"+gb(this.$$hash):"";this.$$url=tc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"");this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(b,d){return La(a)===
La(b)?(this.$$parse(b),!0):!1}}function Cd(a,b,d){this.$$html5=!0;wc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a===La(c)?f=c:(g=va(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=cc(this.$$search),e=this.$$hash?"#"+gb(this.$$hash):"";this.$$url=tc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url;this.$$urlUpdatedByLocation=!0}}function Lb(a){return function(){return this[a]}}
function Dd(a,b){return function(d){if(w(d))return this[a];this[a]=b(d);this.$$compose();return this}}function Lf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return t(b)?(a=b,this):a};this.html5Mode=function(a){if(Na(a))return b.enabled=a,this;if(E(a)){Na(a.enabled)&&(b.enabled=a.enabled);Na(a.requireBase)&&(b.requireBase=a.requireBase);if(Na(a.rewriteLinks)||D(a.rewriteLinks))b.rewriteLinks=a.rewriteLinks;return this}return b};this.$get=["$rootScope","$browser",
"$sniffer","$rootElement","$window",function(d,c,e,f,g){function k(a,b,d){var e=l.url(),g=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(f){throw l.url(e),l.$$state=g,f;}}function h(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var n=c.url(),q;if(b.enabled){if(!m&&b.requireBase)throw mb("nobase");q=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/");m=e.history?vc:Cd}else q=La(n),m=wc;var G=q.substr(0,La(q).lastIndexOf("/")+1);l=new m(q,G,"#"+
a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var h=B(a.target);"a"!==za(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!D(e)||!w(h.attr(e))){var e=h.prop("href"),k=h.attr("href")||h.attr("xlink:href");E(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=ua(e.animVal).href);p.test(e)||!e||h.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(e,
k)||(a.preventDefault(),l.absUrl()!==c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}});nb(l.absUrl())!==nb(n)&&c.url(l.absUrl(),!0);var z=!0;c.onUrlChange(function(a,b){uc(a,G)?(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,g;a=nb(a);l.$$parse(a);l.$$state=b;g=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(g?(l.$$parse(c),l.$$state=e,k(c,!1,e)):(z=!1,h(c,e)))}),d.$$phase||d.$digest()):g.location.href=a});d.$watch(function(){if(z||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=
!1;var a=nb(c.url()),b=nb(l.absUrl()),g=c.state(),f=l.$$replace,m=a!==b||l.$$html5&&e.history&&g!==l.$$state;if(z||m)z=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,g).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=g):(m&&k(b,f,g===l.$$state?null:l.$$state),h(a,g)))})}l.$$replace=!1});return l}]}function Mf(){var a=!0,b=this;this.debugEnabled=function(b){return t(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){$b(a)&&(a.stack&&
f?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||C;return function(){var a=[];p(arguments,function(b){a.push(c(b))});return Function.prototype.apply.call(e,b,a)}}var f=Ca||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,
arguments)}}()}}]}function Bg(a){return a+""}function Cg(a,b){return"undefined"!==typeof a?a:b}function Ed(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function Dg(a,b){switch(a.type){case r.MemberExpression:if(a.computed)return!1;break;case r.UnaryExpression:return 1;case r.BinaryExpression:return"+"!==a.operator?1:!1;case r.CallExpression:return!1}return void 0===b?Fd:b}function V(a,b,d){var c,e,f=a.isPure=Dg(a,d);switch(a.type){case r.Program:c=!0;p(a.body,function(a){V(a.expression,
b,f);c=c&&a.expression.constant});a.constant=c;break;case r.Literal:a.constant=!0;a.toWatch=[];break;case r.UnaryExpression:V(a.argument,b,f);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case r.BinaryExpression:V(a.left,b,f);V(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case r.LogicalExpression:V(a.left,b,f);V(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case r.ConditionalExpression:V(a.test,
b,f);V(a.alternate,b,f);V(a.consequent,b,f);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case r.Identifier:a.constant=!1;a.toWatch=[a];break;case r.MemberExpression:V(a.object,b,f);a.computed&&V(a.property,b,f);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=a.constant?[]:[a];break;case r.CallExpression:c=d=a.filter?!b(a.callee.name).$stateful:!1;e=[];p(a.arguments,function(a){V(a,b,f);c=c&&a.constant;e.push.apply(e,
a.toWatch)});a.constant=c;a.toWatch=d?e:[a];break;case r.AssignmentExpression:V(a.left,b,f);V(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case r.ArrayExpression:c=!0;e=[];p(a.elements,function(a){V(a,b,f);c=c&&a.constant;e.push.apply(e,a.toWatch)});a.constant=c;a.toWatch=e;break;case r.ObjectExpression:c=!0;e=[];p(a.properties,function(a){V(a.value,b,f);c=c&&a.value.constant;e.push.apply(e,a.value.toWatch);a.computed&&(V(a.key,b,!1),c=c&&a.key.constant,e.push.apply(e,
a.key.toWatch))});a.constant=c;a.toWatch=e;break;case r.ThisExpression:a.constant=!1;a.toWatch=[];break;case r.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Gd(a){if(1===a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Hd(a){return a.type===r.Identifier||a.type===r.MemberExpression}function Id(a){if(1===a.body.length&&Hd(a.body[0].expression))return{type:r.AssignmentExpression,left:a.body[0].expression,right:{type:r.NGValueParameter},operator:"="}}
function Jd(a){this.$filter=a}function Kd(a){this.$filter=a}function xc(a,b,d){this.ast=new r(a,d);this.astCompiler=d.csp?new Kd(b):new Jd(b)}function yc(a){return A(a.valueOf)?a.valueOf():Eg.call(a)}function Nf(){var a=S(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=function(a,c){b[a]=c};this.setIdentifierFns=function(a,b){d=a;c=b;return this};this.$get=["$filter",function(e){function f(a,b,c){return null==a||null==b?a===b:"object"!==typeof a||(a=yc(a),"object"!==typeof a||
c)?a===b||a!==a&&b!==b:!1}function g(a,b,c,d,e){var g=d.inputs,h;if(1===g.length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);f(b,k,g.isPure)||(h=d(a,void 0,void 0,[b]),k=b&&yc(b));return h},b,c,e)}for(var l=[],m=[],n=0,p=g.length;n<p;n++)l[n]=f,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);if(b||(b=!f(k,l[c],g[c].isPure)))m[c]=k,l[c]=k&&yc(k)}b&&(h=d(a,void 0,void 0,m));return h},b,c,e)}function k(a,b,c,d,e){function f(a){return d(a)}function h(a,
c,d){l=a;A(b)&&b(a,c,d);t(a)&&d.$$postDigest(function(){t(l)&&k()})}var k,l;return k=d.inputs?g(a,h,c,d,e):a.$watch(f,h,c)}function h(a,b,c,d){function e(a){var b=!0;p(a,function(a){t(a)||(b=!1)});return b}var g,f;return g=a.$watch(function(a){return d(a)},function(a,c,d){f=a;A(b)&&b(a,c,d);e(a)&&d.$$postDigest(function(){e(f)&&g()})},c)}function l(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==h&&c!==k?function(c,
e,g,f){g=d&&f?f[0]:a(c,e,g,f);return b(g,c,e)}:function(c,d,e,g){e=a(c,d,e,g);c=b(e,c,d);return t(e)?c:e},d=!a.inputs;c&&c!==g?(e.$$watchDelegate=c,e.inputs=a.inputs):b.$stateful||(e.$$watchDelegate=g,e.inputs=a.inputs?a.inputs:[a]);e.inputs&&(e.inputs=e.inputs.map(function(a){return a.isPure===Fd?function(b){return a(b)}:a}));return e}var n={csp:Ja().noUnsafeEval,literals:pa(b),isIdentifierStart:A(d)&&d,isIdentifierContinue:A(c)&&c};return function(b,c){var d,f,p;switch(typeof b){case "string":return p=
b=b.trim(),d=a[p],d||(":"===b.charAt(0)&&":"===b.charAt(1)&&(f=!0,b=b.substring(2)),d=new zc(n),d=(new xc(d,e,n)).parse(b),d.constant?d.$$watchDelegate=l:f?d.$$watchDelegate=d.literal?h:k:d.inputs&&(d.$$watchDelegate=g),a[p]=d),m(d,c);case "function":return m(b,c);default:return m(C,c)}}}]}function Pf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Ld(function(a){b.$evalAsync(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return t(b)?(a=b,this):a}}function Qf(){var a=
!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Ld(function(a){b.defer(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return t(b)?(a=b,this):a}}function Ld(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){h(a,b)};this.reject=function(b){m(a,b)};this.notify=function(b){q(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!t&&u.length;){var a=u.shift();if(!a.pur){a.pur=!0;var c=a.value,c="Possibly unhandled rejection: "+
("function"===typeof c?c.toString().replace(/ \{[\s\S]*$/,""):w(c)?"undefined":"string"!==typeof c?De(c,void 0):c);$b(a.value)?b(a.value,c):b(c)}}}function k(b){!d||b.pending||2!==b.status||b.pur||(0===t&&0===u.length&&a(g),u.push(b));!b.processScheduled&&b.pending&&(b.processScheduled=!0,++t,a(function(){var c,e,f;f=b.pending;b.processScheduled=!1;b.pending=void 0;try{for(var k=0,l=f.length;k<l;++k){b.pur=!0;e=f[k][0];c=f[k][b.status];try{A(c)?h(e,c(b.value)):1===b.status?h(e,b.value):m(e,b.value)}catch(n){m(e,
n)}}}finally{--t,d&&0===t&&a(g)}}))}function h(a,b){a.$$state.status||(b===a?n(a,s("qcycle",b)):l(a,b))}function l(a,b){function c(b){f||(f=!0,l(a,b))}function d(b){f||(f=!0,n(a,b))}function e(b){q(a,b)}var g,f=!1;try{if(E(b)||A(b))g=b.then;A(g)?(a.$$state.status=-1,g.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,k(a.$$state))}catch(h){d(h)}}function m(a,b){a.$$state.status||n(a,b)}function n(a,b){a.$$state.value=b;a.$$state.status=2;k(a.$$state)}function q(c,d){var e=c.$$state.pending;0>=
c.$$state.status&&e&&e.length&&a(function(){for(var a,c,g=0,f=e.length;g<f;g++){c=e[g][0];a=e[g][3];try{q(c,A(a)?a(d):d)}catch(h){b(h)}}})}function G(a){var b=new f;m(b,a);return b}function r(a,b,c){var d=null;try{A(c)&&(d=c())}catch(e){return G(e)}return d&&A(d.then)?d.then(function(){return b(a)},G):b(a)}function z(a,b,c,d){var e=new f;h(e,a);return e.then(b,c,d)}function v(a){if(!A(a))throw s("norslvr",a);var b=new f;a(function(a){h(b,a)},function(a){m(b,a)});return b}var s=M("$q",TypeError),t=
0,u=[];P(f.prototype,{then:function(a,b,c){if(w(a)&&w(b)&&w(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&k(this.$$state);return d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return r(b,y,a)},function(b){return r(b,G,a)},b)}});var y=z;v.prototype=f.prototype;v.defer=c;v.reject=G;v.when=z;v.resolve=y;v.all=function(a){var b=new f,c=0,d=I(a)?[]:{};p(a,function(a,
e){c++;z(a).then(function(a){d[e]=a;--c||h(b,d)},function(a){m(b,a)})});0===c&&h(b,d);return b};v.race=function(a){var b=c();p(a,function(a){z(a).then(b.resolve,b.reject)});return b.promise};return v}function Zf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);
return function(){b.cancel(c)}};f.supported=e;return f}]}function Of(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++sb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=M("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(a){a.currentScope.$$destroyed=
!0}function l(a){9===Ca&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++sb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function n(a){if(s.$$phase)throw d("inprog",
s.$$phase);s.$$phase=a}function q(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function G(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function r(){}function z(){for(;y.length;)try{y.shift()()}catch(a){f(a)}e=null}function v(){null===e&&(e=k.defer(function(){s.$apply(z)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);
d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!==this)&&d.$on("$destroy",h);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:r,get:f,exp:e||a,eq:!!d};c=null;A(b)||(l.fn=C);k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1);k.unshift(l);k.$$digestWatchIndex++;q(this,1);return function(){var a=db(k,l);0<=a&&(q(h,-1),
a<k.$$digestWatchIndex&&k.$$digestWatchIndex--);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,f)):b(e,d,f)}var d=Array(a.length),e=Array(a.length),g=[],f=this,h=!1,k=!0;if(!a.length){var l=!0;f.$evalAsync(function(){l&&b(e,e,f)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,g){e[0]=a;d[0]=c;b(e,a===c?e:d,g)});p(a,function(a,b){var k=f.$watch(a,function(a,g){e[b]=a;d[b]=g;h||(h=!0,f.$evalAsync(c))});g.push(k)});return function(){for(;g.length;)g.shift()()}},
$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!w(e)){if(E(e))if(xa(e))for(f!==n&&(f=n,p=f.length=0,l++),a=e.length,p!==a&&(l++,f.length=p=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==q&&(f=q={},p=0,l++);a=0;for(b in e)ra.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(p++,f[b]=g,l++));if(p>a)for(b in l++,f)ra.call(e,b)||(p--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=
g(a,c),n=[],q={},s=!0,p=0;return this.$watch(m,function(){s?(s=!1,b(e,e,d)):b(e,h,d);if(k)if(E(e))if(xa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ra.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,h,l,m,q,p,G=b,y,v=[],w,B;n("$digest");k.$$checkUrlChange();this===s&&null!==e&&(k.defer.cancel(e),z());c=null;do{p=!1;y=this;for(q=0;q<t.length;q++){try{B=t[q],l=B.fn,l(B.scope,B.locals)}catch(C){f(C)}c=null}t.length=0;a:do{if(q=y.$$watchers)for(q.$$digestWatchIndex=
q.length;q.$$digestWatchIndex--;)try{if(a=q[q.$$digestWatchIndex])if(m=a.get,(g=m(y))!==(h=a.last)&&!(a.eq?sa(g,h):T(g)&&T(h)))p=!0,c=a,a.last=a.eq?pa(g,null):g,l=a.fn,l(g,h===r?g:h,y),5>G&&(w=4-G,v[w]||(v[w]=[]),v[w].push({msg:A(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:h}));else if(a===c){p=!1;break a}}catch(E){f(E)}if(!(q=y.$$watchersCount&&y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(q=y.$$nextSibling);)y=y.$parent}while(y=q);if((p||t.length)&&!G--)throw s.$$phase=
null,d("infdig",b,v);}while(p||t.length);for(s.$$phase=null;J<u.length;)try{u[J++]()}catch(D){f(D)}u.length=J=0;k.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===s&&k.$$applicationDestroyed();q(this,-this.$$watchersCount);for(var b in this.$$listenerCount)G(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&
(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=C;this.$on=this.$watch=this.$watchGroup=function(){return C};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){s.$$phase||t.length||k.defer(function(){t.length&&s.$digest()});t.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){u.push(a)},
$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{s.$$phase=null}}catch(b){f(b)}finally{try{s.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&y.push(b);a=g(a);v()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,G(e,1,a))}},$emit:function(a,
b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=eb([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=
!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=eb([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var s=new m,t=s.$$asyncQueue=[],u=s.$$postDigestQueue=[],y=s.$$applyAsyncQueue=[],J=0;return s}]}function Ge(){var a=
/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return t(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return t(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=ua(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function Fg(a){if("self"===a)return a;if(D(a)){if(-1<a.indexOf("***"))throw wa("iwcard",a);a=Md(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+
a+"$")}if(ab(a))return new RegExp("^"+a.source+"$");throw wa("imatcher");}function Nd(a){var b=[];t(a)&&p(a,function(a){b.push(Fg(a))});return b}function Sf(){this.SCE_CONTEXTS=oa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=Nd(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=Nd(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?zd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=
function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw wa("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),k={};k[oa.HTML]=e(g);k[oa.CSS]=e(g);k[oa.URL]=e(g);k[oa.JS]=e(g);k[oa.RESOURCE_URL]=e(k[oa.URL]);return{trustAs:function(a,b){var c=k.hasOwnProperty(a)?k[a]:null;if(!c)throw wa("icontext",a,b);if(null===b||w(b)||
""===b)return b;if("string"!==typeof b)throw wa("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||w(e)||""===e)return e;var g=k.hasOwnProperty(d)?k[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===oa.RESOURCE_URL){var g=ua(e.toString()),n,q,p=!1;n=0;for(q=a.length;n<q;n++)if(c(a[n],g)){p=!0;break}if(p)for(n=0,q=b.length;n<q;n++)if(c(b[n],g)){p=!1;break}if(p)return e;throw wa("insecurl",e.toString());}if(d===oa.HTML)return f(e);throw wa("unsafe");},valueOf:function(a){return a instanceof
g?a.$$unwrapTrustedValue():a}}}]}function Rf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Ca)throw wa("iequirks");var c=ja(oa);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=bb);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,
f=c.getTrusted,g=c.trustAs;p(oa,function(a,b){var d=N(b);c[("parse_as_"+d).replace(Ac,jb)]=function(b){return e(a,b)};c[("get_trusted_"+d).replace(Ac,jb)]=function(b){return f(a,b)};c[("trust_as_"+d).replace(Ac,jb)]=function(b){return g(a,b)}});return c}]}function Tf(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=Z((/android (\d+)/.exec(N((a.navigator||
{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=g.body&&g.body.style,h=!1,l=!1;k&&(h=!!("transition"in k||"webkitTransition"in k),l=!!("animation"in k||"webkitAnimation"in k));return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&Ca)return!1;if(w(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ja(),transitions:h,animations:l,android:e}}]}function Vf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler",
"$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++;if(!D(k)||w(d.get(k)))k=f.getTrustedResourceUrl(k);var l=c.defaults&&c.defaults.transformResponse;I(l)?l=l.filter(function(a){return a!==qc}):l===qc&&(l=null);return c.get(k,P({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){d.put(k,a.data);return a.data},function(a){h||(a=Gg("tpload",k,a.status,a.statusText),b(a));return e.reject(a)})}g.totalPendingRequests=
0;return g}]}function Wf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];p(a,function(a){var c=$.element(a).data("$binding");c&&p(c,function(c){d?(new RegExp("(^|\\s)"+Md(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],k=0;k<g.length;++k){var h=a.querySelectorAll("["+g[k]+"model"+(d?"=":"*=")+'"'+b+'"]');
if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Xf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,h,l){A(f)||(l=h,h=f,f=C);var m=ya.call(arguments,3),n=t(l)&&!l,q=(n?c:d).defer(),p=q.promise,r;r=b.defer(function(){try{q.resolve(f.apply(null,m))}catch(b){q.reject(b),e(b)}finally{delete g[p.$$timeoutId]}n||
a.$apply()},h);p.$$timeoutId=r;g[r]=q;return p}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].promise.$$state.pur=!0,g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function ua(a){Ca&&(X.setAttribute("href",a),a=X.href);X.setAttribute("href",a);return{href:X.href,protocol:X.protocol?X.protocol.replace(/:$/,""):"",host:X.host,search:X.search?X.search.replace(/^\?/,""):"",hash:X.hash?X.hash.replace(/^#/,""):"",hostname:X.hostname,
port:X.port,pathname:"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname}}function zd(a){a=D(a)?ua(a):a;return a.protocol===Od.protocol&&a.host===Od.host}function Yf(){this.$get=ka(u)}function Pd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,k,h,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},k=0;k<a.length;k++)g=a[k],h=g.indexOf("="),0<h&&(l=b(g.substring(0,h)),w(c[l])&&(c[l]=b(g.substring(h+1))));
return c}}function bg(){this.$get=Pd}function ed(a){function b(d,c){if(E(d)){var e={};p(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Qd);b("date",Rd);b("filter",Hg);b("json",Ig);b("limitTo",Jg);b("lowercase",Kg);b("number",Sd);b("orderBy",Td);b("uppercase",Lg)}function Hg(){return function(a,b,d,c){if(!xa(a)){if(null==a)return a;throw M("filter")("notarray",a);}c=
c||"$";var e;switch(Bc(b)){case "function":break;case "boolean":case "null":case "number":case "string":e=!0;case "object":b=Mg(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Mg(a,b,d,c){var e=E(a)&&d in a;!0===b?b=sa:A(b)||(b=function(a,b){if(w(a))return!1;if(null===a||null===b)return a===b;if(E(b)||E(a)&&!Zb(a))return!1;a=N(""+a);b=N(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!E(f)?ga(f,a[d],b,d,!1):ga(f,a,b,d,c)}}function ga(a,b,d,c,e,f){var g=
Bc(a),k=Bc(b);if("string"===k&&"!"===b.charAt(0))return!ga(a,b.substring(1),d,c,e);if(I(a))return a.some(function(a){return ga(a,b,d,c,e)});switch(g){case "object":var h;if(e){for(h in a)if(h.charAt&&"$"!==h.charAt(0)&&ga(a[h],b,d,c,!0))return!0;return f?!1:ga(a,b,d,c,!1)}if("object"===k){for(h in b)if(f=b[h],!A(f)&&!w(f)&&(g=h===c,!ga(g?a:a[h],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function Bc(a){return null===a?"null":typeof a}function Qd(a){var b=
a.NUMBER_FORMATS;return function(a,c,e){w(c)&&(c=b.CURRENCY_SYM);w(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Ud(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Sd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Ud(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Ng(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Vd))&&(a=a.replace(Vd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)===Cc;e++);
if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===Cc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Wd&&(d=d.splice(0,Wd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function Og(a,b,d,c){var e=a.d,f=e.length-a.i;b=w(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-
1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Ud(a,b,d,c,e){if(!D(a)&&!Y(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,k=Math.abs(a)+"",h="";if(f)h="\u221e";else{g=Ng(k);Og(g,e,b.minFrac,b.maxFrac);h=g.d;k=g.i;e=g.e;f=[];for(g=h.reduce(function(a,b){return a&&!b},!0);0>k;)h.unshift(0),k++;0<k?f=h.splice(k,h.length):(f=h,h=[0]);k=[];for(h.length>=b.lgSize&&k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length>
b.gSize;)k.unshift(h.splice(-b.gSize,h.length).join(""));h.length&&k.unshift(h.join(""));h=k.join(d);f.length&&(h+=c+f.join(""));e&&(h+="e+"+e)}return 0>a&&!g?b.negPre+h+b.negSuf:b.posPre+h+b.posSuf}function Mb(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=Cc+a;d&&(a=a.substr(a.length-b));return e+a}function da(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12===d&&(f=12);return Mb(f,b,c,e)}}function ob(a,b,d){return function(c,e){var f=
c["get"+a](),g=wb((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Xd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Yd(a){return function(b){var d=Xd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Mb(b,a)}}function Dc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Rd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,k=b[8]?a.setUTCFullYear:a.setFullYear,
h=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11]));k.call(a,Z(b[1]),Z(b[2])-1,Z(b[3]));f=Z(b[4]||0)-f;g=Z(b[5]||0)-g;k=Z(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));h.call(a,f,g,k,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",k=[],h,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;D(c)&&(c=Pg.test(c)?Z(c):b(c));Y(c)&&(c=new Date(c));if(!ea(c)||!isFinite(c.getTime()))return c;
for(;d;)(l=Qg.exec(d))?(k=eb(k,l,1),d=k.pop()):(k.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=Rc(f,m),c=bc(c,f,!0));p(k,function(b){h=Rg[b];g+=h?h(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ig(){return function(a,b){w(b)&&(b=2);return fb(a,b)}}function Jg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):Z(b);if(T(b))return a;Y(a)&&(a=a.toString());if(!xa(a))return a;d=!d||isNaN(d)?0:Z(d);d=0>d?Math.max(0,a.length+
d):d;return 0<=b?Ec(a,d,d+b):0===d?Ec(a,b,a.length):Ec(a,Math.max(0,d+b),d)}}function Ec(a,b,d){return D(a)?a.slice(b,d):ya.call(a,b,d)}function Td(a){function b(b){return b.map(function(b){var c=1,d=bb;if(A(b))d=b;else if(D(b)){if("+"===b.charAt(0)||"-"===b.charAt(0))c="-"===b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}
function c(a,b){var c=0,d=a.type,h=b.type;if(d===h){var h=a.value,l=b.value;"string"===d?(h=h.toLowerCase(),l=l.toLowerCase()):"object"===d&&(E(h)&&(h=a.index),E(l)&&(l=b.index));h!==l&&(c=h<l?-1:1)}else c=d<h?-1:1;return c}return function(a,f,g,k){if(null==a)return a;if(!xa(a))throw M("orderBy")("notarray",a);I(f)||(f=[f]);0===f.length&&(f=["+"]);var h=b(f),l=g?-1:1,m=A(k)?k:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:h.map(function(c){var e=
c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("object"===c)a:{if(A(e.valueOf)&&(e=e.valueOf(),d(e)))break a;Zb(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var d=0,e=h.length;d<e;d++){var g=m(a.predicateValues[d],b.predicateValues[d]);if(g)return g*h[d].descending*l}return(m(a.tieBreaker,b.tieBreaker)||c(a.tieBreaker,b.tieBreaker))*l});return a=a.map(function(a){return a.value})}}function Qa(a){A(a)&&(a={link:a});a.restrict=a.restrict||"AC";
return ka(a)}function Nb(a,b,d,c,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=Ob;this.$$element=a;this.$$animate=c;Zd(this)}function Zd(a){a.$$classCache={};a.$$classCache[$d]=!(a.$$classCache[pb]=a.$$element.hasClass(pb))}function ae(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):
!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Vc(c,"-"):"";b(a,pb+c,!0===d);b(a,$d+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,k){w(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,k)):(this.$pending&&e(this.$pending,a,k),be(this.$pending)&&(this.$pending=void 0));Na(g)?g?(e(this.$error,a,k),c(this.$$success,a,k)):(c(this.$error,a,k),e(this.$$success,a,k)):(e(this.$error,a,k),e(this.$$success,a,
k));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=be(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null;d(this,a,g);this.$$parentForm.$setValidity(a,g,this)}}function be(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Fc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Wa(a,
b,d,c,e,f){var g=N(b[0].type);if(!e.android){var k=!1;b.on("compositionstart",function(){k=!0});b.on("compositionend",function(){k=!1;l()})}var h,l=function(a){h&&(f.defer.cancel(h),h=null);if(!k){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=Q(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){h||(h=f.defer(function(){h=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=
a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",l);if(ce[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!h){var b=this.validity,c=b.badInput,d=b.typeMismatch;h=f.defer(function(){h=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Pb(a,b){return function(d,c){var e,f;if(ea(d))return d;
if(D(d)){'"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(Sg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},p(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function qb(a,b,d,c){return function(e,
f,g,k,h,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return t(a)&&!ea(a)?d(a)||void 0:a}Gc(e,f,g,k);Wa(e,f,g,k,h,l);var p=k&&k.$options.getOption("timezone"),r;k.$$parserName=a;k.$parsers.push(function(a){if(k.$isEmpty(a))return null;if(b.test(a))return a=d(a,r),p&&(a=bc(a,p)),a});k.$formatters.push(function(a){if(a&&!ea(a))throw rb("datefmt",a);if(n(a))return(r=a)&&p&&(r=bc(r,p,!0)),m("date")(a,c,p);r=null;return""});if(t(g.min)||g.ngMin){var z;k.$validators.min=
function(a){return!n(a)||w(z)||d(a)>=z};g.$observe("min",function(a){z=q(a);k.$validate()})}if(t(g.max)||g.ngMax){var v;k.$validators.max=function(a){return!n(a)||w(v)||d(a)<=v};g.$observe("max",function(a){v=q(a);k.$validate()})}}}function Gc(a,b,d,c){(c.$$hasNativeValidators=E(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function de(a){a.$$parserName="number";a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(Tg.test(b))return parseFloat(b)});
a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!Y(b))throw rb("numfmt",b);b=b.toString()}return b})}function Xa(a){t(a)&&!Y(a)&&(a=parseFloat(a));return T(a)?void 0:a}function Hc(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ee(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==b,f=(d|0)!==d;if(c||e||f){var g=c?Hc(a):0,k=e?Hc(b):0,h=f?Hc(d):0,g=Math.max(g,k,h),g=Math.pow(10,g);a*=g;b*=g;d*=g;c&&(a=Math.round(a));e&&(b=Math.round(b));
f&&(d=Math.round(d))}return 0===(a-b)%d}function fe(a,b,d,c,e){if(t(c)){a=a(c);if(!a.constant)throw rb("constexpr",d,c);return a(b)}return e}function Ic(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e===b[f])continue a;c.push(e)}return c}function c(a){var b=a;I(a)?b=a.map(c).join(" "):E(a)&&(b=Object.keys(a).filter(function(b){return a[b]}).join(" "));return b}function e(a){var b=a;if(I(a))b=a.map(e);
else if(E(a)){var c=!1,b=Object.keys(a).filter(function(b){b=a[b];!c&&w(b)&&(c=!0);return b});c&&b.push(void 0)}return b}a="ngClass"+a;var f;return["$parse",function(g){return{restrict:"AC",link:function(k,h,l){function m(a,b){var c=[];p(a,function(a){if(0<b||s[a])s[a]=(s[a]||0)+b,s[a]===+(0<b)&&c.push(a)});return c.join(" ")}function n(a){if(a===b){var c=w,c=m(c&&c.split(" "),1);l.$addClass(c)}else c=w,c=m(c&&c.split(" "),-1),l.$removeClass(c);u=a}function q(a){a=c(a);a!==w&&r(a)}function r(a){if(u===
b){var c=w&&w.split(" "),e=a&&a.split(" "),g=d(c,e),c=d(e,c),g=m(g,-1),c=m(c,1);l.$addClass(c);l.$removeClass(g)}w=a}var t=l[a].trim(),z=":"===t.charAt(0)&&":"===t.charAt(1),t=g(t,z?e:c),v=z?q:r,s=h.data("$classCounts"),u=!0,w;s||(s=S(),h.data("$classCounts",s));"ngClass"!==a&&(f||(f=g("$index",function(a){return a&1})),k.$watch(f,n));k.$watch(t,v,z)}}}]}function Qb(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators=
{};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=h(d.name||"",!1)(a);this.$$parentForm=Ob;this.$options=Rb;this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=
void 0;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:a});this.$$attr=d;this.$$element=c;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=k;this.$$exceptionHandler=b;Zd(this);Ug(this)}function Ug(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);if(b!==a.$modelValue&&(a.$modelValue===a.$modelValue||b===b)){a.$modelValue=a.$$rawModelValue=b;a.$$parserValid=void 0;for(var d=a.$formatters,c=d.length,e=b;c--;)e=d[c](e);a.$viewValue!==e&&(a.$$updateEmptyClasses(e),
a.$viewValue=a.$$lastCommittedViewValue=e,a.$render(),a.$$runValidators(a.$modelValue,a.$viewValue,C))}return b})}function Jc(a){this.$$options=a}function ge(a,b){p(b,function(b,c){t(a[c])||(a[c]=b)})}function Ga(a,b){a.prop("selected",b);a.attr("selected",b)}var Lc={objectMaxDepth:5},Vg=/^\/(.+)\/([a-z]*)$/,ra=Object.prototype.hasOwnProperty,N=function(a){return D(a)?a.toLowerCase():a},wb=function(a){return D(a)?a.toUpperCase():a},Ca,B,la,ya=[].slice,ug=[].splice,Wg=[].push,ha=Object.prototype.toString,
Oc=Object.getPrototypeOf,qa=M("ng"),$=u.angular||(u.angular={}),ec,sb=0;Ca=u.document.documentMode;var T=Number.isNaN||function(a){return a!==a};C.$inject=[];bb.$inject=[];var I=Array.isArray,se=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Q=function(a){return D(a)?a.trim():a},Md=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ja=function(){if(!t(Ja.rules)){var a=u.document.querySelector("[ng-csp]")||u.document.querySelector("[data-ng-csp]");
if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ja.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ja;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ja.rules},tb=function(){if(t(tb.name_))return tb.name_;var a,b,d=Ha.length,c,e;for(b=0;b<d;++b)if(c=Ha[b],a=u.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return tb.name_=e},ue=/:/g,
Ha=["ng-","data-ng-","ng:","x-ng-"],xe=function(a){var b=a.currentScript;if(!b)return!0;if(!(b instanceof u.HTMLScriptElement||b instanceof u.SVGScriptElement))return!1;b=b.attributes;return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");c.href=b.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return!0;
default:return!1}})}(u.document),Ae=/[A-Z]/g,Wc=!1,Oa=3,Fe={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};U.expando="ng339";var kb=U.cache={},gg=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var cg=/-([a-z])/g,Xg=/^-ms-/,Bb={mouseleave:"mouseout",mouseenter:"mouseover"},hc=M("jqLite"),fg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gc=/<|&#?\w+;/,dg=/<([\w:-]+)/,eg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,aa={option:[1,'<select multiple="multiple">',
"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};aa.optgroup=aa.option;aa.tbody=aa.tfoot=aa.colgroup=aa.caption=aa.thead;aa.th=aa.td;var lg=u.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Sa=U.prototype={ready:gd,toString:function(){var a=[];p(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},
eq:function(a){return 0<=a?B(this[a]):B(this[this.length+a])},length:0,push:Wg,sort:[].sort,splice:[].splice},Hb={};p("multiple selected checked disabled readOnly required open".split(" "),function(a){Hb[N(a)]=a});var ld={};p("input select option textarea button form details".split(" "),function(a){ld[a]=!0});var sd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};p({data:lc,removeData:kc,hasData:function(a){for(var b in kb[a.ng339])return!0;
return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)kc(a[b])}},function(a,b){U[b]=a});p({data:lc,inheritedData:Fb,scope:function(a){return B.data(a,"$scope")||Fb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return B.data(a,"$isolateScope")||B.data(a,"$isolateScopeNoTemplate")},controller:id,injector:function(a){return Fb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Cb,css:function(a,b,d){b=yb(b.replace(Xg,"ms-"));if(t(d))a.style[b]=d;
else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Oa&&2!==c&&8!==c&&a.getAttribute){var c=N(b),e=Hb[c];if(t(d))null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d);else return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a}},prop:function(a,b,d){if(t(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(w(d)){var c=a.nodeType;return 1===c||c===Oa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(w(b)){if(a.multiple&&"select"===
za(a)){var d=[];p(a.options,function(a){a.selected&&d.push(a.value||a.text)});return d}return a.value}a.value=b},html:function(a,b){if(w(b))return a.innerHTML;zb(a,!0);a.innerHTML=b},empty:jd},function(a,b){U.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==jd&&w(2===a.length&&a!==Cb&&a!==id?b:c)){if(E(b)){for(e=0;e<g;e++)if(a===lc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=w(e)?Math.min(g,1):g;for(f=0;f<g;f++){var k=a(this[f],b,c);e=e?e+k:k}return e}for(e=0;e<g;e++)a(this[e],
b,c);return this}});p({removeData:kc,on:function(a,b,d,c){if(t(c))throw hc("onargs");if(fc(a)){c=Ab(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=ig(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,k=function(b,c,g){var k=e[b];k||(k=e[b]=[],k.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f));k.push(d)};g--;)b=c[g],Bb[b]?(k(Bb[b],kg),k(b,void 0,!0)):k(b)}},off:hd,one:function(a,b,d){a=B(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,
b){var d,c=a.parentNode;zb(a);p(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];p(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new U(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;p(new U(b),function(b){a.insertBefore(b,d)})}},
wrap:function(a,b){var d=B(b).eq(0).clone()[0],c=a.parentNode;c&&c.replaceChild(d,a);d.appendChild(a)},remove:Gb,detach:function(a){Gb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c){b=new U(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}}},addClass:Eb,removeClass:Db,toggleClass:function(a,b,d){b&&p(b.split(" "),function(b){var e=d;w(e)&&(e=!Cb(a,b));(e?Eb:Db)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},
find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:jc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=Ab(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:C,type:f,target:a},b.type&&(c=P(c,
b)),b=ja(g),e=d?[c].concat(d):[c],p(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,k=this.length;g<k;g++)w(f)?(f=a(this[g],b,c,e),t(f)&&(f=B(f))):ic(f,a(this[g],b,c,e));return t(f)?f:this}});U.prototype.bind=U.prototype.on;U.prototype.unbind=U.prototype.off;var Yg=Object.create(null);md.prototype={_idx:function(a){if(a===this._lastKey)return this._lastIndex;this._lastKey=a;return this._lastIndex=this._keys.indexOf(a)},_transformKey:function(a){return T(a)?
Yg:a},get:function(a){a=this._transformKey(a);a=this._idx(a);if(-1!==a)return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=this._transformKey(a);a=this._idx(a);if(-1===a)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};var Ib=md,ag=[function(){this.$get=[function(){return Ib}]}],ng=/^([^(]+?)=>/,og=/^[^(]*\(\s*([^)]*)\)/m,
Zg=/,/,$g=/^\s*(_?)(\S+?)\1\s*$/,mg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ba=M("$injector");hb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw D(d)&&d||(d=a.name||pg(a)),Ba("strictdi",d);b=nd(a);p(b[1].split(Zg),function(a){a.replace($g,function(a,b,d){c.push(d)})})}a.$inject=c}}else I(a)?(b=a.length-1,ub(a[b],"fn"),c=a.slice(0,b)):ub(a,"fn",!0);return c};var he=M("$animate"),sf=function(){this.$get=C},tf=function(){var a=new Ib,b=[];this.$get=
["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=D(b)?b.split(" "):I(b)?b:[],p(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){p(b,function(b){var c=a.get(b);if(c){var d=qg(b.attr("class")),e="",f="";p(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});p(b,function(a){e&&Eb(a,e);f&&Db(a,f)});a.delete(b)}});b.length=0}return{enabled:C,on:C,off:C,pin:C,push:function(g,k,h,l){l&&l();h=h||{};h.from&&g.css(h.from);h.to&&g.css(h.to);if(h.addClass||
h.removeClass)if(k=h.addClass,l=h.removeClass,h=a.get(g)||{},k=e(h,k,!0),l=e(h,l,!1),k||l)a.set(g,h),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},qf=["$provide",function(a){var b=this,d=null,c=null;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&"."!==c.charAt(0))throw he("notcsel",c);var g=c+"-animation";b.$$registeredAnimations[c.substr(1)]=g;a.factory(g,d)};this.customFilter=function(a){1===arguments.length&&(c=A(a)?a:null);return c};
this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,he("nongcls","ng-animate");return d};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){e=f;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},
enter:function(c,d,h,l){d=d&&B(d);h=h&&B(h);d=d||h.parent();b(c,d,h);return a.push(c,"enter",Ka(l))},move:function(c,d,h,l){d=d&&B(d);h=h&&B(h);d=d||h.parent();b(c,d,h);return a.push(c,"move",Ka(l))},leave:function(b,c){return a.push(b,"leave",Ka(c),function(){b.remove()})},addClass:function(b,c,d){d=Ka(d);d.addClass=lb(d.addclass,c);return a.push(b,"addClass",d)},removeClass:function(b,c,d){d=Ka(d);d.removeClass=lb(d.removeClass,c);return a.push(b,"removeClass",d)},setClass:function(b,c,d,f){f=Ka(f);
f.addClass=lb(f.addClass,c);f.removeClass=lb(f.removeClass,d);return a.push(b,"setClass",f)},animate:function(b,c,d,f,m){m=Ka(m);m.from=m.from?P(m.from,c):c;m.to=m.to?P(m.to,d):d;m.tempClasses=lb(m.tempClasses,f||"ng-inline-animate");return a.push(b,"animate",m)}}}]}],vf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},uf=function(){this.$get=
["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){c()?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;p(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===
this._state?a():this._doneCallbacks.push(a)},progress:C,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&
this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(p(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},rf=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=
null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);k||h.complete();k=!0});return h}var g=e||{};g.$$prepared||(g=pa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]},ba=M("$compile"),oc=new function(){};Yc.$inject=["$provide","$$sanitizeUriProvider"];Kb.prototype.isFirstChange=function(){return this.previousValue===oc};var od=/^((?:x|data)[:\-_])/i,tg=/[:\-_]+(.)/g,ud=M("$controller"),
td=/^(\S+)(\s+as\s+([\w$]+))?$/,Cf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof B&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},vd="application/json",sc={"Content-Type":vd+";charset=utf-8"},wg=/^\[|^\{(?!\{)/,xg={"[":/]$/,"{":/}$/},vg=/^\)]\}',?\n/,rc=M("$http"),Fa=$.$interpolateMinErr=M("$interpolate");Fa.throwNoconcat=function(a){throw Fa("noconcat",a);};Fa.interr=function(a,b){return Fa("interr",a,b.toString())};var Kf=function(){this.$get=function(){function a(a){var b=
function(a){b.data=a;b.called=!0};b.id=a;return b}var b=$.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id];delete d[a]}}}},ah=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,zg={http:80,https:443,ftp:21},mb=M("$location"),Ag=/^\s*[\\/]{2,}/,bh={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Lb("$$absUrl"),
url:function(a){if(w(a))return this.$$url;var b=ah.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Lb("$$protocol"),host:Lb("$$host"),port:Lb("$$port"),path:Dd("$$path",function(a){a=null!==a?a.toString():"";return"/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(D(a)||Y(a))a=a.toString(),this.$$search=Tc(a);else if(E(a))a=pa(a,{}),p(a,function(b,
c){null==b&&delete a[c]}),this.$$search=a;else throw mb("isrcharg");break;default:w(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:Dd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};p([Cd,wc,vc],function(a){a.prototype=Object.create(bh);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==vc||!this.$$html5)throw mb("nostate");this.$$state=w(b)?null:b;this.$$urlUpdatedByLocation=
!0;return this}});var Ya=M("$parse"),Eg={}.constructor.prototype.valueOf,Sb=S();p("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Sb[a]=!0});var ch={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},zc=function(a){this.options=a};zc.prototype={constructor:zc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();
else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Sb[b],e=Sb[d];Sb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=
a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?
this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===
a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=t(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw Ya("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=N(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||
c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;
for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=ch[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var r=function(a,b){this.lexer=
a;this.options=b};r.Program="Program";r.ExpressionStatement="ExpressionStatement";r.AssignmentExpression="AssignmentExpression";r.ConditionalExpression="ConditionalExpression";r.LogicalExpression="LogicalExpression";r.BinaryExpression="BinaryExpression";r.UnaryExpression="UnaryExpression";r.CallExpression="CallExpression";r.MemberExpression="MemberExpression";r.Identifier="Identifier";r.Literal="Literal";r.ArrayExpression="ArrayExpression";r.Property="Property";r.ObjectExpression="ObjectExpression";
r.ThisExpression="ThisExpression";r.LocalsExpression="LocalsExpression";r.NGValueParameter="NGValueParameter";r.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:r.Program,body:a}},expressionStatement:function(){return{type:r.ExpressionStatement,
expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Hd(a))throw Ya("lval");a={type:r.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:r.ConditionalExpression,
test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:r.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:r.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.relational()};
return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},
unary:function(){var a;return(a=this.expect("+","-","!"))?{type:r.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=pa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:r.Literal,value:this.options.literals[this.consume().text]}:
this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:r.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:r.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:r.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");
return a},filter:function(a){a=[a];for(var b={type:r.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:r.Identifier,name:a.text}},constant:function(){return{type:r.Literal,value:this.consume().value}},
arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:r.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:r.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?
(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");return{type:r.ObjectExpression,properties:a}},throwError:function(a,b){throw Ya("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw Ya("ueoe",
this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw Ya("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:r.ThisExpression},
$locals:{type:r.LocalsExpression}}};var Fd=2;Jd.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};V(a,b.$filter);var d="",c;this.stage="assign";if(c=Id(a))this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l");c=Gd(a.body);b.stage="inputs";p(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}};b.state.computing=d;
var k=b.nextId();b.recurse(a,k);b.return_(k);b.state.inputs.push({name:d,isPure:a.isPure});a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(a);a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;";a=(new Function("$filter","getStringValue","ifDefined","plus",a))(this.$filter,Bg,Cg,Ed);this.state=this.stage=void 0;return a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,
d=this;p(b,function(b){a.push("var "+b.name+"="+d.generateFunction(b.name,"s"));b.isPure&&a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")});b.length&&a.push("fn.inputs=["+b.map(function(a){return a.name}).join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;p(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?
"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,k,h=this,l,m,n;c=c||C;if(!f&&t(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case r.Program:p(a.body,function(b,c){h.recurse(b.expression,void 0,void 0,function(a){k=a});c!==a.body.length-1?h.current().body.push(k,";"):h.return_(k)});break;case r.Literal:m=this.escape(a.value);
this.assign(b,m);c(b||m);break;case r.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){k=a});m=a.operator+"("+this.ifDefined(k,0)+")";this.assign(b,m);c(m);break;case r.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){k=a});m="+"===a.operator?this.plus(g,k):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(k,0):"("+g+")"+a.operator+"("+k+")";this.assign(b,m);c(m);break;case r.LogicalExpression:b=b||this.nextId();
h.recurse(a.left,b);h.if_("&&"===a.operator?b:h.not(b),h.lazyRecurse(a.right,b));c(b);break;case r.ConditionalExpression:b=b||this.nextId();h.recurse(a.test,b);h.if_(b,h.lazyRecurse(a.alternate,b),h.lazyRecurse(a.consequent,b));c(b);break;case r.Identifier:b=b||this.nextId();d&&(d.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",a.name)),function(){h.if_("inputs"===
h.stage||"s",function(){e&&1!==e&&h.if_(h.isNull(h.nonComputedMember("s",a.name)),h.lazyAssign(h.nonComputedMember("s",a.name),"{}"));h.assign(b,h.nonComputedMember("s",a.name))})},b&&h.lazyAssign(b,h.nonComputedMember("l",a.name)));c(b);break;case r.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();h.recurse(a.object,g,void 0,function(){h.if_(h.notNull(g),function(){a.computed?(k=h.nextId(),h.recurse(a.property,k),h.getStringValue(k),e&&1!==e&&h.if_(h.not(h.computedMember(g,
k)),h.lazyAssign(h.computedMember(g,k),"{}")),m=h.computedMember(g,k),h.assign(b,m),d&&(d.computed=!0,d.name=k)):(e&&1!==e&&h.if_(h.isNull(h.nonComputedMember(g,a.property.name)),h.lazyAssign(h.nonComputedMember(g,a.property.name),"{}")),m=h.nonComputedMember(g,a.property.name),h.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){h.assign(b,"undefined")});c(b)},!!e);break;case r.CallExpression:b=b||this.nextId();a.filter?(k=h.filter(a.callee.name),l=[],p(a.arguments,function(a){var b=
h.nextId();h.recurse(a,b);l.push(b)}),m=k+"("+l.join(",")+")",h.assign(b,m),c(b)):(k=h.nextId(),g={},l=[],h.recurse(a.callee,k,g,function(){h.if_(h.notNull(k),function(){p(a.arguments,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})});m=g.name?h.member(g.context,g.name,g.computed)+"("+l.join(",")+")":k+"("+l.join(",")+")";h.assign(b,m)},function(){h.assign(b,"undefined")});c(b)}));break;case r.AssignmentExpression:k=this.nextId();g={};this.recurse(a.left,void 0,
g,function(){h.if_(h.notNull(g.context),function(){h.recurse(a.right,k);m=h.member(g.context,g.name,g.computed)+a.operator+k;h.assign(b,m);c(b||m)})},1);break;case r.ArrayExpression:l=[];p(a.elements,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(b||m);break;case r.ObjectExpression:l=[];n=!1;p(a.properties,function(a){a.computed&&(n=!0)});n?(b=b||this.nextId(),this.assign(b,"{}"),p(a.properties,function(a){a.computed?
(g=h.nextId(),h.recurse(a.key,g)):g=a.key.type===r.Identifier?a.key.name:""+a.key.value;k=h.nextId();h.recurse(a.value,k);h.assign(h.member(b,g,a.computed),k)})):(p(a.properties,function(b){h.recurse(b.value,a.constant?void 0:h.nextId(),void 0,function(a){l.push(h.escape(b.key.type===r.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m));c(b||m);break;case r.ThisExpression:this.assign(b,"s");c(b||"s");break;case r.LocalsExpression:this.assign(b,"l");c(b||"l");break;
case r.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,
b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,
b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(D(a))return"'"+a.replace(this.stringEscapeRegex,
this.stringEscapeFn)+"'";if(Y(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw Ya("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};Kd.prototype={compile:function(a){var b=this;V(a,b.$filter);var d,c;if(d=Id(a))c=this.recurse(d);d=Gd(a.body);var e;d&&(e=[],p(d,function(a,c){var d=
b.recurse(a);d.isPure=a.isPure;a.input=d;e.push(d);a.watchId=c}));var f=[];p(a.body,function(a){f.push(b.recurse(a.expression))});a=0===a.body.length?C:1===a.body.length?f[0]:function(a,b){var c;p(f,function(d){c=d(a,b)});return c};c&&(a.assign=function(a,b,d){return c(a,d,b)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case r.Literal:return this.value(a.value,b);case r.UnaryExpression:return e=this.recurse(a.argument),
this["unary"+a.operator](e,b);case r.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case r.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case r.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case r.Identifier:return f.identifier(a.name,b,d);case r.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||
(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,e,b,d);case r.CallExpression:return g=[],p(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],q=0;q<g.length;++q)n.push(g[q](a,c,d,f));a=e.apply(void 0,n,f);return b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var n=e(a,c,d,f),q;if(null!=n.value){q=
[];for(var p=0;p<g.length;++p)q.push(g[p](a,c,d,f));q=n.value.apply(n.context,q)}return b?{value:q}:q};case r.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var n=c(a,d,f,g);a=e(a,d,f,g);n.context[n.name]=a;return b?{value:a}:a};case r.ArrayExpression:return g=[],p(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],q=0;q<g.length;++q)f.push(g[q](a,c,d,e));return b?{value:f}:f};case r.ObjectExpression:return g=[],p(a.properties,
function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===r.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},q=0;q<g.length;++q)g[q].computed?f[g[q].key(a,c,d,e)]=g[q].value(a,c,d,e):f[g[q].key]=g[q].value(a,c,d,e);return b?{value:f}:f};case r.ThisExpression:return function(a){return b?{value:a}:a};case r.LocalsExpression:return function(a,c){return b?{value:c}:c};case r.NGValueParameter:return function(a,
c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=t(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=t(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=Ed(k,c);return d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);
k=(t(k)?k:0)-(t(c)?c:0);return d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,
e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,
g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k)?b(e,f,g,k):d(e,f,g,k);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,
name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:c;d&&1!==d&&c&&null==c[a]&&(c[a]={});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var h=a(e,f,g,k),l,m;null!=h&&(l=b(e,f,g,k),l+="",c&&1!==c&&h&&!h[l]&&(h[l]={}),m=h[l]);return d?{context:h,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k);c&&1!==c&&e&&null==e[b]&&(e[b]={});f=null!=e?e[b]:void 0;
return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};xc.prototype={constructor:xc,parse:function(a){a=this.ast.ast(a);var b=this.astCompiler.compile(a);b.literal=0===a.body.length||1===a.body.length&&(a.body[0].expression.type===r.Literal||a.body[0].expression.type===r.ArrayExpression||a.body[0].expression.type===r.ObjectExpression);b.constant=a.constant;return b}};var wa=M("$sce"),oa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",
JS:"js"},Ac=/_([a-z])/g,Gg=M("$compile"),X=u.document.createElement("a"),Od=ua(u.location.href);Pd.$inject=["$document"];ed.$inject=["$provide"];var Wd=22,Vd=".",Cc="0";Qd.$inject=["$locale"];Sd.$inject=["$locale"];var Rg={yyyy:da("FullYear",4,0,!1,!0),yy:da("FullYear",2,0,!0,!0),y:da("FullYear",1,0,!1,!0),MMMM:ob("Month"),MMM:ob("Month",!0),MM:da("Month",2,1),M:da("Month",1,1),LLLL:ob("Month",!1,!0),dd:da("Date",2),d:da("Date",1),HH:da("Hours",2),H:da("Hours",1),hh:da("Hours",2,-12),h:da("Hours",
1,-12),mm:da("Minutes",2),m:da("Minutes",1),ss:da("Seconds",2),s:da("Seconds",1),sss:da("Milliseconds",3),EEEE:ob("Day"),EEE:ob("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Mb(Math[0<a?"floor":"ceil"](a/60),2)+Mb(Math.abs(a%60),2))},ww:Yd(2),w:Yd(1),G:Dc,GG:Dc,GGG:Dc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Qg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,
Pg=/^-?\d+$/;Rd.$inject=["$locale"];var Kg=ka(N),Lg=ka(wb);Td.$inject=["$parse"];var He=ka({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ha.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),xb={};p(Hb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=Ea("ng-"+b),e=d;"checked"===a&&(e=function(a,
b,e){e.ngModel!==e[c]&&d(a,b,e)});xb[c]=function(){return{restrict:"A",priority:100,link:e}}}});p(sd,function(a,b){xb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Vg))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});p(["src","srcset","href"],function(a){var b=Ea("ng-"+a);xb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===
ha.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Ca&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Ob={$addControl:C,$$renameControl:function(a,b){a.$name=b},$removeControl:C,$setValidity:C,$setDirty:C,$setPristine:C,$setSubmitted:C};Nb.$inject=["$element","$attrs","$scope","$animate","$interpolate"];Nb.prototype={$rollbackViewValue:function(){p(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){p(this.$$controls,
function(a){a.$commitViewValue()})},$addControl:function(a){Ia(a.$name,"input");this.$$controls.push(a);a.$name&&(this[a.$name]=a);a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name];p(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);p(this.$error,function(b,d){this.$setValidity(d,null,a)},this);p(this.$$success,function(b,d){this.$setValidity(d,null,
a)},this);db(this.$$controls,a);a.$$parentForm=Ob},$setDirty:function(){this.$$animate.removeClass(this.$$element,Za);this.$$animate.addClass(this.$$element,Tb);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Za,Tb+" ng-submitted");this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;p(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){p(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,
"ng-submitted");this.$submitted=!0;this.$$parentForm.$setSubmitted()}};ae({clazz:Nb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(db(c,d),0===c.length&&delete a[b])}});var ie=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||C}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Nb,compile:function(d,f){d.addClass(Za).addClass(pb);var g=f.name?"name":
a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var q=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",q);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",q)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var p=g?c(n.$name):C;g&&(p(a,n),e.$observe(g,function(b){n.$name!==b&&(p(a,void 0),n.$$parentForm.$$renameControl(n,b),p=c(n.$name),p(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);
p(a,void 0);P(n,Ob)})}}}}}]},Ie=ie(),Ue=ie(!0),Sg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,dh=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,eh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Tg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,je=/^(\d{4,})-(\d{2})-(\d{2})$/,
ke=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Kc=/^(\d{4,})-W(\d\d)$/,le=/^(\d{4,})-(\d\d)$/,me=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ce=S();p(["date","datetime-local","month","time","week"],function(a){ce[a]=!0});var ne={text:function(a,b,d,c,e,f){Wa(a,b,d,c,e,f);Fc(c)},date:qb("date",je,Pb(je,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":qb("datetimelocal",ke,Pb(ke,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:qb("time",me,Pb(me,["HH","mm",
"ss","sss"]),"HH:mm:ss.sss"),week:qb("week",Kc,function(a,b){if(ea(a))return a;if(D(a)){Kc.lastIndex=0;var d=Kc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,k=0,h=Xd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),k=b.getMilliseconds());return new Date(c,0,h.getDate()+e,d,f,g,k)}}return NaN},"yyyy-Www"),month:qb("month",le,Pb(le,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Gc(a,b,d,c);de(c);Wa(a,b,d,c,e,f);var g,k;if(t(d.min)||d.ngMin)c.$validators.min=function(a){return c.$isEmpty(a)||
w(g)||a>=g},d.$observe("min",function(a){g=Xa(a);c.$validate()});if(t(d.max)||d.ngMax)c.$validators.max=function(a){return c.$isEmpty(a)||w(k)||a<=k},d.$observe("max",function(a){k=Xa(a);c.$validate()});if(t(d.step)||d.ngStep){var h;c.$validators.step=function(a,b){return c.$isEmpty(b)||w(h)||ee(b,g||0,h)};d.$observe("step",function(a){h=Xa(a);c.$validate()})}},url:function(a,b,d,c,e,f){Wa(a,b,d,c,e,f);Fc(c);c.$$parserName="url";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||dh.test(d)}},
email:function(a,b,d,c,e,f){Wa(a,b,d,c,e,f);Fc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||eh.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==Q(d.ngTrim);w(d.name)&&b.attr("name",++sb);b.on("click",function(a){var g;b[0].checked&&(g=d.value,e&&(g=Q(g)),c.$setViewValue(g,a&&a.type))});c.$render=function(){var a=d.value;e&&(a=Q(a));b[0].checked=a===c.$viewValue};d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,
d[a]);d.$observe(a,c)}function k(a){n=Xa(a);T(c.$modelValue)||(m?(a=b.val(),n>a&&(a=n,b.val(a)),c.$setViewValue(a)):c.$validate())}function h(a){q=Xa(a);T(c.$modelValue)||(m?(a=b.val(),q<a&&(b.val(q),a=q<n?n:q),c.$setViewValue(a)):c.$validate())}function l(a){p=Xa(a);T(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}Gc(a,b,d,c);de(c);Wa(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,n=m?0:void 0,q=m?100:void 0,p=m?1:void 0,r=b[0].validity;a=t(d.min);
e=t(d.max);f=t(d.step);var z=c.$render;c.$render=m&&t(r.rangeUnderflow)&&t(r.rangeOverflow)?function(){z();c.$setViewValue(b.val())}:z;a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(n)||b>=n},g("min",k));e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(q)||b<=q},g("max",h));f&&(c.$validators.step=m?function(){return!r.stepMismatch}:function(a,b){return c.$isEmpty(b)||w(p)||ee(b,n||0,p)},g("step",l))},checkbox:function(a,b,d,c,e,
f,g,k){var h=fe(k,a,"ngTrueValue",d.ngTrueValue,!0),l=fe(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return sa(a,h)});c.$parsers.push(function(a){return a?h:l})},hidden:C,button:C,submit:C,reset:C,file:C},Zc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,
f,g,k){k[0]&&(ne[N(g.type)]||ne.text)(e,f,g,k[0],b,a,d,c)}}}}],fh=/^(true|false|\d+)$/,mf=function(){function a(a,d,c){var e=t(c)?c:9===Ca?"":null;a.prop("value",e);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return fh.test(d.ngValue)?function(b,d,f){b=b.$eval(f.ngValue);a(d,f,b)}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Me=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,
e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=dc(a)})}}}}],Oe=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=w(a)?"":a})}}}}],Ne=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});
d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],lf=ka({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Pe=Ic("",!0),Re=Ic("Odd",0),Qe=Ic("Even",1),Se=Qa({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Te=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],dd={},gh={blur:!0,focus:!0};
p("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ea("ng-"+a);dd[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};gh[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var We=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,
terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(d){d?h||g(function(d,f){h=f;d[d.length++]=b.$$createComment("end ngIf",e.ngIf);k={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),k&&(l=vb(k.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),k=null))})}}}],Xe=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:$.noop,compile:function(c,
e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(c,e,m,n,q){var p=0,r,z,v,s=function(){z&&(z.remove(),z=null);r&&(r.$destroy(),r=null);v&&(d.leave(v).done(function(a){!1!==a&&(z=null)}),z=v,v=null)};c.$watch(f,function(f){var m=function(a){!1===a||!t(k)||k&&!c.$eval(k)||b()},y=++p;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&y===p){var b=c.$new();n.template=a;a=q(b,function(a){s();d.enter(a,null,e).done(m)});r=b;v=a;r.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||
y!==p||(s(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(s(),n.template=null)})}}}}],of=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ha.call(d[0]).match(/SVG/)?(d.empty(),a(fd(e.template,u.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ye=Qa({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),kf=function(){return{restrict:"A",
priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?Q(e):e;c.$parsers.push(function(a){if(!w(a)){var b=[];a&&p(a.split(g),function(a){a&&b.push(f?Q(a):a)});return b}});c.$formatters.push(function(a){if(I(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},pb="ng-valid",$d="ng-invalid",Za="ng-pristine",Tb="ng-dirty",rb=M("ngModel");Qb.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");
Qb.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);A(c)&&(c=a(b));return c};this.$$ngModelSet=function(a,c){A(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw rb("nonassign",this.$$attr.ngModel,Aa(this.$$element));},$render:C,$isEmpty:function(a){return w(a)||
""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,Tb);this.$$animate.addClass(this.$$element,Za)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,
Za);this.$$animate.addClass(this.$$element,Tb);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!T(this.$modelValue)){var a=
this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(){var c=!0;p(h.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g;f(e,g)});return c?!0:(p(h.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;p(h.$asyncValidators,function(e,
g){var h=e(a,b);if(!h||!A(h.then))throw rb("nopromise",h);f(g,void 0);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?h.$$q.all(c).then(function(){g(d)},C):g(!0)}function f(a,b){k===h.$$currentValidationRunId&&h.$setValidity(a,b)}function g(a){k===h.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var k=this.$$currentValidationRunId,h=this;(function(){var a=h.$$parserName||"parse";if(w(h.$$parserValid))f(a,null);else return h.$$parserValid||(p(h.$validators,function(a,
b){f(b,null)}),p(h.$asyncValidators,function(a,b){f(b,null)})),f(a,h.$$parserValid),h.$$parserValid;return!0})()?c()?e():g(!1):g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=
w(a)?void 0:!0)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),w(a)){this.$$parserValid=!1;break}T(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,
this.$modelValue);p(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");Y(b[a])?b=b[a]:Y(b["default"])&&(b=b["default"]);this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$scope.$root.$$phase?
this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a)}};ae({clazz:Qb,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var jf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Qb,priority:1,compile:function(b){b.addClass(Za).addClass("ng-untouched").addClass(pb);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;if(f=f[2])g.$options=
f.$options;g.$$initGetterSetters();b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){k.$setTouched()}var k=f[0];if(k.$options.getOption("updateOn"))c.on(k.$options.getOption("updateOn"),function(a){k.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){k.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],Rb,hh=/(\s+|^)default(\s+|$)/;Jc.prototype=
{getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;a=P({},a);p(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=Q(d.replace(hh,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],ge(a,this.$$options));ge(a,Rb.$$options);return new Jc(a)}};Rb=new Jc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,
timezone:null});var nf=function(){function a(a,d){this.$$attrs=a;this.$$scope=d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Rb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Ze=Qa({terminal:!0,priority:1E3}),ih=M("ngOptions"),jh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
gf=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!p&&xa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(jh);if(!n)throw ih("iexp",a,Aa(b));var q=n[5]||n[7],p=n[6];a=/ as /.test(n[0])&&n[1];var r=n[9];b=d(n[2]?n[1]:q);var z=a&&d(a)||b,t=r&&d(r),s=r?function(a,b){return t(c,b)}:function(a){return Pa(a)},
w=function(a,b){return s(a,A(a,b))},u=d(n[2]||n[1]),y=d(n[3]||""),J=d(n[4]||""),H=d(n[8]),B={},A=p?function(a,b){B[p]=b;B[q]=a;return B}:function(a){B[q]=a;return B};return{trackBy:r,getTrackByValue:w,getWatchables:d(H,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var k=a===d?g:d[g],l=a[k],k=A(l,k),l=s(l,k);b.push(l);if(n[2]||n[1])l=u(c,k),b.push(l);n[4]&&(k=J(c,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},d=H(c)||[],g=f(d),k=g.length,n=0;n<k;n++){var q=d===
g?n:g[n],p=A(d[q],q),t=z(c,p),q=s(t,p),v=u(c,p),G=y(c,p),p=J(c,p),t=new e(q,t,v,G,p);a.push(t);b[q]=t}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},getViewValueFromOption:function(a){return r?pa(a.viewValue):a.viewValue}}}}}var e=u.document.createElement("option"),f=u.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=C},post:function(d,k,h,l){function m(a){var b=(a=s.getOptionFromViewValue(a))&&
a.element;b&&!b.selected&&(b.selected=!0);return a}function n(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);b.value=a.selectValue}var q=l[0],r=l[1],w=h.multiple;l=0;for(var z=k.children(),v=z.length;l<v;l++)if(""===z[l].value){q.hasEmptyOption=!0;q.emptyOption=z.eq(l);break}k.empty();l=!!q.emptyOption;B(e.cloneNode(!1)).val("?");var s,u=c(h.ngOptions,k,d),A=b[0].createDocumentFragment();q.generateUnknownOptionValue=function(a){return"?"};w?(q.writeValue=
function(a){if(s){var b=a&&a.map(m)||[];s.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})}},q.readValue=function(){var a=k.val()||[],b=[];p(a,function(a){(a=s.selectValueMap[a])&&!a.disabled&&b.push(s.getViewValueFromOption(a))});return b},u.trackBy&&d.$watchCollection(function(){if(I(r.$viewValue))return r.$viewValue.map(function(a){return u.getTrackByValue(a)})},function(){r.$render()})):(q.writeValue=function(a){if(s){var b=k[0].options[k[0].selectedIndex],
c=s.getOptionFromViewValue(a);b&&b.removeAttribute("selected");c?(k[0].value!==c.selectValue&&(q.removeUnknownOption(),k[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):q.selectUnknownOrEmptyOption(a)}},q.readValue=function(){var a=s.selectValueMap[k.val()];return a&&!a.disabled?(q.unselectEmptyOption(),q.removeUnknownOption(),s.getViewValueFromOption(a)):null},u.trackBy&&d.$watch(function(){return u.getTrackByValue(r.$viewValue)},function(){r.$render()}));
l&&(a(q.emptyOption)(d),k.prepend(q.emptyOption),8===q.emptyOption[0].nodeType?(q.hasEmptyOption=!1,q.registerOption=function(a,b){""===b.val()&&(q.hasEmptyOption=!0,q.emptyOption=b,q.emptyOption.removeClass("ng-scope"),r.$render(),b.on("$destroy",function(){var a=q.$isEmptyOptionSelected();q.hasEmptyOption=!1;q.emptyOption=void 0;a&&r.$render()}))}):q.emptyOption.removeClass("ng-scope"));d.$watchCollection(u.getWatchables,function(){var a=s&&q.readValue();if(s)for(var b=s.items.length-1;0<=b;b--){var c=
s.items[b];t(c.group)?Gb(c.element.parentNode):Gb(c.element)}s=u.getOptions();var d={};s.items.forEach(function(a){var b;if(t(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),A.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1);b.appendChild(c);n(a,c)}else b=e.cloneNode(!1),A.appendChild(b),n(a,b)});k[0].appendChild(A);r.$render();r.$isEmpty(a)||(b=q.readValue(),(u.trackBy||w?sa(a,b):a===b)||(r.$setViewValue(b),r.$render()))})}}}}],$e=["$locale","$interpolate","$log",
function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(a){g.text(a||"")}var l=k.count,m=k.$attr.when&&g.attr(k.$attr.when),n=k.offset||0,q=f.$eval(m)||{},r={},t=b.startSymbol(),z=b.endSymbol(),v=t+l+"-"+n+z,s=$.noop,u;p(k,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+N(c[2]),q[c]=g.attr(k.$attr[b]))});p(q,function(a,d){r[d]=b(a.replace(c,v))});f.$watch(l,function(b){var c=parseFloat(b),e=T(c);e||c in q||(c=a.pluralCat(c-n));c===u||e&&T(u)||(s(),e=r[c],w(e)?(null!=
b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),s=C,h()):s=f.$watch(e,h),u=c)})}}}],af=["$parse","$animate","$compile",function(a,b,d){var c=M("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var k=g.ngRepeat,h=d.$$createComment("end ngRepeat",k),l=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if(!l)throw c("iexp",k);var m=l[1],n=l[2],q=l[3],r=l[4],l=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var t=l[3]||l[1],z=l[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw c("badident",q);var v,s,u,w,y={$id:Pa};r?v=a(r):(u=function(a,b){return Pa(b)},w=function(a){return a});return function(a,d,f,g,l){v&&(s=function(b,c,d){z&&(y[z]=b);y[t]=c;y.$index=
d;return v(a,y)});var m=S();a.$watchCollection(n,function(f){var g,n,r=d[0],v,y=S(),B,A,G,C,E,D,I;q&&(a[q]=f);if(xa(f))E=f,n=s||u;else for(I in n=s||w,E=[],f)ra.call(f,I)&&"$"!==I.charAt(0)&&E.push(I);B=E.length;I=Array(B);for(g=0;g<B;g++)if(A=f===E?g:E[g],G=f[A],C=n(A,G,g),m[C])D=m[C],delete m[C],y[C]=D,I[g]=D;else{if(y[C])throw p(I,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",k,C,G);I[g]={id:C,scope:void 0,clone:void 0};y[C]=!0}for(v in m){D=m[v];C=vb(D.clone);b.leave(C);if(C[0].parentNode)for(g=
0,n=C.length;g<n;g++)C[g].$$NG_REMOVED=!0;D.scope.$destroy()}for(g=0;g<B;g++)if(A=f===E?g:E[g],G=f[A],D=I[g],D.scope){v=r;do v=v.nextSibling;while(v&&v.$$NG_REMOVED);D.clone[0]!==v&&b.move(vb(D.clone),null,r);r=D.clone[D.clone.length-1];e(D.scope,g,t,G,z,A,B)}else l(function(a,c){D.scope=c;var d=h.cloneNode(!1);a[a.length++]=d;b.enter(a,null,r);r=d;D.clone=a;y[D.id]=D;e(D.scope,g,t,G,z,A,B)});m=y})}}}}],bf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,
function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ve=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],cf=Qa(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&p(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),df=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases=
{}}],link:function(d,c,e,f){var g=[],k=[],h=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;h.length;)a.cancel(h.pop());d=0;for(e=l.length;d<e;++d){var r=vb(k[d].clone);l[d].$destroy();(h[d]=a.leave(r)).done(m(h,d))}k.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&p(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");k.push({clone:d});a.enter(d,f.parent(),
f)})})})}}}],ef=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});p(a,function(a){c.cases["!"+a]=c.cases["!"+a]||[];c.cases["!"+a].push({transclude:e,element:b})})}}),ff=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),kh=M("ngTransclude"),
hf=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,k){function h(){d(a,function(a){b.append(a)})}if(!k)throw kh("orphan",Aa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;k(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d<f;d++){var g=a[d];if(g.nodeType!==Oa||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(h(),c.$destroy())},null,f);f&&!k.isSlotFilled(f)&&
h()}}}}],Je=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],lh={$setViewValue:C,$render:C},mh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;e.ngModelCtrl.$render()}))}function c(a){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Ib;e.selectValueMap={};e.ngModelCtrl=lh;
e.multiple=!1;e.unknownOption=B(u.document.createElement("option"));e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);a.prepend(e.unknownOption);Ga(e.unknownOption,!0);a.val(b)};e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);Ga(e.unknownOption,!0);a.val(b)};e.generateUnknownOptionValue=function(a){return"? "+Pa(a)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&
e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Ga(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&Ga(e.emptyOption,!1)};b.$on("$destroy",function(){e.renderUnknownOption=C});e.readValue=function(){var b=a.val(),b=b in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null};e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Ga(B(c),!1);e.hasOption(b)?(e.removeUnknownOption(),c=Pa(b),a.val(c in e.selectValueMap?
c:b),Ga(B(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(b)};e.addOption=function(a,b){if(8!==b[0].nodeType){Ia(a,'"option value"');""===a&&(e.hasEmptyOption=!0,e.emptyOption=b);var c=f.get(a)||0;f.set(a,c+1);d()}};e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))};e.hasOption=function(a){return!!f.get(a)};e.$hasEmptyOption=function(){return e.hasEmptyOption};e.$isUnknownOptionSelected=function(){return a[0].options[0]===
e.unknownOption[0]};e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&&a[0].options[a[0].selectedIndex]===e.emptyOption[0]};e.selectUnknownOrEmptyOption=function(a){null==a&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(a):e.renderUnknownOption(a)};var g=!1,k=!1;e.registerOption=function(a,b,f,g,k){if(f.$attr.ngValue){var p,r=NaN;f.$observe("value",function(a){var d,f=b.prop("selected");t(r)&&(e.removeOption(p),delete e.selectValueMap[r],
d=!0);r=Pa(a);p=a;e.selectValueMap[r]=a;e.addOption(a,b);b.attr("value",r);d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");t(p)&&(e.removeOption(p),d=!0);p=a;e.addOption(a,b);d&&f&&c()}):k?a.$watch(k,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d);e.addOption(a,b);d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){if("true"===a||a&&b.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});
b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b);d();(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Ke=function(){return{restrict:"E",require:["select","?ngModel"],controller:mh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var a=[];p(b.find("option"),function(b){b.selected&&!b.disabled&&
(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))});return a};e.writeValue=function(a){p(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Ga(B(b),c)})};var g,k=NaN;a.$watch(function(){k!==f.$viewValue||sa(g,f.$viewValue)||(g=ja(f.$viewValue),f.$render());k=f.$viewValue});f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=C},post:function(a,b,d,c){var e=
c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Le=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;t(d.ngValue)||(t(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text()));return function(a,b,d){var h=b.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&&h.registerOption(a,b,d,c,e)}}}}],ad=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=
function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},$c=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){D(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw M("ngPattern")("noregexp",f,a,Aa(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||w(e)||e.test(b)}}}}},cd=function(){return{restrict:"A",require:"?ngModel",
link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Z(a);e=T(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},bd=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Z(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};u.angular.bootstrap?u.console&&console.log("WARNING: Tried to load angular more than once."):
(Be(),Ee($),$.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,
minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),B(function(){we(u.document,Uc)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map

/*
 AngularJS v1.6.6
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(S,q){'use strict';function Ea(a,b,c){if(!a)throw Pa("areq",b||"?",c||"required");return a}function Fa(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;V(a)&&(a=a.join(" "));V(b)&&(b=b.join(" "));return a+" "+b}function Qa(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function W(a,b,c){var d="";a=V(a)?a:a&&C(a)&&a.length?a.split(/\s+/):[];t(a,function(a,f){a&&0<a.length&&(d+=0<f?" ":"",d+=c?b+a:a+b)});return d}function Ga(a){if(a instanceof A)switch(a.length){case 0:return a;
case 1:if(1===a[0].nodeType)return a;break;default:return A(ua(a))}if(1===a.nodeType)return A(a)}function ua(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType)return c}}function Ra(a,b,c){t(b,function(b){a.addClass(b,c)})}function Sa(a,b,c){t(b,function(b){a.removeClass(b,c)})}function X(a){return function(b,c){c.addClass&&(Ra(a,b,c.addClass),c.addClass=null);c.removeClass&&(Sa(a,b,c.removeClass),c.removeClass=null)}}function oa(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
O;a.domOperation=function(){a.$$domOperationFired=!0;b();b=O};a.$$prepared=!0}return a}function ha(a,b){Ha(a,b);Ia(a,b)}function Ha(a,b){b.from&&(a.css(b.from),b.from=null)}function Ia(a,b){b.to&&(a.css(b.to),b.to=null)}function T(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),f=(d.removeClass||"")+" "+(c.removeClass||"");a=Ta(a.attr("class"),e,f);c.preparationClasses&&(d.preparationClasses=ca(c.preparationClasses,d.preparationClasses),delete c.preparationClasses);
e=d.domOperation!==O?d.domOperation:null;va(d,c);e&&(d.domOperation=e);d.addClass=a.addClass?a.addClass:null;d.removeClass=a.removeClass?a.removeClass:null;b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function Ta(a,b,c){function d(a){C(a)&&(a=a.split(" "));var b={};t(a,function(a){a.length&&(b[a]=!0)});return b}var e={};a=d(a);b=d(b);t(b,function(a,b){e[b]=1});c=d(c);t(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};t(e,function(b,c){var d,e;1===b?(d="addClass",
e=!a[c]||a[c+"-remove"]):-1===b&&(d="removeClass",e=a[c]||a[c+"-add"]);e&&(f[d].length&&(f[d]+=" "),f[d]+=c)});return f}function J(a){return a instanceof A?a[0]:a}function Ua(a,b,c){var d="";b&&(d=W(b,"ng-",!0));c.addClass&&(d=ca(d,W(c.addClass,"-add")));c.removeClass&&(d=ca(d,W(c.removeClass,"-remove")));d.length&&(c.preparationClasses=d,a.addClass(d))}function pa(a,b){var c=b?"-"+b+"s":"";ka(a,[la,c]);return[la,c]}function wa(a,b){var c=b?"paused":"",d=Y+"PlayState";ka(a,[d,c]);return[d,c]}function ka(a,
b){a.style[b[0]]=b[1]}function ca(a,b){return a?b?a+" "+b:a:b}function Ja(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};t(c,function(a,b){var c=e[a];if(c){var l=c.charAt(0);if("-"===l||"+"===l||0<=l)c=Va(c);0===c&&(c=null);d[b]=c}});return d}function Va(a){var b=0;a=a.split(/\s*,\s*/);t(a,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function xa(a){return 0===a||null!=a}function Ka(a,b){var c=Q,d=a+"s";b?c+="Duration":
d+=" linear all";return[c,d]}function La(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ma(a,b,c){t(c,function(c){a[c]=ya(a[c])?a[c]:b.style.getPropertyValue(c)})}var Q,za,Y,Aa;void 0===S.ontransitionend&&void 0!==S.onwebkittransitionend?(Q="WebkitTransition",za="webkitTransitionEnd transitionend"):(Q="transition",za=
"transitionend");void 0===S.onanimationend&&void 0!==S.onwebkitanimationend?(Y="WebkitAnimation",Aa="webkitAnimationEnd animationend"):(Y="animation",Aa="animationend");var qa=Y+"Delay",Ba=Y+"Duration",la=Q+"Delay",Na=Q+"Duration",Pa=q.$$minErr("ng"),Wa={transitionDuration:Na,transitionDelay:la,transitionProperty:Q+"Property",animationDuration:Ba,animationDelay:qa,animationIterationCount:Y+"IterationCount"},Xa={transitionDuration:Na,transitionDelay:la,animationDuration:Ba,animationDelay:qa},Ca,va,
t,V,ya,Z,Da,ra,C,P,A,O;q.module("ngAnimate",[],function(){O=q.noop;Ca=q.copy;va=q.extend;A=q.element;t=q.forEach;V=q.isArray;C=q.isString;ra=q.isObject;P=q.isUndefined;ya=q.isDefined;Da=q.isFunction;Z=q.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,d,e,f,n){var G,l;b.$watchCollection(e.ngAnimateSwap||e["for"],function(e){G&&a.leave(G);l&&(l.$destroy(),l=null);
if(e||0===e)l=b.$new(),n(l,function(b){G=b;a.enter(b,null,d)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var f=d.ngAnimateChildren;C(f)&&0===f.length?c.data("$$ngAnimateChildren",!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a);c()}function c(){if(d.length){for(var b=d.shift(),n=0;n<b.length;n++)b[n]();
e||a(function(){e||c()})}}var d,e;d=b.queue=[];b.waitUntilQuiet=function(b){e&&e();e=a(function(){e=null;b();c()})};return b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);t(a,function(a){b[a]=!0});return b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c){return f[a].some(function(a){return a(b,c)})}function e(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||
"").length;return b?c&&d:c||d}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(a,b){return!a.structural&&e(a)});f.skip.push(function(a,b){return!a.structural&&!e(a)});f.skip.push(function(a,b){return"leave"===b.event&&a.structural});f.skip.push(function(a,b){return b.structural&&2===b.state&&!a.structural});f.cancel.push(function(a,b){return b.structural&&a.structural});f.cancel.push(function(a,b){return 2===b.state&&a.structural});f.cancel.push(function(a,b){if(b.structural)return!1;
var d=a.addClass,e=a.removeClass,f=b.addClass,sa=b.removeClass;return P(d)&&P(e)||P(f)&&P(sa)?!1:c(d,sa)||c(e,f)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(b,c,f,s,y,sa,da,v,E,g,M){function x(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0;b()})}}function H(a,b,c){var h=[],d=k[c];d&&t(d,function(d){u.call(d.node,b)?h.push(d.callback):"leave"===c&&
u.call(d.node,a)&&h.push(d.callback)});return h}function I(a,b,c){var h=ua(b);return a.filter(function(a){return!(a.node===h&&(!c||a.callback===c))})}function K(a,k,w){function K(a,c,h,k){s(function(){var a=H(na,p,c);a.length?b(function(){t(a,function(a){a(f,h,k)});"close"!==h||p.parentNode||ba.off(p)}):"close"!==h||p.parentNode||ba.off(p)});a.progress(c,h,k)}function I(a){var b=f,c=g;c.preparationClasses&&(b.removeClass(c.preparationClasses),c.preparationClasses=null);c.activeClasses&&(b.removeClass(c.activeClasses),
c.activeClasses=null);Oa(f,g);ha(f,g);g.domOperation();l.complete(!a)}var g=Ca(w),f=Ga(a),p=J(f),na=p&&p.parentNode,g=oa(g),l=new da,s=x();V(g.addClass)&&(g.addClass=g.addClass.join(" "));g.addClass&&!C(g.addClass)&&(g.addClass=null);V(g.removeClass)&&(g.removeClass=g.removeClass.join(" "));g.removeClass&&!C(g.removeClass)&&(g.removeClass=null);g.from&&!ra(g.from)&&(g.from=null);g.to&&!ra(g.to)&&(g.to=null);if(!(h&&p&&Ya(p,k,w)&&D(p,g)))return I(),l;var v=0<=["enter","move","leave"].indexOf(k),u=
M(),y=u||ga.get(p);w=!y&&z.get(p)||{};var E=!!w.state;y||E&&1===w.state||(y=!L(p,na,k));if(y)return u&&K(l,k,"start"),I(),u&&K(l,k,"close"),l;v&&ta(p);u={structural:v,element:f,event:k,addClass:g.addClass,removeClass:g.removeClass,close:I,options:g,runner:l};if(E){if(d("skip",u,w)){if(2===w.state)return I(),l;T(f,w,u);return w.runner}if(d("cancel",u,w))if(2===w.state)w.runner.end();else if(w.structural)w.close();else return T(f,w,u),w.runner;else if(d("join",u,w))if(2===w.state)T(f,u,{});else return Ua(f,
v?k:null,g),k=u.event=w.event,g=T(f,w,u),w.runner}else T(f,u,{});(E=u.structural)||(E="animate"===u.event&&0<Object.keys(u.options.to||{}).length||e(u));if(!E)return I(),m(p),l;var q=(w.counter||0)+1;u.counter=q;F(p,1,u);c.$$postDigest(function(){f=Ga(a);var b=z.get(p),c=!b,b=b||{},h=0<(f.parent()||[]).length&&("animate"===b.event||b.structural||e(b));if(c||b.counter!==q||!h){c&&(Oa(f,g),ha(f,g));if(c||v&&b.event!==k)g.domOperation(),l.end();h||m(p)}else k=!b.structural&&e(b,!0)?"setClass":b.event,
F(p,2),b=sa(f,k,b.options),l.setHost(b),K(l,k,"start",{}),b.done(function(a){I(!a);(a=z.get(p))&&a.counter===q&&m(p);K(l,k,"close",{})})});return l}function ta(a){a=a.querySelectorAll("[data-ng-animate]");t(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate"),10),c=z.get(a);if(c)switch(b){case 2:c.runner.end();case 1:z.delete(a)}})}function m(a){a.removeAttribute("data-ng-animate");z.delete(a)}function L(a,b,c){c=s[0].body;var h=J(f),k=a===c||"HTML"===a.nodeName,d=a===h,g=!1,e=ga.get(a),
p;for((a=A.data(a,"$ngAnimatePin"))&&(b=J(a));b;){d||(d=b===h);if(1!==b.nodeType)break;a=z.get(b)||{};if(!g){var H=ga.get(b);if(!0===H&&!1!==e){e=!0;break}else!1===H&&(e=!1);g=a.structural}if(P(p)||!0===p)a=A.data(b,"$$ngAnimateChildren"),ya(a)&&(p=a);if(g&&!1===p)break;k||(k=b===c);if(k&&d)break;if(!d&&(a=A.data(b,"$ngAnimatePin"))){b=J(a);continue}b=b.parentNode}return(!g||p)&&!0!==e&&d&&k}function F(a,b,c){c=c||{};c.state=b;a.setAttribute("data-ng-animate",b);c=(b=z.get(a))?va(b,c):c;z.set(a,c)}
var z=new y,ga=new y,h=null,p=c.$watch(function(){return 0===v.totalPendingRequests},function(a){a&&(p(),c.$$postDigest(function(){c.$$postDigest(function(){null===h&&(h=!0)})}))}),k=Object.create(null);y=a.customFilter();var na=a.classNameFilter();g=function(){return!0};var Ya=y||g,D=na?function(a,b){var c=[a.getAttribute("class"),b.addClass,b.removeClass].join(" ");return na.test(c)}:g,Oa=X(E),u=S.Node.prototype.contains||function(a){return this===a||!!(this.compareDocumentPosition(a)&16)},ba={on:function(a,
b,c){var h=ua(b);k[a]=k[a]||[];k[a].push({node:h,callback:c});A(b).on("$destroy",function(){z.get(h)||ba.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||C(arguments[0])){var h=k[a];h&&(k[a]=1===arguments.length?null:I(h,b,c))}else for(h in b=arguments[0],k)k[h]=I(k[h],b)},pin:function(a,b){Ea(Z(a),"element","not an element");Ea(Z(b),"parentElement","not an element");a.data("$ngAnimatePin",b)},push:function(a,b,c,h){c=c||{};c.domOperation=h;return K(a,b,c)},enabled:function(a,b){var c=arguments.length;
if(0===c)b=!!h;else if(Z(a)){var k=J(a);1===c?b=!ga.get(k):ga.set(k,!b)}else b=h=!!a;return b}};return ba}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(a,d,e,f,n,G){function l(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,e=d.parentNode;g.set(d,a);for(var f;e;){if(f=g.get(e)){f.processed||(f=b(f));break}e=e.parentNode}(f||c).children.push(a);
return a}var c={children:[]},d,g=new n;for(d=0;d<a.length;d++){var e=a[d];g.set(e.domNode,a[d]={domNode:e.domNode,fn:e.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var b=[],c=[],d;for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var g=0,e=[];for(d=0;d<c.length;d++){var f=c[d];0>=a&&(a=g,g=0,b.push(e),e=[]);e.push(f.fn);f.children.forEach(function(a){g++;c.push(a)});a--}e.length&&b.push(e);return b}(c)}var s=[],y=X(a);return function(n,q,v){function E(a){a=a.hasAttribute("ng-animate-ref")?
[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];t(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)});return b}function g(a){var b=[],c={};t(a,function(a,d){var k=J(a.element),g=0<=["enter","move"].indexOf(a.event),k=a.structural?E(k):[];if(k.length){var e=g?"to":"from";t(k,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{};c[b][e]={animationID:d,element:A(a)}})}else b.push(a)});var d={},g={};t(c,function(c,e){var f=c.from,p=c.to;if(f&&p){var H=a[f.animationID],
z=a[p.animationID],m=f.animationID.toString();if(!g[m]){var l=g[m]={structural:!0,beforeStart:function(){H.beforeStart();z.beforeStart()},close:function(){H.close();z.close()},classes:M(H.classes,z.classes),from:H,to:z,anchors:[]};l.classes.length?b.push(l):(b.push(H),b.push(z))}g[m].anchors.push({out:f.element,"in":p.element})}else f=f?f.animationID:p.animationID,p=f.toString(),d[p]||(d[p]=!0,b.push(a[f]))});return b}function M(a,b){a=a.split(" ");b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var g=
a[d];if("ng-"!==g.substring(0,3))for(var e=0;e<b.length;e++)if(g===b[e]){c.push(g);break}}return c.join(" ")}function x(a){for(var c=b.length-1;0<=c;c--){var d=e.get(b[c])(a);if(d)return d}}function H(a,b){function c(a){(a=a.data("$$animationRunner"))&&a.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function I(){var a=n.data("$$animationRunner");!a||"leave"===q&&v.$$domOperationFired||a.end()}function K(b){n.off("$destroy",I);n.removeData("$$animationRunner");y(n,v);ha(n,
v);v.domOperation();F&&a.removeClass(n,F);n.removeClass("ng-animate");m.complete(!b)}v=oa(v);var ta=0<=["enter","move","leave"].indexOf(q),m=new f({end:function(){K()},cancel:function(){K(!0)}});if(!b.length)return K(),m;n.data("$$animationRunner",m);var L=Fa(n.attr("class"),Fa(v.addClass,v.removeClass)),F=v.tempClasses;F&&(L+=" "+F,v.tempClasses=null);var z;ta&&(z="ng-"+q+"-prepare",a.addClass(n,z));s.push({element:n,classes:L,event:q,structural:ta,options:v,beforeStart:function(){n.addClass("ng-animate");
F&&a.addClass(n,F);z&&(a.removeClass(n,z),z=null)},close:K});n.on("$destroy",I);if(1<s.length)return m;d.$$postDigest(function(){var a=[];t(s,function(b){b.element.data("$$animationRunner")?a.push(b):b.close()});s.length=0;var b=g(a),c=[];t(b,function(a){c.push({domNode:J(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close;if((a.anchors?a.from.element||a.to.element:a.element).data("$$animationRunner")){var d=x(a);d&&(b=d.start)}b?(b=b(),b.done(function(a){c(!a)}),H(a,b)):
c()}})});G(l(c))});return m}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=La(),c=La();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,e,f,n,G,l,s,y){function q(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++M))+"-"+a.getAttribute("class")+"-"+b}function da(g,f,l,n){var m;0<b.count(l)&&(m=c.get(l),m||(f=W(f,"-stagger"),e.addClass(g,f),m=Ja(a,g,n),m.animationDuration=
Math.max(m.animationDuration,0),m.transitionDuration=Math.max(m.transitionDuration,0),e.removeClass(g,f),c.put(l,m)));return m||{}}function v(a){x.push(a);s.waitUntilQuiet(function(){b.flush();c.flush();for(var a=G(),d=0;d<x.length;d++)x[d](a);x.length=0})}function E(c,g,e){g=b.get(e);g||(g=Ja(a,c,Wa),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1));b.put(e,g);c=g;e=c.animationDelay;g=c.transitionDelay;c.maxDelay=e&&g?Math.max(e,g):e||g;c.maxDuration=Math.max(c.animationDuration*
c.animationIterationCount,c.transitionDuration);return c}var g=X(e),M=0,x=[];return function(a,c){function d(){m()}function s(){m(!0)}function m(b){if(!(M||ba&&u)){M=!0;u=!1;h.$$skipPreparationClasses||e.removeClass(a,fa);e.removeClass(a,ca);wa(k,!1);pa(k,!1);t(x,function(a){k.style[a[0]]=""});g(a,h);ha(a,h);Object.keys(p).length&&t(p,function(a,b){a?k.style.setProperty(b,a):k.style.removeProperty(b)});if(h.onDone)h.onDone();ea&&ea.length&&a.off(ea.join(" "),z);var c=a.data("$$animateCss");c&&(n.cancel(c[0].timer),
a.removeData("$$animateCss"));A&&A.complete(!b)}}function L(a){r.blockTransition&&pa(k,a);r.blockKeyframeAnimation&&wa(k,!!a)}function F(){A=new f({end:d,cancel:s});v(O);m();return{$$willAnimate:!1,start:function(){return A},end:d}}function z(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-T,0)>=P&&b>=N&&(ba=!0,m())}function ga(){function b(){if(!M){L(!1);t(x,function(a){k.style[a[0]]=a[1]});g(a,h);e.addClass(a,ca);
if(r.recalculateTimingStyles){ma=k.getAttribute("class")+" "+fa;ja=q(k,ma);B=E(k,ma,ja);$=B.maxDelay;w=Math.max($,0);N=B.maxDuration;if(0===N){m();return}r.hasTransitions=0<B.transitionDuration;r.hasAnimations=0<B.animationDuration}r.applyAnimationDelay&&($="boolean"!==typeof h.delay&&xa(h.delay)?parseFloat(h.delay):$,w=Math.max($,0),B.animationDelay=$,aa=[qa,$+"s"],x.push(aa),k.style[aa[0]]=aa[1]);P=1E3*w;S=1E3*N;if(h.easing){var d,f=h.easing;r.hasTransitions&&(d=Q+"TimingFunction",x.push([d,f]),
k.style[d]=f);r.hasAnimations&&(d=Y+"TimingFunction",x.push([d,f]),k.style[d]=f)}B.transitionDuration&&ea.push(za);B.animationDuration&&ea.push(Aa);T=Date.now();var l=P+1.5*S;d=T+l;var f=a.data("$$animateCss")||[],F=!0;if(f.length){var s=f[0];(F=d>s.expectedEndTime)?n.cancel(s.timer):f.push(m)}F&&(l=n(c,l,!1),f[0]={timer:l,expectedEndTime:d},f.push(m),a.data("$$animateCss",f));if(ea.length)a.on(ea.join(" "),z);h.to&&(h.cleanupStyles&&Ma(p,k,Object.keys(h.to)),Ia(a,h))}}function c(){var b=a.data("$$animateCss");
if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!M)if(k.parentNode){var d=function(a){if(ba)u&&a&&(u=!1,m());else if(u=!a,B.animationDuration)if(a=wa(k,u),u)x.push(a);else{var b=x,c=b.indexOf(a);0<=a&&b.splice(c,1)}},f=0<Z&&(B.transitionDuration&&0===U.transitionDuration||B.animationDuration&&0===U.animationDuration)&&Math.max(U.animationDelay,U.transitionDelay);f?n(b,Math.floor(f*Z*1E3),!1):b();C.resume=function(){d(!0)};C.pause=function(){d(!1)}}else m()}var h=c||{};h.$$prepared||
(h=oa(Ca(h)));var p={},k=J(a);if(!k||!k.parentNode||!y.enabled())return F();var x=[],G=a.attr("class"),D=Qa(h),M,u,ba,A,C,w,P,N,S,T,ea=[];if(0===h.duration||!l.animations&&!l.transitions)return F();var ia=h.event&&V(h.event)?h.event.join(" "):h.event,X="",R="";ia&&h.structural?X=W(ia,"ng-",!0):ia&&(X=ia);h.addClass&&(R+=W(h.addClass,"-add"));h.removeClass&&(R.length&&(R+=" "),R+=W(h.removeClass,"-remove"));h.applyClassesEarly&&R.length&&g(a,h);var fa=[X,R].join(" ").trim(),ma=G+" "+fa,ca=W(fa,"-active"),
G=D.to&&0<Object.keys(D.to).length;if(!(0<(h.keyframeStyle||"").length||G||fa))return F();var ja,U;0<h.stagger?(D=parseFloat(h.stagger),U={transitionDelay:D,animationDelay:D,transitionDuration:0,animationDuration:0}):(ja=q(k,ma),U=da(k,fa,ja,Xa));h.$$skipPreparationClasses||e.addClass(a,fa);h.transitionStyle&&(D=[Q,h.transitionStyle],ka(k,D),x.push(D));0<=h.duration&&(D=0<k.style[Q].length,D=Ka(h.duration,D),ka(k,D),x.push(D));h.keyframeStyle&&(D=[Y,h.keyframeStyle],ka(k,D),x.push(D));var Z=U?0<=
h.staggerIndex?h.staggerIndex:b.count(ja):0;(ia=0===Z)&&!h.skipBlocking&&pa(k,9999);var B=E(k,ma,ja),$=B.maxDelay;w=Math.max($,0);N=B.maxDuration;var r={};r.hasTransitions=0<B.transitionDuration;r.hasAnimations=0<B.animationDuration;r.hasTransitionAll=r.hasTransitions&&"all"===B.transitionProperty;r.applyTransitionDuration=G&&(r.hasTransitions&&!r.hasTransitionAll||r.hasAnimations&&!r.hasTransitions);r.applyAnimationDuration=h.duration&&r.hasAnimations;r.applyTransitionDelay=xa(h.delay)&&(r.applyTransitionDuration||
r.hasTransitions);r.applyAnimationDelay=xa(h.delay)&&r.hasAnimations;r.recalculateTimingStyles=0<R.length;if(r.applyTransitionDuration||r.applyAnimationDuration)N=h.duration?parseFloat(h.duration):N,r.applyTransitionDuration&&(r.hasTransitions=!0,B.transitionDuration=N,D=0<k.style[Q+"Property"].length,x.push(Ka(N,D))),r.applyAnimationDuration&&(r.hasAnimations=!0,B.animationDuration=N,x.push([Ba,N+"s"]));if(0===N&&!r.recalculateTimingStyles)return F();if(null!=h.delay){var aa;"boolean"!==typeof h.delay&&
(aa=parseFloat(h.delay),w=Math.max(aa,0));r.applyTransitionDelay&&x.push([la,aa+"s"]);r.applyAnimationDelay&&x.push([qa,aa+"s"])}null==h.duration&&0<B.transitionDuration&&(r.recalculateTimingStyles=r.recalculateTimingStyles||ia);P=1E3*w;S=1E3*N;h.skipBlocking||(r.blockTransition=0<B.transitionDuration,r.blockKeyframeAnimation=0<B.animationDuration&&0<U.animationDelay&&0===U.animationDuration);h.from&&(h.cleanupStyles&&Ma(p,k,Object.keys(h.from)),Ha(a,h));r.blockTransition||r.blockKeyframeAnimation?
L(N):h.skipBlocking||pa(k,!1);return{$$willAnimate:!0,end:d,start:function(){if(!M)return C={end:d,cancel:s,resume:null,pause:null},A=new f(C),v(ga),A}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,e,f,n,G){function l(a){return a.replace(/\bng-\S+\b/g,"")}function s(a,b){C(a)&&(a=a.split(" "));C(b)&&(b=b.split(" "));
return a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function y(c,f,e){function n(a){var b={},c=J(a).getBoundingClientRect();t(["width","height","top","left"],function(a){var d=c[a];switch(a){case "top":d+=v.scrollTop;break;case "left":d+=v.scrollLeft}b[a]=Math.floor(d)+"px"});return b}function G(){var c=l(e.attr("class")||""),d=s(c,m),c=s(m,c),d=a(y,{to:n(e),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function q(){y.remove();f.removeClass("ng-animate-shim");
e.removeClass("ng-animate-shim")}var y=A(J(f).cloneNode(!0)),m=l(y.attr("class")||"");f.addClass("ng-animate-shim");e.addClass("ng-animate-shim");y.addClass("ng-anchor");E.append(y);var L;c=function(){var c=a(y,{addClass:"ng-anchor-out",delay:!0,from:n(f)});return c.$$willAnimate?c:null}();if(!c&&(L=G(),!L))return q();var F=c||L;return{start:function(){function a(){c&&c.end()}var b,c=F.start();c.done(function(){c=null;if(!L&&(L=G()))return c=L.start(),c.done(function(){c=null;q();b.complete()}),c;
q();b.complete()});return b=new d({end:a,cancel:a})}}}function q(a,b,c,f){var e=da(a,O),l=da(b,O),n=[];t(f,function(a){(a=y(c,a.out,a["in"]))&&n.push(a)});if(e||l||0!==n.length)return{start:function(){function a(){t(b,function(a){a.end()})}var b=[];e&&b.push(e.start());l&&b.push(l.start());t(n,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});d.all(b,function(a){c.complete(a)});return c}}}function da(c){var d=c.element,e=c.options||{};c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=
!0,"leave"===c.event&&(e.onDone=e.domOperation));e.preparationClasses&&(e.event=ca(e.event,e.preparationClasses));c=a(d,e);return c.$$willAnimate?c:null}if(!f.animations&&!f.transitions)return O;var v=G[0].body;c=J(e);var E=A(c.parentNode&&11===c.parentNode.nodeType||v.contains(c)?c:v);return function(a){return a.from&&a.to?q(a.from,a.to,a.classes,a.anchors):da(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=
V(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var y=c[f],q=a.$$registeredAnimations[y];q&&!e[y]&&(d.push(b.get(q)),e[y]=!0)}return d}var f=X(d);return function(a,b,d,s){function q(){s.domOperation();f(a,s)}function A(a,b,d,e,f){switch(d){case "animate":b=[b,e.from,e.to,f];break;case "setClass":b=[b,g,M,f];break;case "addClass":b=[b,g,f];break;case "removeClass":b=[b,M,f];break;default:b=[b,f]}b.push(e);if(a=a.apply(a,b))if(Da(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Da(a))return a;
return O}function C(a,b,d,e,f){var g=[];t(e,function(e){var l=e[f];l&&g.push(function(){var e,f,h=!1,g=function(a){h||(h=!0,(f||O)(a),e.complete(!a))};e=new c({end:function(){g()},cancel:function(){g(!0)}});f=A(l,a,b,d,function(a){g(!1===a)});return e})});return g}function v(a,b,d,e,f){var g=C(a,b,d,e,f);if(0===g.length){var k,l;"beforeSetClass"===f?(k=C(a,"removeClass",d,e,"beforeRemoveClass"),l=C(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(k=C(a,"removeClass",d,e,"removeClass"),l=C(a,"addClass",
d,e,"addClass"));k&&(g=g.concat(k));l&&(g=g.concat(l))}if(0!==g.length)return function(a){var b=[];g.length&&t(g,function(a){b.push(a())});b.length?c.all(b,a):a();return function(a){t(b,function(b){a?b.cancel():b.end()})}}}var E=!1;3===arguments.length&&ra(d)&&(s=d,d=null);s=oa(s);d||(d=a.attr("class")||"",s.addClass&&(d+=" "+s.addClass),s.removeClass&&(d+=" "+s.removeClass));var g=s.addClass,M=s.removeClass,x=e(d),H,I;if(x.length){var K,J;"leave"===b?(J="leave",K="afterLeave"):(J="before"+b.charAt(0).toUpperCase()+
b.substr(1),K=b);"enter"!==b&&"move"!==b&&(H=v(a,b,s,x,J));I=v(a,b,s,x,K)}if(H||I){var m;return{$$willAnimate:!0,end:function(){m?m.end():(E=!0,q(),ha(a,s),m=new c,m.complete(!0));return m},start:function(){function b(c){E=!0;q();ha(a,s);m.complete(c)}if(m)return m;m=new c;var d,e=[];H&&e.push(function(a){d=H(a)});e.length?e.push(function(a){q();a(!0)}):q();I&&e.push(function(a){d=I(a)});m.setHost({end:function(){E||((d||O)(void 0),b(void 0))},cancel:function(){E||((d||O)(!0),b(!0))}});c.chain(e,
b);return m}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(a.from&&a.to){var b=d(a.from),n=d(a.to);if(b||n)return{start:function(){function a(){return function(){t(d,function(a){a.end()})}}var d=[];b&&d.push(b.start());n&&d.push(n.start());c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});
return e}}}else return d(a)}}]}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

/*
 AngularJS v1.6.6
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(s,p){'use strict';var c="BUTTON A INPUT TEXTAREA SELECT DETAILS SUMMARY".split(" "),h=function(a,b){if(-1!==b.indexOf(a[0].nodeName))return!0};p.module("ngAria",["ng"]).info({angularVersion:"1.6.6"}).provider("$aria",function(){function a(a,c,n,k){return function(d,f,e){var g=e.$normalize(c);!b[g]||h(f,n)||e[g]||d.$watch(e[a],function(a){a=k?!a:!!a;f.attr(c,a)})}}var b={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,
bindRoleForClick:!0};this.config=function(a){b=p.extend(b,a)};this.$get=function(){return{config:function(a){return b[a]},$$watchExpr:a}}}).directive("ngShow",["$aria",function(a){return a.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(a){return a.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(a){return a.$$watchExpr("ngValue","aria-checked",c,!1)}]).directive("ngChecked",["$aria",function(a){return a.$$watchExpr("ngChecked","aria-checked",
c,!1)}]).directive("ngReadonly",["$aria",function(a){return a.$$watchExpr("ngReadonly","aria-readonly",c,!1)}]).directive("ngRequired",["$aria",function(a){return a.$$watchExpr("ngRequired","aria-required",c,!1)}]).directive("ngModel",["$aria",function(a){function b(b,k,d,f){return a.config(k)&&!d.attr(b)&&(f||!h(d,c))}function l(a,b){return!b.attr("role")&&b.attr("type")===a&&!h(b,c)}function m(a,b){var d=a.type,f=a.role;return"checkbox"===(d||f)||"menuitemcheckbox"===f?"checkbox":"radio"===(d||
f)||"menuitemradio"===f?"radio":"range"===d||"progressbar"===f||"slider"===f?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(c,k){var d=m(k,c);return{post:function(f,e,g,c){function k(){return c.$modelValue}function h(a){e.attr("aria-checked",g.value==c.$viewValue)}function m(){e.attr("aria-checked",!c.$isEmpty(c.$viewValue))}var n=b("tabindex","tabindex",e,!1);switch(d){case "radio":case "checkbox":l(d,e)&&e.attr("role",d);b("aria-checked","ariaChecked",e,!1)&&f.$watch(k,
"radio"===d?h:m);n&&e.attr("tabindex",0);break;case "range":l(d,e)&&e.attr("role","slider");if(a.config("ariaValue")){var p=!e.attr("aria-valuemin")&&(g.hasOwnProperty("min")||g.hasOwnProperty("ngMin")),q=!e.attr("aria-valuemax")&&(g.hasOwnProperty("max")||g.hasOwnProperty("ngMax")),r=!e.attr("aria-valuenow");p&&g.$observe("min",function(a){e.attr("aria-valuemin",a)});q&&g.$observe("max",function(a){e.attr("aria-valuemax",a)});r&&f.$watch(k,function(a){e.attr("aria-valuenow",a)})}n&&e.attr("tabindex",
0)}!g.hasOwnProperty("ngRequired")&&c.$validators.required&&b("aria-required","ariaRequired",e,!1)&&g.$observe("required",function(){e.attr("aria-required",!!g.required)});b("aria-invalid","ariaInvalid",e,!0)&&f.$watch(function(){return c.$invalid},function(a){e.attr("aria-invalid",!!a)})}}}}}]).directive("ngDisabled",["$aria",function(a){return a.$$watchExpr("ngDisabled","aria-disabled",c,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(a,b,c,h){b.attr("aria-live")||
b.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(a,b){return{restrict:"A",compile:function(l,m){var n=b(m.ngClick);return function(b,d,f){if(!h(d,c)&&(a.config("bindRoleForClick")&&!d.attr("role")&&d.attr("role","button"),a.config("tabindex")&&!d.attr("tabindex")&&d.attr("tabindex",0),a.config("bindKeydown")&&!f.ngKeydown&&!f.ngKeypress&&!f.ngKeyup))d.on("keydown",function(a){function c(){n(b,{$event:a})}var d=a.which||a.keyCode;32!==d&&13!==d||b.$apply(c)})}}}}]).directive("ngDblclick",
["$aria",function(a){return function(b,l,m){!a.config("tabindex")||l.attr("tabindex")||h(l,c)||l.attr("tabindex",0)}}])})(window,window.angular);
//# sourceMappingURL=angular-aria.min.js.map

/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.core.animate","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.chips","material.components.checkbox","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.icon","material.components.gridList","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function e(e,t){if(t.has("$swipe")){var n="You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!";e.warn(n)}}function n(e,t){e.decorator("$$rAF",["$delegate",o]),e.decorator("$q",["$delegate",i]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function o(e){return e.throttle=function(t){var n,o,i,r;return function(){n=arguments,r=this,i=t,o||(o=!0,e(function(){i.apply(r,Array.prototype.slice.call(n)),o=!1}))}},e}function i(e){return e.resolve||(e.resolve=e.when),e}e.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],o.$inject=["$delegate"],i.$inject=["$delegate"],t.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(e)}(),function(){function e(e){function n(n,o,i){function r(e){t.isUndefined(e)&&(e=!0),o.toggleClass("md-autofocus",!!e)}var a=i.mdAutoFocus||i.mdAutofocus||i.mdSidenavFocus;r(e(a)(n)),a&&n.$watch(a,r)}return{restrict:"A",link:{pre:n}}}e.$inject=["$parse"],t.module("material.core").directive("mdAutofocus",e).directive("mdAutoFocus",e).directive("mdSidenavFocus",e)}(),function(){function e(){function e(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,o=t.substr(0,n),i=t.substr(n,n),r=t.substr(2*n);return 1===n&&(o+=o,i+=i,r+=r),"rgba("+parseInt(o,16)+","+parseInt(i,16)+","+parseInt(r,16)+",0.1)"}function t(e){e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);var t=e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"";return t.toUpperCase()}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}function o(e){return e?e.replace("rgba","rgb").replace(/,[^\),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:t,hexToRgba:e,rgbToRgba:n,rgbaToRgb:o}}t.module("material.core").factory("$mdColorUtil",e)}(),function(){function e(){function e(e){var t=a+"-"+e,i=o(t),d=i.charAt(0).toLowerCase()+i.substring(1);return n(r,e)?e:n(r,i)?i:n(r,d)?d:e}function n(e,n){return t.isDefined(e.style[n])}function o(e){return e.replace(s,function(e,t,n,o){return o?n.toUpperCase():n})}function i(e){var t,n,o=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=o.exec(t))return n[0]}var r=document.createElement("div"),a=i(r),d=/webkit/i.test(a),s=/([:\-_]+(.))/g,c={isInputKey:function(e){return e.keyCode>=31&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&e.keyCode>=97&&e.keyCode<=105},isMetaKey:function(e){return e.keyCode>=91&&e.keyCode<=93},isFnLockKey:function(e){return e.keyCode>=112&&e.keyCode<=145},isNavigationKey:function(e){var t=c.KEY_CODE,n=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW];return n.indexOf(e.keyCode)!=-1},hasModifierKey:function(e){return e.ctrlKey||e.metaKey||e.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(d?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(d?" webkitAnimationEnd":""),TRANSFORM:e("transform"),TRANSFORM_ORIGIN:e("transformOrigin"),TRANSITION:e("transition"),TRANSITION_DURATION:e("transitionDuration"),ANIMATION_PLAY_STATE:e("animationPlayState"),ANIMATION_DURATION:e("animationDuration"),ANIMATION_NAME:e("animationName"),ANIMATION_TIMING:e("animationTimingFunction"),ANIMATION_DIRECTION:e("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return c}t.module("material.core").factory("$mdConstant",e)}(),function(){function e(e,n){function o(){return[].concat(v)}function i(){return v.length}function r(e){return v.length&&e>-1&&e<v.length}function a(e){return!!e&&r(u(e)+1)}function d(e){return!!e&&r(u(e)-1)}function s(e){return r(e)?v[e]:null}function c(e,t){return v.filter(function(n){return n[e]===t})}function l(e,n){return e?(t.isNumber(n)||(n=v.length),v.splice(n,0,e),u(e)):-1}function m(e){p(e)&&v.splice(u(e),1)}function u(e){return v.indexOf(e)}function p(e){return e&&u(e)>-1}function h(){return v.length?v[0]:null}function f(){return v.length?v[v.length-1]:null}function g(e,o,i,a){i=i||b;for(var d=u(o);;){if(!r(d))return null;var s=d+(e?-1:1),c=null;if(r(s)?c=v[s]:n&&(c=e?f():h(),s=u(c)),null===c||s===a)return null;if(i(c))return c;t.isUndefined(a)&&(a=s),d=s}}var b=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var v=e||[];return{items:o,count:i,inRange:r,contains:p,indexOf:u,itemAt:s,findBy:c,add:l,remove:m,first:h,last:f,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:d,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,o){function i(e){var n=u[e];t.isUndefined(n)&&(n=u[e]=r(e));var o=h[n];return t.isUndefined(o)&&(o=a(n)),o}function r(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=p[e];return t||(t=p[e]=o.matchMedia(e)),t.addListener(d),h[t.media]=!!t.matches}function d(e){n.$evalAsync(function(){h[e.media]=!!e.matches})}function s(e){return p[e]}function c(t,n){for(var o=0;o<e.MEDIA_PRIORITY.length;o++){var i=e.MEDIA_PRIORITY[o];if(p[u[i]].matches){var r=m(t,n+"-"+i);if(t[r])return t[r]}}return t[m(t,n)]}function l(n,o,i){var r=[];return n.forEach(function(n){var a=m(o,n);t.isDefined(o[a])&&r.push(o.$observe(a,t.bind(void 0,i,null)));for(var d in e.MEDIA)a=m(o,n+"-"+d),t.isDefined(o[a])&&r.push(o.$observe(a,t.bind(void 0,i,d)))}),function(){r.forEach(function(e){e()})}}function m(e,t){return f[t]||(f[t]=e.$normalize(t))}var u={},p={},h={},f={};return i.getResponsiveAttribute=c,i.getQuery=s,i.watchResponsiveAttributes=l,i}e.$inject=["$mdConstant","$rootScope","$window"],t.module("material.core").factory("$mdMedia",e)}(),function(){function e(e,n){function o(e){return e=t.isArray(e)?e:[e],e.forEach(function(t){s.forEach(function(n){e.push(n+"-"+t)})}),e}function i(e){return e=t.isArray(e)?e:[e],o(e).map(function(e){return"["+e+"]"}).join(",")}function r(e,t){if(e=d(e),!e)return!1;for(var n=o(t),i=0;i<n.length;i++)if(e.hasAttribute(n[i]))return!0;return!1}function a(e,t){e=d(e),e&&o(t).forEach(function(t){e.removeAttribute(t)})}function d(e){if(e=e[0]||e,e.nodeType)return e}var s=["data","x"];return e?n?i(e):o(e):{buildList:o,buildSelector:i,hasAttribute:r,removeAttribute:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.prefixer=e,t}])}])}(),function(){function o(o,r,a,d,s,c,l,m,u,p){function h(e){return e?f(e)||g(e)?e:e+"px":"0"}function f(e){return String(e).indexOf("px")>-1}function g(e){return String(e).indexOf("%")>-1}function b(e){return e[0]||e}var v=c.startSymbol(),E=c.endSymbol(),$="{{"===v&&"}}"===E,y=function(e,n,o){var i=!1;if(e&&e.length){var r=u.getComputedStyle(e[0]);i=t.isDefined(r[n])&&(!o||r[n]==o)}return i},C={dom:{},now:e.performance&&e.performance.now?t.bind(e.performance,e.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,n,i,r){var a=!("rtl"==o[0].dir||"rtl"==o[0].body.dir);if(0==arguments.length)return a?"ltr":"rtl";var d=t.element(e);a&&t.isDefined(i)?d.css(n,h(i)):!a&&t.isDefined(r)&&d.css(n,h(r))},bidiProperty:function(e,n,i,r){var a=!("rtl"==o[0].dir||"rtl"==o[0].body.dir),d=t.element(e);a&&t.isDefined(n)?(d.css(n,h(r)),d.css(i,"")):!a&&t.isDefined(i)&&(d.css(i,h(r)),d.css(n,""))},clientRect:function(e,t,n){var o=b(e);t=b(t||o.offsetParent||document.body);var i=o.getBoundingClientRect(),r=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-r.left,top:i.top-r.top,width:i.width,height:i.height}},offsetRect:function(e,t){return C.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return e.scrollY||e.pageYOffset||0},findFocusTarget:function(e,n){function o(e,n){var o,i=e[0].querySelectorAll(n);return i&&i.length&&i.length&&t.forEach(i,function(e){e=t.element(e);var n=e.hasClass("md-autofocus");n&&(o=e)}),o}var i,r=this.prefixer("md-autofocus",!0);return i=o(e,n||r),i||n==r||(i=o(e,this.prefixer("md-auto-focus",!0)),i||(i=o(e,r))),i},disableScrollAround:function(e,n,i){function r(e){function n(e){e.preventDefault()}e=t.element(e||d);var o;return i.disableScrollMask?o=e:(o=t.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(o)),o.on("wheel",n),o.on("touchmove",n),function(){o.off("wheel"),o.off("touchmove"),!i.disableScrollMask&&o[0].parentNode&&o[0].parentNode.removeChild(o[0])}}function a(){var e=o[0].documentElement,n=e.style.cssText||"",i=d.style.cssText||"",r=C.getViewportTop(),a=d.clientWidth,s=d.scrollHeight>d.clientHeight+1,c=e.scrollTop>0?e:d;return s&&t.element(d).css({position:"fixed",width:"100%",top:-r+"px"}),d.clientWidth<a&&(d.style.overflow="hidden"),s&&(e.style.overflowY="scroll"),function(){d.style.cssText=i,e.style.cssText=n,c.scrollTop=r}}if(i=i||{},C.disableScrollAround._count=Math.max(0,C.disableScrollAround._count||0),C.disableScrollAround._count++,C.disableScrollAround._restoreScroll)return C.disableScrollAround._restoreScroll;var d=o[0].body,s=a(),c=r(n);return C.disableScrollAround._restoreScroll=function(){--C.disableScrollAround._count<=0&&(s(),c(),delete C.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),o[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function i(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",i))},!0);var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),o.$material=!0,o.$focus=!0,n.dispatchEvent(o)},createBackdrop:function(e,t){return a(C.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var o=n.split("."),i=t;try{for(var r in o)o.hasOwnProperty(r)&&(i=i[o[r]])}catch(a){i=e}return"string"==typeof i||"number"==typeof i?i:e})},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,o,i){var a;return function(){var d=o,s=Array.prototype.slice.call(arguments);r.cancel(a),a=r(function(){a=n,e.apply(d,s)},t||10,i)}},throttle:function(e,t){var n;return function(){var o=this,i=arguments,r=C.now();(!n||r-n>t)&&(e.apply(o,i),n=r)}},time:function(e){var t=C.now();return e(),C.now()-t},valueOnUse:function(e,t,n){var o=null,i=Array.prototype.slice.call(arguments),r=i.length>3?i.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===o&&(o=n.apply(e,r)),o}})},nextUid:function(){return""+i++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,o){if(t.isString(n)){var i=n.toUpperCase();n=function(e){return e.nodeName.toUpperCase()===i}}if(e instanceof t.element&&(e=e[0]),o&&(e=e.parentNode),!e)return null;do if(n(e))return e;while(e=e.parentNode);return null},elementContains:function(n,o){var i=e.Node&&e.Node.prototype&&Node.prototype.contains,r=i?t.bind(n,n.contains):t.bind(n,function(e){return n===o||!!(16&this.compareDocumentPosition(e))});return r(o)},extractElementByName:function(e,n,o,i){function r(e){return a(e)||(o?d(e):null)}function a(e){if(e)for(var t=0,o=e.length;t<o;t++)if(e[t].nodeName.toLowerCase()===n)return e[t];return null}function d(e){var t;if(e)for(var n=0,o=e.length;n<o;n++){var i=e[n];if(!t)for(var a=0,d=i.childNodes.length;a<d;a++)t=t||r([i.childNodes[a]])}return t}var s=r(e);return!s&&i&&l.warn(C.supplant("Unable to find node '{0}' in element '{1}'.",[n,e[0].outerHTML])),t.element(s||e)},initOptionalProperties:function(e,n,o){o=o||{},t.forEach(e.$$isolateBindings,function(i,r){if(i.optional&&t.isUndefined(e[r])){var a=t.isDefined(n[i.attrName]);e[r]=t.isDefined(o[r])?o[r]:a}})},nextTick:function(e,t,n){function o(){var e=i.queue,t=i.digest;i.queue=[],i.timeout=null,i.digest=!1,e.forEach(function(e){var t=e.scope&&e.scope.$$destroyed;t||e.callback()}),t&&d.$digest()}var i=C.nextTick,a=i.timeout,s=i.queue||[];return s.push({scope:n,callback:e}),null==t&&(t=!0),i.digest=i.digest||t,i.queue=s,a||(i.timeout=r(o,0,!1))},processTemplate:function(e){return $?e:e&&t.isString(e)?e.replace(/\{\{/g,v).replace(/}}/g,E):e},getParentWithPointerEvents:function(e){for(var t=e.parent();y(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==m[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,n=t.element("<div>");o[0].body.appendChild(n[0]);for(var i=["sticky","-webkit-sticky"],r=0;r<i.length;++r)if(n.css({position:i[r],top:0,"z-index":2}),n.css("position")==i[r]){e=i[r];break}return n.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(t===!1||"false"!==e&&"0"!==e)},hasComputedStyle:y,isParentFormSubmitted:function(e){var n=C.getClosest(e,"form"),o=n?t.element(n).controller("form"):null;return!!o&&o.$submitted},animateScrollTo:function(e,t,n){function o(){var n=i();e.scrollTop=n,(s?n<t:n>t)&&p(o)}function i(){var e=n||1e3,t=C.now()-c;return r(t,a,d,e)}function r(e,t,n,o){if(e>o)return t+n;var i=(e/=o)*e,r=i*e;return t+n*(-2*r+3*i)}var a=e.scrollTop,d=t-a,s=a<t,c=C.now();p(o)},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})}};return C.dom.animator=s(C),C}o.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var i=0;t.module("material.core").factory("$mdUtil",o),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(){function e(){t.showWarnings=!1}var t={showWarnings:!0};return{disableWarnings:e,$get:["$$rAF","$log","$window","$interpolate",function(e,o,i,r){return n.apply(t,arguments)}]}}function n(e,n,o,i){function r(e,o,i){var r=t.element(e)[0]||e;!r||r.hasAttribute(o)&&0!==r.getAttribute(o).length||l(r,o)||(i=t.isString(i)?i.trim():"",i.length?e.attr(o,i):p&&n.warn('ARIA: Attribute "',o,'", required for accessibility, is missing on node:',r))}function a(t,n,o){e(function(){r(t,n,o())})}function d(e,t){var n=c(e)||"",o=n.indexOf(i.startSymbol())>-1;o?a(e,t,function(){return c(e)}):r(e,t,n)}function s(e,t){var n=c(e),o=n.indexOf(i.startSymbol())>-1;o||n||r(e,t,n)}function c(e){function t(t){for(;t.parentNode&&(t=t.parentNode)!==e;)if(t.getAttribute&&"true"===t.getAttribute("aria-hidden"))return!0}e=e[0]||e;for(var n,o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),i="";n=o.nextNode();)t(n)||(i+=n.textContent);return i.trim()||""}function l(e,t){function n(e){var t=e.currentStyle?e.currentStyle:o.getComputedStyle(e);return"none"===t.display}var i=e.hasChildNodes(),r=!1;if(i)for(var a=e.childNodes,d=0;d<a.length;d++){var s=a[d];1===s.nodeType&&s.hasAttribute(t)&&(n(s)||(r=!0))}return r}function m(e){var n=t.element(e)[0]||e;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}function u(e,n){function o(e){if(!m(e))return!1;if(e.hasAttribute("role"))switch(e.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(e.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}n=n||1;var i=t.element(e)[0]||e;return!!i.parentNode&&(!!o(i.parentNode)||(n--,!!n&&u(i.parentNode,n)))}var p=this.showWarnings;return{expect:r,expectAsync:a,expectWithText:d,expectWithoutText:s,getText:c,hasAriaLabel:m,parentHasAriaLabel:u}}n.$inject=["$$rAF","$log","$window","$interpolate"],t.module("material.core").provider("$mdAria",e)}(),function(){function e(e){function n(){return!i||("function"==typeof e.preAssignBindingsEnabled?e.preAssignBindingsEnabled():1===t.version.major&&t.version.minor<6)}function o(e,t,n,o,i){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=o,this.$controller=i}var i=!1;this.respectPreAssignBindingsEnabled=function(e){return t.isDefined(e)?(i=e,this):i},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(e,t,n,i,r){return new o(e,t,n,i,r)}],o.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},o.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},o.prototype._compileTemplate=function(e){var n=this,o=e.templateUrl,i=e.template||"",r=t.extend({},e.resolve),a=t.extend({},e.locals),d=e.transformTemplate||t.identity;return t.forEach(r,function(e,o){t.isString(e)?r[o]=n.$injector.get(e):r[o]=n.$injector.invoke(e)}),t.extend(r,a),o?r.$$ngTemplate=this.$templateRequest(o):r.$$ngTemplate=this.$q.when(i),this.$q.all(r).then(function(o){var i=d(o.$$ngTemplate,e),r=e.element||t.element("<div>").html(i.trim()).contents();return n._compileElement(o,r,e)})},o.prototype._compileElement=function(e,n,o){function i(i){if(e.$scope=i,o.controller){var s=t.extend({},e,{$element:n}),c=r._createController(o,s,e);n.data("$ngControllerController",c),n.children().data("$ngControllerController",c),d.controller=c}return a(i)}var r=this,a=this.$compile(n),d={element:n,cleanup:n.remove.bind(n),locals:e,link:i};return d},o.prototype._createController=function(e,o,i){var r=this.$controller(e.controller,o,!0,e.controllerAs);n()&&e.bindToController&&t.extend(r.instance,i);var a=r();return!n()&&e.bindToController&&t.extend(r.instance,i),t.isFunction(a.$onInit)&&a.$onInit(),a},o.prototype._fetchContentElement=function(e){function n(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}var o=e.contentElement,i=null;return t.isString(o)?(o=document.querySelector(o),i=n(o)):(o=o[0]||o,i=document.contains(o)?n(o):function(){o.parentNode&&o.parentNode.removeChild(o)}),{element:t.element(o),restore:i}}}t.module("material.core").provider("$mdCompiler",e),e.$inject=["$compileProvider"]}(),function(){function n(){}function o(n,o,i){function r(e){return function(t,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(t,e,n)}}function a(e,t,n){var o=f[t.replace(/^\$md./,"")];if(!o)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(f).join(", "));return o.registerElement(e,n)}function s(e,o){var i=new n(e);return t.extend(i,o),f[e]=i,$}function c(){for(var e=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],o=0;o<n.length;o++){var i=n[o],r=i?i+"TouchAction":"touchAction";if(t.isDefined(e.style[r]))return r}}var m=navigator.userAgent||navigator.vendor||e.opera,p=m.match(/ipad|iphone|ipod/i),h=m.match(/android/i),v=c(),E="undefined"!=typeof e.jQuery&&t.element===e.jQuery,$={handler:s,register:a,isHijackingClicks:(p||h)&&!E&&!g};return $.isHijackingClicks&&($.handler("click",{options:{maxDistance:b},onEnd:r("click")}),$.handler("focus",{options:{maxDistance:b},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&u(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),$.handler("mouseup",{options:{maxDistance:b},onEnd:r("mouseup")}),$.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})),$.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){i.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=i(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){v||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,o=this.state.pos.y-t.y;Math.sqrt(n*n+o*o)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){v&&(this.oldTouchAction=e[0].style[v],e[0].style[v]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[v]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,o;v||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,o=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,o=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=d(e),l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):o&&this.cancel())},dispatchDragMove:o.throttle(function(e){this.state.isRunning&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function i(e){this.name=e,this.state={}}function r(){function n(e,n,o){o=o||p;var i=new t.element.Event(n);i.$material=!0,i.pointer=o,i.srcEvent=e,t.extend(i,{clientX:o.x,clientY:o.y,screenX:o.x,screenY:o.y,pageX:o.x,pageY:o.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(o.target).trigger(i)}function o(t,n,o){o=o||p;var i;"click"===n||"mouseup"==n||"mousedown"==n?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,!0,!0,e,t.detail,o.x,o.y,o.x,o.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(n,!0,!0,{})),i.$material=!0,i.pointer=o,i.srcEvent=t,o.target.dispatchEvent(i)}var r="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return i.prototype={options:{},dispatchEvent:r?n:o,onSetup:t.noop,onCleanup:t.noop,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var o=this.getNearestParent(e.target),i=o&&o.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,i),registeredParent:o},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[o.name],e.off("$destroy",n),o.onCleanup(e,t||{})}var o=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),o.onSetup(e,t||{}),n}},i}function a(e,n){function o(e){var t=!e.clientX&&!e.clientY;t||e.$material||e.isIonicTap||c(e)||"mousedown"===e.type&&(u(e.target)||u(document.activeElement))||(e.preventDefault(),e.stopPropagation())}function i(e){var t=0===e.clientX&&0===e.clientY,n=e.target&&"submit"===e.target.type;t||e.$material||e.isIonicTap||c(e)||n?(v=null,"label"==e.target.tagName.toLowerCase()&&(v={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),v=null)}function r(e,t){var o;for(var i in f)o=f[i],o instanceof n&&("start"===e&&o.cancel(),o[e](t,p))}function a(e){if(!p){var t=+Date.now();h&&!s(e,h)&&t-h.endTime<1500||(p=d(e),r("start",e))}}function m(e){p&&s(e,p)&&(l(e,p),r("move",e))}function g(e){p&&s(e,p)&&(l(e,p),p.endTime=+Date.now(),"pointercancel"!==e.type&&r("end",e),h=p,p=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!E&&e.isHijackingClicks&&(document.addEventListener("click",i,!0),document.addEventListener("mouseup",o,!0),document.addEventListener("mousedown",o,!0),document.addEventListener("focus",o,!0),E=!0);var b="mousedown touchstart pointerdown",$="mousemove touchmove pointermove",y="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(b,a).on($,m).on(y,g).on("$$mdGestureReset",function(){h=p=null})}function d(e){var t=m(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function s(e,t){return e&&t&&e.type.charAt(0)===t.type}function c(e){return v&&v.x==e.x&&v.y==e.y}function l(e,t){var n=m(e),o=t.x=n.pageX,i=t.y=n.pageY;t.distanceX=o-t.startX,t.distanceY=i-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"down":t.distanceY<0?"up":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function m(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function u(e){return!!e&&"-1"!=e.getAttribute("tabindex")&&!e.hasAttribute("disabled")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(e.nodeName)!=-1)}o.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"];var p,h,f={},g=!1,b=6,v=null,E=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",r).run(a),n.prototype={skipClickHijack:function(){return g=!0},setMaxClickDistance:function(e){b=parseInt(e)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new o(e,t,n)}]}}(),function(){function n(e,n){this.$timeout=e,this.$mdUtil=n,this.bodyElement=t.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents()}n.$inject=["$timeout","$mdUtil"],t.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.initializeEvents=function(){var t="MSPointerEvent"in e?"MSPointerDown":"PointerEvent"in e?"pointerdown":null;this.bodyElement.on("keydown mousedown",this.onInputEvent.bind(this)),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.onBufferInputEvent.bind(this)),t&&this.bodyElement.on(t,this.onInputEvent.bind(this))},n.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1);
},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(e){var n=t.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){function e(){function e(e){function n(e){return s.optionsFactory=e.options,s.methods=(e.methods||[]).concat(a),c}function o(e,t){return d[e]=t,c}function i(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return s.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},c}function r(n,o){function i(e){return e=e||{},e._options&&(e=e._options),m.show(t.extend({},l,e))}function r(e){return m.destroy(e)}function a(t,n){var i={};return i[e]=u,o.invoke(t||function(){return n},{},i)}var c,l,m=n(),u={hide:m.hide,cancel:m.cancel,show:i,destroy:r};return c=s.methods||[],l=a(s.optionsFactory,{}),t.forEach(d,function(e,t){u[t]=e}),t.forEach(s.presets,function(e,n){function o(e){this._options=t.extend({},i,e)}var i=a(e.optionsFactory,{}),r=(e.methods||[]).concat(c);if(t.extend(i,{$type:n}),t.forEach(r,function(e){o.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var d="show"+n.charAt(0).toUpperCase()+n.slice(1);u[d]=function(e){var t=u[n](e);return u.show(t)}}u[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new o)[e.argOption](n):new o(n)}}),u}r.$inject=["$$interimElement","$injector"];var a=["onHide","onShow","onRemove"],d={},s={presets:{}},c={setDefaults:n,addPreset:i,addMethod:o,$get:r};return c.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),c}function o(e,o,i,r,a,d,s,c,l,m,u){return function(){function p(e){e=e||{};var t=new v(e||{}),n=e.multiple?o.resolve():o.all(y);e.multiple||(n=n.then(function(){var e=C.concat(M.map(E.cancel));return o.all(e)}));var i=n.then(function(){return t.show()["catch"](function(e){return e})["finally"](function(){y.splice(y.indexOf(i),1),M.push(t)})});return y.push(i),t.deferred.promise["catch"](function(e){return e instanceof Error&&u(e),e}),t.deferred.promise}function h(e,t){function i(n){var o=n.remove(e,!1,t||{})["catch"](function(e){return e})["finally"](function(){C.splice(C.indexOf(o),1)});return M.splice(M.indexOf(n),1),C.push(o),n.deferred.promise}return t=t||{},t.closeAll?o.all(M.slice().reverse().map(i)):t.closeTo!==n?o.all(M.slice(t.closeTo).map(i)):i(M[M.length-1])}function f(e,n){var i=M.pop();if(!i)return o.when(e);var r=i.remove(e,!0,n||{})["catch"](function(e){return e})["finally"](function(){C.splice(C.indexOf(r),1)});return C.push(r),i.deferred.promise["catch"](t.noop)}function g(e){return function(){var t=arguments;return M.length?e.apply(E,t):y.length?y[0]["finally"](function(){return e.apply(E,t)}):o.when("No interim elements currently showing up.")}}function b(e){var n=e?null:M.shift(),i=t.element(e).length&&t.element(e)[0].parentNode;if(i){var r=M.filter(function(e){return e.options.element[0]===i});r.length&&(n=r[0],M.splice(M.indexOf(n),1))}return n?n.remove($,!1,{$destroy:!0}):o.when($)}function v(m){function u(){return o(function(e,t){function n(e){C.deferred.reject(e),t(e)}m.onCompiling&&m.onCompiling(m),f(m).then(function(t){M=g(t,m),m.cleanupElement=t.cleanup,T=$(M,m,t.controller).then(e,n)})["catch"](n)})}function p(e,n,i){function r(e){C.deferred.resolve(e)}function a(e){C.deferred.reject(e)}return M?(m=t.extend(m||{},i||{}),m.cancelAutoHide&&m.cancelAutoHide(),m.element.triggerHandler("$mdInterimElementRemove"),m.$destroy===!0?y(m.element,m).then(function(){n&&a(e)||r(e)}):(o.when(T)["finally"](function(){y(m.element,m).then(function(){n?a(e):r(e)},a)}),C.deferred.promise)):o.when(!1)}function h(e){return e=e||{},e.template&&(e.template=s.processTemplate(e.template)),t.extend({preserveScope:!1,cancelAutoHide:t.noop,scope:e.scope||i.$new(e.isolateScope),onShow:function(e,t,n){return d.enter(t,n.parent)},onRemove:function(e,t){return t&&d.leave(t)||o.when()}},e)}function f(e){var t=e.skipCompile?null:c.compile(e);return t||o(function(t){t({locals:{},link:function(){return e.element}})})}function g(e,n){t.extend(e.locals,n);var o=e.link(n.scope);return n.element=o,n.parent=b(o,n),n.themable&&l(o),o}function b(n,o){var i=o.parent;if(i=t.isFunction(i)?i(o.scope,n,o):t.isString(i)?t.element(e[0].querySelector(i)):t.element(i),!(i||{}).length){var r;return a[0]&&a[0].querySelector&&(r=a[0].querySelector(":not(svg) > body")),r||(r=a[0]),"#comment"==r.nodeName&&(r=e[0].body),t.element(r)}return i}function v(){var e,o=t.noop;m.hideDelay&&(e=r(E.hide,m.hideDelay),o=function(){r.cancel(e)}),m.cancelAutoHide=function(){o(),m.cancelAutoHide=n}}function $(e,n,i){var r=n.onShowing||t.noop,a=n.onComplete||t.noop;try{r(n.scope,e,n,i)}catch(d){return o.reject(d)}return o(function(t,r){try{o.when(n.onShow(n.scope,e,n,i)).then(function(){a(n.scope,e,n),v(),t(e)},r)}catch(d){r(d.message)}})}function y(e,n){var i=n.onRemoving||t.noop;return o(function(t,r){try{var a=o.when(n.onRemove(n.scope,e,n)||!0);i(e,a),n.$destroy?(t(e),!n.preserveScope&&n.scope&&a.then(function(){n.scope.$destroy()})):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),t(e)},r)}catch(d){r(d.message)}})}var C,M,T=o.when(!0);return m=h(m),C={options:m,deferred:o.defer(),show:u,remove:p}}var E,$=!1,y=[],C=[],M=[];return E={show:p,hide:g(h),cancel:g(f),destroy:b,$injector_:m}}}return o.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],e.$get=o,e}t.module("material.core").provider("$$interimElement",e)}(),function(){!function(){function e(e){function d(e){return e.replace(m,"").replace(u,function(e,t,n,o){return o?n.toUpperCase():n})}var m=/^((?:x|data)[\:\-_])/i,u=/([\:\-\_]+(.))/g,p=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],h=["layout","flex","flex-order","flex-offset","layout-align"],f=["show","hide","layout-padding","layout-margin"];t.forEach(p,function(n){t.forEach(h,function(t){var o=n?t+"-"+n:t;e.directive(d(o),r(o))}),t.forEach(f,function(t){var o=n?t+"-"+n:t;e.directive(d(o),a(o))})}),e.provider("$$mdLayout",function(){return{$get:t.noop,validateAttributeValue:l,validateAttributeUsage:c,disableLayouts:function(e){A.enabled=e!==!0}}}).directive("mdLayoutCss",o).directive("ngCloak",i("ng-cloak")).directive("layoutWrap",a("layout-wrap")).directive("layoutNowrap",a("layout-nowrap")).directive("layoutNoWrap",a("layout-no-wrap")).directive("layoutFill",a("layout-fill")).directive("layoutLtMd",s("layout-lt-md",!0)).directive("layoutLtLg",s("layout-lt-lg",!0)).directive("flexLtMd",s("flex-lt-md",!0)).directive("flexLtLg",s("flex-lt-lg",!0)).directive("layoutAlignLtMd",s("layout-align-lt-md")).directive("layoutAlignLtLg",s("layout-align-lt-lg")).directive("flexOrderLtMd",s("flex-order-lt-md")).directive("flexOrderLtLg",s("flex-order-lt-lg")).directive("offsetLtMd",s("flex-offset-lt-md")).directive("offsetLtLg",s("flex-offset-lt-lg")).directive("hideLtMd",s("hide-lt-md")).directive("hideLtLg",s("hide-lt-lg")).directive("showLtMd",s("show-lt-md")).directive("showLtLg",s("show-lt-lg")).config(n)}function n(){var e=!!document.querySelector("[md-layouts-disabled]");A.enabled=!e}function o(){return A.enabled=!1,{restrict:"A",priority:"900"}}function i(e){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(o){return A.enabled?(o.addClass(e),function(t,o){n(function(){o.removeClass(e)},10,!1)}):t.noop}}}]}function r(e){function n(t,n,o){var i=d(n,e,o),r=o.$observe(o.$normalize(e),i);i(p(e,o,"")),t.$on("$destroy",function(){r()})}return["$mdUtil","$interpolate","$log",function(o,i,r){return g=o,b=i,v=r,{restrict:"A",compile:function(o,i){var r;return A.enabled&&(c(e,i,o,v),l(e,p(e,i,""),m(o,e,i)),r=n),r||t.noop}}}]}function a(e){function n(t,n){n.addClass(e)}return["$mdUtil","$interpolate","$log",function(o,i,r){return g=o,b=i,v=r,{restrict:"A",compile:function(o,i){var r;return A.enabled&&(l(e,p(e,i,""),m(o,e,i)),n(null,o),r=n),r||t.noop}}}]}function d(e,n){var o;return function(i){var r=l(n,i||"");t.isDefined(r)&&(o&&e.removeClass(o),o=r?n+"-"+r.trim().replace($,"-"):n,e.addClass(o))}}function s(e){var n=e.split("-");return["$log",function(o){return o.warn(e+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),t.noop}]}function c(e,t,n,o){var i,r,a,d=n[0].nodeName.toLowerCase();switch(e.replace(E,"")){case"flex":"md-button"!=d&&"fieldset"!=d||(r="<"+d+" "+e+"></"+d+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",i="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",o.warn(g.supplant(i,[r,a])))}}function l(e,n,o){var i;if(!u(n)){switch(e.replace(E,"")){case"layout":h(n,C)||(n=C[0]);break;case"flex":h(n,y)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var r=f(n);n=g.supplant("{main}-{cross}",r);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":case"layout-nowrap":n=""}n!=i&&(o||t.noop)(n)}return n?n.trim():""}function m(e,t,n){return function(e){u(e)||(n[n.$normalize(t)]=e)}}function u(e){return(e||"").indexOf(b.startSymbol())>-1}function p(e,t,n){var o=t.$normalize(e);return t[o]?t[o].trim().replace($,"-"):n||null}function h(e,t,n){e=n&&e?e.replace($,n):e;var o=!1;return e&&t.forEach(function(t){t=n?t.replace($,n):t,o=o||t===e}),o}function f(e){var t,n={main:"start",cross:"stretch"};return e=e||"",0!==e.indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e),t=e.toLowerCase().trim().replace($,"-").split("-"),t.length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]),t.length>0&&(n.main=t[0]||n.main),t.length>1&&(n.cross=t[1]||n.cross),M.indexOf(n.main)<0&&(n.main="start"),T.indexOf(n.cross)<0&&(n.cross="stretch"),n}var g,b,v,E=/(-gt)?-(sm|md|lg|print)/g,$=/\s+/g,y=["grow","initial","auto","none","noshrink","nogrow"],C=["row","column"],M=["","start","center","end","stretch","space-around","space-between"],T=["","start","center","end","stretch"],A={enabled:!0,breakpoints:[]};e(t.module("material.core.layout",["ng"]))}()}(),function(){function e(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}e.$inject=["$timeout"],t.module("material.core").service("$mdLiveAnnouncer",e),e.prototype.announce=function(e,t){t||(t="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){n._liveElement.textContent=e},n._announceTimeout,!1)},e.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e}}(),function(){t.module("material.core.meta",[]).provider("$$mdMeta",function(){function e(e){if(r[e])return!0;var n=document.getElementsByName(e)[0];return!!n&&(r[e]=t.element(n),!0)}function n(n,o){if(e(n),r[n])r[n].attr("content",o);else{var a=t.element('<meta name="'+n+'" content="'+o+'"/>');i.append(a),r[n]=a}return function(){r[n].attr("content",""),r[n].remove(),delete r[n]}}function o(t){if(!e(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return r[t].attr("content")}var i=t.element(document.head),r={},a={setMeta:n,getMeta:o};return t.extend({},a,{$get:function(){return a}})})}(),function(){function e(e,o){function i(e){return e&&""!==e}var r,a=[],d={};return r={notFoundError:function(t,n){e.error((n||"")+"No instance found for handle",t)},getInstances:function(){return a},get:function(e){if(!i(e))return null;var t,n,o;for(t=0,n=a.length;t<n;t++)if(o=a[t],o.$$mdHandle===e)return o;return null},register:function(e,n){function o(){var t=a.indexOf(e);t!==-1&&a.splice(t,1)}function i(){var t=d[n];t&&(t.forEach(function(t){t.resolve(e)}),delete d[n])}return n?(e.$$mdHandle=n,a.push(e),i(),o):t.noop},when:function(e){if(i(e)){var t=o.defer(),a=r.get(e);return a?t.resolve(a):(d[e]===n&&(d[e]=[]),d[e].push(t)),t.promise}return o.reject("Invalid `md-component-id` value.")}}}e.$inject=["$log","$q"],t.module("material.core").factory("$mdComponentRegistry",e)}(),function(){!function(){function e(e){function n(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(o,i,r){return r=t.extend(n(i),r),e.attach(o,i,r)}}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdButtonInkRipple",e)}()}(),function(){!function(){function e(e){function n(n,o,i){return e.attach(n,o,t.extend({center:!0,dimBackground:!1,fitRipple:!0},i))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdCheckboxInkRipple",e)}()}(),function(){!function(){function e(e){function n(n,o,i){return e.attach(n,o,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdListInkRipple",e)}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,o,i){i.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,o):e.attach(t,o)}}}function n(){function e(){n=!0}var n=!1;return{disableInkRipple:e,$get:["$injector",function(e){function i(i,r,a){return n||r.controller("mdNoInk")?t.noop:e.instantiate(o,{$scope:i,$element:r,rippleOptions:a})}return{attach:i}}]}}function o(e,n,o,i,r,a,d){this.$window=i,this.$timeout=r,this.$mdUtil=a,this.$mdColorUtil=d,this.$scope=e,this.$element=n,this.options=o,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=t.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=t.bind(this,this.color),this.bindEvents()}function i(e,n){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(t.bind(e,n),!1))}function r(){return{controller:t.noop}}o.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],t.module("material.core").provider("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r).directive("mdNoBar",r).directive("mdNoStretch",r);var a=450;o.prototype.color=function(e){function n(){var e=o.options&&o.options.colorElement?o.options.colorElement:[],t=e.length?e[0]:o.$element[0];return t?o.$window.getComputedStyle(t).color:"rgb(0,0,0)"}var o=this;return t.isDefined(e)&&(o._color=o._parseColor(e)),o._color||o._parseColor(o.inkRipple())||o._parseColor(n())},o.prototype.calculateColor=function(){return this.color()},o.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0},o.prototype.bindEvents=function(){this.$element.on("mousedown",t.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",t.bind(this,this.handleMouseup)),this.$element.on("mouseleave",t.bind(this,this.handleMouseup)),this.$element.on("touchmove",t.bind(this,this.handleTouchmove))},o.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top;this.createRipple(n,o)}else this.createRipple(e.offsetX,e.offsetY)},o.prototype.handleMouseup=function(){i(this,this.clearRipples)},o.prototype.handleTouchmove=function(){i(this,this.deleteRipples)},o.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},o.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},o.prototype.createContainer=function(){var e=t.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},o.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},o.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&t.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},o.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},o.prototype.createRipple=function(e,n){function o(e,t,n){return e?Math.max(t,n):Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var i=this,r=i.$mdColorUtil,d=t.element('<div class="md-ripple"></div>'),s=this.$element.prop("clientWidth"),c=this.$element.prop("clientHeight"),l=2*Math.max(Math.abs(s-e),e),m=2*Math.max(Math.abs(c-n),n),u=o(this.options.fitRipple,l,m),p=this.calculateColor();d.css({left:e+"px",top:n+"px",background:"black",width:u+"px",height:u+"px",backgroundColor:r.rgbaToRgb(p),borderColor:r.rgbaToRgb(p)}),this.lastRipple=d,this.clearTimeout(),this.timeout=this.$timeout(function(){i.clearTimeout(),i.mousedown||i.fadeInComplete(d)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:p}),this.container.append(d),this.ripples.push(d),d.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){d.addClass("md-ripple-scaled md-ripple-active"),i.$timeout(function(){i.clearRipples()},a,!1)},!1)}},o.prototype.fadeInComplete=function(e){this.lastRipple===e?this.timeout||this.mousedown||this.removeRipple(e):this.removeRipple(e)},o.prototype.removeRipple=function(e){var t=this,n=this.ripples.indexOf(e);n<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),e.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},a,!1))},o.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),function(){!function(){function e(e){function n(n,o,i){return e.attach(n,o,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}return{attach:n}}e.$inject=["$mdInkRipple"],t.module("material.core").factory("$mdTabInkRipple",e)}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(e){function t(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}function o(t,o){function i(e,t){return t=t||{},p[e]=a(e,t),h}function r(t,n){return a(t,e.extend({},p[t]||{},n))}function a(e,t){var n=w.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function s(t,n){if(E[t])return E[t];n=n||"default";var o="string"==typeof n?E[n]:n,i=new l(t);return o&&e.forEach(o.colors,function(t,n){i.colors[n]={name:t.name,hues:e.extend({},t.hues)}}),E[t]=i,i}function l(t){function n(t){if(t=0===arguments.length||!!t,t!==o.isDark){o.isDark=t,o.foregroundPalette=o.isDark?g:f,o.foregroundShadow=o.isDark?b:v;var n=o.isDark?A:T,i=o.isDark?T:A;return e.forEach(n,function(e,t){var n=o.colors[t],r=i[t];if(n)for(var a in n.hues)n.hues[a]===r[a]&&(n.hues[a]=e[a])}),o}}var o=this;o.name=t,o.colors={},o.dark=n,n(!1),C.forEach(function(t){var n=(o.isDark?A:T)[t];o[t+"Palette"]=function(i,r){var a=o.colors[t]={name:i,hues:e.extend({},n,r)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",o.name).replace("%3",i).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(e){if(w.indexOf(e)==-1)throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",o.name).replace("%3",t).replace("%4",i).replace("%5",w.join(", ")))}),o},o[t+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+t+"Color() has been deprecated. Use $mdThemingProviderTheme."+t+"Palette() instead."),o[t+"Palette"].apply(o,e)}})}function m(t,o,i,r){function a(e){return e===n||""===e||l.THEMES[e]!==n}function d(e,t){function n(){return d&&d.$mdTheme||("default"==y?"":y)}function i(t){if(t){a(t)||r.warn("Attempted to use unregistered theme '"+t+"'. Register it with $mdThemingProvider.theme().");var n=e.data("$mdThemeName");n&&e.removeClass("md-"+n+"-theme"),e.addClass("md-"+t+"-theme"),e.data("$mdThemeName",t),d&&e.data("$mdThemeController",d)}}var d=t.controller("mdTheme")||e.data("$mdThemeController");if(i(n()),d)var s=$||d.$shouldWatch||o.parseAttributeBoolean(e.attr("md-theme-watch")),c=d.registerChanges(function(t){i(t),s?e.on("$destroy",c):c()})}var l=function(e,o){o===n&&(o=e,e=n),e===n&&(e=t),l.inherit(o,o)};return Object.defineProperty(l,"THEMES",{get:function(){return e.extend({},E)}}),Object.defineProperty(l,"PALETTES",{get:function(){return e.extend({},p)}}),Object.defineProperty(l,"ALWAYS_WATCH",{get:function(){return $}}),l.inherit=d,l.registered=a,l.defaultTheme=function(){return y},l.generateTheme=function(e){c(E[e],e,k.nonce)},l.defineTheme=function(e,t){t=t||{};var n=s(e);return t.primary&&n.primaryPalette(t.primary),t.accent&&n.accentPalette(t.accent),t.warn&&n.warnPalette(t.warn),t.background&&n.backgroundPalette(t.background),t.dark&&n.dark(),this.generateTheme(e),i.resolve(e)},l.setBrowserColor=_,l}m.$inject=["$rootScope","$mdUtil","$q","$log"],p={};var h,E={},$=!1,y="default";e.extend(p,t);var M=function(e){var t=o.setMeta("theme-color",e),n=o.setMeta("msapplication-navbutton-color",e);return function(){t(),n()}},_=function(t){t=e.isObject(t)?t:{};var n=t.theme||"default",o=t.hue||"800",i=p[t.palette]||p[E[n].colors[t.palette||"primary"].name],r=e.isObject(i[o])?i[o].hex:i[o];return M(r)};return h={definePalette:i,extendPalette:r,theme:s,configuration:function(){return e.extend({},k,{defaultTheme:y,alwaysWatchTheme:$,registeredStyles:[].concat(k.registeredStyles)})},disableTheming:function(t){k.disableTheming=e.isUndefined(t)||!!t},registerStyles:function(e){k.registeredStyles.push(e)},setNonce:function(e){k.nonce=e},generateThemesOnDemand:function(e){k.generateOnDemand=e},setDefaultTheme:function(e){y=e},alwaysWatchTheme:function(e){$=e},enableBrowserColor:_,$get:m,_LIGHT_DEFAULT_HUES:T,_DARK_DEFAULT_HUES:A,_PALETTES:p,_THEMES:E,_parseRules:d,_rgba:u}}function i(t,n,o,i,r,a){return{priority:101,link:{pre:function(d,s,c){var l=[],m=n.startSymbol(),u=n.endSymbol(),p=c.mdTheme.trim(),h=p.substr(0,m.length)===m&&p.lastIndexOf(u)===p.length-u.length,f="::",g=c.mdTheme.split(m).join("").split(u).join("").trim().substr(0,f.length)===f,b={registerChanges:function(t,n){return n&&(t=e.bind(n,t)),l.push(t),function(){var e=l.indexOf(t);e>-1&&l.splice(e,1)}},$setTheme:function(e){t.registered(e)||a.warn("attempted to use unregistered theme '"+e+"'"),b.$mdTheme=e;for(var n=l.length;n--;)l[n](e)},$shouldWatch:i.parseAttributeBoolean(s.attr("md-theme-watch"))||t.ALWAYS_WATCH||h&&!g};s.data("$mdThemeController",b);var v=function(){var e=n(c.mdTheme)(d);return o(e)(d)||e},E=function(t){return"string"==typeof t?b.$setTheme(t):void r.when(e.isFunction(t)?t():t).then(function(e){b.$setTheme(e)})};E(v());var $=d.$watch(v,function(e){e&&(E(e),b.$shouldWatch||$())})}}}}function r(){return k.disableTheming=!0,{restrict:"A",priority:"900"}}function a(e){return e}function d(t,n,o){l(t,n),o=o.replace(/THEME_NAME/g,t.name);var i=[],r=t.colors[n],a=new RegExp("\\.md-"+t.name+"-theme","g"),d=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),s=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,c=p[r.name];return o=o.replace(s,function(e,n,o,i,r){return"foreground"===n?"shadow"==o?t.foregroundShadow:t.foregroundPalette[o]||t.foregroundPalette[1]:(0!==o.indexOf("hue")&&"default"!==o||(o=t.colors[n].hues[o]),u((p[t.colors[n].name][o]||"")[r?"contrast":"value"],i))}),e.forEach(r.hues,function(e,n){var r=o.replace(d,function(t,n,o,i,r){return u(c[e]["color"===i?"value":"contrast"],r)});if("default"!==n&&(r=r.replace(a,".md-"+t.name+"-theme.md-"+n)),"default"==t.name){var s=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;r=r.replace(s,function(e,t,n){return e+", "+t+n})}i.push(r)}),i}function s(t,n){function o(t,n){var o=t.contrastDefaultColor,i=t.contrastLightColors||[],r=t.contrastStrongLightColors||[],a=t.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof r&&(r=r.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete t.contrastDefaultColor,delete t.contrastLightColors,delete t.contrastStrongLightColors,delete t.contrastDarkColors,e.forEach(t,function(n,d){function s(){return"light"===o?a.indexOf(d)>-1?E:r.indexOf(d)>-1?y:$:i.indexOf(d)>-1?r.indexOf(d)>-1?y:$:E}if(!e.isObject(n)){var c=m(n);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",t.name).replace("%3",d));t[d]={hex:t[d],value:c,contrast:s()}}})}var i=document.head,r=i?i.firstElementChild:null,a=!k.disableTheming&&t.has("$MD_THEME_CSS")?t.get("$MD_THEME_CSS"):"";if(a+=k.registeredStyles.join(""),r&&0!==a.length){e.forEach(p,o);var d=a.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"}),s=new RegExp("md-("+C.join("|")+")","g");C.forEach(function(e){_[e]=""}),d.forEach(function(e){for(var t,n=(e.match(s),0);t=C[n];n++)if(e.indexOf(".md-"+t)>-1)return _[t]+=e;for(n=0;t=C[n];n++)if(e.indexOf(t)>-1)return _[t]+=e;return _[M]+=e}),k.generateOnDemand||e.forEach(n.THEMES,function(e){
h[e.name]||"default"!==n.defaultTheme()&&"default"===e.name||c(e,e.name,k.nonce)})}}function c(e,t,n){var o=document.head,i=o?o.firstElementChild:null;h[t]||(C.forEach(function(t){for(var r=d(e,t,_[t]);r.length;){var a=r.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode(a)),o.insertBefore(s,i)}}}),h[e.name]=!0)}function l(e,t){if(!p[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(p).join(", ")))}function m(t){if(e.isArray(t)&&3==t.length)return t;if(/^rgb/.test(t))return t.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==t.charAt(0)&&(t=t.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(t)){var n=t.length/3,o=t.substr(0,n),i=t.substr(n,n),r=t.substr(2*n);return 1===n&&(o+=o,i+=i,r+=r),[parseInt(o,16),parseInt(i,16),parseInt(r,16)]}}function u(t,n){return t?(4==t.length&&(t=e.copy(t),n?t.pop():n=t.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+t.join(",")+","+n+")":"rgb("+t.join(",")+")"):"rgb('0,0,0')"}t.$inject=["$mdThemingProvider"],i.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],a.$inject=["$mdTheming"],o.$inject=["$mdColorPalette","$$mdMetaProvider"],s.$inject=["$injector","$mdTheming"],e.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",i).directive("mdThemable",a).directive("mdThemesDisabled",r).provider("$mdTheming",o).config(t).run(s);var p,h={},f={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},g={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},b="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",v="",E=m("rgba(0,0,0,0.87)"),$=m("rgba(255,255,255,0.87)"),y=m("rgb(255,255,255)"),C=["primary","accent","warn","background"],M="primary",T={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},A={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};C.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};T[e]||(T[e]=t),A[e]||(A[e]=t)});var w=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],k={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},_={}}(e.angular)}(),function(){function n(n,o,i,r,a){var d;return d={translate3d:function(e,t,n,o){function i(n){return a(e,{to:n||t,addClass:o.transitionOutClass,removeClass:o.transitionInClass,duration:o.duration}).start()}return a(e,{from:t,to:n,addClass:o.transitionInClass,removeClass:o.transitionOutClass,duration:o.duration}).start().then(function(){return i})},waitTransitionEnd:function(t,n){var a=3e3;return o(function(o,d){function s(e){e&&e.target!==t[0]||(e&&i.cancel(l),t.off(r.CSS.TRANSITIONEND,s),o())}function c(n){return n=n||e.getComputedStyle(t[0]),"0s"==n.transitionDuration||!n.transition&&!n.transitionProperty}n=n||{},c(n.cachedTransitionStyles)&&(a=0);var l=i(s,n.timeout||a);t.on(r.CSS.TRANSITIONEND,s)})},calculateTransformValues:function(e,t){function n(){var t=e?e.parent():null,n=t?t.parent():null;return n?d.clientRect(n):null}var o=t.element,i=t.bounds;if(o||i){var r=o?d.clientRect(o)||n():d.copyRect(i),a=d.copyRect(e[0].getBoundingClientRect()),s=d.centerPointFor(a),c=d.centerPointFor(r);return{centerX:c.x-s.x,centerY:c.y-s.y,scaleX:Math.round(100*Math.min(.5,r.width/a.width))/100,scaleY:Math.round(100*Math.min(.5,r.height/a.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,o){var i="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",r=t.bind(null,n.supplant,i);return r(d.calculateTransformValues(e,o))},calculateSlideToOrigin:function(e,o){var i="translate3d( {centerX}px, {centerY}px, 0 )",r=t.bind(null,n.supplant,i);return r(d.calculateTransformValues(e,o))},toCss:function(e){function n(e,n,i){t.forEach(n.split(" "),function(e){o[e]=i})}var o={},i="left top right bottom width height x y min-width min-height max-width max-height";return t.forEach(e,function(e,a){if(!t.isUndefined(e))if(i.indexOf(a)>=0)o[a]=e+"px";else switch(a){case"transition":n(a,r.CSS.TRANSITION,e);break;case"transform":n(a,r.CSS.TRANSFORM,e);break;case"transformOrigin":n(a,r.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":o["font-size"]=e}}),o},toTransformCss:function(e,n,o){var i={};return t.forEach(r.CSS.TRANSFORM.split(" "),function(t){i[t]=e}),n&&(o=o||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",i.transition=o),i},copyRect:function(e,n){return e?(n=n||{},t.forEach("left top right bottom width height".split(" "),function(t){n[t]=Math.round(e[t])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var n=t.element(e)[0].getBoundingClientRect(),o=function(e){return e&&e.width>0&&e.height>0};return o(n)?d.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}}}t.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(e,t,o,i){return function(r){return n(r,e,t,o,i)}}])}(),function(){t.version.minor>=4?t.module("material.core.animate",[]):!function(){function e(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var n=t.forEach,o=t.isDefined(document.documentElement.style.WebkitAppearance),i=o?"-webkit-":"",r=(o?"webkitTransitionEnd ":"")+"transitionend",a=(o?"webkitAnimationEnd ":"")+"animationend",d=["$document",function(e){return function(){return e[0].body.clientWidth+1}}],s=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],c=["$q","$$rAFMutex",function(e,o){function i(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=o(),this._state=0}var r=0,a=1,d=2;return i.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===d?e():this._doneCallbacks.push(e)},progress:t.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==d&&(n(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=d)}},i.all=function(e,t){function o(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;n(e,function(e){e.done(o)})},i}];t.module("material.core.animate",[]).factory("$$forceReflow",d).factory("$$AnimateRunner",c).factory("$$rAFMutex",s).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(t,d,s,c,l,m,u){function p(o,d){var c=[],l=y(o),p=l&&u.enabled(),g=!1,M=!1;p&&(d.transitionStyle&&c.push([i+"transition",d.transitionStyle]),d.keyframeStyle&&c.push([i+"animation",d.keyframeStyle]),d.delay&&c.push([i+"transition-delay",d.delay+"s"]),d.duration&&c.push([i+"transition-duration",d.duration+"s"]),g=d.keyframeStyle||d.to&&(d.duration>0||d.transitionStyle),M=!!d.addClass||!!d.removeClass,C(o,!0));var T=p&&(g||M);E(o,d);var A,w,k=!1;return{close:t.close,start:function(){function t(){if(!k)return k=!0,A&&w&&o.off(A,w),h(o,d),v(o,d),n(c,function(t){l.style[e(t[0])]=""}),u.complete(!0),u}var u=new s;return b(function(){if(C(o,!1),!T)return t();n(c,function(t){var n=t[0],o=t[1];l.style[e(n)]=o}),h(o,d);var s=f(o);if(0===s.duration)return t();var u=[];d.easing&&(s.transitionDuration&&u.push([i+"transition-timing-function",d.easing]),s.animationDuration&&u.push([i+"animation-timing-function",d.easing])),d.delay&&s.animationDelay&&u.push([i+"animation-delay",d.delay+"s"]),d.duration&&s.animationDuration&&u.push([i+"animation-duration",d.duration+"s"]),n(u,function(t){var n=t[0],o=t[1];l.style[e(n)]=o,c.push(t)});var p=s.delay,g=1e3*p,b=s.duration,v=1e3*b,E=Date.now();A=[],s.transitionDuration&&A.push(r),s.animationDuration&&A.push(a),A=A.join(" "),w=function(e){e.stopPropagation();var n=e.originalEvent||e,o=n.timeStamp||Date.now(),i=parseFloat(n.elapsedTime.toFixed(3));Math.max(o-E,0)>=g&&i>=b&&t()},o.on(A,w),$(o,d),m(t,g+1.5*v,!1)}),u}}}function h(e,t){t.addClass&&(l.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(l.removeClass(e,t.removeClass),t.removeClass=null)}function f(e){function n(e){return o?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}var i=y(e),r=t.getComputedStyle(i),a=g(r[n("transitionDuration")]),d=g(r[n("animationDuration")]),s=g(r[n("transitionDelay")]),c=g(r[n("animationDelay")]);d*=parseInt(r[n("animationIterationCount")],10)||1;var l=Math.max(d,a),m=Math.max(c,s);return{duration:l,delay:m,animationDuration:d,transitionDuration:a,animationDelay:c,transitionDelay:s}}function g(e){var t=0,o=(e||"").split(/\s*,\s*/);return n(o,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function b(e){M&&M(),T.push(e),M=d(function(){M=null;for(var e=c(),t=0;t<T.length;t++)T[t](e);T.length=0})}function v(e,t){E(e,t),$(e,t)}function E(e,t){t.from&&(e.css(t.from),t.from=null)}function $(e,t){t.to&&(e.css(t.to),t.to=null)}function y(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function C(t,n){var o=y(t),r=e(i+"transition-delay");o.style[r]=n?"-9999s":""}var M,T=[];return p}])}()}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(e,n,o,i,r,a,d,s){function c(c,m,u){function p(){var e=parseInt(h.height,10)+Math.abs(parseInt(h.top,10));m.css("height",e+"px")}o.pin&&o.pin(m,i);var h;d(function(){if(h=r.getComputedStyle(s[0].body),"fixed"===h.position){var o=n.debounce(function(){h=r.getComputedStyle(s[0].body),p()},60,null,!1);p(),t.element(r).on("resize",o),c.$on("$destroy",function(){t.element(r).off("resize",o)})}var i=m.parent();if(i.length){"BODY"===i[0].nodeName&&m.css("position","fixed");var d=r.getComputedStyle(i[0]);"static"===d.position&&a.warn(l),e.inherit(m,i)}})}var l="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:c}}])}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e,n,r,a,d,s,c,l){function m(o,i,c,m){if(i=r.extractElementByName(i,"md-bottom-sheet"),i.attr("tabindex","-1"),i.hasClass("ng-cloak")){var u="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.";l.warn(u,i[0])}c.disableBackdrop||(h=r.createBackdrop(o,"md-bottom-sheet-backdrop md-opaque"),h[0].tabIndex=-1,c.clickOutsideToClose&&h.on("click",function(){r.nextTick(d.cancel,!0)}),a.inherit(h,c.parent),e.enter(h,c.parent,null));var f=new p(i,c.parent);return c.bottomSheet=f,a.inherit(f.element,c.parent),c.disableParentScroll&&(c.restoreScroll=r.disableScrollAround(f.element,c.parent)),e.enter(f.element,c.parent,h).then(function(){var e=r.findFocusTarget(i)||t.element(i[0].querySelector("button")||i[0].querySelector("a")||i[0].querySelector(r.prefixer("ng-click",!0)))||h;c.escapeToClose&&(c.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&r.nextTick(d.cancel,!0)},s.on("keyup",c.rootElementKeyupCallback),e&&e.focus())})}function u(t,n,o){var i=o.bottomSheet;return o.disableBackdrop||e.leave(h),e.leave(i.element).then(function(){o.disableParentScroll&&(o.restoreScroll(),delete o.restoreScroll),i.cleanup()})}function p(e,t){function a(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function s(t){var o=t.pointer.distanceY;o<5&&(o=Math.max(-i,o/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(i+o)+"px,0)")}function l(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>o)){var i=e.prop("offsetHeight")-t.pointer.distanceY,a=Math.min(i/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,a+"ms"),r.nextTick(d.cancel,!0)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var m=c.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",a).on("$md.drag",s).on("$md.dragend",l),{element:e,cleanup:function(){m(),t.off("$md.dragstart",a),t.off("$md.drag",s),t.off("$md.dragend",l)}}}var h;return{themable:!0,onShow:m,onRemove:u,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0}}n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var o=.5,i=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}e.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n)}(),function(){function e(e){return{restrict:"E",link:function(t,n){e(n)}}}function n(e,n,o,i){function r(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){if(r(t))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof t.type?"button":t.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function d(a,d,s){n(d),e.attach(a,d),o.expectWithoutText(d,"aria-label"),r(s)&&t.isDefined(s.ngDisabled)&&a.$watch(s.ngDisabled,function(e){d.attr("tabindex",e?-1:0)}),d.on("click",function(e){s.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),d.hasClass("md-no-focus")||(d.on("focus",function(){i.isUserInvoked()&&"keyboard"!==i.getLastInteractionType()||d.addClass("md-focused")}),d.on("blur",function(){d.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:d}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],e.$inject=["$mdTheming"],t.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n,o){n.addClass("_md"),e(n)}}}e.$inject=["$mdTheming"],t.module("material.components.card",["material.core"]).directive("mdCard",e)}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e,n,o,i,r,a){function d(d,s){function c(d,s,c,l){function m(e,t,n){c[e]&&d.$watch(c[e],function(e){n[e]&&s.attr(t,n[e])})}function u(e){var t=e.which||e.keyCode;t!==o.KEY_CODE.SPACE&&t!==o.KEY_CODE.ENTER||(e.preventDefault(),s.addClass("md-focused"),p(e))}function p(e){s[0].hasAttribute("disabled")||d.skipToggle||d.$apply(function(){var t=c.ngChecked&&c.ngClick?c.checked:!v.$viewValue;v.$setViewValue(t,e&&e.type),v.$render()})}function h(){s.toggleClass("md-checked",!!v.$viewValue&&!g)}function f(e){g=e!==!1,g&&s.attr("aria-checked","mixed"),s.toggleClass("md-indeterminate",g)}var g,b=l[0],v=l[1]||r.fakeNgModel(),E=l[2];if(b){var $=b.isErrorGetter||function(){return v.$invalid&&(v.$touched||E&&E.$submitted)};b.input=s,d.$watch($,b.setInvalid)}i(s),s.children().on("focus",function(){s.focus()}),r.parseAttributeBoolean(c.mdIndeterminate)&&(f(),d.$watch(c.mdIndeterminate,f)),c.ngChecked&&d.$watch(d.$eval.bind(d,c.ngChecked),function(e){v.$setViewValue(e),v.$render()}),m("ngDisabled","tabindex",{"true":"-1","false":c.tabindex}),n.expectWithText(s,"aria-label"),e.link.pre(d,{on:t.noop,0:{}},c,[v]),s.on("click",p).on("keypress",u).on("focus",function(){"keyboard"===a.getLastInteractionType()&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")}),v.$render=h}return s.$set("tabindex",s.tabindex||"0"),s.$set("type","checkbox"),s.$set("role",s.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:c}}return e=e[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:o.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:d}}e.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e)}(),function(){!function(){function e(e,n,o){function r(e,t){try{t&&e.css(s(t))}catch(n){o.error(n.message)}}function a(e){var t=l(e);return d(t)}function d(t,o){o=o||!1;var i=e.PALETTES[t.palette][t.hue];return i=o?i.contrast:i.value,n.supplant("rgba({0}, {1}, {2}, {3})",[i[0],i[1],i[2],i[3]||t.opacity])}function s(e){var n={},o=e.hasOwnProperty("color");return t.forEach(e,function(e,t){var i=l(e),r=t.indexOf("background")>-1;n[t]=d(i),r&&!o&&(n.color=d(i,!0))}),n}function c(n){return t.isDefined(e.THEMES[n.split("-")[0]])}function l(n){var o=n.split("-"),i=t.isDefined(e.THEMES[o[0]]),r=i?o.splice(0,1)[0]:e.defaultTheme();return{theme:r,palette:m(o,r),hue:u(o,r),opacity:o[2]||1}}function m(t,o){var r=t.length>1&&i.indexOf(t[1])!==-1,a=t[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(r&&(a=t[0]+"-"+t.splice(1,1)),i.indexOf(a)===-1){var d=e.THEMES[o].colors[a];if(!d)throw new Error(n.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=d.name}return a}function u(t,o){var i=e.THEMES[o].colors;if("hue"===t[1]){var r=parseInt(t.splice(2,1)[0],10);if(r<1||r>3)throw new Error(n.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:r}));if(t[1]="hue-"+r,!(t[0]in i))throw new Error(n.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(i).join(", "),usedTheme:t[0]}));return i[t[0]].hues[t[1]]}return t[1]||i[t[0]in i?t[0]:"primary"].hues["default"]}return i=i||Object.keys(e.PALETTES),{applyThemeColors:r,getThemeColor:a,hasTheme:c}}function n(e,n,i,r){return{restrict:"A",require:["^?mdTheme"],compile:function(a,d){function s(){var e=d.mdColors,i=e.indexOf("::")>-1,r=!!i||o.test(d.mdColors);d.mdColors=e.replace("::","");var a=t.isDefined(d.mdColorsWatch);return!i&&!r&&(!a||n.parseAttributeBoolean(d.mdColorsWatch))}var c=s();return function(n,o,a,d){var s=d[0],l={},m=function(t){"string"!=typeof t&&(t=""),a.mdColors||(a.mdColors="{}");var o=r(a.mdColors)(n);return s&&Object.keys(o).forEach(function(n){var i=o[n];e.hasTheme(i)||(o[n]=(t||s.$mdTheme)+"-"+i)}),u(o),o},u=function(e){if(!t.equals(e,l)){var n=Object.keys(l);l.background&&!n.color&&n.push("color"),n.forEach(function(e){o.css(e,"")})}l=e},p=t.noop;s&&(p=s.registerChanges(function(t){e.applyThemeColors(o,m(t))})),n.$on("$destroy",function(){p()});try{c?n.$watch(m,t.bind(this,e.applyThemeColors,o),!0):e.applyThemeColors(o,m())}catch(h){i.error(h.message)}}}}}n.$inject=["$mdColors","$mdUtil","$log","$parse"],e.$inject=["$mdTheming","$mdUtil","$log"];var o=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,i=null;t.module("material.components.colors",["material.core"]).directive("mdColors",n).service("$mdColors",e)}()}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,o){o.addClass("_md"),e(o),t.$broadcast("$mdContentLoaded",o),n(o[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}e.$inject=["$mdTheming"],t.module("material.components.content",["material.core"]).directive("mdContent",e)}(),function(){t.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function e(e,n,o){return{restrict:"E",link:function(i,r){r.addClass("_md"),n(r),e(function(){function e(){r.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=r[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),e(),t.element(n).on("load",e)),i.$on("$destroy",function(){o.destroy(r)})})}}}function o(e){function o(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:i,controllerAs:"dialog",bindToController:!0}}function i(e,t){this.$onInit=function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){e.hide(!n||this.result)},this.abort=function(){e.cancel()},this.keypress=function(n){n.keyCode===t.KEY_CODE.ENTER&&e.hide(this.result)}}}function r(e,o,i,r,s,c,l,m,u,p,h,f,g){function b(e){e.defaultTheme=h.defaultTheme(),y(e)}function v(e,t,n,o){if(o){var i=o.htmlContent||n.htmlContent||"",r=o.textContent||n.textContent||o.content||n.content||"";if(i&&!p.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i&&r)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");o.mdHtmlContent=i,o.mdTextContent=r}}function E(e,n,o,r){function a(){n[0].querySelector(".md-actions")&&u.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function d(){function e(){return n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}if(o.focusOnOpen){var t=i.findFocusTarget(n)||e()||s;t.focus()}}t.element(c[0].body).addClass("md-dialog-is-showing");var s=n.find("md-dialog");if(s.hasClass("ng-cloak")){var l="$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.";u.warn(l,n[0])}return C(o),A(s,o),T(e,n,o),M(n,o),_(n,o).then(function(){w(n,o),a(),d()})}function $(e,n,o){function i(){return x(n,o)}function r(){t.element(c[0].body).removeClass("md-dialog-is-showing"),o.contentElement&&o.reverseContainerStretch(),o.cleanupElement(),o.$destroy||"keyboard"!==o.originInteraction||o.origin.focus()}return o.deactivateListeners(),o.unlockScreenReader(),o.hideBackdrop(o.$destroy),a&&a.parentNode&&a.parentNode.removeChild(a),d&&d.parentNode&&d.parentNode.removeChild(d),o.$destroy?r():i().then(r)}function y(e){var n;e.targetEvent&&e.targetEvent.target&&(n=t.element(e.targetEvent.target));var o=n&&n.controller("mdTheme");if(o){e.themeWatch=o.$shouldWatch;var i=e.theme||o.$mdTheme;i&&(e.scope.theme=i);var r=o.registerChanges(function(t){e.scope.theme=t,e.themeWatch||r()})}}function C(e){function o(e,o){var i=t.element(e||{});if(i&&i.length){var r={top:0,left:0,height:0,width:0},a=t.isFunction(i[0].getBoundingClientRect);return t.extend(o||{},{element:a?i:n,bounds:a?i[0].getBoundingClientRect():t.extend({},r,i[0]),focus:t.bind(i,i.focus)})}}function i(e,n){return t.isString(e)&&(e=c[0].querySelector(e)),t.element(e||n)}e.origin=t.extend({element:null,bounds:null,focus:t.noop},e.origin||{}),e.parent=i(e.parent,m),e.closeTo=o(i(e.closeTo)),e.openFrom=o(i(e.openFrom)),e.targetEvent&&(e.origin=o(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType())}function M(n,o){var a=t.element(l),d=i.debounce(function(){k(n,o)},60),s=[],c=function(){var t="alert"==o.$type?e.hide:e.cancel;i.nextTick(t,!0)};if(o.escapeToClose){var m=o.parent,u=function(e){e.keyCode===r.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),c())};n.on("keydown",u),m.on("keydown",u),s.push(function(){n.off("keydown",u),m.off("keydown",u)})}if(a.on("resize",d),s.push(function(){a.off("resize",d)}),o.clickOutsideToClose){var p,h=n,f=function(e){p=e.target},g=function(e){p===h[0]&&e.target===h[0]&&(e.stopPropagation(),e.preventDefault(),c())};h.on("mousedown",f),h.on("mouseup",g),s.push(function(){h.off("mousedown",f),h.off("mouseup",g)})}o.deactivateListeners=function(){s.forEach(function(e){e()}),o.deactivateListeners=null}}function T(e,t,n){n.disableParentScroll&&(n.restoreScroll=i.disableScrollAround(t,n.parent)),n.hasBackdrop&&(n.backdrop=i.createBackdrop(e,"md-dialog-backdrop md-opaque"),s.enter(n.backdrop,n.parent)),n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():s.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function A(e,t){var n="alert"===t.$type?"alertdialog":"dialog",r=e.find("md-dialog-content"),s=e.attr("id"),c="dialogContent_"+(s||i.nextUid());e.attr({role:n,tabIndex:"-1"}),0===r.length&&(r=e,s&&(c=s)),r.attr("id",c),e.attr("aria-describedby",c),t.ariaLabel?o.expect(e,"aria-label",t.ariaLabel):o.expectAsync(e,"aria-label",function(){if(t.title)return t.title;var e=r.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")}),a=document.createElement("div"),a.classList.add("md-dialog-focus-trap"),a.tabIndex=0,d=a.cloneNode(!1);var l=function(){e.focus()};a.addEventListener("focus",l),d.addEventListener("focus",l),e[0].parentNode.insertBefore(a,e[0]),e.after(d)}function w(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var t=e.parentNode.children,i=0;i<t.length;i++)e===t[i]||N(t[i],["SCRIPT","STYLE"])||t[i].hasAttribute("aria-live")||t[i].setAttribute("aria-hidden",o);n(e=e.parentNode)}}var o=!0;n(e[0]),t.unlockScreenReader=function(){o=!1,n(e[0]),t.unlockScreenReader=null}}function k(e,t){var n="fixed"==l.getComputedStyle(c[0].body).position,o=t.backdrop?l.getComputedStyle(t.backdrop[0]):null,i=o?Math.min(c[0].body.clientHeight,Math.ceil(Math.abs(parseInt(o.height,10)))):0,r={top:e.css("top"),height:e.css("height")},a=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?a:0)+"px",height:i?i+"px":"100%"}),function(){e.css(r)}}function _(e,t){t.parent.append(e),t.reverseContainerStretch=k(e,t);var n=e.find("md-dialog"),o=i.dom.animator,r=o.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},d=o.toTransformCss(r(n,t.openFrom||t.origin)),s=o.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),o.translate3d(n,d,s,a).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},d=s,s=o.toTransformCss(r(n,t.closeTo)),o.translate3d(n,d,s,a)):e(s=o.toTransformCss(r(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([a.transitionOutClass,a.transitionInClass].join(" ")),o.translate3d(n,s,o.toTransformCss(""),{})},!0})}function x(e,t){return t.reverseAnimate().then(function(){t.contentElement&&t.clearAnimate()})}function N(e,t){if(t.indexOf(e.nodeName)!==-1)return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:b,onShow:E,onShowing:v,onRemove:$,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){function n(e){return t.autoWrap&&!/<\/md-dialog>/g.test(e)?"<md-dialog>"+(e||"")+"</md-dialog>":e||""}var o=f.startSymbol(),i=f.endSymbol(),r=o+(t.themeWatch?"":"::")+"theme"+i;return'<div class="md-dialog-container" tabindex="-1" md-theme="'+r+'">'+n(e)+"</div>"}}}i.$inject=["$mdDialog","$mdConstant"],r.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var a,d;return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:r}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:o}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:o}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:o})}e.$inject=["$$rAF","$mdTheming","$mdDialog"],o.$inject=["$$interimElementProvider"],t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",o)}(),function(){function e(e){return{restrict:"E",link:e}}e.$inject=["$mdTheming"],t.module("material.components.divider",["material.core"]).directive("mdDivider",e)}(),function(){!function(){function e(e){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(t,n){var o=t.children(),i=e.prefixer().hasAttribute(o,"ng-repeat");i?o.addClass("md-fab-action-item"):o.wrap('<div class="md-fab-action-item">')}}}e.$inject=["$mdUtil"],t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){!function(){function e(e,n,o,i,r,a){function d(){N.direction=N.direction||"down",N.isOpen=N.isOpen||!1,l(),n.addClass("md-animations-waiting")}function s(){var o=["click","focusin","focusout"];t.forEach(o,function(e){n.on(e,c)}),e.$on("$destroy",function(){t.forEach(o,function(e){n.off(e,c)}),h()})}function c(e){"click"==e.type&&k(e),"focusout"!=e.type||D||(D=a(function(){N.close()},100,!1)),"focusin"==e.type&&D&&(a.cancel(D),D=null)}function l(){N.currentActionIndex=-1}function m(){e.$watch("vm.direction",function(e,t){o.removeClass(n,"md-"+t),o.addClass(n,"md-"+e),l()});var t,i;e.$watch("vm.isOpen",function(e){l(),t&&i||(t=_(),i=x()),e?p():h();var r=e?"md-is-open":"",a=e?"":"md-is-open";t.attr("aria-haspopup",!0),t.attr("aria-expanded",e),i.attr("aria-hidden",!e),o.setClass(n,r,a)})}function u(){n[0].scrollHeight>0?o.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):S<10&&(a(u,100),S+=1)}function p(){n.on("keydown",g),i.nextTick(function(){t.element(document).on("click touchend",f)})}function h(){n.off("keydown",g),t.element(document).off("click touchend",f)}function f(e){if(e.target){var t=i.getClosest(e.target,"md-fab-trigger"),n=i.getClosest(e.target,"md-fab-actions");t||n||N.close();
}}function g(e){switch(e.which){case r.KEY_CODE.ESCAPE:return N.close(),e.preventDefault(),!1;case r.KEY_CODE.LEFT_ARROW:return y(e),!1;case r.KEY_CODE.UP_ARROW:return C(e),!1;case r.KEY_CODE.RIGHT_ARROW:return M(e),!1;case r.KEY_CODE.DOWN_ARROW:return T(e),!1}}function b(e){E(e,-1)}function v(e){E(e,1)}function E(e,n){var o=$();N.currentActionIndex=N.currentActionIndex+n,N.currentActionIndex=Math.min(o.length-1,N.currentActionIndex),N.currentActionIndex=Math.max(0,N.currentActionIndex);var i=t.element(o[N.currentActionIndex]).children()[0];t.element(i).attr("tabindex",0),i.focus(),e.preventDefault(),e.stopImmediatePropagation()}function $(){var e=x()[0].querySelectorAll(".md-fab-action-item");return t.forEach(e,function(e){t.element(t.element(e).children()[0]).attr("tabindex",-1)}),e}function y(e){"left"===N.direction?v(e):b(e)}function C(e){"down"===N.direction?b(e):v(e)}function M(e){"left"===N.direction?b(e):v(e)}function T(e){"up"===N.direction?b(e):v(e)}function A(e){return i.getClosest(e,"md-fab-trigger")}function w(e){return i.getClosest(e,"md-fab-actions")}function k(e){A(e.target)&&N.toggle(),w(e.target)&&N.close()}function _(){return n.find("md-fab-trigger")}function x(){return n.find("md-fab-actions")}var N=this,S=0;N.open=function(){e.$evalAsync("vm.isOpen = true")},N.close=function(){e.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},N.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},N.$onInit=function(){d(),s(),m(),u()},1===t.version.major&&t.version.minor<=4&&this.$onInit();var D}e.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],t.module("material.components.fabShared",["material.core"]).controller("MdFabController",e)}()}(),function(){!function(){function n(){function e(e,t){t.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function o(n){function o(e){n(e,r,!1)}function i(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var o=n[0],i=n.controller("mdFabSpeedDial"),r=o.querySelectorAll(".md-fab-action-item"),a=o.querySelector("md-fab-trigger"),d=o.querySelector("._md-css-variables"),s=parseInt(e.getComputedStyle(d).zIndex);t.forEach(r,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=r.length-t+s}),a.style.zIndex=s+r.length+1,i.isOpen||t.forEach(r,function(e,t){var n,o,r=e.style,d=(a.clientHeight-e.clientHeight)/2,s=(a.clientWidth-e.clientWidth)/2;switch(i.direction){case"up":n=e.scrollHeight*(t+1)+d,o="Y";break;case"down":n=-(e.scrollHeight*(t+1)+d),o="Y";break;case"left":n=e.scrollWidth*(t+1)+s,o="X";break;case"right":n=-(e.scrollWidth*(t+1)+s),o="X"}var c="translate"+o+"("+n+"px)";r.transform=r.webkitTransform=c})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(i(e),o(n)):n()},removeClass:function(e,t,n){i(e),o(n)}}}function i(n){function o(e){n(e,r,!1)}function i(n){var o=n[0],i=n.controller("mdFabSpeedDial"),r=o.querySelectorAll(".md-fab-action-item"),d=o.querySelector("._md-css-variables"),s=parseInt(e.getComputedStyle(d).zIndex);t.forEach(r,function(e,t){var n=e.style,o=t*a;n.opacity=i.isOpen?1:0,n.transform=n.webkitTransform=i.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(i.isOpen?o:r.length-o)+"ms",n.zIndex=r.length-t+s})}var a=65;return{addClass:function(e,t,n){i(e),o(n)},removeClass:function(e,t,n){i(e),o(n)}}}o.$inject=["$timeout"],i.$inject=["$timeout"];var r=300;t.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",o).animation(".md-scale",i).service("mdFabSpeedDialFlingAnimation",o).service("mdFabSpeedDialScaleAnimation",i)}()}(),function(){!function(){function n(){function e(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:e}}function o(){function n(n,o,i){if(o){var r=n[0],a=n.controller("mdFabToolbar"),d=r.querySelector(".md-fab-toolbar-background"),s=r.querySelector("md-fab-trigger button"),c=r.querySelector("md-toolbar"),l=r.querySelector("md-fab-trigger button md-icon"),m=n.find("md-fab-actions").children();if(s&&d){var u=e.getComputedStyle(s).getPropertyValue("background-color"),p=r.offsetWidth,h=(r.offsetHeight,2*(p/s.offsetWidth));d.style.backgroundColor=u,d.style.borderRadius=p+"px",a.isOpen?(c.style.pointerEvents="inherit",d.style.width=s.offsetWidth+"px",d.style.height=s.offsetHeight+"px",d.style.transform="scale("+h+")",d.style.transitionDelay="0ms",l&&(l.style.transitionDelay=".3s"),t.forEach(m,function(e,t){e.style.transitionDelay=25*(m.length-t)+"ms"})):(c.style.pointerEvents="none",d.style.transform="scale(1)",d.style.top="0",n.hasClass("md-right")&&(d.style.left="0",d.style.right=null),n.hasClass("md-left")&&(d.style.right="0",d.style.left=null),d.style.transitionDelay="200ms",l&&(l.style.transitionDelay="0ms"),t.forEach(m,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,o){n(e,t,o),o()},removeClass:function(e,t,o){n(e,t,o),o()}}}t.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",o).service("mdFabToolbarAnimation",o)}()}(),function(){t.module("material.components.icon",["material.core"])}(),function(){function e(e,o,i,r){function a(n,a,d,s){function c(){for(var e in o.MEDIA)r(e),r.getQuery(o.MEDIA[e]).addListener(M);return r.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],d,m)}function l(){s.layoutDelegate=t.noop,T();for(var e in o.MEDIA)r.getQuery(o.MEDIA[e]).removeListener(M)}function m(e){null==e?s.invalidateLayout():r(e)&&s.invalidateLayout()}function u(e){var o=g(),r={tileSpans:b(o),colCount:v(),rowMode:y(),rowHeight:$(),gutter:E()};if(e||!t.equals(r,A)){var d=i(r.colCount,r.tileSpans,o).map(function(e,n){return{grid:{element:a,style:f(r.colCount,n,r.gutter,r.rowMode,r.rowHeight)},tiles:e.map(function(e,i){return{element:t.element(o[i]),style:h(e.position,e.spans,r.colCount,n,r.gutter,r.rowMode,r.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:d}}),A=r}}function p(e){return w+e+k}function h(e,t,n,o,i,r,a){var d=1/n*100,s=(n-1)/n,c=_({share:d,gutterShare:s,gutter:i}),l="rtl"!=document.dir&&"rtl"!=document.body.dir,m=l?{left:x({unit:c,offset:e.col,gutter:i}),width:N({unit:c,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""}:{right:x({unit:c,offset:e.col,gutter:i}),width:N({unit:c,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(r){case"fixed":m.top=x({unit:a,offset:e.row,gutter:i}),m.height=N({unit:a,span:t.row,gutter:i});break;case"ratio":var u=d/a,p=_({share:u,gutterShare:s,gutter:i});m.paddingTop=N({unit:p,span:t.row,gutter:i}),m.marginTop=x({unit:p,offset:e.row,gutter:i});break;case"fit":var h=(o-1)/o,u=1/o*100,p=_({share:u,gutterShare:h,gutter:i});m.top=x({unit:p,offset:e.row,gutter:i}),m.height=N({unit:p,span:t.row,gutter:i})}return m}function f(e,t,n,o,i){var r={};switch(o){case"fixed":r.height=N({unit:i,span:t,gutter:n}),r.paddingBottom="";break;case"ratio":var a=1===e?0:(e-1)/e,d=1/e*100,s=d*(1/i),c=_({share:s,gutterShare:a,gutter:n});r.height="",r.paddingBottom=N({unit:c,span:t,gutter:n});break;case"fit":}return r}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed})}function b(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(r.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(r.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function v(){var e=parseInt(r.getResponsiveAttribute(d,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function E(){return C(r.getResponsiveAttribute(d,"md-gutter")||1)}function $(){var e=r.getResponsiveAttribute(d,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(y()){case"fixed":return C(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function y(){var e=r.getResponsiveAttribute(d,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":e.indexOf(":")!==-1?"ratio":"fixed"}function C(e){return/\D$/.test(e)?e:e+"px"}a.addClass("_md"),a.attr("role","list"),s.layoutDelegate=u;var M=t.bind(s,s.invalidateLayout),T=c();n.$on("$destroy",l);var A,w=e.startSymbol(),k=e.endSymbol(),_=e(p("share")+"% - ("+p("gutter")+" * "+p("gutterShare")+")"),x=e("calc(("+p("unit")+" + "+p("gutter")+") * "+p("offset")+")"),N=e("calc(("+p("unit")+") * "+p("span")+" + ("+p("span")+" - 1) * "+p("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=t.noop}function o(e){function n(t,n){var o,a,d,s,c,l;return s=e.time(function(){a=i(t,n)}),o={layoutInfo:function(){return a},map:function(t){return c=e.time(function(){var e=o.layoutInfo();d=t(e.positioning,e.rowCount)}),o},reflow:function(t){return l=e.time(function(){var e=t||r;e(d.grid,d.tiles)}),o},performance:function(){return{tileCount:n.length,layoutTime:s,mapTime:c,reflowTime:l,totalTime:s+c+l}}}}function o(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function i(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,l=0;l-a<t.col;)d>=e?o():(a=c.indexOf(0,d),a!==-1&&(l=r(a+1))!==-1?d=l+1:(a=l=0,o()));return i(a,t.col,t.row),d=a+t.col,{col:a,row:s}}function o(){d=0,s++,i(0,e,-1)}function i(e,t,n){for(var o=e;o<e+t;o++)c[o]=Math.max(c[o]+n,0)}function r(e){var t;for(t=e;t<c.length;t++)if(0!==c[t])return t;if(t===c.length)return t}function a(){for(var t=[],n=0;n<e;n++)t.push(0);return t}var d=0,s=0,c=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:s+Math.max.apply(Math,c)}}var r=o;return n.animateWith=function(e){r=t.isFunction(e)?e:o},n}function i(e){function n(n,o,i,r){o.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,t.bind(r,r.invalidateLayout));r.invalidateTiles(),n.$on("$destroy",function(){o[0].$$mdDestroyed=!0,a(),r.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&r.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function r(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],o.$inject=["$mdUtil"],e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],i.$inject=["$mdMedia"],t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",i).directive("mdGridTileFooter",r).directive("mdGridTileHeader",r).factory("$mdGridLayout",o),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){function n(e,t){function n(t){var n=t[0].querySelector(r),o=t[0].querySelector(a);return n&&t.addClass("md-icon-left"),o&&t.addClass("md-icon-right"),function(t,n){e(n)}}function o(e,n,o,i){var r=this;r.isErrorGetter=o.mdIsError&&t(o.mdIsError),r.delegateClick=function(){r.input.focus()},r.element=n,r.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},r.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},r.setHasPlaceholder=function(e){n.toggleClass("md-input-has-placeholder",!!e)},r.setInvalid=function(e){e?i.addClass(n,"md-input-invalid"):i.removeClass(n,"md-input-invalid")},e.$watch(function(){return r.label&&r.input},function(e){e&&!r.label.attr("for")&&r.label.attr("for",r.input.attr("id"))})}o.$inject=["$scope","$element","$attrs","$animate"];var i=["INPUT","TEXTAREA","SELECT","MD-SELECT"],r=i.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),a=i.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:n,controller:o}}function o(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,o){!o||n.mdNoFloat||t.hasClass("md-container-ignore")||(o.label=t,e.$on("$destroy",function(){o.label=null}))}}}function i(e,n,o,i,r){function a(a,d,s,c){function l(e){return h.setHasValue(!g.$isEmpty(e)),e}function m(){h.label&&s.$observe("required",function(e){h.label.toggleClass("md-required",e&&!E)})}function u(){h.setHasValue(d.val().length>0||(d[0].validity||{}).badInput)}function p(){function o(){d.attr("rows",1).css("height","auto").addClass("md-no-flex");var e=c();if(!$){var t=d[0].style.padding||"";$=d.css("padding",0).prop("offsetHeight"),d[0].style.padding=t}if(b&&$&&(e=Math.max(e,$*b)),v&&$){var n=$*v;n<e?(d.attr("md-no-autogrow",""),e=n):d.removeAttr("md-no-autogrow")}$&&d.attr("rows",Math.round(e/$)),d.css("height",e+"px").removeClass("md-no-flex")}function c(){var e=y.offsetHeight,t=y.scrollHeight-e;return e+Math.max(t,0)}function l(t){return e.nextTick(o),t}function m(){if(p&&(p=!1,t.element(n).off("resize",o),E&&E(),d.attr("md-no-autogrow","").off("input",o),f)){var e=g.$formatters.indexOf(l);e>-1&&g.$formatters.splice(e,1)}}function u(){function e(e){e.preventDefault(),l=!0,u=e.clientY,p=parseFloat(d.css("height"))||d.prop("offsetHeight")}function n(e){l&&(e.preventDefault(),m(),f.addClass("md-input-resized"))}function o(e){l&&d.css("height",p+e.pointer.distanceY+"px")}function i(e){l&&(l=!1,f.removeClass("md-input-resized"))}if(!s.hasOwnProperty("mdNoResize")){var c=t.element('<div class="md-resize-handle"></div>'),l=!1,u=null,p=0,f=h.element,g=r.register(c,"drag",{horizontal:!1});d.wrap('<div class="md-resize-wrapper">').after(c),c.on("mousedown",e),f.on("$md.dragstart",n).on("$md.drag",o).on("$md.dragend",i),a.$on("$destroy",function(){c.off("mousedown",e).remove(),f.off("$md.dragstart",n).off("$md.drag",o).off("$md.dragend",i),g(),c=null,f=null,g=null})}}var p=!s.hasOwnProperty("mdNoAutogrow");if(u(),p){var b=s.hasOwnProperty("rows")?parseInt(s.rows):NaN,v=s.hasOwnProperty("maxRows")?parseInt(s.maxRows):NaN,E=a.$on("md-resize-textarea",o),$=null,y=d[0];if(i(function(){e.nextTick(o)},10,!1),d.on("input",o),f&&g.$formatters.push(l),b||d.attr("rows",1),t.element(n).on("resize",o),a.$on("$destroy",m),s.hasOwnProperty("mdDetectHidden")){var C=function(){var e=!1;return function(){var t=0===y.offsetHeight;t===!1&&e===!0&&o(),e=t}}();a.$watch(function(){return e.nextTick(C,!1),!0})}}}var h=c[0],f=!!c[1],g=c[1]||e.fakeNgModel(),b=c[2],v=t.isDefined(s.readonly),E=e.parseAttributeBoolean(s.mdNoAsterisk),$=d[0].tagName.toLowerCase();if(h){if("hidden"===s.type)return void d.attr("aria-hidden","true");if(h.input){if(h.input[0].contains(d[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}h.input=d,m();var y=t.element('<div class="md-errors-spacer">');d.after(y);var C=t.isString(s.placeholder)?s.placeholder.trim():"";h.label||C.length||o.expect(d,"aria-label"),d.addClass("md-input"),d.attr("id")||d.attr("id","input_"+e.nextUid()),"input"===$&&"number"===s.type&&s.min&&s.max&&!s.step?d.attr("step","any"):"textarea"===$&&p(),f||u();var M=h.isErrorGetter||function(){return g.$invalid&&(g.$touched||b&&b.$submitted)};a.$watch(M,h.setInvalid),s.ngValue&&s.$observe("value",u),g.$parsers.push(l),g.$formatters.push(l),d.on("input",u),v||d.on("focus",function(t){e.nextTick(function(){h.setFocused(!0)})}).on("blur",function(t){e.nextTick(function(){h.setFocused(!1),u()})}),a.$on("$destroy",function(){h.setFocused(!1),h.setHasValue(!1),h.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:a}}function r(e,n){function o(o,i,r,a){function d(e){return c.parent?(c.text(String(i.val()||e||"").length+" / "+s),e):e}var s,c,l,m=a[0],u=a[1];n.nextTick(function(){l=t.element(u.element[0].querySelector(".md-errors-spacer")),c=t.element('<div class="md-char-counter">'),l.append(c),r.$set("ngTrim","false"),o.$watch(r.mdMaxlength,function(n){s=n,t.isNumber(n)&&n>0?(c.parent().length||e.enter(c,l),d()):e.leave(c)}),m.$validators["md-maxlength"]=function(e,n){return!t.isNumber(s)||s<0||(d(),(e||i.val()||n||"").length<=s)}})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:o}}function a(e){function n(n,o,i,r){if(r){var a=r.element.find("label"),d=r.element.attr("md-no-float");if(a&&a.length||""===d||n.$eval(d))return void r.setHasPlaceholder(!0);if("MD-SELECT"!=o[0].nodeName){var s=t.element('<label ng-click="delegateClick()" tabindex="-1">'+i.placeholder+"</label>");i.$set("placeholder",null),r.element.addClass("md-icon-float").prepend(s),e(s)(n)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:n}}}function d(e){function t(t,n,o){function i(){a=!0,e(function(){n[0].select(),a=!1},1,!1)}function r(e){a&&e.preventDefault()}if("INPUT"===n[0].nodeName||"TEXTAREA"===n[0].nodeName){var a=!1;n.on("focus",i).on("mouseup",r),t.$on("$destroy",function(){n.off("focus",i).off("mouseup",r)})}}return{restrict:"A",link:t}}function s(){function e(e,n,o,i){i&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==o.mdAutoHide||t(o))&&n.toggleClass("md-auto-hide",!1))}function t(e){return A.some(function(t){return e[t]})}return{restrict:"EA",link:e,require:"^^?mdInputContainer"}}function c(e){function t(t){function n(){for(var e=t[0];e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function o(t){return!!e.getClosest(t,"md-input-container")}function i(e){e.toggleClass("md-input-message-animation",!0)}if(o(t))i(t);else if(n())return function(e,n){o(n)&&i(t)}}return{restrict:"EA",compile:t,priority:100}}function l(e,t,n,o){return E(e,t,n,o),{addClass:function(e,t,n){p(e,n)}}}function m(e,t,n,o){return E(e,t,n,o),{enter:function(e,t){p(e,t)},leave:function(e,t){h(e,t)},addClass:function(e,t,n){"ng-hide"==t?h(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?p(e,n):n()}}}function u(e,t,n,o){return E(e,t,n,o),{enter:function(e,t){var n=f(e);n.start().done(t)},leave:function(e,t){var n=g(e);n.start().done(t)}}}function p(e,n){var o,i=[],r=v(e),a=r.children();return 0==r.length||0==a.length?(T.warn("mdInput messages show animation called on invalid messages element: ",e),void n()):(t.forEach(a,function(e){o=f(t.element(e)),i.push(o.start())}),void y.all(i,n))}function h(e,n){var o,i=[],r=v(e),a=r.children();return 0==r.length||0==a.length?(T.warn("mdInput messages hide animation called on invalid messages element: ",e),void n()):(t.forEach(a,function(e){o=g(t.element(e)),i.push(o.start())}),void y.all(i,n))}function f(t){var n=parseInt(e.getComputedStyle(t[0]).height),o=parseInt(e.getComputedStyle(t[0]).marginTop),i=v(t),r=b(t),a=o>-n;return a||i.hasClass("md-auto-hide")&&!r.hasClass("md-input-invalid")?C(t,{}):C(t,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function g(t){var n=t[0].offsetHeight,o=e.getComputedStyle(t[0]);return 0===parseInt(o.opacity)?C(t,{}):C(t,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function b(e){var t=e.controller("mdInputContainer");return t.element}function v(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?t.element(M.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):t.element(e[0].querySelector(".md-input-messages-animation"))}function E(e,t,n,o){y=e,C=t,M=n,T=o}n.$inject=["$mdTheming","$parse"],i.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],r.$inject=["$animate","$mdUtil"],a.$inject=["$compile"],c.$inject=["$mdUtil"],d.$inject=["$timeout"],l.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],m.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"],u.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var $=t.module("material.components.input",["material.core"]).directive("mdInputContainer",n).directive("label",o).directive("input",i).directive("textarea",i).directive("mdMaxlength",r).directive("placeholder",a).directive("ngMessages",s).directive("ngMessage",c).directive("ngMessageExp",c).directive("mdSelectOnFocus",d).animation(".md-input-invalid",l).animation(".md-input-messages-animation",m).animation(".md-input-message-animation",u);e._mdMocksIncluded&&$.service("$$mdInput",function(){return{messages:{show:p,hide:h,getElement:v}}}).service("mdInputInvalidAnimation",l).service("mdInputMessagesAnimation",m).service("mdInputMessageAnimation",u);var y,C,M,T,A=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,o,i){var r=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,d){function s(){for(var e,t,n=["md-switch","md-checkbox"],o=0;t=n[o];++o)if((e=a.find(t)[0])&&!e.hasAttribute("aria-label")){var i=a.find("p")[0];if(!i)return;e.setAttribute("aria-label","Toggle "+i.textContent)}}function c(){var e=t.element(E),n=e.parent().hasClass("md-secondary-container")||E.parentNode.firstElementChild!==E,o="left";n&&(o="right"),e.attr("md-position-mode")||e.attr("md-position-mode",o+" target");var i=e.children().eq(0);g(i[0])||i.attr("ng-click","$mdMenu.open($event)"),i.attr("aria-label")||i.attr("aria-label","Open List Menu")}function l(n){if("div"==n)y=t.element('<div class="md-no-style md-list-item-inner">'),y.append(a.contents()),a.addClass("md-proxy-focus");else{y=t.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var o=t.element('<md-button class="md-no-style"></md-button>');p(a[0],o[0]),o.attr("aria-label")||o.attr("aria-label",e.getText(a)),a.hasClass("md-no-focus")&&o.addClass("md-no-focus"),y.prepend(o),y.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(y)}function m(){var e=t.element('<div class="md-secondary-container">');t.forEach($,function(t){u(t,e)}),y.append(e)}function u(n,o){if(n&&!f(n)&&n.hasAttribute("ng-click")){e.expect(n,"aria-label");var i=t.element('<md-button class="md-secondary md-icon-button">');p(n,i[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),i.append(n),n=i[0]}n&&(!g(n)||!d.ngClick&&h(n))&&t.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),o.append(n)}function p(e,n,i){var r=o.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts"]);i&&(r=r.concat(o.prefixer(i))),t.forEach(r,function(t){e.hasAttribute(t)&&(n.setAttribute(t,e.getAttribute(t)),e.removeAttribute(t))})}function h(e){return r.indexOf(e.nodeName.toLowerCase())!=-1}function f(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}function g(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===d.$normalize(t[n].name))return!0;return!1}function b(e,a,d,s){function c(){p&&p.children&&!b&&!v&&t.forEach(r,function(e){t.forEach(p.querySelectorAll(e+":not(.md-secondary)"),function(e){u.push(e)})})}function l(){(1==u.length||b)&&(a.addClass("md-clickable"),b||s.attachRipple(e,t.element(a[0].querySelector(".md-no-style"))))}function m(e){var t=["md-slider"];if(!e.path)return t.indexOf(e.target.tagName.toLowerCase())!==-1;for(var n=e.path.indexOf(a.children()[0]),o=0;o<n;o++)if(t.indexOf(e.path[o].tagName.toLowerCase())!==-1)return!0}a.addClass("_md");var u=[],p=a[0].firstElementChild,h=a.hasClass("_md-button-wrap"),f=h?p.firstElementChild:p,b=f&&g(f),v=a.hasClass("md-no-proxy");c(),l(),u.length&&t.forEach(u,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,i(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function t(){a.removeClass("md-focused"),n.off("blur",t)})})});var E=function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName&&!e.target.isContentEditable){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&f&&(f.click(),e.preventDefault(),e.stopPropagation())}};b||u.length||f&&f.addEventListener("keypress",E),a.off("click"),a.off("keypress"),1==u.length&&f&&a.children().eq(0).on("click",function(e){if(!m(e)){var n=o.getClosest(e.target,"BUTTON");!n&&f.contains(e.target)&&t.forEach(u,function(n){e.target===n||n.contains(e.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),t.element(n).triggerHandler("click"))})}}),e.$on("$destroy",function(){f&&f.removeEventListener("keypress",E)})}var v,E,$=a[0].querySelectorAll(".md-secondary"),y=a;if(a[0].setAttribute("role","listitem"),d.ngClick||d.ngDblclick||d.ngHref||d.href||d.uiSref||d.ngAttrUiSref)l("button");else if(!a.hasClass("md-no-proxy")){for(var C,M=0;C=r[M];++M)if(E=a[0].querySelector(C)){v=!0;break}v?l("div"):a.addClass("md-no-proxy")}return m(),s(),v&&"MD-MENU"===E.nodeName&&c(),b}}}function o(e,t,n){function o(e,t){var o={};n.attach(e,t,o)}var i=this;i.attachRipple=o}o.$inject=["$scope","$element","$mdListInkRipple"],e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],t.module("material.components.list",["material.core"]).controller("MdListController",o).directive("mdList",e).directive("mdListItem",n)}(),function(){t.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){t.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function e(e,n){return{restrict:"E",transclude:!0,controller:o,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(o,i,r,a){n(i),a.navBarAriaLabel||e.expectAsync(i,"aria-label",t.noop)}}}function o(e,t,n,o){this._$timeout=n,this._$scope=t,this._$mdConstant=o,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var i=this,r=this._$scope.$watch(function(){return i._navBarEl.querySelectorAll("._md-nav-button").length},function(e){e>0&&(i._initTabs(),r())})}function i(e,n){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:r,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,o,i,r=t.mdNavClick,a=t.mdNavHref,d=t.mdNavSref,s=t.srefOpts;if((r?1:0)+(a?1:0)+(d?1:0)>1)throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");return r?n='ng-click="ctrl.mdNavClick()"':a?n='ng-href="{{ctrl.mdNavHref}}"':d&&(n='ui-sref="{{ctrl.mdNavSref}}"'),o=s?'ui-sref-opts="{{ctrl.srefOpts}}" ':"",n&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+o+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(o,i,r,a){n(function(){var n=a[0],r=a[1],d=t.element(i[0].querySelector("._md-nav-button"));n.name||(n.name=t.element(i[0].querySelector("._md-nav-button-text")).text().trim()),d.on("click",function(){r.mdSelectedNavItem=n.name,o.$apply()}),e.expectWithText(i,"aria-label")})}}}function r(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this._selected=!1,this._focused=!1}o.$inject=["$element","$scope","$timeout","$mdConstant"],i.$inject=["$mdAria","$$rAF"],r.$inject=["$element"],e.$inject=["$mdAria","$mdTheming"],t.module("material.components.navBar",["material.core"]).controller("MdNavBarController",o).directive("mdNavBar",e).controller("MdNavItemController",r).directive("mdNavItem",i),o.prototype._initTabs=function(){this._inkbar=t.element(this._navBarEl.querySelector("md-nav-ink-bar"));var e=this;this._$timeout(function(){e._updateTabs(e.mdSelectedNavItem,n)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(t,n){e._$timeout(function(){e._updateTabs(t,n)})})},o.prototype._updateTabs=function(e,t){var n=this,o=this._getTabs();if(o){var i=-1,r=-1,a=this._getTabByName(e),d=this._getTabByName(t);d&&(d.setSelected(!1),i=o.indexOf(d)),a&&(a.setSelected(!0),r=o.indexOf(a)),this._$timeout(function(){n._updateInkBarStyles(a,r,i)})}},o.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",t>n),this._inkbar.css({display:t<0?"none":""}),e){var o=e.getButtonEl(),i=o.offsetLeft;this._inkbar.css({left:i+"px",width:o.offsetWidth+"px"})}},o.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return t.element(e).controller("mdNavItem")});return e.indexOf(n)?e:null},o.prototype._getTabByName=function(e){return this._findTab(function(t){return t.getName()==e})},o.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},o.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},o.prototype._findTab=function(e){for(var t=this._getTabs(),n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},o.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},o.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},o.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),o=this.getFocusedTab();if(o){var i=n.indexOf(o);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:i>0&&this._moveFocus(o,n[i-1]);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:i<n.length-1&&this._moveFocus(o,n[i+1]);break;case t.SPACE:case t.ENTER:this._$timeout(function(){o.getButtonEl().click()})}}},r.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},r.prototype.getName=function(){return this.name},r.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},r.prototype.setSelected=function(e){this._selected=e},r.prototype.isSelected=function(){return this._selected},r.prototype.setFocused=function(e){this._focused=e,e&&this.getButtonEl().focus()},r.prototype.hasFocus=function(){return this._focused}}(),function(){function e(){return{definePreset:o,getAllPresets:i,clearPresets:r,$get:a()}}function o(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(g.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,g[e]=t}function i(){return t.copy(g)}function r(){g={}}function a(){
return["$rootElement","$rootScope","$injector","$window",function(e,t,n,o){return new d(g,e,t,n,o)}]}function d(e,n,o,i,r){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:t.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:p},this._config={},this._presets=e,this._$rootElement=n,this._$rootScope=o,this._$injector=i,this._$window=r,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=l.animation,this.xPosition=c.xPosition,this.yPosition=c.yPosition,this.interceptorTypes=s.interceptorTypes,this.closeReasons=s.closeReasons,this.absPosition=c.absPosition}function s(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function c(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function l(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function m(e){var n=t.isString(e)?document.querySelector(e):e;return t.element(n)}function u(e,t){var n=getComputedStyle(e[0]||e)[t],o=n.indexOf("("),i=n.lastIndexOf(")"),r={x:0,y:0};if(o>-1&&i>-1){var a=n.substring(o+1,i).split(", ").slice(-2);r.x=parseInt(a[0]),r.y=parseInt(a[1])}return r}d.$inject=["presets","$rootElement","$rootScope","$injector","$window"],t.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",e);var p=80,h="_md-panel-hidden",f=t.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),g={};d.prototype.create=function(e,n){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!t.isUndefined(n)&&n||(n=e,e={}),e=e||{},n=n||{},t.isDefined(n.id)&&this._trackedPanels[n.id]){var o=this._trackedPanels[n.id];return t.extend(o.config,n),o}this._config=t.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,e);var i=new s(this._config,this._$injector);return this._trackedPanels[n.id]=i,this._config.groupName&&(t.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),t.forEach(this._config.groupName,function(e){i.addToGroup(e)})),this._config.scope.$on("$destroy",t.bind(i,i.detach)),i},d.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},d.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},d.prototype.newPanelPosition=function(){return new c(this._$injector)},d.prototype.newPanelAnimation=function(){return new l(this._$injector)},d.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){t=t||{};var n={panels:[],openPanels:[],maxOpen:t.maxOpen>0?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},d.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},d.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return t.maxOpen>0&&t.openPanels.length>t.maxOpen}return!1},d.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},d.prototype._wrapTemplate=function(e){var t=e||"";return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+t+"</div></div>"},d.prototype._wrapContentElement=function(e){var n=t.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel _md-panel-offscreen"),n.append(e),n},s.interceptorTypes={CLOSE:"onClose"},s.prototype.open=function(){var e=this;return this._$q(function(n,o){var i=e._done(n,e),r=e._simpleBind(e.show,e),a=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._openCountExceedsMaxOpen(t)&&e._$mdPanel._closeFirstOpenedPanel(t)})};e.attach().then(r).then(a).then(i)["catch"](o)})},s.prototype.close=function(e){var n=this;return this._$q(function(o,i){n._callInterceptors(s.interceptorTypes.CLOSE).then(function(){var r=n._done(o,n),a=n._simpleBind(n.detach,n),d=n.config.onCloseSuccess||t.noop;d=t.bind(n,d,n,e),n.hide().then(a).then(r).then(d)["catch"](i)},i)})},s.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var e=this;return this._$q(function(n,o){var i=e._done(n,e),r=e.config.onDomAdded||t.noop,a=function(t){return e.isAttached=!0,e._addEventListeners(),t};e._$q.all([e._createBackdrop(),e._createPanel().then(a)["catch"](o)]).then(r).then(i)["catch"](o)})},s.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var e=this,n=e.config.onDomRemoved||t.noop,o=function(){return e._removeEventListeners(),e._topFocusTrap&&e._topFocusTrap.parentNode&&e._topFocusTrap.parentNode.removeChild(e._topFocusTrap),e._bottomFocusTrap&&e._bottomFocusTrap.parentNode&&e._bottomFocusTrap.parentNode.removeChild(e._bottomFocusTrap),e._restoreCache.classes&&(e.panelEl[0].className=e._restoreCache.classes),e.panelEl[0].style.cssText=e._restoreCache.styles||"",e._compilerCleanup(),e.panelContainer.remove(),e.isAttached=!1,e._$q.when(e)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(t,i){var r=e._done(t,e);e._$q.all([o(),!e._backdropRef||e._backdropRef.detach()]).then(n).then(r)["catch"](i)})},s.prototype.destroy=function(){var e=this;this.config.groupName&&t.forEach(this.config.groupName,function(t){e.removeFromGroup(t)}),this.config.scope.$destroy(),this.config.locals=null,this._interceptors=null},s.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(h))return this._$q.when(this);var e=this,n=function(){return e.panelContainer.removeClass(h),e._animateOpen()};return this._$q(function(o,i){var r=e._done(o,e),a=e.config.onOpenComplete||t.noop,d=function(){e.config.groupName&&t.forEach(e.config.groupName,function(t){e._$mdPanel._groups[t].openPanels.push(e)})};e._$q.all([e._backdropRef?e._backdropRef.show():e,n().then(function(){e._focusOnOpen()},i)]).then(a).then(d).then(r)["catch"](i)})},s.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(h))return this._$q.when(this);var e=this;return this._$q(function(n,o){var i=e._done(n,e),r=e.config.onRemoving||t.noop,a=function(){e.panelContainer.addClass(h)},d=function(){if(e.config.groupName){var n;t.forEach(e.config.groupName,function(t){t=e._$mdPanel._groups[t],n=t.openPanels.indexOf(e),n>-1&&t.openPanels.splice(n,1)})}},s=function(){var t=e.config.origin;t&&m(t).focus()};e._$q.all([e._backdropRef?e._backdropRef.hide():e,e._animateClose().then(r).then(a).then(d).then(s)["catch"](o)]).then(i,o)})},s.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},s.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},s.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},s.prototype._compile=function(){var e=this;return e._$mdCompiler.compile(e.config).then(function(n){var o=e.config;if(o.contentElement){var i=n.element;e._restoreCache.styles=i[0].style.cssText,e._restoreCache.classes=i[0].className,e.panelContainer=e._$mdPanel._wrapContentElement(i),e.panelEl=i}else e.panelContainer=n.link(o.scope),e.panelEl=t.element(e.panelContainer[0].querySelector(".md-panel"));return e._compilerCleanup=n.cleanup,m(e.config.attachTo).append(e.panelContainer),e})},s.prototype._createPanel=function(){var e=this;return this._$q(function(t,n){e.config.locals||(e.config.locals={}),e.config.locals.mdPanelRef=e,e._compile().then(function(){e.config.disableParentScroll&&(e._restoreScroll=e._$mdUtil.disableScrollAround(null,e.panelContainer,{disableScrollMask:!0})),e.config.panelClass&&e.panelEl.addClass(e.config.panelClass),e.config.propagateContainerEvents&&(e.panelContainer.css("pointer-events","none"),e.panelEl.css("pointer-events","all")),e._$animate.pin&&e._$animate.pin(e.panelContainer,m(e.config.attachTo)),e._configureTrapFocus(),e._addStyles().then(function(){t(e)},n)},n)})},s.prototype._addStyles=function(){var e=this;return this._$q(function(t){e.panelContainer.css("z-index",e.config.zIndex),e.panelEl.css("z-index",e.config.zIndex+1);var n=function(){e._setTheming(),e.panelEl.removeClass("_md-panel-offscreen"),e.panelContainer.addClass(h),t(e)};if(e.config.fullscreen)return e.panelEl.addClass("_md-panel-fullscreen"),void n();var o=e.config.position;return o?void e._$rootScope.$$postDigest(function(){e._updatePosition(!0),e._setTheming(),t(e)}):void n()})},s.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},s.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},s.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass(h)),this.panelEl.css(c.absPosition.TOP,t.getTop()),this.panelEl.css(c.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(c.absPosition.LEFT,t.getLeft()),this.panelEl.css(c.absPosition.RIGHT,t.getRight()))},s.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){var t=e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl;t.focus()})}},s.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},s.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},s.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},s.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=m(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(s.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},s.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var e,n=this.config.propagateContainerEvents?t.element(document.body):this.panelContainer,o=function(t){e=t.target},i=this,r=function(t){i.config.propagateContainerEvents?e===i.panelEl[0]||i.panelEl[0].contains(e)||i.close():e===n[0]&&t.target===n[0]&&(t.stopPropagation(),t.preventDefault(),i.close(s.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",o),n.on("mouseup",r),this._removeListeners.push(function(){n.off("mousedown",o),n.off("mouseup",r)})}},s.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=t.bind(this,this._updatePosition),n=this._$$rAF.throttle(e),o=this,i=function(){n()};this._$window.addEventListener("scroll",i,!0),this._removeListeners.push(function(){o._$window.removeEventListener("scroll",i,!0)})}},s.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=f.clone()[0],this._bottomFocusTrap=f.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},s.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},s.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var e=this.config.animation;if(!e)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var o=t._done(n,t),i=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),o()};e.animateOpen(t.panelEl).then(o,i)})},s.prototype._animateClose=function(){var e=this.config.animation;if(!e)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var t=this;return this._$q(function(n){var o=function(){t.panelContainer.removeClass("md-panel-is-showing"),n(t)},i=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),o()};e.animateClose(t.panelEl).then(o,i)})},s.prototype.registerInterceptor=function(e,n){var o=null;if(t.isString(e)?t.isFunction(n)||(o="Interceptor callback must be a function, instead got "+typeof n):o="Interceptor type must be a string, instead got "+typeof e,o)throw new Error("MdPanel: "+o);var i=this._interceptors[e]=this._interceptors[e]||[];return i.indexOf(n)===-1&&i.push(n),this},s.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return n>-1&&this._interceptors[e].splice(n,1),this},s.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),this},s.prototype._callInterceptors=function(e){var n=this,o=n._$q,i=n._interceptors&&n._interceptors[e]||[];return i.reduceRight(function(e,i){var r=i&&t.isFunction(i.then),a=r?i:null;return e.then(function(){if(!a)try{a=i(n)}catch(e){a=o.reject(e)}return a})},o.resolve(n))},s.prototype._simpleBind=function(e,t){return function(n){return e.apply(t,n)}},s.prototype._done=function(e,t){return function(){e(t)}},s.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n<0&&t.panels.push(this)},s.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);n>-1&&t.panels.splice(n,1)},s.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},c.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},c.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},c.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},c.viewportMargin=8,c.prototype.absolute=function(){return this._absolute=!0,this},c.prototype._setPosition=function(e,n){if(e===c.absPosition.RIGHT||e===c.absPosition.LEFT)this._left=this._right="";else{if(e!==c.absPosition.BOTTOM&&e!==c.absPosition.TOP){var o=Object.keys(c.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+o+".")}this._top=this._bottom=""}return this["_"+e]=t.isString(n)?n:"0",this},c.prototype.top=function(e){return this._setPosition(c.absPosition.TOP,e)},c.prototype.bottom=function(e){return this._setPosition(c.absPosition.BOTTOM,e)},c.prototype.start=function(e){var t=this._isRTL?c.absPosition.RIGHT:c.absPosition.LEFT;return this._setPosition(t,e)},c.prototype.end=function(e){var t=this._isRTL?c.absPosition.LEFT:c.absPosition.RIGHT;return this._setPosition(t,e)},c.prototype.left=function(e){return this._setPosition(c.absPosition.LEFT,e)},c.prototype.right=function(e){return this._setPosition(c.absPosition.RIGHT,e)},c.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},c.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},c.prototype.center=function(){return this.centerHorizontally().centerVertically()},c.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=m(e),this},c.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},c.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(c.yPosition),o=[],i=0;t=n[i];i++){var r=c.yPosition[t];if(o.push(r),r===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+o.join(" | "))}},c.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(c.xPosition),o=[],i=0;t=n[i];i++){var r=c.xPosition[t];if(o.push(r),r===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+o.join(" | "))}},c.prototype.withOffsetX=function(e){return this._translateX.push(e),this},c.prototype.withOffsetY=function(e){return this._translateY.push(e),this},c.prototype.getTop=function(){return this._top},c.prototype.getBottom=function(){return this._bottom},c.prototype.getLeft=function(){return this._left},c.prototype.getRight=function(){return this._right},c.prototype.getTransform=function(){var e=this._reduceTranslateValues("translateX",this._translateX),t=this._reduceTranslateValues("translateY",this._translateY);return(e+" "+t).trim()},c.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},c.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var o=this._$mdConstant.CSS.TRANSFORM,i=u(e,o);t+=i.x,n+=i.y}var r=t+e[0].offsetWidth,a=n+e[0].offsetHeight;return t>=0&&n>=0&&a<=this._$window.innerHeight&&r<=this._$window.innerWidth},c.prototype.getActualPosition=function(){return this._actualPosition},c.prototype._reduceTranslateValues=function(e,n){return n.map(function(n){var o=t.isFunction(n)?n(this):n;return e+"("+o+")"},this).join(" ")},c.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)return void this._setTransform(e);if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)},c.prototype._constrainToViewport=function(e){var t=c.viewportMargin,n=this._top,o=this._left;if(this.getTop()){var i=parseInt(this.getTop()),r=e[0].offsetHeight+i,a=this._$window.innerHeight;i<t?this._top=t+"px":r>a&&(this._top=i-(r-a+t)+"px")}if(this.getLeft()){var d=parseInt(this.getLeft()),s=e[0].offsetWidth+d,l=this._$window.innerWidth;d<t?this._left=t+"px":s>l&&(this._left=d-(s-l+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==o)},c.prototype._reverseXPosition=function(e){if(e===c.xPosition.CENTER)return e;var t="start",n="end";return e.indexOf(t)>-1?e.replace(t,n):e.replace(n,t)},c.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},c.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),o=n.width,i=n.height,r=this._relativeToEl[0].getBoundingClientRect(),a=r.left,d=r.right,s=r.width;switch(this._bidi(t.x)){case c.xPosition.OFFSET_START:this._left=a-o+"px";break;case c.xPosition.ALIGN_END:this._left=d-o+"px";break;case c.xPosition.CENTER:var l=a+.5*s-.5*o;this._left=l+"px";break;case c.xPosition.ALIGN_START:this._left=a+"px";break;case c.xPosition.OFFSET_END:this._left=d+"px"}var m=r.top,u=r.bottom,p=r.height;switch(t.y){case c.yPosition.ABOVE:this._top=m-i+"px";break;case c.yPosition.ALIGN_BOTTOMS:this._top=u-i+"px";break;case c.yPosition.CENTER:var h=m+.5*p-.5*i;this._top=h+"px";break;case c.yPosition.ALIGN_TOPS:this._top=m+"px";break;case c.yPosition.BELOW:this._top=u+"px"}},l.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},l.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},l.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},l.prototype.duration=function(e){function n(e){if(t.isNumber(e))return e/1e3}return e&&(t.isNumber(e)?this._openDuration=this._closeDuration=n(e):t.isObject(e)&&(this._openDuration=n(e.open),this._closeDuration=n(e.close))),this._rawDuration=e,this},l.prototype._getPanelAnimationTarget=function(e){return t.isDefined(e.top)||t.isDefined(e.left)?{element:n,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(m(e))},l.prototype.withAnimation=function(e){return this._animationClass=e,this},l.prototype.animateOpen=function(e){var n=this._$mdUtil.dom.animator;this._fixBounds(e);var o={},i=e[0].style.transform||"",r=n.toTransformCss(i),a=n.toTransformCss(i);switch(this._animationClass){case l.animation.SLIDE:e.css("opacity","1"),o={transitionInClass:"_md-panel-animate-enter"};var d=n.calculateSlideToOrigin(e,this._openFrom)||"";r=n.toTransformCss(d+" "+i);break;case l.animation.SCALE:o={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateZoomToOrigin(e,this._openFrom)||"";r=n.toTransformCss(s+" "+i);break;case l.animation.FADE:o={transitionInClass:"_md-panel-animate-enter"};break;default:o=t.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return o.duration=this._openDuration,n.translate3d(e,r,a,o)},l.prototype.animateClose=function(e){var n=this._$mdUtil.dom.animator,o={},i=e[0].style.transform||"",r=n.toTransformCss(i),a=n.toTransformCss(i);switch(this._animationClass){case l.animation.SLIDE:e.css("opacity","1"),o={transitionInClass:"_md-panel-animate-leave"};var d=n.calculateSlideToOrigin(e,this._closeTo)||"";a=n.toTransformCss(d+" "+i);break;case l.animation.SCALE:o={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var s=n.calculateZoomToOrigin(e,this._closeTo)||"";a=n.toTransformCss(s+" "+i);break;case l.animation.FADE:o={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:o=t.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return o.duration=this._closeDuration,n.translate3d(e,r,a,o)},l.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},l.prototype._getBoundingClientRect=function(e){if(e instanceof t.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),function(){t.module("material.components.progressCircular",["material.core"])}(),function(){function e(e,n,o){function i(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),r}function r(o,i,r){function u(){r.$observe("value",function(e){var t=a(e);i.attr("aria-valuenow",t),h()!=l&&f($,t)}),r.$observe("mdBufferValue",function(e){f(E,a(e))}),r.$observe("disabled",function(e){b=e===!0||e===!1?!!e:t.isDefined(e),i.toggleClass(m,b),y.toggleClass(g,!b)}),r.$observe("mdMode",function(e){switch(g&&y.removeClass(g),e){case l:case c:case d:case s:y.addClass(g="md-mode-"+e);break;default:y.addClass(g="md-mode-"+s)}})}function p(){if(t.isUndefined(r.mdMode)){var e=t.isDefined(r.value),n=e?d:s;i.attr("md-mode",n),r.mdMode=n}}function h(){var e=(r.mdMode||"").trim();if(e)switch(e){case d:case s:case c:case l:break;default:e=s}return e}function f(e,o){if(!b&&h()){var i=n.supplant("translateX({0}%) scale({1},1)",[(o-100)/2,o/100]),r=v({transform:i});t.element(e).css(r)}}e(i);var g,b=r.hasOwnProperty("disabled"),v=n.dom.animator.toCss,E=t.element(i[0].querySelector(".md-bar1")),$=t.element(i[0].querySelector(".md-bar2")),y=t.element(i[0].querySelector(".md-container"));i.attr("md-mode",h()).toggleClass(m,b),p(),u()}function a(e){return Math.max(0,Math.min(e||0,100))}var d="determinate",s="indeterminate",c="buffer",l="query",m="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:i}}e.$inject=["$mdTheming","$mdUtil","$log"],t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e)}(),function(){function e(e,n,o,i){function r(r,a,d,s){function c(){a.hasClass("md-focused")||a.addClass("md-focused")}function l(o){var i=o.which||o.keyCode;if(i==n.KEY_CODE.ENTER||o.currentTarget==o.target)switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:o.preventDefault(),m.selectPrevious(),c();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:o.preventDefault(),m.selectNext(),c();break;case n.KEY_CODE.ENTER:var r=t.element(e.getClosest(a[0],"form"));r.length>0&&r.triggerHandler("submit")}}a.addClass("_md"),o(a);var m=s[0],u=s[1]||e.fakeNgModel();m.init(u),r.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",l).on("mousedown",function(e){r.mouseActive=!0,i(function(){r.mouseActive=!1},100)}).on("focus",function(){r.mouseActive===!1&&m.$element.addClass("md-focused")}).on("blur",function(){m.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function d(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);t!==-1&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return s(this.$element,1)},selectPrevious:function(){return s(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function s(n,o){var i=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(i.count()){var r=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),d=i[o<0?"previous":"next"](a,r)||i.first();t.element(d).triggerHandler("click")}}return a.prototype=d(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:r}}}function n(e,t,n){function o(o,r,a,d){function s(){if(!d)throw"RadioButton: No RadioGroupController could be found.";d.add(l),a.$observe("value",l),r.on("click",c).on("$destroy",function(){d.remove(l)})}function c(e){r[0].hasAttribute("disabled")||d.isDisabled()||o.$apply(function(){d.setViewValue(a.value,e&&e.type)})}function l(){var e=d.getViewValue()==a.value;e!==u&&("md-radio-group"!==r[0].parentNode.nodeName.toLowerCase()&&r.parent().toggleClass(i,e),e&&d.setActiveDescendant(r.attr("id")),u=e,r.attr("aria-checked",e).toggleClass(i,e))}function m(n,o){n.attr({id:a.id||"radio_"+t.nextUid(),role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var u;n(r),m(r,o),a.ngValue?t.nextTick(s,!1):s()}var i="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:o}}e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n)}(),function(){function o(e,o,i,r,a,d,s,l){function m(l,m){var u=t.element("<md-select-value><span></span></md-select-value>");u.append('<span class="md-select-icon" aria-hidden="true"></span>'),u.addClass("md-select-value"),u[0].hasAttribute("id")||u.attr("id","select_value_label_"+o.nextUid());var p=l.find("md-content");if(p.length||l.append(t.element("<md-content>").append(l.contents())),p.attr("role","presentation"),m.mdOnOpen&&(l.find("md-content").prepend(t.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),l.find("md-option").attr("ng-show","$$loadingAsyncDone")),m.name){var h=t.element('<select class="md-visually-hidden">');h.attr({name:m.name,"aria-hidden":"true",tabindex:"-1"});var f=l.find("md-option");t.forEach(f,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),h.append(n)}),h.append('<option ng-value="'+m.ngModel+'" selected></option>'),l.parent().append(h);
}var g=o.parseAttributeBoolean(m.multiple),b=g?"multiple":"",v='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';return v=o.supplant(v,[b,l.html()]),l.empty().append(u),l.append(v),m.tabindex||m.$set("tabindex",0),function(l,m,u,p){function h(){var e=m.attr("aria-label")||m.attr("placeholder");!e&&A&&A.label&&(e=A.label.text()),M=e,a.expect(m,"aria-label",e)}function f(){I&&(O=O||I.find("md-select-menu").controller("mdSelectMenu"),w.setLabelText(O.selectedLabels()))}function b(){if(M){var e=O.selectedLabels({mode:"aria"});m.attr("aria-label",e.length?M+": "+e:M)}}function v(){A&&A.setHasValue(O.selectedLabels().length>0||(m[0].validity||{}).badInput)}function E(){if(I=t.element(m[0].querySelector(".md-select-menu-container")),H=l,u.mdContainerClass){var e=I[0].getAttribute("class")+" "+u.mdContainerClass;I[0].setAttribute("class",e)}O=I.find("md-select-menu").controller("mdSelectMenu"),O.init(k,u.ngModel),m.on("$destroy",function(){I.remove()})}function $(e){if(i.isNavigationKey(e))e.preventDefault(),y(e);else if(c(e,i)){e.preventDefault();var n=O.optNodeForKeyboardSearch(e);if(!n||n.hasAttribute("disabled"))return;var o=t.element(n).controller("mdOption");O.isMultiple||O.deselect(Object.keys(O.selected)[0]),O.select(o.hashKey,o.value),O.refreshViewValue()}}function y(){H._mdSelectIsOpen=!0,m.attr("aria-expanded","true"),e.show({scope:H,preserveScope:!0,skipCompile:!0,element:I,target:m[0],selectCtrl:w,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!u.mdOnOpen&&(l.$eval(u.mdOnOpen)||!0)})["finally"](function(){H._mdSelectIsOpen=!1,m.focus(),m.attr("aria-expanded","false"),k.$setTouched()})}var C,M,T=!0,A=p[0],w=p[1],k=p[2],_=p[3],x=m.find("md-select-value"),N=t.isDefined(u.readonly),S=o.parseAttributeBoolean(u.mdNoAsterisk);if(S&&m.addClass("md-no-asterisk"),A){var D=A.isErrorGetter||function(){return k.$invalid&&(k.$touched||_&&_.$submitted)};if(A.input&&m.find("md-select-header").find("input")[0]!==A.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");A.input=m,A.label||a.expect(m,"aria-label",m.attr("placeholder")),l.$watch(D,A.setInvalid)}var I,H,O;E(),r(m),_&&t.isDefined(u.multiple)&&o.nextTick(function(){var e=k.$modelValue||k.$viewValue;e&&_.$setPristine()});var P=k.$render;k.$render=function(){P(),f(),b(),v()},u.$observe("placeholder",k.$render),A&&A.label&&u.$observe("required",function(e){A.label.toggleClass("md-required",e&&!S)}),w.setLabelText=function(e){w.setIsPlaceholder(!e);var t=!1;if(u.mdSelectedText&&u.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(u.mdSelectedText||u.mdSelectedHtml)e=d(u.mdSelectedText||u.mdSelectedHtml)(l),t=!0;else if(!e){var n=u.placeholder||(A&&A.label?A.label.text():"");e=n||"",t=!0}var o=x.children().eq(0);u.mdSelectedHtml?o.html(s.getTrustedHtml(e)):t?o.text(e):o.html(e)},w.setIsPlaceholder=function(e){e?(x.addClass("md-select-placeholder"),A&&A.label&&A.label.addClass("md-placeholder")):(x.removeClass("md-select-placeholder"),A&&A.label&&A.label.removeClass("md-placeholder"))},N||(m.on("focus",function(e){A&&A.setFocused(!0)}),m.on("blur",function(e){T&&(T=!1,H._mdSelectIsOpen&&e.stopImmediatePropagation()),H._mdSelectIsOpen||(A&&A.setFocused(!1),v())})),w.triggerClose=function(){d(u.mdOnClose)(l)},l.$$postDigest(function(){h(),f(),b()}),l.$watch(function(){return O.selectedLabels()},f);var L;u.$observe("ngMultiple",function(e){L&&L();var t=d(e);L=l.$watch(function(){return t(l)},function(e,t){e===n&&t===n||(e?m.attr("multiple","multiple"):m.removeAttr("multiple"),m.attr("aria-multiselectable",e?"true":"false"),I&&(O.setMultiple(e),P=k.$render,k.$render=function(){P(),f(),b(),v()},k.$render()))})}),u.$observe("disabled",function(e){t.isString(e)&&(e=!0),C!==n&&C===e||(C=e,e?m.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",y).off("keydown",$):m.attr({tabindex:u.tabindex,"aria-disabled":"false"}).on("click",y).on("keydown",$))}),u.hasOwnProperty("disabled")||u.hasOwnProperty("ngDisabled")||(m.attr({"aria-disabled":"false"}),m.on("click",y),m.on("keydown",$));var R={role:"listbox","aria-expanded":"false","aria-multiselectable":g&&!u.ngMultiple?"true":"false"};m[0].hasAttribute("id")||(R.id="select_"+o.nextUid());var F="select_container_"+o.nextUid();I.attr("id",F),m.find("md-select-menu").length||(R["aria-owns"]=F),m.attr(R),l.$on("$destroy",function(){e.destroy()["finally"](function(){A&&(A.setFocused(!1),A.setHasValue(!1),A.input=null),k.$setTouched()})})}}var u=i.KEY_CODE;[u.SPACE,u.ENTER,u.UP_ARROW,u.DOWN_ARROW];return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:m,controller:function(){}}}function i(e,o,i,r){function a(e,n,i,a){function d(e){13!=e.keyCode&&32!=e.keyCode||s(e)}function s(n){var i=o.getClosest(n.target,"md-option"),r=i&&t.element(i).data("$mdOptionController");if(i&&r){if(i.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=c.hashGetter(r.value),d=t.isDefined(c.selected[a]);e.$apply(function(){c.isMultiple?d?c.deselect(a):c.select(a,r.value):d||(c.deselect(Object.keys(c.selected)[0]),c.select(a,r.value)),c.refreshViewValue()})}}var c=a[0];n.addClass("_md"),r(n),n.on("click",s),n.on("keypress",d)}function d(r,a,d){function s(){var e=l.ngModel.$modelValue||l.ngModel.$viewValue||[];if(t.isArray(e)){var n=Object.keys(l.selected),o=e.map(l.hashGetter),i=n.filter(function(e){return o.indexOf(e)===-1});i.forEach(l.deselect),o.forEach(function(t,n){l.select(t,e[n])})}}function c(){var e=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect),l.select(l.hashGetter(e),e)}var l=this;l.isMultiple=t.isDefined(a.multiple),l.selected={},l.options={},r.$watchCollection(function(){return l.options},function(){l.ngModel.$render()});var u,p;l.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var o=l.ngModel;p=p||o.$isEmpty,l.isMultiple=e,u&&u(),l.isMultiple?(o.$validators["md-multiple"]=n,o.$render=s,r.$watchCollection(l.modelBinding,function(e){n(e)&&s(e),l.ngModel.$setPristine()}),o.$isEmpty=function(e){return!e||0===e.length}):(delete o.$validators["md-multiple"],o.$render=c)};var h,f,g,b="",v=300;l.optNodeForKeyboardSearch=function(e){h&&clearTimeout(h),h=setTimeout(function(){h=n,b="",g=n,f=n},v);var o=e.keyCode-(i.isNumPadKey(e)?48:0);b+=String.fromCharCode(o);var r=new RegExp("^"+b,"i");f||(f=d.find("md-option"),g=new Array(f.length),t.forEach(f,function(e,t){g[t]=e.textContent.trim()}));for(var a=0;a<g.length;++a)if(r.test(g[a]))return f[a]},l.init=function(n,i){l.ngModel=n,l.modelBinding=i,l.ngModel.$isEmpty=function(e){return!l.options[l.hashGetter(e)]};var a=o.getModelOption(n,"trackBy");if(a){var d={},s=e(a);l.hashGetter=function(e,t){return d.$value=e,s(t||r,d)}}else l.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++m)):e};l.setMultiple(l.isMultiple)},l.selectedLabels=function(e){e=e||{};var t=e.mode||"html",n=o.nodesToArray(d[0].querySelectorAll("md-option[selected]"));if(n.length){var i;return"html"==t?i=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var o=e.querySelector(".md-container");return o&&(t=t.replace(o.outerHTML,"")),t}:"aria"==t&&(i=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),o.uniq(n.map(i)).join(", ")}return""},l.select=function(e,t){var n=l.options[e];n&&n.setSelected(!0),l.selected[e]=t},l.deselect=function(e){var t=l.options[e];t&&t.setSelected(!1),delete l.selected[e]},l.addOption=function(e,n){if(t.isDefined(l.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');l.options[e]=n,t.isDefined(l.selected[e])&&(l.select(e,n.value),t.isDefined(l.ngModel.$modelValue)&&l.hashGetter(l.ngModel.$modelValue)===e&&l.ngModel.$validate(),l.refreshViewValue())},l.removeOption=function(e){delete l.options[e]},l.refreshViewValue=function(){var e,n=[];for(var i in l.selected)(e=l.options[i])?n.push(e.value):n.push(l.selected[i]);var r=o.getModelOption(l.ngModel,"trackBy"),a=l.isMultiple?n:n[0],d=l.ngModel.$modelValue;(r?t.equals(d,a):d+""===a)||(l.ngModel.$setViewValue(a),l.ngModel.$render())}}return d.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:d,link:{pre:a}}}function r(e,n,o){function i(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),r(n)||e.attr("md-option-empty",""),a}function r(e){var t=e.value,n=e.ngValue;return t||n}function a(i,r,a,d){function s(e,t,n){if(!m.hashGetter)return void(n||i.$$postDigest(function(){s(e,t,!0)}));var o=m.hashGetter(t,i),r=m.hashGetter(e,i);l.hashKey=r,l.value=e,m.removeOption(o,l),m.addOption(r,l)}function c(){var e={role:"option","aria-selected":"false"};r[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),r.attr(e)}var l=d[0],m=d[1];o(r),m.isMultiple&&(r.addClass("md-checkbox-enabled"),r.prepend(u.clone())),t.isDefined(a.ngValue)?i.$watch(a.ngValue,s):t.isDefined(a.value)?s(a.value):i.$watch(function(){return r.text().trim()},s),a.$observe("disabled",function(e){e?r.attr("tabindex","-1"):r.attr("tabindex","0")}),i.$$postDigest(function(){a.$observe("selected",function(e){t.isDefined(e)&&("string"==typeof e&&(e=!0),e?(m.isMultiple||m.deselect(Object.keys(m.selected)[0]),m.select(l.hashKey,l.value)):m.deselect(l.hashKey),m.refreshViewValue())})}),e.attach(i,r),c(),i.$on("$destroy",function(){m.removeOption(l.hashKey,l)})}function d(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return d.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:d,compile:i}}function a(){function e(e,n){function o(){return e.parent().find("md-select-header").length}function i(){var o=e.find("label");o.length||(o=t.element("<label>"),e.prepend(o)),o.addClass("md-container-ignore"),o.attr("aria-hidden","true"),n.label&&o.text(n.label)}o()||i()}return{restrict:"E",compile:e}}function d(){return{restrict:"E"}}function s(o){function i(o,i,m,u,p,h,f,g,b){function v(e,t,n){function o(){return r=f(t,{addClass:"md-leave"}),r.start()}function i(){a(),t.removeClass("md-active").attr("aria-hidden","true").css("display","none"),t.parent().find("md-select-value").removeAttr("aria-hidden"),$(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}var r=null,a=e.$on("$destroy",function(){r.end()});return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?i():o().then(i)}function E(e,r,a){function d(e,t,n){return n.parent!==t.parent()&&t.parent().attr("aria-owns",t.attr("id")),t.parent().find("md-select-value").attr("aria-hidden","true"),n.parent.append(t),p(function(e,n){try{f(t,{removeClass:"md-leave",duration:0}).start().then(s).then(e)}catch(o){n(o)}})}function s(){return p(function(t){if(a.isRemoved)return p.reject(!1);var n=y(e,r,a);n.container.element.css(M.toCss(n.container.styles)),n.dropDown.element.css(M.toCss(n.dropDown.styles)),h(function(){r.addClass("md-active"),n.dropDown.element.css(M.toCss({transform:""})),t()})})}function l(e,t,n){return n.disableParentScroll&&!m.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=m.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=m.createBackdrop(e,"md-select-backdrop md-click-catcher"),g.enter(n.backdrop,b[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function v(e){e&&!e.hasAttribute("disabled")&&e.focus()}function E(e,n){var o=r.find("md-select-menu");if(!n.target)throw new Error(m.supplant(C,[n.target]));t.extend(n,{isRemoved:!1,target:t.element(n.target),parent:t.element(n.parent),selectEl:o,contentEl:r.find("md-content"),optionNodes:o[0].getElementsByTagName("md-option")})}function $(){var n=function(e,t,n){return function(){if(!n.isRemoved){var o=y(e,t,n),i=o.container,r=o.dropDown;i.element.css(M.toCss(i.styles)),r.element.css(M.toCss(r.styles))}}}(e,r,a),o=t.element(u);return o.on("resize",n),o.on("orientationchange",n),function(){o.off("resize",n),o.off("orientationchange",n)}}function A(){a.loadingAsync&&!a.isRemoved&&(e.$$loadingAsyncDone=!1,p.when(a.loadingAsync).then(function(){e.$$loadingAsyncDone=!0,delete a.loadingAsync}).then(function(){h(s)}))}function w(){function e(e){e.preventDefault(),e.stopPropagation(),a.restoreFocus=!1,m.nextTick(o.hide,!0)}function t(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case T.UP_ARROW:return l();case T.DOWN_ARROW:return s();case T.SPACE:case T.ENTER:var t=m.getClosest(e.target,"md-option");t&&(p.triggerHandler({type:"click",target:t}),e.preventDefault()),u(e);break;case T.TAB:case T.ESCAPE:e.stopPropagation(),e.preventDefault(),a.restoreFocus=!0,m.nextTick(o.hide,!0);break;default:if(c(e,i)){var n=p.controller("mdSelectMenu").optNodeForKeyboardSearch(e);a.focusedNode=n||a.focusedNode,n&&n.focus()}}}function d(e){var t,o=m.nodesToArray(a.optionNodes),i=o.indexOf(a.focusedNode);do i===-1?i=0:"next"===e&&i<o.length-1?i++:"prev"===e&&i>0&&i--,t=o[i],t.hasAttribute("disabled")&&(t=n);while(!t&&i<o.length-1&&i>0);t&&t.focus(),a.focusedNode=t}function s(){d("next")}function l(){d("prev")}function u(e){function t(){var t=!1;if(e&&e.currentTarget.children.length>0){var n=e.currentTarget.children[0],o=n.scrollHeight>n.clientHeight;if(o&&n.children.length>0){var i=e.pageX-e.currentTarget.getBoundingClientRect().left;i>n.querySelector("md-option").offsetWidth&&(t=!0)}}return t}if(!(e&&"click"==e.type&&e.currentTarget!=p[0]||t())){var n=m.getClosest(e.target,"md-option");n&&n.hasAttribute&&!n.hasAttribute("disabled")&&(e.preventDefault(),e.stopPropagation(),h.isMultiple||(a.restoreFocus=!0,m.nextTick(function(){o.hide(h.ngModel.$viewValue)},!0)))}}if(!a.isRemoved){var p=a.selectEl,h=p.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",e),p.on("keydown",t),p.on("click",u),function(){a.backdrop&&a.backdrop.off("click",e),p.off("keydown",t),p.off("click",u),r.removeClass("md-clickable"),a.isRemoved=!0}}}return A(),E(e,a),a.hideBackdrop=l(e,r,a),d(e,r,a).then(function(e){return r.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=w(),a.cleanupResizing=$(),v(a.focusedNode),e},a.hideBackdrop)}function $(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}function y(n,o,i){var c,p=o[0],h=i.target[0].children[0],f=b[0].body,g=i.selectEl[0],v=i.contentEl[0],E=f.getBoundingClientRect(),$=h.getBoundingClientRect(),y=!1,C={left:E.left+l,top:l,bottom:E.height-l,right:E.width-l-(m.floatingScrollbars()?16:0)},M={top:$.top-C.top,left:$.left-C.left,right:C.right-($.left+$.width),bottom:C.bottom-($.top+$.height)},T=E.width-2*l,A=g.querySelector("md-option[selected]"),w=g.getElementsByTagName("md-option"),k=g.getElementsByTagName("md-optgroup"),_=s(o,v),x=r(i.loadingAsync);c=x?v.firstElementChild||v:A?A:k.length?k[0]:w.length?w[0]:v.firstElementChild||v,v.offsetWidth>T?v.style["max-width"]=T+"px":v.style.maxWidth=null,y&&(v.style["min-width"]=$.width+"px"),_&&g.classList.add("md-overflow");var N=c;"MD-OPTGROUP"===(N.tagName||"").toUpperCase()&&(N=w[0]||v.firstElementChild||v,c=N),i.focusedNode=N,p.style.display="block";var S=g.getBoundingClientRect(),D=d(c);if(c){var I=u.getComputedStyle(c);D.paddingLeft=parseInt(I.paddingLeft,10)||0,D.paddingRight=parseInt(I.paddingRight,10)||0}if(_){var H=v.offsetHeight/2;v.scrollTop=D.top+D.height/2-H,M.top<H?v.scrollTop=Math.min(D.top,v.scrollTop+H-M.top):M.bottom<H&&(v.scrollTop=Math.max(D.top+D.height-S.height,v.scrollTop-H+M.bottom))}var O,P,L,R,F;y?(O=$.left,P=$.top+$.height,L="50% 0",P+S.height>C.bottom&&(P=$.top-S.height,L="50% 100%")):(O=$.left+D.left-D.paddingLeft+2,P=Math.floor($.top+$.height/2-D.height/2-D.top+v.scrollTop)+2,L=D.left+$.width/2+"px "+(D.top+D.height/2-v.scrollTop)+"px 0px",R=Math.min($.width+D.paddingLeft+D.paddingRight,T),F=e.getComputedStyle(h)["font-size"]);var B=p.getBoundingClientRect(),j=Math.round(100*Math.min($.width/S.width,1))/100,U=Math.round(100*Math.min($.height/S.height,1))/100;return{container:{element:t.element(p),styles:{left:Math.floor(a(C.left,O,C.right-B.width)),top:Math.floor(a(C.top,P,C.bottom-B.height)),"min-width":R,"font-size":F}},dropDown:{element:t.element(g),styles:{transformOrigin:L,transform:i.alreadyOpen?"":m.supplant("scale({0},{1})",[j,U])}}}}var C="$mdSelect.show() expected a target element in options.target but got '{0}'!",M=m.dom.animator,T=i.KEY_CODE;return{parent:"body",themable:!0,onShow:E,onRemove:v,hasBackdrop:!0,disableParentScroll:!0}}function r(e){return e&&t.isFunction(e.then)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function d(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}function s(e,t){var n=!1;try{var o=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=o}finally{}return n}return i.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],o("$mdSelect").setDefaults({methods:["target"],options:i})}function c(e,t){var n=String.fromCharCode(e.keyCode),o=e.keyCode<=31;return n&&n.length&&!o&&!t.isMetaKey(e)&&!t.isFnLockKey(e)&&!t.hasModifierKey(e)}o.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],i.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],r.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],s.$inject=["$$interimElementProvider"];var l=8,m=0,u=t.element('<div class="md-container"><div class="md-icon"></div></div>');t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",o).directive("mdSelectMenu",i).directive("mdOption",r).directive("mdOptgroup",a).directive("mdSelectHeader",d).provider("$mdSelect",s)}(),function(){function e(e,t){return["$mdUtil","$window",function(n,o){return{restrict:"A",multiElement:!0,link:function(i,r,a){var d=i.$on("$md-resize-enable",function(){d();var s=r[0],c=s.nodeType===o.Node.ELEMENT_NODE?o.getComputedStyle(s):{};i.$watch(a[e],function(e){if(!!e===t){n.nextTick(function(){i.$broadcast("$md-resize")});var o={cachedTransitionStyles:c};n.dom.animator.waitTransitionEnd(r,o).then(function(){i.$broadcast("$md-resize")})}})})}}}]}t.module("material.components.showHide",["material.core"]).directive("ngShow",e("ngShow",!0)).directive("ngHide",e("ngHide",!1))}(),function(){function e(e,o,i,r){function a(e,n){var r=function(){return!1},a=function(){return i.when(o.supplant(c,[n||""]))};return t.extend({isLockedOpen:r,isOpen:r,toggle:a,open:a,close:a,onClose:t.noop,then:function(e){return s(n).then(e||t.noop)}},e)}function d(t,i){var a=e.get(t);return a||i?a:(r.error(o.supplant(c,[t||""])),n)}function s(t){return e.when(t)["catch"](r.error)}var c="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",l={find:d,waitFor:s};return function(e,n){if(t.isUndefined(e))return l;var o=n===!0,i=l.find(e,o);return!i&&o?l.waitFor(e):!i&&t.isUndefined(n)?a(l,e):i}}function o(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,o){}}}function i(e,o,i,r,a,d,s,c,l,m,u,p,h){function f(s,f,g,b){function v(e,t){s.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):d[e?"addClass":"removeClass"](f,"md-locked-open"),w&&w.toggleClass("md-locked-open",!!e)}function E(e){var t=o.findFocusTarget(f)||o.findFocusTarget(f,"[md-sidenav-focus]")||f,n=f.parent();n[e?"on":"off"]("keydown",M),w&&w[e?"on":"off"]("click",T);var i=$(n,e);return e&&(N=u[0].activeElement,k=a.getLastInteractionType()),y(e),S=m.all([e&&w?d.enter(w,n):w?d.leave(w):m.when(!0),d[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){s.isOpen&&(h(function(){I.triggerHandler("resize")}),t&&t.focus()),i&&i()})}function $(e,t){var n=f[0],o=e[0].scrollTop;if(t&&o){_={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var i={top:o+"px",bottom:"auto",height:e[0].clientHeight+"px"};f.css(i),w.css(i)}if(!t&&_)return function(){n.style.top=_.top,n.style.bottom=_.bottom,n.style.height=_.height,w[0].style.top=null,w[0].style.bottom=null,w[0].style.height=null,_=null}}function y(e){e&&!A?(A=x.css("overflow"),x.css("overflow","hidden")):t.isDefined(A)&&(x.css("overflow",A),A=n)}function C(e){return s.isOpen==e?m.when(!0):(s.isOpen&&b.onCloseCb&&b.onCloseCb(),m(function(t){s.isOpen=e,o.nextTick(function(){S.then(function(e){!s.isOpen&&N&&"keyboard"===k&&(N.focus(),N=null),t(e)})})}))}function M(e){var t=e.keyCode===i.KEY_CODE.ESCAPE;return t?T(e):m.when(!0)}function T(e){return e.preventDefault(),b.close()}var A,w,k,_,x=null,N=null,S=m.when(!0),D=c(g.mdIsLockedOpen),I=t.element(p),H=function(){return D(s.$parent,{$media:function(t){return l.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),e(t)},$mdMedia:e})};g.mdDisableScrollTarget&&(x=u[0].querySelector(g.mdDisableScrollTarget),x?x=t.element(x):l.warn(o.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),x||(x=f.parent()),g.hasOwnProperty("mdDisableBackdrop")||(w=o.createBackdrop(s,"md-sidenav-backdrop md-opaque ng-enter")),f.addClass("_md"),r(f),w&&r.inherit(w,f),f.on("$destroy",function(){w&&w.remove(),b.destroy()}),s.$on("$destroy",function(){w&&w.remove()}),s.$watch(H,v),s.$watch("isOpen",E),b.$toggleOpen=C}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),f}}}function r(e,t,n,o,i){var r=this;r.isOpen=function(){return!!e.isOpen},r.isLockedOpen=function(){return!!e.isLockedOpen},r.onClose=function(e){return r.onCloseCb=e,r},r.open=function(){return r.$toggleOpen(!0)},r.close=function(){return r.$toggleOpen(!1)},r.toggle=function(){return r.$toggleOpen(!e.isOpen)},r.$toggleOpen=function(t){return o.when(e.isOpen=t)};var a=t.mdComponentId,d=a&&a.indexOf(i.startSymbol())>-1,s=d?i(a)(e.$parent):a;r.destroy=n.register(r,s),d&&t.$observe("mdComponentId",function(e){e&&e!==r.$$mdHandle&&(r.destroy(),r.destroy=n.register(r,e))})}e.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],i.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],r.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",i).directive("mdSidenavFocus",o).controller("$mdSidenavController",r)}(),function(){function e(){return{controller:function(){},compile:function(e){var o=e.find("md-slider");if(o){var i=o.attr("md-vertical");return i!==n&&e.attr("md-vertical",""),o.attr("flex")||o.attr("flex",""),function(e,n,o,i){function r(e){n.children().attr("disabled",e),n.find("input").attr("disabled",e)}n.addClass("_md");var a=t.noop;o.disabled?r(!0):o.ngDisabled&&(a=e.$watch(o.ngDisabled,function(e){r(e)})),e.$on("$destroy",function(){a()});var d;i.fitInputWidthToTextLength=function(e){var t=n[0].querySelector("md-input-container");if(t){var o=getComputedStyle(t),i=parseInt(o.minWidth),r=2*parseInt(o.padding);d=d||parseInt(o.maxWidth);var a=Math.max(d,i+r+i/2*e);t.style.maxWidth=a+"px"}}}}}}}function o(e,n,o,i,r,a,d,s,c,l){function m(e,n){var i=t.element(e[0].getElementsByClassName("md-slider-wrapper")),r=n.tabindex||0;return i.attr("tabindex",r),(n.disabled||n.ngDisabled)&&i.attr("tabindex",-1),i.attr("role","slider"),o.expect(e,"aria-label"),u}function u(o,m,u,p){function h(){C(),x()}function f(e){se=parseFloat(e),m.attr("aria-valuemin",e),h()}function g(e){ce=parseFloat(e),m.attr("aria-valuemax",e),h()}function b(e){le=parseFloat(e)}function v(e){me=N(parseInt(e),0,6)}function E(){m.attr("aria-disabled",!!Y())}function $(){if(ie&&!Y()&&!t.isUndefined(le)){if(le<=0){var e="Slider step value must be greater than zero when in discrete mode";throw c.error(e),new Error(e)}var o=Math.floor((ce-se)/le);ue||(ue=t.element("<canvas>").css("position","absolute"),J.append(ue),pe=ue[0].getContext("2d"));var i=M();!i||i.height||i.width||(C(),i=he),ue[0].width=i.width,ue[0].height=i.height;for(var r,a=0;a<=o;a++){var d=n.getComputedStyle(J[0]);pe.fillStyle=d.color||"black",r=Math.floor((oe?i.height:i.width)*(a/o)),pe.fillRect(oe?0:r-1,oe?r-1:0,oe?i.width:2,oe?2:i.height)}}}function y(){if(ue&&pe){var e=M();pe.clearRect(0,0,e.width,e.height)}}function C(){he=Q[0].getBoundingClientRect()}function M(){return te(),he}function T(e){if(!Y()){var t;(oe?e.keyCode===r.KEY_CODE.DOWN_ARROW:e.keyCode===r.KEY_CODE.LEFT_ARROW)?t=-le:(oe?e.keyCode===r.KEY_CODE.UP_ARROW:e.keyCode===r.KEY_CODE.RIGHT_ARROW)&&(t=le),t=re?-t:t,t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),o.$evalAsync(function(){_(W.$viewValue+t)}))}}function A(){$(),o.mouseActive=!0,ee.removeClass("md-focused"),l(function(){o.mouseActive=!1},100)}function w(){o.mouseActive===!1&&ee.addClass("md-focused")}function k(){ee.removeClass("md-focused"),m.removeClass("md-active"),y()}function _(e){W.$setViewValue(N(S(e)))}function x(){isNaN(W.$viewValue)&&(W.$viewValue=W.$modelValue),W.$viewValue=N(W.$viewValue);var e=z(W.$viewValue);o.modelValue=W.$viewValue,m.attr("aria-valuenow",W.$viewValue),D(e),G.text(W.$viewValue)}function N(e,n,o){if(t.isNumber(e))return n=t.isNumber(n)?n:se,o=t.isNumber(o)?o:ce,Math.max(n,Math.min(o,e))}function S(e){if(t.isNumber(e)){var n=Math.round((e-se)/le)*le+se;return n=Math.round(n*Math.pow(10,me))/Math.pow(10,me),V&&V.fitInputWidthToTextLength&&i.debounce(function(){V.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function D(e){e=j(e);var t=100*e+"%",n=re?100*(1-e)+"%":t;oe?X.css("bottom",t):i.bidiProperty(X,"left","right",t),Z.css(oe?"height":"width",n),m.toggleClass(re?"md-max":"md-min",0===e),m.toggleClass(re?"md-min":"md-max",1===e)}function I(e){if(!Y()){m.addClass("md-active"),m[0].focus(),C();var t=q(U(oe?e.pointer.y:e.pointer.x)),n=N(S(t));o.$apply(function(){_(n),D(z(n))})}}function H(e){if(!Y()){m.removeClass("md-dragging");var t=q(U(oe?e.pointer.y:e.pointer.x)),n=N(S(t));o.$apply(function(){_(n),x()})}}function O(e){Y()||(fe=!0,e.stopPropagation(),m.addClass("md-dragging"),R(e))}function P(e){fe&&(e.stopPropagation(),R(e))}function L(e){fe&&(e.stopPropagation(),fe=!1)}function R(e){ie?B(oe?e.pointer.y:e.pointer.x):F(oe?e.pointer.y:e.pointer.x)}function F(e){o.$evalAsync(function(){_(q(U(e)))})}function B(e){var t=q(U(e)),n=N(S(t));D(U(e)),G.text(n)}function j(e){return Math.max(0,Math.min(e||0,1))}function U(e){var t=oe?he.top:he.left,n=oe?he.height:he.width,o=(e-t)/n;return oe||"rtl"!==i.bidi()||(o=1-o),Math.max(0,Math.min(1,oe?1-o:o))}function q(e){var t=re?1-e:e;return se+t*(ce-se)}function z(e){var t=(e-se)/(ce-se);return re?1-t:t}a(m);var W=p[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},V=p[1],Y=(t.element(i.getClosest(m,"_md-slider-container",!0)),u.ngDisabled?t.bind(null,s(u.ngDisabled),o.$parent):function(){return m[0].hasAttribute("disabled")}),K=t.element(m[0].querySelector(".md-thumb")),G=t.element(m[0].querySelector(".md-thumb-text")),X=K.parent(),Q=t.element(m[0].querySelector(".md-track-container")),Z=t.element(m[0].querySelector(".md-track-fill")),J=t.element(m[0].querySelector(".md-track-ticks")),ee=t.element(m[0].getElementsByClassName("md-slider-wrapper")),te=(t.element(m[0].getElementsByClassName("md-slider-content")),i.throttle(C,5e3)),ne=3,oe=t.isDefined(u.mdVertical),ie=t.isDefined(u.mdDiscrete),re=t.isDefined(u.mdInvert);t.isDefined(u.min)?u.$observe("min",f):f(0),t.isDefined(u.max)?u.$observe("max",g):g(100),t.isDefined(u.step)?u.$observe("step",b):b(1),t.isDefined(u.round)?u.$observe("round",v):v(ne);var ae=t.noop;u.ngDisabled&&(ae=o.$parent.$watch(u.ngDisabled,E)),d.register(ee,"drag",{horizontal:!oe}),o.mouseActive=!1,ee.on("keydown",T).on("mousedown",A).on("focus",w).on("blur",k).on("$md.pressdown",I).on("$md.pressup",H).on("$md.dragstart",O).on("$md.drag",P).on("$md.dragend",L),setTimeout(h,0);var de=e.throttle(h);t.element(n).on("resize",de),o.$on("$destroy",function(){t.element(n).off("resize",de)}),W.$render=x,W.$viewChangeListeners.push(x),W.$formatters.push(N),W.$formatters.push(S);var se,ce,le,me,ue,pe,he={};C();var fe=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:m}}o.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],t.module("material.components.slider",["material.core"]).directive("mdSlider",o).directive("mdSliderContainer",e)}(),function(){function e(e,t,o,i){function r(i){function r(e,t){t.addClass("md-sticky-clone");var n={element:e,clone:t};return f.items.push(n),o.nextTick(function(){p.prepend(n.clone)}),h(),function(){f.items.forEach(function(t,n){t.element[0]===e[0]&&(f.items.splice(n,1),t.clone.remove())}),h()}}function d(){f.items.forEach(s),f.items=f.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=p.prop("scrollTop"),n=f.items.length-1;n>=0;n--)if(t>f.items[n].top){e=f.items[n];break}l(e)}function s(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==p[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var i=o.floatingScrollbars()?"0":n;o.bidi(e.clone,"margin-left",e.left,i),o.bidi(e.clone,"margin-right",i,e.right)}function c(){var e=p.prop("scrollTop"),t=e>(c.prevScrollTop||0);if(c.prevScrollTop=e,0===e)return void l(null);if(t){if(f.next&&f.next.top<=e)return void l(f.next);if(f.current&&f.next&&f.next.top-e<=f.next.height)return void u(f.current,e+(f.next.top-f.next.height-e))}if(!t){if(f.current&&f.prev&&e<f.current.top)return void l(f.prev);if(f.next&&f.current&&e>=f.next.top-f.current.height)return void u(f.current,e+(f.next.top-e-f.current.height))}f.current&&u(f.current,e)}function l(e){if(f.current!==e){f.current&&(u(f.current,null),m(f.current,null)),e&&m(e,"active"),f.current=e;var t=f.items.indexOf(e);f.next=f.items[t+1],f.prev=f.items[t-1],m(f.next,"next"),m(f.prev,"prev")}}function m(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function u(t,i){t&&(null===i||i===n?t.translateY&&(t.translateY=null,t.clone.css(e.CSS.TRANSFORM,"")):(t.translateY=i,o.bidi(t.clone,e.CSS.TRANSFORM,"translate3d("+t.left+"px,"+i+"px,0)","translateY("+i+"px)")))}var p=i.$element,h=t.throttle(d);a(p),p.on("$scrollstart",h),p.on("$scroll",c);var f;return f={prev:null,current:null,next:null,items:[],add:r,refreshElements:d}}function a(e){function n(){+o.now()-r>a?(i=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),t.throttle(n))}var i,r,a=200;e.on("scroll touchmove",function(){i||(i=!0,t.throttle(n),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),r=+o.now()})}var d=o.checkStickySupport();
return function(e,t,n){var o=t.controller("mdContent");if(o)if(d)t.css({position:d,top:0,"z-index":2});else{var a=o.$element.data("$$sticky");a||(a=r(o),o.$element.data("$$sticky",a));var s=n||i(t.clone())(e),c=a.add(t,s);e.$on("$destroy",c)}}}e.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e)}(),function(){function e(e,n,o,i,r){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,d,s,c,l){function m(e){return t.element(e[0].querySelector(".md-subheader-content"))}o(d),d.addClass("_md"),i.prefixer().removeAttribute(d,"ng-repeat");var u=d[0].outerHTML;s.$set("role","heading"),r.expect(d,"aria-level","2"),l(a,function(e){m(d).append(e)}),d.hasClass("md-no-sticky")||l(a,function(t){var o=n('<div class="md-subheader-wrapper" aria-hidden="true">'+u+"</div>")(a);i.nextTick(function(){m(o).append(t)}),e(a,d,o)})}}}e.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e)}(),function(){function e(e){function t(e){function t(t,i,r){var a=e(r[n]);i.on(o,function(e){t.$applyAsync(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}t.$inject=["$parse"];var n="md"+e,o="$md."+e.toLowerCase();return t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight")).directive("mdSwipeUp",e("SwipeUp")).directive("mdSwipeDown",e("SwipeDown"))}(),function(){function e(e,n,o,i,r,a,d){function s(e,s){var l=c.compile(e,s).post;return e.addClass("md-dragging"),function(e,s,c,m){function u(t){b&&b(e)||(t.stopPropagation(),s.addClass("md-dragging"),y={width:v.prop("offsetWidth")})}function p(e){if(y){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/y.width,n=g.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),v.css(o.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),y.translate=n}}function h(t){if(y){t.stopPropagation(),s.removeClass("md-dragging"),v.css(o.CSS.TRANSFORM,"");var n=g.$viewValue?y.translate<.5:y.translate>.5;n&&f(!g.$viewValue),y=null,e.skipToggle=!0,d(function(){e.skipToggle=!1},1)}}function f(t){e.$apply(function(){g.$setViewValue(t),g.$render()})}var g=(m[0],m[1]||n.fakeNgModel()),b=(m[2],null);null!=c.disabled?b=function(){return!0}:c.ngDisabled&&(b=i(c.ngDisabled));var v=t.element(s[0].querySelector(".md-thumb-container")),E=t.element(s[0].querySelector(".md-container")),$=t.element(s[0].querySelector(".md-label"));r(function(){s.removeClass("md-dragging")}),l(e,s,c,m),b&&e.$watch(b,function(e){s.attr("tabindex",e?-1:0)}),c.$observe("mdInvert",function(e){var t=n.parseAttributeBoolean(e);t?s.prepend($):s.prepend(E),s.toggleClass("md-inverted",t)}),a.register(E,"drag"),E.on("$md.dragstart",u).on("$md.drag",p).on("$md.dragend",h);var y}}var c=e[0];return{restrict:"E",priority:o.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:s}}e.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e)}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(){function e(e,t){var o,i,r=e.canvas,a=n(e);for(o=0;o<a.length;o++)if(a[o]>=t){i=a[o];break}return Math.max(0,i-r.clientWidth)}function t(e,t){var i,r,a=e.canvas,d=o(e)-a.clientWidth,s=n(e);for(i=0;i<s.length,s[i]<=t+a.clientWidth;i++)r=s[i];return Math.min(d,r)}function n(e){var t,n,o=0,i=[];for(t=0;t<e.tabs.length;t++)n=e.tabs[t],i.push(o),o+=n.offsetWidth;return i}function o(e){var t,n,o=0;for(t=0;t<e.tabs.length;t++)n=e.tabs[t],o+=n.offsetWidth;return o}return{decreasePageOffset:e,increasePageOffset:t,getTabOffsets:n,getTotalTabsWidth:o}}t.module("material.components.tabs").service("MdTabsPaginationService",e)}(),function(){function e(e){return{restrict:"E",link:function(t,n){n.addClass("_md"),t.$on("$destroy",function(){e.destroy()})}}}function n(e){function n(e){r=e}function o(e,t){this.$onInit=function(){var n=this;n.highlightAction&&(t.highlightClasses=["md-highlight",n.highlightClass]),t.$watch(function(){return r},function(){n.content=r}),this.resolve=function(){e.hide(a)}}}function i(e,n,o,i){function a(t,a,d){r=d.textContent||d.content;var l=!i("gt-sm");return a=o.extractElementByName(a,"md-toast",!0),d.element=a,d.onSwipe=function(e,t){var i=e.type.replace("$md.",""),r=i.replace("swipe","");"down"===r&&d.position.indexOf("top")!=-1&&!l||"up"===r&&(d.position.indexOf("bottom")!=-1||l)||("left"!==r&&"right"!==r||!l)&&(a.addClass("md-"+i),o.nextTick(n.cancel))},d.openClass=s(d.position),a.addClass(d.toastClass),d.parent.addClass(d.openClass),o.hasComputedStyle(d.parent,"position","static")&&d.parent.css("position","relative"),a.on(c,d.onSwipe),a.addClass(l?"md-bottom":d.position.split(" ").map(function(e){return"md-"+e}).join(" ")),d.parent&&d.parent.addClass("md-toast-animating"),e.enter(a,d.parent).then(function(){d.parent&&d.parent.removeClass("md-toast-animating")})}function d(t,n,i){return n.off(c,i.onSwipe),i.parent&&i.parent.addClass("md-toast-animating"),i.openClass&&i.parent.removeClass(i.openClass),(1==i.$destroy?n.remove():e.leave(n)).then(function(){i.parent&&i.parent.removeClass("md-toast-animating"),o.hasComputedStyle(i.parent,"position","static")&&i.parent.css("position","")})}function s(e){return i("gt-xs")?"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}var c="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:a,onRemove:d,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,n){var o=n.autoWrap&&e&&!/md-toast-content/g.test(e);if(o){var i=document.createElement("md-template");i.innerHTML=e;for(var r=0;r<i.children.length;r++)if("MD-TOAST"===i.children[r].nodeName){var a=t.element('<div class="md-toast-content">');a.append(t.element(i.children[r].childNodes)),i.children[r].appendChild(a[0])}return i.innerHTML}return e||""}}}o.$inject=["$mdToast","$scope"],i.$inject=["$animate","$mdToast","$mdUtil","$mdMedia"];var r,a="ok",d=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:i}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","highlightAction","highlightClass","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content">    <span class="md-toast-text" role="alert" aria-relevant="all" aria-atomic="true">      {{ toast.content }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"         ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:o,theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",n).addMethod("updateContent",n);return d}e.$inject=["$mdToast"],n.$inject=["$$interimElementProvider"],t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n)}(),function(){function e(e,n,o,i,r){var a=t.bind(null,o.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(d,s,c){function l(){function i(e){var t=s.parent().find("md-content");!f&&t.length&&l(null,t),e=d.$eval(e),e===!1?g():g=u()}function l(e,t){t&&s.parent()[0]===t.parent()[0]&&(f&&f.off("scroll",$),f=t,g=u())}function m(e){var t=e?e.target.scrollTop:v;y(),b=Math.min(h/E,Math.max(0,b+t-v)),s.css(n.CSS.TRANSFORM,a([-b*E])),f.css(n.CSS.TRANSFORM,a([(h-b)*E])),v=t,o.nextTick(function(){var e=s.hasClass("md-whiteframe-z1");e&&!b?r.removeClass(s,"md-whiteframe-z1"):!e&&b&&r.addClass(s,"md-whiteframe-z1")})}function u(){return f?(f.on("scroll",$),f.attr("scroll-shrink","true"),o.nextTick(p,!1),function(){f.off("scroll",$),f.attr("scroll-shrink","false"),p()}):t.noop}function p(){h=s.prop("offsetHeight");var e=-h*E+"px";f.css({"margin-top":e,"margin-bottom":e}),m()}var h,f,g=t.noop,b=0,v=0,E=c.mdShrinkSpeedFactor||.5,$=e.throttle(m),y=o.debounce(p,5e3);d.$on("$mdContentLoaded",l),c.$observe("mdScrollShrink",i),c.ngShow&&d.$watch(c.ngShow,p),c.ngHide&&d.$watch(c.ngHide,p),d.$on("$destroy",g)}s.addClass("_md"),i(s),o.nextTick(function(){s.addClass("_md-toolbar-transitions")},!1),t.isDefined(c.mdScrollShrink)&&l()}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e)}(),function(){function n(e,n,o,i,r,a,d,s){function c(c,g,b){function v(){c.mdZIndex=c.mdZIndex||u,c.mdDelay=c.mdDelay||p,f[c.mdDirection]||(c.mdDirection=h)}function E(e){var t=e||r(g.text().trim())(c.$parent);(!H.attr("aria-label")&&!H.attr("aria-labelledby")||H.attr("md-labeled-by-tooltip"))&&(H.attr("aria-label",t),H.attr("md-labeled-by-tooltip")||H.attr("md-labeled-by-tooltip",I))}function $(){v(),N&&N.panelEl&&N.panelEl.removeClass(k),k="md-origin-"+c.mdDirection,_=f[c.mdDirection],x=d.newPanelPosition().relativeTo(H).addPanelPosition(_.x,_.y),N&&N.panelEl&&(N.panelEl.addClass(k),N.updatePosition(x))}function y(){function t(e){return e.some(function(e){return"disabled"===e.attributeName&&H[0].disabled}),!1}function o(){M(!1)}function r(){L=document.activeElement===H[0]}function d(e){"focus"===e.type&&L?L=!1:c.mdVisible||(H.on(m,u),M(!0),"touchstart"===e.type&&H.one("touchend",function(){a.nextTick(function(){i.one("touchend",u)},!1)}))}function u(){S=c.hasOwnProperty("mdAutohide")?c.mdAutohide:b.hasOwnProperty("mdAutohide"),(S||P||i[0].activeElement!==H[0])&&(D&&(e.cancel(D),M.queued=!1,D=null),H.off(m,u),H.triggerHandler("blur"),M(!1)),P=!1}function p(){P=!0}function h(){s.deregister("scroll",o,!0),s.deregister("blur",r),s.deregister("resize",O),H.off(l,d).off(m,u).off("mousedown",p),u(),f&&f.disconnect()}if(H[0]&&"MutationObserver"in n){var f=new MutationObserver(function(e){t(e)&&a.nextTick(function(){M(!1)})});f.observe(H[0],{attributes:!0})}L=!1,s.register("scroll",o,!0),s.register("blur",r),s.register("resize",O),c.$on("$destroy",h),H.on("mousedown",p),H.on(l,d)}function C(){function e(){c.$destroy()}if(g[0]&&"MutationObserver"in n){var t=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||c.visibleWatcher||(c.visibleWatcher=c.$watch("mdVisible",T))})});t.observe(g[0],{attributes:!0}),b.hasOwnProperty("mdVisible")&&(c.visibleWatcher=c.$watch("mdVisible",T))}else c.visibleWatcher=c.$watch("mdVisible",T);c.$watch("mdDirection",$),g.one("$destroy",e),H.one("$destroy",e),c.$on("$destroy",function(){M(!1),N&&N.destroy(),t&&t.disconnect(),g.remove()}),g.text().indexOf(r.startSymbol())>-1&&c.$watch(function(){return g.text().trim()},E)}function M(t){M.queued&&M.value===!!t||!M.queued&&c.mdVisible===!!t||(M.value=!!t,M.queued||(t?(M.queued=!0,D=e(function(){c.mdVisible=M.value,M.queued=!1,D=null,c.visibleWatcher||T(c.mdVisible)},c.mdDelay)):a.nextTick(function(){c.mdVisible=!1,c.visibleWatcher||T(!1)})))}function T(e){e?A():w()}function A(){if(!g[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!N){var e=t.element(document.body),n=d.newPanelAnimation().openFrom(H).closeTo(H).withAnimation({open:"md-show",close:"md-hide"}),o={id:I,attachTo:e,contentElement:g,propagateContainerEvents:!0,panelClass:"md-tooltip "+k,animation:n,position:x,zIndex:c.mdZIndex,focusOnOpen:!1};N=d.create(o)}N.open().then(function(){N.panelEl.attr("role","tooltip")})}function w(){N&&N.close()}var k,_,x,N,S,D,I="md-tooltip-"+a.nextUid(),H=a.getParentWithPointerEvents(g),O=o.throttle($),P=!1,L=null;v(),E(),g.detach(),$(),y(),C()}var l="focus touchstart mouseenter",m="blur touchcancel mouseleave",u=100,p=0,h="bottom",f={top:{x:d.xPosition.CENTER,y:d.yPosition.ABOVE},right:{x:d.xPosition.OFFSET_END,y:d.yPosition.CENTER},bottom:{x:d.xPosition.CENTER,y:d.yPosition.BELOW},left:{x:d.xPosition.OFFSET_START,y:d.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:c}}function o(){function n(e){r[e.type]&&r[e.type].forEach(function(t){t.call(this,e)},this)}function o(t,o,i){var d=r[t]=r[t]||[];d.length||(i?e.addEventListener(t,n,!0):a.on(t,n)),d.indexOf(o)===-1&&d.push(o)}function i(t,o,i){var d=r[t],s=d?d.indexOf(o):-1;s>-1&&(d.splice(s,1),0===d.length&&(i?e.removeEventListener(t,n,!0):a.off(t,n)))}var r={},a=t.element(e);return{register:o,deregister:i}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],t.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",o)}(),function(){function e(){return{restrict:"AE",controller:n,controllerAs:"$ctrl",bindToController:!0}}function n(e){e.addClass("md-truncate")}n.$inject=["$element"],t.module("material.components.truncate",["material.core"]).directive("mdTruncate",e)}(),function(){function e(){return{controller:o,template:n,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(e){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+e[0].innerHTML+"</div></div>"}function o(e,n,o,i,r,a,d,s,c){this.$rootScope=r,this.$scope=d,this.$element=s,this.$attrs=c,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=o.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=i(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),t.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,t.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=s[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var l=t.bind(this,this.updateSize);e(t.bind(this,function(){l();var e=n.debounce(l,10,null,!1),o=t.element(a);this.size||e(),o.on("resize",e),d.$on("$destroy",function(){o.off("resize",e)}),d.$emit("$md-resize-enable"),d.$on("$md-resize",l)}))}function i(e){return{controller:r,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(t,n){var o=n.mdVirtualRepeat,i=o.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),r=i[1],a=e(i[2]),d=n.mdExtraName&&e(n.mdExtraName);return function(e,t,n,o,i){o[0].link_(o[1],i,r,a,d)}}}}function r(e,n,o,i,r,a,d,s){this.$scope=e,this.$element=n,this.$attrs=o,this.$browser=i,this.$document=r,this.$mdUtil=s,this.$rootScope=a,this.$$rAF=d,this.onDemand=s.parseAttributeBoolean(o.mdOnDemand),this.browserCheckUrlChange=i.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(o.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=t.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",t.bind(this,this.cleanupBlocks_))}function a(e){if(!t.isFunction(e.getItemAtIndex)||!t.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength() ");this.model=e}function d(e){return{restrict:"A",link:function(e,t,n){var o=e.$eval(n.mdForceHeight)||null;o&&t&&(t[0].style.height=o)}}}o.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],r.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],i.$inject=["$parse"],t.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",e).directive("mdVirtualRepeat",i).directive("mdForceHeight",d);var s=3;o.prototype.register=function(e){this.repeater=e,t.element(this.scroller).on("scroll wheel touchmove touchend",t.bind(this,this.handleScroll_))},o.prototype.isHorizontal=function(){return this.horizontal},o.prototype.getSize=function(){return this.size},o.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},o.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},o.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.handleScroll_(),this.repeater&&this.repeater.containerUpdated())},o.prototype.getScrollSize=function(){return this.scrollSize},o.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},o.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var o=Math.floor(e/this.maxElementPixels),i=document.createElement("div");i.style[t]=this.maxElementPixels+"px",i.style[n]="1px";for(var r=0;r<o;r++)this.sizer.appendChild(i.cloneNode(!1));i.style[t]=e-o*this.maxElementPixels+"px",this.sizer.appendChild(i)}},o.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var o=this.originalSize;this.originalSize=null,o||this.updateSize(),this.setSize_(o||this.size)}this.repeater.containerUpdated()}},o.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},o.prototype.getScrollOffset=function(){return this.scrollOffset},o.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},o.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;e>n&&(e=n-1),this.scrollTo(t*e)},o.prototype.resetScroll=function(){this.scrollTo(0)},o.prototype.handleScroll_=function(){var e="rtl"!=document.dir&&"rtl"!=document.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(t===this.scrollOffset||t>this.scrollSize-this.size)){var n=this.repeater.getItemSize();if(n){var o=Math.max(0,Math.floor(t/n)-s),i=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?o*n:-(o*n))+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var r=Math.floor(t/n);r!==this.topIndex&&r<this.repeater.getItemCount()&&(this.topIndex=r,this.bindTopIndex.assign(this.$scope,r),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},r.Block,r.prototype.link_=function(e,n,o,i,r){this.container=e,this.transclude=n,this.repeatName=o,this.rawRepeatListExpression=i,this.extraName=r,this.sized=!1,this.repeatListExpression=t.bind(this,this.repeatListExpression_),this.container.register(this)},r.prototype.cleanupBlocks_=function(){t.forEach(this.pooledBlocks,function(e){e.element.remove()})},r.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},r.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new a(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},r.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==t.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,t.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))},r.prototype.getItemSize=function(){return this.itemSize},r.prototype.getItemCount=function(){return this.itemsLength},r.prototype.virtualRepeatUpdate_=function(e,n){this.isVirtualRepeatUpdating_=!0;var o=e&&e.length||0,i=!1;if(this.items&&o<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var r=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(r)}o!==this.itemsLength&&(i=!0,this.itemsLength=o),this.items=e,(e!==n||i)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,i&&this.container.setScrollSize(o*this.itemSize),Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=t.noop;var a,d,s=[],c=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)d=this.getBlock_(a),this.updateBlock_(d,a),s.push(d);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var l=a-1;a<this.newEndIndex;a++)d=this.getBlock_(a),this.updateBlock_(d,a),c.push(d);if(s.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(s),this.$element[0].nextSibling),c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.blocks[l]&&this.blocks[l].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var m=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(m)}.bind(this))}this.isVirtualRepeatUpdating_=!1},r.prototype.getBlock_=function(e){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(t.bind(this,function(t,o){n={element:t,"new":!0,scope:o},this.updateScope_(o,e),this.parentNode.appendChild(t[0])})),n},r.prototype.updateBlock_=function(e,t){this.blocks[t]=e,(e["new"]||e.scope.$index!==t||e.scope[this.repeatName]!==this.items[t])&&(e["new"]=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},r.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},r.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},r.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},r.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+s,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-s)},a.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},d.$inject=["$mdUtil"]}(),function(){function e(e){function t(t,a,d){var s="";d.$observe("mdWhiteframe",function(t){t=parseInt(t,10)||r,t!=n&&(t>i||t<o)&&(e.warn("md-whiteframe attribute value is invalid. It should be a number between "+o+" and "+i,a[0]),t=r);var c=t==n?"":"md-whiteframe-"+t+"dp";d.$updateClass(c,s),s=c})}var n=-1,o=1,i=24,r=4;return{link:t}}e.$inject=["$log"],t.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",e)}(),function(){function e(e,d,s,c,l,m,u,p,h,f,g,b){function v(){s.initOptionalProperties(e,h,{searchText:"",selectedItem:null,clearButton:!1}),l(d),M(),s.nextTick(function(){w(),y(),e.autofocus&&d.on("focus",C)})}function E(){e.requireMatch&&De&&De.$setValidity("md-require-match",!!e.selectedItem||!e.searchText)}function $(){function t(){var e=0,t=d.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}function n(){var e=Ae.scrollContainer.getBoundingClientRect(),t={};e.right>p.right-r&&(t.left=m.right-e.width+"px"),Ae.$.scrollContainer.css(t)}if(!Ae)return s.nextTick($,!1,e);var c,l=(e.dropdownItems||i)*o,m=Ae.wrap.getBoundingClientRect(),u=Ae.snap.getBoundingClientRect(),p=Ae.root.getBoundingClientRect(),f=u.bottom-p.top,g=p.bottom-u.top,b=m.left-p.left,v=m.width,E=t(),y=e.dropdownPosition;if(y||(y=f>g&&p.height-f-r<l?"top":"bottom"),h.mdFloatingLabel&&(b+=a,v-=2*a),c={left:b+"px",minWidth:v+"px",maxWidth:Math.max(m.right-p.left,p.right-m.left)-r+"px"},"top"===y)c.top="auto",c.bottom=g+"px",c.maxHeight=Math.min(l,m.top-p.top-r)+"px";else{var C=p.bottom-m.bottom-r+s.getViewportTop();c.top=f-E+"px",c.bottom="auto",c.maxHeight=Math.min(l,C)+"px"}Ae.$.scrollContainer.css(c),s.nextTick(n,!1)}function y(){Ae.$.root.length&&(l(Ae.$.scrollContainer),Ae.$.scrollContainer.detach(),Ae.$.root.append(Ae.$.scrollContainer),u.pin&&u.pin(Ae.$.scrollContainer,p))}function C(){Ae.input.focus()}function M(){var n=parseInt(e.delay,10)||0;h.$observe("disabled",function(e){Ce.isDisabled=s.parseAttributeBoolean(e,!1)}),h.$observe("required",function(e){Ce.isRequired=s.parseAttributeBoolean(e,!1)}),h.$observe("readonly",function(e){Ce.isReadonly=s.parseAttributeBoolean(e,!1)}),e.$watch("searchText",n?s.debounce(B,n):B),e.$watch("selectedItem",H),t.element(m).on("resize",Ie),e.$on("$destroy",T)}function T(){if(Ce.hidden||s.enableScrolling(),t.element(m).off("resize",Ie),Ae){var e=["ul","scroller","scrollContainer","input"];t.forEach(e,function(e){Ae.$[e].remove()})}}function A(){Ce.hidden||$()}function w(){var e=k();Ae={main:d[0],scrollContainer:d[0].querySelector(".md-virtual-repeat-container"),scroller:d[0].querySelector(".md-virtual-repeat-scroller"),ul:d.find("ul")[0],input:d.find("input")[0],wrap:e.wrap,snap:e.snap,root:document.body},Ae.li=Ae.ul.getElementsByTagName("li"),Ae.$=_(Ae),De=Ae.$.input.controller("ngModel")}function k(){var e,n;for(e=d;e.length&&(n=e.attr("md-autocomplete-snap"),!t.isDefined(n));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===n.toLowerCase()?e[0]:d.find("md-autocomplete-wrap")[0]};var o=d.find("md-autocomplete-wrap")[0];return{snap:o,wrap:o}}function _(e){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t.element(e[o]));return n}function x(e,n){!e&&n?($(),ue(!0,He.Count|He.Selected),Ae&&(s.disableScrollAround(Ae.ul),Se=N(t.element(Ae.wrap)))):e&&!n&&(s.enableScrolling(),Se&&(Se(),Se=null))}function N(e){function t(e){e.preventDefault()}return e.on("wheel",t),e.on("touchmove",t),function(){e.off("wheel",t),e.off("touchmove",t)}}function S(){ke=!0}function D(){xe||Ce.hidden||Ae.input.focus(),ke=!1,Ce.hidden=X()}function I(){Ae.input.focus()}function H(n,o){E(),n?V(n).then(function(t){e.searchText=t,L(n,o)}):o&&e.searchText&&V(o).then(function(n){t.isString(e.searchText)&&n.toString().toLowerCase()===e.searchText.toLowerCase()&&(e.searchText="")}),n!==o&&O()}function O(){t.isFunction(e.itemChange)&&e.itemChange(Y(e.selectedItem))}function P(){t.isFunction(e.textChange)&&e.textChange()}function L(e,t){_e.forEach(function(n){n(e,t)})}function R(e){_e.indexOf(e)==-1&&_e.push(e)}function F(e){var t=_e.indexOf(e);t!=-1&&_e.splice(t,1)}function B(t,n){Ce.index=K(),t!==n&&(E(),V(e.selectedItem).then(function(o){t!==o&&(e.selectedItem=null,t!==n&&P(),re()?ve():(Ce.matches=[],G(!1),ue(!1,He.Count)))}))}function j(e){xe=!1,ke||(Ce.hidden=X(),ye("ngBlur",{$event:e}))}function U(e){e&&(ke=!1,xe=!1),Ae.input.blur()}function q(e){xe=!0,Q()&&re()&&ve(),Ce.hidden=X(),ye("ngFocus",{$event:e})}function z(t){switch(t.keyCode){case c.KEY_CODE.DOWN_ARROW:if(Ce.loading)return;t.stopPropagation(),t.preventDefault(),Ce.index=Math.min(Ce.index+1,Ce.matches.length-1),he(),ue(!1,He.Selected);break;case c.KEY_CODE.UP_ARROW:if(Ce.loading)return;t.stopPropagation(),t.preventDefault(),Ce.index=Ce.index<0?Ce.matches.length-1:Math.max(0,Ce.index-1),he(),ue(!1,He.Selected);break;case c.KEY_CODE.TAB:if(D(),Ce.hidden||Ce.loading||Ce.index<0||Ce.matches.length<1)return;de(Ce.index);break;case c.KEY_CODE.ENTER:if(Ce.hidden||Ce.loading||Ce.index<0||Ce.matches.length<1)return;if(ne())return;t.stopPropagation(),t.preventDefault(),de(Ce.index);break;case c.KEY_CODE.ESCAPE:if(t.preventDefault(),!Z())return;t.stopPropagation(),ce(),e.searchText&&J("clear")&&le(),Ce.hidden=!0,J("blur")&&U(!0)}}function W(){return t.isNumber(e.minLength)?e.minLength:1}function V(n){function o(t){return t&&e.itemText?e.itemText(Y(t)):null}return f.when(o(n)||n).then(function(e){return e&&!t.isString(e)&&g.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e})}function Y(e){if(!e)return n;var t={};return Ce.itemName&&(t[Ce.itemName]=e),t}function K(){return e.autoselect?0:-1}function G(e){Ce.loading!=e&&(Ce.loading=e),Ce.hidden=X()}function X(){return!Q()||!ee()}function Q(){return!(Ce.loading&&!te())&&(!ne()&&!!xe)}function Z(){return J("blur")||!Ce.hidden||Ce.loading||J("clear")&&e.searchText}function J(t){return!e.escapeOptions||e.escapeOptions.toLowerCase().indexOf(t)!==-1}function ee(){return re()&&te()||be()}function te(){return!!Ce.matches.length}function ne(){return!!Ce.scope.selectedItem}function oe(){return Ce.loading&&!ne()}function ie(){return V(Ce.matches[Ce.index])}function re(){return(e.searchText||"").length>=W()}function ae(e,t,n){Object.defineProperty(Ce,e,{get:function(){return n},set:function(e){var o=n;n=e,t(e,o)}})}function de(t){s.nextTick(function(){V(Ce.matches[t]).then(function(e){var t=Ae.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){
e.selectedItem=Ce.matches[t],G(!1)})},!1)}function se(){ce(),le()}function ce(){Ce.index=0,Ce.matches=[]}function le(){G(!0),e.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),Ae.input.dispatchEvent(t),Ae.input.blur(),e.searchText="",Ae.input.focus()}function me(n){function o(t){t&&(t=f.when(t),Ne++,G(!0),s.nextTick(function(){t.then(i)["finally"](function(){0===--Ne&&G(!1)})},!0,e))}function i(t){we[a]=t,(n||"")===(e.searchText||"")&&Ee(t)}var r=e.$parent.$eval(Te),a=n.toLowerCase(),d=t.isArray(r),c=!!r.then;d?i(r):c&&o(r)}function ue(e,t){var n=e?"polite":"assertive",o=[];t&He.Selected&&Ce.index!==-1&&o.push(ie()),t&He.Count&&o.push(f.resolve(pe())),f.all(o).then(function(e){b.announce(e.join(" "),n)})}function pe(){switch(Ce.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+Ce.matches.length+" matches available."}}function he(){if(Ae.li[0]){var e=Ae.li[0].offsetHeight,t=e*Ce.index,n=t+e,o=Ae.scroller.clientHeight,i=Ae.scroller.scrollTop;t<i?ge(t):n>i+o&&ge(n-o)}}function fe(){return 0!==Ne}function ge(e){Ae.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function be(){var e=(Ce.scope.searchText||"").length;return Ce.hasNotFound&&!te()&&(!Ce.loading||fe())&&e>=W()&&(xe||ke)&&!ne()}function ve(){var t=e.searchText||"",n=t.toLowerCase();!e.noCache&&we[n]?Ee(we[n]):me(t),Ce.hidden=X()}function Ee(t){Ce.matches=t,Ce.hidden=X(),Ce.loading&&G(!1),e.selectOnMatch&&$e(),$(),ue(!0,He.Count)}function $e(){var t=e.searchText,n=Ce.matches,o=n[0];1===n.length&&V(o).then(function(n){var o=t==n;e.matchInsensitive&&!o&&(o=t.toLowerCase()==n.toLowerCase()),o&&de(0)})}function ye(t,n){h[t]&&e.$parent.$eval(h[t],n||{})}var Ce=this,Me=e.itemsExpr.split(/ in /i),Te=Me[1],Ae=null,we={},ke=!1,_e=[],xe=!1,Ne=0,Se=null,De=null,Ie=s.debounce(A);ae("hidden",x,!0),Ce.scope=e,Ce.parent=e.$parent,Ce.itemName=Me[0],Ce.matches=[],Ce.loading=!1,Ce.hidden=!0,Ce.index=null,Ce.id=s.nextUid(),Ce.isDisabled=null,Ce.isRequired=null,Ce.isReadonly=null,Ce.hasNotFound=!1,Ce.keydown=z,Ce.blur=j,Ce.focus=q,Ce.clear=se,Ce.select=de,Ce.listEnter=S,Ce.listLeave=D,Ce.mouseUp=I,Ce.getCurrentDisplayValue=ie,Ce.registerSelectedItemWatcher=R,Ce.unregisterSelectedItemWatcher=F,Ce.notFoundVisible=be,Ce.loadingIsVisible=oe,Ce.positionDropdown=$;var He={Count:1,Selected:2};return v()}e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var o=48,i=5,r=8,a=2}(),function(){function e(e){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton"},compile:function(e,n){var o=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],i=e.find("input");return o.forEach(function(e){var t=n[n.$normalize(e)];null!==t&&i.attr(e,t)}),function(e,n,o,i){i.hasNotFound=!!n.attr("md-has-not-found"),t.isDefined(o.mdClearButton)||e.floatingLabel||(e.clearButton=!0)}},template:function(t,n){function o(){var e=t.find("md-item-template").detach(),n=e.length?e.html():t.html();return e.length||t.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function i(){var e=t.find("md-not-found").detach(),n=e.length?e.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function r(){return n.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  '+(null!=l?'tabindex="'+l+'"':"")+'                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-readonly="$mdAutocompleteCtrl.isReadonly"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-model-options="{ allowInvalid: true }"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur($event)"                  ng-focus="$mdAutocompleteCtrl.focus($event)"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  role="combobox"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+c+"</div>            </md-input-container>":'            <input type="search"                '+(null!=l?'tabindex="'+l+'"':"")+'                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}function a(){return'<button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+e.mdClose+'"></md-icon></button>'}var d=i(),s=o(),c=t.html(),l=n.tabindex;return d&&t.attr("md-has-not-found",!0),t.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+r()+"          "+a()+'          <md-progress-linear              class="'+(n.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+s+"                  </li>"+d+"            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>"}}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.autocomplete").directive("mdAutocomplete",e)}(),function(){function e(e,t){function n(e,n,o){return function(e,n,i){function r(n,o){s[o]=e[n],e.$watch(n,function(e){t.nextTick(function(){s[o]=e})})}function a(){var t=!1,n=!1;e.$watch(function(){n||t||(t=!0,e.$$postDigest(function(){n||s.$digest(),t=n=!1}))}),s.$watch(function(){n=!0})}var d=e.$mdAutocompleteCtrl,s=d.parent.$new(),c=d.itemName;r("$index","$index"),r("item",c),a(),o(s,function(e){n.after(e)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e)}(),function(){function e(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}e.$inject=["$scope","$element","$attrs"],t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.prototype.init=function(e,t){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:e(n),contentText:t(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},e.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},e.prototype.applyRegex=function(e){var n=this.resolveTokens(e);this.$element.empty(),n.forEach(function(e){if(e.isMatch){var n=t.element('<span class="highlight">').text(e.text);this.$element.append(n)}else this.$element.append(document.createTextNode(e))}.bind(this))},e.prototype.resolveTokens=function(e){function t(t,o){var i=e.slice(t,o);i&&n.push(i)}var n=[],o=0;return e.replace(this.regex,function(e,i){t(o,i),n.push({text:e,isMatch:!0}),o=i+e.length}),t(o),n},e.prototype.createRegex=function(e,t){var n="",o="",i=this.sanitizeRegex(e);return t.indexOf("^")>=0&&(n="^"),t.indexOf("$")>=0&&(o="$"),new RegExp(n+i+o,t.replace(/[$\^]/g,""))},e.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}}(),function(){function e(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,o){var i=t(o.mdHighlightText),r=e(n.html());return function(e,t,n,o){o.init(i,r)}}}}e.$inject=["$interpolate","$parse"],t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function o(e,t,o,i,r){this.$scope=e,this.$element=t,this.$mdConstant=o,this.$timeout=i,this.$mdUtil=r,this.isEditting=!1,this.parentController=n,this.enableChipEdit=!1}o.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],t.module("material.components.chips").controller("MdChipCtrl",o),o.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("mousedown",this.chipMouseDown.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},o.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return t.element(e[0])},o.prototype.getContentElement=function(){return t.element(this.getChipContent().children()[0])},o.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},o.prototype.goOutOfEditMode=function(){if(this.isEditting){this.isEditting=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex(),t=this.getContentElement().text();t?(this.parentController.updateChipContents(e,this.getContentElement().text()),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},o.prototype.selectNodeContents=function(t){var n,o;document.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(t),n.select()):e.getSelection&&(o=e.getSelection(),n=document.createRange(),n.selectNodeContents(t),o.removeAllRanges(),o.addRange(n))},o.prototype.goInEditMode=function(){this.isEditting=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},o.prototype.chipKeyDown=function(e){this.isEditting||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditting&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},o.prototype.chipMouseDown=function(){this.getChipIndex()==this.parentController.selectedChip&&this.enableChipEdit&&!this.isEditting&&this.goInEditMode()}}(),function(){function e(e,o,i,r){function a(n,o,a,s){var c=s.shift(),l=s.shift(),m=t.element(o[0].querySelector(".md-chip-content"));e(o),c&&(l.init(c),m.append(i(d)(n)),m.on("blur",function(){c.resetSelectedChip(),c.$scope.$applyAsync()})),r(function(){c&&c.shouldFocusLastChip&&c.focusLastChipThenInput()})}var d=o.processTemplate(n);return{restrict:"E",require:["^?mdChips","mdChip"],link:a,controller:"MdChipCtrl"}}e.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>'}(),function(){function e(e){function t(t,n,o,i){n.on("click",function(e){t.$apply(function(){i.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,"aria-hidden":!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}e.$inject=["$timeout"],t.module("material.components.chips").directive("mdChipRemove",e)}(),function(){function e(e){function t(t,n,o){var i=t.$parent.$mdChipsCtrl,r=i.parent.$new(!1,i.parent);r.$$replacedScope=t,r.$chip=t.$chip,r.$index=t.$index,r.$mdChipsCtrl=i;var a=i.$scope.$eval(o.mdChipTransclude);n.html(a),e(n.contents())(r)}return{restrict:"EA",terminal:!0,link:t,scope:!1}}e.$inject=["$compile"],t.module("material.components.chips").directive("mdChipTransclude",e)}(),function(){function e(e,t,o,i,r,a,d){this.$timeout=a,this.$mdConstant=o,this.$scope=e,this.parent=e.$parent,this.$mdUtil=d,this.$log=i,this.$element=r,this.$attrs=t,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=d.parseAttributeBoolean(t.mdEnableChipEdit),this.addOnBlur=d.parseAttributeBoolean(t.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=n,this.init()}e.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil"];var n=300;t.module("material.components.chips").controller("MdChipsCtrl",e),e.prototype.init=function(){var e=this;e.wrapperId="_md-chips-wrapper-"+e.$mdUtil.nextUid(),e.$scope.$watchCollection("$mdChipsCtrl.items",function(){e.setupInputAria(),e.setupWrapperAria()}),e.$attrs.$observe("mdChipAppendDelay",function(t){e.chipAppendDelay=parseInt(t)||n})},e.prototype.setupInputAria=function(){var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0))},e.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" "))):(t.removeAttr("role"),t.removeAttr("aria-owns"))},e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),this.separatorKeys.indexOf(e.keyCode)!==-1){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},e.prototype.getCursorPosition=function(e){try{if(e.selectionStart===e.selectionEnd)return e.selectionStart}catch(t){if(!e.value)return 0}},e.prototype.updateChipContents=function(e,t){e>=0&&e<this.items.length&&(this.items[e]=t,this.ngModelCtrl.$setDirty())},e.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},e.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!t.isDefined(this.removable)||this.removable)},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0==this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items&&this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(e){var t=this,n=t.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]');t.removeChip(e),t.$timeout(function(){t.$timeout(function(){t.selectAndFocusChipSafe(n)})})},e.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){if(this.shouldFocusLastChip=!0,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:e});t.isDefined(n)&&(e=n)}if(t.isObject(e)){var o=this.items.some(function(n){return t.equals(e,n)});if(o)return}if(!(null==e||this.items.indexOf(e)+1)){var i=this.items.push(e),r=i-1;this.ngModelCtrl.$setDirty(),this.validateModel(),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:e,$index:r})}},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return t.isString(e)?e:""},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.hasMaxChipsReached=function(){return t.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},e.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached())},e.prototype.removeChip=function(e){var t=this.items.splice(e,1);this.ngModelCtrl.$setDirty(),this.validateModel(),t&&t.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:t[0],$index:e})},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||e===-1)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},e.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},e.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),e!=-1&&this.focusChip(e)},e.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var o=this.$scope,i=this,r=function(e,n){o.$evalAsync(t.bind(i,n,e))};e.attr({tabindex:0}).on("keydown",function(e){r(e,i.inputKeydown)}).on("focus",function(e){r(e,i.onInputFocus)}).on("blur",function(e){r(e,i.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur)))},e.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},e.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){function e(e,t,a,d,s,c){function l(n,o){function i(e){if(o.ngModel){var t=r[0].querySelector(e);return t&&t.outerHTML}}var r=o.$mdUserTemplate;o.$mdUserTemplate=null;var l=i("md-chips>md-chip-template"),m=t.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","),p=i(m)||u.remove,h=l||u["default"],f=i("md-chips>md-autocomplete")||i("md-chips>input")||u.input,g=r.find("md-chip");return r[0].querySelector("md-chip-template>*[md-chip-remove]")&&d.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,i,r,d){t.initOptionalProperties(n,o),e(i);var m=d[0];if(l&&(m.enableChipEdit=!1),m.chipContentsTemplate=h,m.chipRemoveTemplate=p,m.chipInputTemplate=f,m.mdCloseIcon=c.mdClose,i.attr({tabindex:-1}).on("focus",function(){m.onFocus()}),o.ngModel&&(m.configureNgModel(i.controller("ngModel")),r.mdTransformChip&&m.useTransformChipExpression(),r.mdOnAppend&&m.useOnAppendExpression(),r.mdOnAdd&&m.useOnAddExpression(),r.mdOnRemove&&m.useOnRemoveExpression(),r.mdOnSelect&&m.useOnSelectExpression(),f!=u.input&&n.$watch("$mdChipsCtrl.readonly",function(e){e||t.nextTick(function(){if(0===f.indexOf("<md-autocomplete")){var e=i.find("md-autocomplete");m.configureAutocomplete(e.controller("mdAutocomplete"))}m.configureUserInput(i.find("input"))})}),t.nextTick(function(){var e=i.find("input");e&&e.toggleClass("md-input",!0)})),g.length>0){var b=a(g.clone())(n.$parent);s(function(){i.find("md-chips-wrap").prepend(b)})}}}function m(){return{chips:t.processTemplate(n),input:t.processTemplate(o),"default":t.processTemplate(i),remove:t.processTemplate(r)}}var u=m();return{template:function(e,t){return t.$mdUserTemplate=e.clone(),u.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:l,scope:{readonly:"=readonly",removable:"=mdRemovable",placeholder:"@",secondaryPlaceholder:"@",maxChips:"@mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&mdOnAppend",onAdd:"&mdOnAdd",onRemove:"&mdOnRemove",onSelect:"&mdOnSelect",inputAriaLabel:"@",containerHint:"@",deleteHint:"@",deleteButtonLabel:"@",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          aria-setsize="{{$mdChipsCtrl.items.length}}"          class="md-chips">        <span ng-if="$mdChipsCtrl.readonly" class="md-visually-hidden">          {{$mdChipsCtrl.containerHint}}        </span>        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex == $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip == $index}}"               aria-posinset="{{$index}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',o='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"             placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',i="      <span>{{$chip}}</span>",r='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          tabindex="-1">        <md-icon md-svg-src="{{ $mdChipsCtrl.mdCloseIcon }}"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>'}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){return this.contactQuery({$query:e})},e.prototype.itemName=function(e){return e[this.contactName]}}(),function(){function e(e,t){function o(n,o){return function(n,i,r,a){var d=a;t.initOptionalProperties(n,o),e(i),i.attr("tabindex","-1"),r.$observe("mdChipAppendDelay",function(e){d.chipAppendDelay=e})}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:o,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay"}}}e.$inject=["$mdTheming","$mdUtil"],t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"           md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){!function(){function e(){return{template:function(e,t){var n=t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"',o='<div ng-switch="calendarCtrl.currentView" '+n+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';
return o},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:n,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,o){var i=o[0],r=o[1];r.configureNgModel(i)}}}function n(e,n,o,r,a,d,s,c,l){d(e),this.$element=e,this.$scope=n,this.dateUtil=o,this.$mdUtil=r,this.keyCode=a.KEY_CODE,this.$$rAF=s,this.$mdDateLocale=l,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=i++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||e.attr("tabindex","-1");var m,u=t.bind(this,this.handleKeyEvent);m=e.parent().hasClass("md-datepicker-calendar")?t.element(document.body):e,m.on("keydown",u),n.$on("$destroy",function(){m.off("keydown",u)}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}n.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendar",e);var o=340,i=0;n.prototype.$onInit=function(){this.currentView=this._currentView||"month";var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},n.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},n.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},n.prototype.setCurrentView=function(e,n){var o=this;o.$mdUtil.nextTick(function(){o.currentView=e,n&&(o.displayDate=t.isDate(n)?n:new Date(n))})},n.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector(".md-focus");t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),o=document.getElementById(n);o&&(o.classList.add(this.FOCUSED_DATE_CLASS),o.focus(),this.displayDate=e)}else{var i=this.$element[0].querySelector("[ng-switch]");i&&i.focus()}},n.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},n.prototype.handleKeyEvent=function(e){var t=this;this.$scope.$apply(function(){if(e.which==t.keyCode.ESCAPE||e.which==t.keyCode.TAB)return t.$scope.$emit("md-calendar-close"),void(e.which==t.keyCode.TAB&&e.preventDefault());var n=t.getActionFromKeyEvent(e);n&&(e.preventDefault(),e.stopPropagation(),t.$scope.$broadcast("md-calendar-parent-action",n))})},n.prototype.hideVerticalScrollbar=function(e){function t(){var t=n.width||o,i=n.scrollbarWidth,a=e.calendarScroller;r.style.width=t+"px",a.style.width=t+i+"px",a.style.paddingRight=i+"px"}var n=this,i=e.$element[0],r=i.querySelector(".md-calendar-scroll-mask");n.width>0?t():n.$$rAF(function(){var o=e.calendarScroller;n.scrollbarWidth=o.offsetWidth-o.clientWidth,n.width=i.querySelector("table").offsetWidth,t()})},n.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},n.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}()}(),function(){!function(){function e(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(i-o)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+o+'"><tr aria-hidden="true" md-force-height="\''+o+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:n,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,o){var i=o[0],r=o[1];r.initialize(i)}}}function n(e,t,n,o,i,r){this.$element=e,this.$scope=t,this.$animate=n,this.$q=o,this.dateUtil=i,this.dateLocale=r,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var e=i.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",i.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonth",e);var o=265,i=45;n.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},n.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},n.prototype.changeSelectedDate=function(e){var t=this,n=t.calendarCtrl,o=n.selectedDate;n.selectedDate=e,this.changeDisplayDate(e).then(function(){var t=n.SELECTED_DATE_CLASS,i="month";if(o){var r=document.getElementById(n.getDateId(o,i));r&&(r.classList.remove(t),r.setAttribute("aria-selected","false"))}if(e){var a=document.getElementById(n.getDateId(e,i));a&&(a.classList.add(t),a.setAttribute("aria-selected","true"))}})},n.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*o}return this.$q.when()},n.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),o=0;o<7;o++){var i=document.createElement("th");i.textContent=t[(o+e)%7],n.appendChild(i)}this.$element.find("thead").append(n)},n.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeSelectedDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,o=n.displayDate;if("select"===t)n.setNgModelValue(o);else{var i=null,r=this.dateUtil;switch(t){case"move-right":i=r.incrementDays(o,1);break;case"move-left":i=r.incrementDays(o,-1);break;case"move-page-down":i=r.incrementMonths(o,1);break;case"move-page-up":i=r.incrementMonths(o,-1);break;case"move-row-down":i=r.incrementDays(o,7);break;case"move-row-up":i=r.incrementDays(o,-7);break;case"start":i=r.getFirstDateOfMonth(o);break;case"end":i=r.getLastDateOfMonth(o)}i&&(i=this.dateUtil.clampDate(i,n.minDate,n.maxDate),this.changeDisplayDate(i).then(function(){n.focus(i)}))}}}()}(),function(){!function(){function e(e,o){var i=e('<md-icon md-svg-src="'+o.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,n,o,r){var a=r[0],d=r[1],s=r[2];s.calendarCtrl=a,s.monthCtrl=d,s.arrowIcon=i.cloneNode(!0),e.$watch(function(){return s.offset},function(e){t.isNumber(e)&&s.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}e.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarMonthBody",e),n.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,o=document.createElement("td");if(o.tabIndex=-1,o.classList.add("md-calendar-date"),o.setAttribute("role","gridcell"),e){o.setAttribute("tabindex","-1"),o.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),o.id=n.getDateId(e,"month"),o.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&o.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(o.classList.add(n.SELECTED_DATE_CLASS),o.setAttribute("aria-selected","true"));var i=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var r=document.createElement("span");r.classList.add("md-calendar-date-selection-indicator"),r.textContent=i,o.appendChild(r),o.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=o)}else o.classList.add("md-calendar-date-disabled"),o.textContent=i}return o},n.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!t.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},n.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},n.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),o=this.getLocaleDay_(n),i=this.dateUtil.getNumberOfDaysInMonth(t),r=document.createDocumentFragment(),a=1,d=this.buildDateRow(a);r.appendChild(d);var s=this.offset===this.monthCtrl.items.length-1,c=0,l=document.createElement("td"),m=document.createElement("span");if(m.textContent=this.dateLocale.monthHeaderFormatter(t),l.appendChild(m),l.classList.add("md-calendar-month-label"),this.calendarCtrl.maxDate&&n>this.calendarCtrl.maxDate?l.classList.add("md-calendar-month-label-disabled"):(l.addEventListener("click",this.monthCtrl.headerClickHandler),l.setAttribute("data-timestamp",n.getTime()),l.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),l.appendChild(this.arrowIcon.cloneNode(!0))),o<=2){l.setAttribute("colspan","7");var u=this.buildDateRow();if(u.appendChild(l),r.insertBefore(u,d),s)return r}else c=3,l.setAttribute("colspan","3"),d.appendChild(l);for(var p=c;p<o;p++)d.appendChild(this.buildDateCell());for(var h=o,f=n,g=1;g<=i;g++){if(7===h){if(s)return r;h=0,a++,d=this.buildDateRow(a),r.appendChild(d)}f.setDate(g);var b=this.buildDateCell(f);d.appendChild(b),h++}for(;d.childNodes.length<7;)d.appendChild(this.buildDateCell());for(;r.childNodes.length<6;){for(var v=this.buildDateRow(),E=0;E<7;E++)v.appendChild(this.buildDateCell());r.appendChild(v)}return r},n.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function e(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+o+'"><tr aria-hidden="true" md-force-height="\''+o+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,o){var i=o[0],r=o[1];r.initialize(i)}}}function n(e,t,n,o,i){this.$element=e,this.$scope=t,this.$animate=n,this.$q=o,this.dateUtil=i,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var r=this;this.cellClickHandler=function(){r.calendarCtrl.setCurrentView("month",i.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil"],t.module("material.components.datepicker").directive("mdCalendarYear",e);var o=88;n.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},n.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},n.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*o}return this.$q.when()},n.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,o=n.displayDate;if("select"===t)this.changeDate(o).then(function(){n.setCurrentView("month",o),n.focus(o)});else{var i=null,r=this.dateUtil;switch(t){case"move-right":i=r.incrementMonths(o,1);break;case"move-left":i=r.incrementMonths(o,-1);break;case"move-row-down":i=r.incrementMonths(o,6);break;case"move-row-up":i=r.incrementMonths(o,-6)}if(i){var a=n.minDate?r.getFirstDateOfMonth(n.minDate):null,d=n.maxDate?r.getFirstDateOfMonth(n.maxDate):null;i=r.getFirstDateOfMonth(this.dateUtil.clampDate(i,a,d)),this.changeDate(i).then(function(){n.focus(i)})}}},n.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(t,n){e.changeDate(n)}),e.$scope.$on("md-calendar-parent-action",t.bind(e,e.handleKeyEvent))}}()}(),function(){!function(){function e(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:n,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,n,o,i){var r=i[0],a=i[1],d=i[2];d.calendarCtrl=r,d.yearCtrl=a,e.$watch(function(){return d.offset},function(e){t.isNumber(e)&&d.generateContent()})}}}function n(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],t.module("material.components.datepicker").directive("mdCalendarYearBody",e),n.prototype.generateContent=function(){var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,o=this.yearCtrl,i=this.buildBlankCell(),r=new Date(e,t,1);i.setAttribute("aria-label",this.dateLocale.monthFormatter(r)),i.id=n.getDateId(r,"year"),i.setAttribute("data-timestamp",r.getTime()),this.dateUtil.isSameMonthAndYear(r,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(r,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[t];if(this.dateUtil.isMonthWithinRange(r,n.minDate,n.maxDate)){var d=document.createElement("span");d.classList.add("md-calendar-date-selection-indicator"),d.textContent=a,i.appendChild(d),i.addEventListener("click",o.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(r,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=a;return i},n.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},n.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),o=document.createDocumentFragment(),i=document.createElement("tr"),r=document.createElement("td");for(r.className="md-calendar-month-label",r.textContent=n,i.appendChild(r),t=0;t<6;t++)i.appendChild(this.buildMonthCell(n,t));o.appendChild(i);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),t=6;t<12;t++)a.appendChild(this.buildMonthCell(n,t));return o.appendChild(a),o}}()}(),function(){!function(){t.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.msgCalendar="",this.msgOpenCalendar=""}t.prototype.$get=function(e,t){function n(e,n){if(!e)return"";var o=e.toLocaleTimeString(),i=e;return 0!==e.getHours()||o.indexOf("11:")===-1&&o.indexOf("23:")===-1||(i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),t("date")(i,"M/d/yyyy",n)}function o(e){return new Date(e)}function i(e){e=e.trim();var t=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return t.test(e)}function r(e){return g.shortMonths[e.getMonth()]+" "+e.getFullYear()}function a(e){return g.months[e.getMonth()]+" "+e.getFullYear()}function d(e){return"Week "+e}function s(e){return[g.days[e.getDay()],g.months[e.getMonth()],g.dates[e.getDate()],e.getFullYear()].join(" ")}for(var c=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),l=Array(32),m=1;m<=31;m++)l[m]=m;var u="Calendar",p="Open calendar",h=new Date(1880,0,1),f=new Date(h.getFullYear()+250,0,1),g={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||c,dates:this.dates||l,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||n,parseDate:this.parseDate||o,isDateComplete:this.isDateComplete||i,monthHeaderFormatter:this.monthHeaderFormatter||r,monthFormatter:this.monthFormatter||a,weekNumberFormatter:this.weekNumberFormatter||d,longDateFormatter:this.longDateFormatter||s,msgCalendar:this.msgCalendar||u,msgOpenCalendar:this.msgOpenCalendar||p,firstRenderableDate:this.firstRenderableDate||h,lastRenderableDate:this.lastRenderableDate||f};return g},t.prototype.$get.$inject=["$locale","$filter"],e.provider("$mdDateLocale",new t)}])}()}(),function(){!function(){t.module("material.components.datepicker").factory("$$mdDateUtil",function(){function e(e){return new Date(e.getFullYear(),e.getMonth(),1)}function n(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function i(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function a(e,t){return e.getDate()==t.getDate()&&r(e,t)}function d(e,t){var n=o(e);return r(n,t)}function s(e,t){var n=i(e);return r(t,n)}function c(e,t){return b((e.getTime()+t.getTime())/2)}function l(t){var n=e(t);return Math.floor((n.getDay()+t.getDate()-1)/7)}function m(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function u(e,t){var o=new Date(e.getFullYear(),e.getMonth()+t,1),i=n(o);return i<e.getDate()?o.setDate(i):o.setDate(e.getDate()),o}function p(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}function h(e){return new Date(e.getFullYear(),e.getMonth(),n(e))}function f(e){return e&&e.getTime&&!isNaN(e.getTime())}function g(e){f(e)&&e.setHours(0,0,0,0)}function b(e){var n;return n=t.isUndefined(e)?new Date:new Date(e),g(n),n}function v(e,t,n){var o=b(e),i=f(t)?b(t):null,r=f(n)?b(n):null;return(!i||i<=o)&&(!r||r>=o)}function E(e,t){return u(e,12*t)}function $(e,t){return t.getFullYear()-e.getFullYear()}function y(e,t,n){var o=e;return t&&e<t&&(o=new Date(t.getTime())),n&&e>n&&(o=new Date(n.getTime())),o}function C(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))}function M(e,t,n){var o=e.getMonth(),i=e.getFullYear();return(!t||t.getFullYear()<i||t.getMonth()<=o)&&(!n||n.getFullYear()>i||n.getMonth()>=o)}return{getFirstDateOfMonth:e,getNumberOfDaysInMonth:n,getDateInNextMonth:o,getDateInPreviousMonth:i,isInNextMonth:d,isInPreviousMonth:s,getDateMidpoint:c,isSameMonthAndYear:r,getWeekOfMonth:l,incrementDays:m,incrementMonths:u,getLastDateOfMonth:h,isSameDay:a,getMonthDistance:p,isValidDate:f,setDateTimeToMidnight:g,createDateAtMidnight:b,isDateWithinRange:v,incrementYears:E,getYearDistance:$,clampDate:y,getTimestampFromNode:C,isMonthWithinRange:M}})}()}(),function(){!function(){function n(e,n,i,r){return{template:function(t,n){var o=n.mdHideIcons,i=n.ariaLabel||n.mdPlaceholder,r="all"===o||"calendar"===o?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+e.mdCalendar+'"></md-icon></md-button>',a="";return"all"!==o&&"triangle"!==o&&(a='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',t.addClass(c)),r+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(i?'aria-label="'+i+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+a+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:o,controllerAs:"ctrl",bindToController:!0,link:function(e,o,a,c){var l=c[0],m=c[1],u=c[2],p=c[3],h=n.parseAttributeBoolean(a.mdNoAsterisk);if(m.configureNgModel(l,u,r),u){var f=o[0].querySelector(".md-errors-spacer");f&&o.after(t.element("<div>").append(f)),u.setHasPlaceholder(a.mdPlaceholder),u.input=o,u.element.addClass(d).toggleClass(s,"calendar"!==a.mdHideIcons&&"all"!==a.mdHideIcons),u.label?h||a.$observe("required",function(e){u.label.toggleClass("md-required",!!e)}):i.expect(o,"aria-label",a.mdPlaceholder),e.$watch(u.isErrorGetter||function(){return l.$invalid&&(l.$touched||p&&p.$submitted)},u.setInvalid)}else if(p)var g=e.$watch(function(){return p.$submitted},function(e){e&&(m.updateErrorState(),g())})}}}function o(n,o,i,r,a,d,s,c,l,m,u){this.$window=r,this.dateUtil=l,this.$mdConstant=a,this.$mdUtil=s,this.$$rAF=m,this.$mdDateLocale=c,this.documentElement=t.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=o[0].querySelector("input"),this.ngInputElement=t.element(this.inputElement),this.inputContainer=o[0].querySelector(".md-datepicker-input-container"),this.calendarPane=o[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=o[0].querySelector(".md-datepicker-button"),this.inputMask=t.element(o[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=o,this.$attrs=i,this.$scope=n,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(o[0].disabled||t.isString(i.disabled)),this.isCalendarOpen=!1,this.openOnFocus=i.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+s.nextUid(),this.bodyClickHandler=t.bind(this,this.handleBodyClick),this.windowEventName=p.test(navigator.userAgent||navigator.vendor||e.opera)?"orientationchange":"resize",this.windowEventHandler=s.debounce(t.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=t.bind(this,this.handleWindowBlur),this.ngDateFilter=u("date"),this.leftMargin=20,this.topMargin=null,i.tabindex?(this.ngInputElement.attr("tabindex",i.tabindex),i.$set("tabindex",null)):i.$set("tabindex","-1"),i.$set("aria-owns",this.calendarPaneId),d(o),d(t.element(this.calendarPane));var h=this;n.$on("$destroy",function(){h.detachCalendarPane()}),i.mdIsOpen&&n.$watch("ctrl.isOpen",function(e){e?h.openCalendarPane({target:h.inputElement}):h.closeCalendarPane()}),1===t.version.major&&t.version.minor<=4&&this.$onInit()}o.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"],n.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],t.module("material.components.datepicker").directive("mdDatepicker",n);var i=3,r="md-datepicker-invalid",a="md-datepicker-open",d="_md-datepicker-floating-label",s="_md-datepicker-has-calendar-icon",c="_md-datepicker-has-triangle-icon",l=500,m=368,u=360,p=/ipad|iphone|ipod|android/i;o.prototype.$onInit=function(){this.locale=this.dateLocale?t.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},o.prototype.configureNgModel=function(e,n,o){this.ngModelCtrl=e,this.mdInputContainer=n,this.$attrs.$set("type","date"),o[0].link.pre(this.$scope,{on:t.noop,val:t.noop,0:{}},this.$attrs,[e]);var i=this;i.ngModelCtrl.$formatters.push(function(e){var n=t.isDefined(e)?Date.parse(e):null;if(!isNaN(n)&&t.isNumber(n)&&(e=new Date(n)),e&&!(e instanceof Date))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof e);return i.onExternalChange(e),e}),e.$viewChangeListeners.unshift(t.bind(this,this.updateErrorState));var r=i.$mdUtil.getModelOption(e,"updateOn");r&&this.ngInputElement.on(r,t.bind(this.$element,this.$element.triggerHandler,r))},o.prototype.attachChangeListeners=function(){var e=this;e.$scope.$on("md-calendar-change",function(t,n){e.setModelValue(n),e.onExternalChange(n),e.closeCalendarPane()}),e.ngInputElement.on("input",t.bind(e,e.resizeInputElement));var n=t.isDefined(this.debounceInterval)?this.debounceInterval:l;e.ngInputElement.on("input",e.$mdUtil.debounce(e.handleInputEvent,n,e))},o.prototype.attachInteractionListeners=function(){var e=this,n=this.$scope,o=this.$mdConstant.KEY_CODE;e.ngInputElement.on("keydown",function(t){t.altKey&&t.keyCode==o.DOWN_ARROW&&(e.openCalendarPane(t),n.$digest())}),e.openOnFocus&&(e.ngInputElement.on("focus",t.bind(e,e.openCalendarPane)),t.element(e.$window).on("blur",e.windowBlurHandler),n.$on("$destroy",function(){t.element(e.$window).off("blur",e.windowBlurHandler)})),n.$on("md-calendar-close",function(){e.closeCalendarPane()})},o.prototype.installPropertyInterceptors=function(){var e=this;if(this.$attrs.ngDisabled){var t=this.$scope.$parent;t&&t.$watch(this.$attrs.ngDisabled,function(t){e.setDisabled(t)})}Object.defineProperty(this,"placeholder",{get:function(){return e.inputElement.placeholder},set:function(t){e.inputElement.placeholder=t||""}})},o.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},o.prototype.updateErrorState=function(e){var n=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var o=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=o)}if(this.dateUtil.isValidDate(this.maxDate)){var i=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=i)}t.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);t.element(this.inputContainer).toggleClass(r,!this.ngModelCtrl.$valid)},o.prototype.clearErrorState=function(){this.inputContainer.classList.remove(r),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},o.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+i},o.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t);var n=""==e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t);n&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},o.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!t.isFunction(this.dateFilter)||this.dateFilter(e))},o.prototype.attachCalendarPane=function(){var e=this.calendarPane,n=document.body;e.style.transform="",this.$element.addClass(a),this.mdInputContainer&&this.mdInputContainer.element.addClass(a),t.element(n).addClass("md-datepicker-is-showing");var o=this.inputContainer.getBoundingClientRect(),i=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var r=o.top-i.top-this.topMargin,d=o.left-i.left-this.leftMargin,s=i.top<0&&0==document.body.scrollTop?-i.top:document.body.scrollTop,c=i.left<0&&0==document.body.scrollLeft?-i.left:document.body.scrollLeft,l=s+this.$window.innerHeight,p=c+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:o.width-1+"px",height:o.height-2+"px"}),d+u>p){if(p-u>0)d=p-u;else{d=c;var h=this.$window.innerWidth/u;e.style.transform="scale("+h+")"}e.classList.add("md-datepicker-pos-adjusted")}r+m>l&&l-m>s&&(r=l-m,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=d+"px",e.style.top=r+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},o.prototype.detachCalendarPane=function(){this.$element.removeClass(a),
this.mdInputContainer&&this.mdInputContainer.element.removeClass(a),t.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},o.prototype.openCalendarPane=function(t){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=t.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),e.addEventListener(this.windowEventName,this.windowEventHandler)}},o.prototype.closeCalendarPane=function(){function t(){n.isCalendarOpen=n.isOpen=!1}if(this.isCalendarOpen){var n=this;n.detachCalendarPane(),n.ngModelCtrl.$setTouched(),n.evalAttr("ngBlur"),n.documentElement.off("click touchstart",n.bodyClickHandler),e.removeEventListener(n.windowEventName,n.windowEventHandler),n.calendarPaneOpenedFrom.focus(),n.calendarPaneOpenedFrom=null,n.openOnFocus?n.$mdUtil.nextTick(t):t()}},o.prototype.getCalendarCtrl=function(){return t.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},o.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},o.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},o.prototype.handleBodyClick=function(e){if(this.isCalendarOpen){var t=this.$mdUtil.getClosest(e.target,"md-calendar");t||this.closeCalendarPane(),this.$scope.$digest()}},o.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},o.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},o.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},o.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}()}(),function(){function e(e,t,n,o){function i(o,i,r){function a(){r.mdSvgIcon||r.mdSvgSrc||(r.mdFontIcon&&i.addClass("md-font "+r.mdFontIcon),i.addClass(c))}function d(){if(!r.mdSvgIcon&&!r.mdSvgSrc){r.mdFontIcon&&(i.removeClass(s),i.addClass(r.mdFontIcon),s=r.mdFontIcon);var t=e.fontSet(r.mdFontSet);c!==t&&(i.removeClass(c),i.addClass(t),c=t)}}t(i);var s=r.mdFontIcon,c=e.fontSet(r.mdFontSet);a(),r.$observe("mdFontIcon",d),r.$observe("mdFontSet",d);var l=(i[0].getAttribute(r.$attr.mdSvgSrc),r.$normalize(r.$attr.mdSvgIcon||r.$attr.mdSvgSrc||""));if(r.role||(n.expect(i,"role","img"),r.role="img"),"img"===r.role&&!r.ariaHidden&&!n.hasAriaLabel(i)){var m;r.alt?n.expect(i,"aria-label",r.alt):n.parentHasAriaLabel(i,2)?n.expect(i,"aria-hidden","true"):(m=r.mdFontIcon||r.mdSvgIcon||i.text())?n.expect(i,"aria-label",m):n.expect(i,"aria-hidden","true")}l&&r.$observe(l,function(t){i.empty(),t&&e(t).then(function(e){i.empty(),i.append(e)})})}return{restrict:"E",link:i}}t.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",e])}(),function(){function n(){}function o(e,t){this.url=e,this.viewBoxSize=t||r.defaultViewBoxSize}function i(n,o,i,r,a,d){function s(e){if(e=e||"",t.isString(e)||(e=d.getTrustedUrl(e)),E[e])return i.when(l(E[e]));if(y.test(e)||C.test(e))return h(e).then(m(e));e.indexOf(":")==-1&&(e="$default:"+e);var o=n[e]?u:p;return o(e).then(m(e))}function c(e){var o=t.isUndefined(e)||!(e&&e.length);if(o)return n.defaultFontSet;var i=e;return t.forEach(n.fontSets,function(t){t.alias==e&&(i=t.fontSet||i)}),i}function l(e){var n=e.clone(),o="_cache"+a.nextUid();return n.id&&(n.id+=o),t.forEach(n.querySelectorAll("[id]"),function(e){e.id+=o}),n}function m(e){return function(t){return E[e]=f(t)?t:new g(t,n[e]),E[e].clone()}}function u(e){var t=n[e];return h(t.url).then(function(e){return new g(e,t)})}function p(e){function t(t){var n=e.slice(e.lastIndexOf(":")+1),i=t.querySelector("#"+n);return i?new g(i,d):o(e)}function o(e){var t="icon "+e+" not found";return r.warn(t),i.reject(t||e)}var a=e.substring(0,e.lastIndexOf(":"))||"$default",d=n[a];return d?h(d.url).then(t):o(e)}function h(n){function a(n){var o=C.exec(n),r=/base64/i.test(n),a=r?e.atob(o[2]):o[2];return i.when(t.element(a)[0])}function d(e){return i(function(n,i){var a=function(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;r.warn(n),i(e)},d=function(o){$[e]||($[e]=t.element("<div>").append(o)[0].querySelector("svg")),n($[e])};o(e,!0).then(d,a)})}return C.test(n)?a(n):d(n)}function f(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function g(e,n){e&&"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function b(){var e=this.config?this.config.viewBoxSize:n.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}function v(){return this.element.cloneNode(!0)}var E={},$={},y=/[-\w@:%\+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%\+.~#?&\/\/=]*)?/i,C=/^data:image\/svg\+xml[\s*;\w\-\=]*?(base64)?,(.*)$/i;return g.prototype={clone:v,prepare:b},s.fontSet=c,s}i.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],t.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",n);var r={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};n.prototype={icon:function(e,t,n){return e.indexOf(":")==-1&&(e="$default:"+e),r[e]=new o(t,n),this},iconSet:function(e,t,n){return r[e]=new o(t,n),this},defaultIconSet:function(e,t){var n="$default";return r[n]||(r[n]=new o(e,t)),r[n].viewBoxSize=t||r.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return r.defaultViewBoxSize=e,this},fontSet:function(e,t){return r.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return r.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return r.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,n,o,a){return i(r,e,t,n,o,a)}]}}(),function(){function e(e,o,i,r,a,d,s,c,l){var m,u,p=a.prefixer(),h=this;this.nestLevel=parseInt(o.mdNestLevel,10)||0,this.init=function(n,o){o=o||{},m=n,u=i[0].querySelector(p.buildSelector(["ng-click","ng-mouseenter"])),u.setAttribute("aria-expanded","false"),this.isInMenuBar=o.isInMenuBar,this.nestedMenus=a.nodesToArray(m[0].querySelectorAll(".md-nested-menu")),m.on("$mdInterimElementRemove",function(){h.isOpen=!1,a.nextTick(function(){h.onIsOpenChanged(h.isOpen)})}),a.nextTick(function(){h.onIsOpenChanged(h.isOpen)});var d="menu_container_"+a.nextUid();m.attr("id",d),t.element(u).attr({"aria-owns":d,"aria-haspopup":"true"}),r.$on("$destroy",t.bind(this,function(){this.disableHoverListener(),e.destroy()})),m.on("$destroy",function(){e.destroy()})};var f,g,b=[];this.enableHoverListener=function(){b.push(s.$on("$mdMenuOpen",function(e,t){m[0].contains(t[0])&&(h.currentlyOpenMenu=t.controller("mdMenu"),h.isAlreadyOpening=!1,h.currentlyOpenMenu.registerContainerProxy(h.triggerContainerProxy.bind(h)))})),b.push(s.$on("$mdMenuClose",function(e,t){m[0].contains(t[0])&&(h.currentlyOpenMenu=n)})),g=t.element(a.nodesToArray(m[0].children[0].children)),g.on("mouseenter",h.handleMenuItemHover),g.on("mouseleave",h.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;b.length;)b.shift()();g&&g.off("mouseenter",h.handleMenuItemHover),g&&g.off("mouseleave",h.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!h.isAlreadyOpening){var n=e.target.querySelector("md-menu")||a.getClosest(e.target,"MD-MENU");f=d(function(){if(n&&(n=t.element(n).controller("mdMenu")),h.currentlyOpenMenu&&h.currentlyOpenMenu!=n){var e=h.nestLevel+1;h.currentlyOpenMenu.close(!0,{closeTo:e}),h.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(h.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var o=e.currentTarget.querySelector(".md-button:not([disabled])");o&&o.focus()}},this.handleMenuItemMouseLeave=function(){f&&(d.cancel(f),f=n)},this.open=function(t){t&&t.stopPropagation(),t&&t.preventDefault(),h.isOpen||(h.enableHoverListener(),h.isOpen=!0,a.nextTick(function(){h.onIsOpenChanged(h.isOpen)}),u=u||(t?t.target:i[0]),u.setAttribute("aria-expanded","true"),r.$emit("$mdMenuOpen",i),e.show({scope:r,mdMenuCtrl:h,nestLevel:h.nestLevel,element:m,target:u,preserveElement:!0,parent:"body"})["finally"](function(){u.setAttribute("aria-expanded","false"),h.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(m.attr("aria-hidden","false"),i[0].classList.add("md-open"),t.forEach(h.nestedMenus,function(e){e.classList.remove("md-open")})):(m.attr("aria-hidden","true"),i[0].classList.remove("md-open")),r.$mdMenuIsOpen=h.isOpen},this.focusMenuContainer=function(){var e=m[0].querySelector(p.buildSelector(["md-menu-focus-target","md-autofocus"]));e||(e=m[0].querySelector(".md-button:not([disabled])")),e.focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return h.isOpen?e.destroy():c.when(!1)},this.close=function(n,o){if(h.isOpen){h.isOpen=!1,a.nextTick(function(){h.onIsOpenChanged(h.isOpen)});var d=t.extend({},o,{skipFocus:n});if(r.$emit("$mdMenuClose",i,d),e.hide(null,o),!n){var s=h.restoreFocusTo||i.find("button")[0];s instanceof t.element&&(s=s[0]),s&&s.focus()}}},this.positionMode=function(){var e=(o.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(o.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},r.$mdMenu={open:this.open,close:this.close},r.$mdOpenMenu=t.bind(this,function(){return l.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}e.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],t.module("material.components.menu").controller("mdMenuCtrl",e)}(),function(){function e(e){function n(n){n.addClass("md-menu");var r=n.children()[0],a=n.children()[1],d=e.prefixer();d.hasAttribute(r,"ng-click")||(r=r.querySelector(d.buildSelector(["ng-click","ng-mouseenter"]))||r);var s="MD-BUTTON"===r.nodeName||"BUTTON"===r.nodeName;if(r&&s&&!r.hasAttribute("type")&&r.setAttribute("type","button"),!r)throw Error(i+"Expected the menu to have a trigger element.");if(!a||"MD-MENU-CONTENT"!==a.nodeName)throw Error(i+"Expected the menu to contain a `md-menu-content` element.");r&&r.setAttribute("aria-haspopup","true");var c=n[0].querySelectorAll("md-menu"),l=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return c&&t.forEach(e.nodesToArray(c),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",l+1)}),o}function o(e,n,o,i){var r=i[0],a=!!i[1],d=t.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),s=n.children()[1];n.addClass("_md"),s.hasAttribute("role")||s.setAttribute("role","menu"),d.append(s),n.on("$destroy",function(){d.remove()}),n.append(d),d[0].style.display="none",r.init(d,{isInMenuBar:a})}var i="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:n}}e.$inject=["$mdUtil"],t.module("material.components.menu").directive("mdMenu",e)}(),function(){function e(e){function o(e,o,a,d,s,c,l,m,u,p){function h(n,o,i){return i.nestLevel?t.noop:(i.disableParentScroll&&!e.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=e.disableScrollAround(i.element,i.parent):i.disableParentScroll=!1,i.hasBackdrop&&(i.backdrop=e.createBackdrop(n,"md-menu-backdrop md-click-catcher"),u.enter(i.backdrop,d[0].body)),function(){i.backdrop&&i.backdrop.remove(),i.disableParentScroll&&i.restoreScroll()})}function f(e,t,n){function o(){return m(t,{addClass:"md-leave"}).start()}function i(){t.removeClass("md-active"),E(t,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),t.removeClass("md-clickable"),n.$destroy===!0?i():o().then(i)}function g(n,i,r){function d(){return r.parent.append(i),i[0].style.display="",c(function(e){var t=$(i,r);i.removeClass("md-leave"),m(i,{addClass:"md-active",from:C.toCss(t),to:C.toCss({transform:""})}).start().then(e)})}function u(){if(!r.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(r,{alreadyOpen:!1,isRemoved:!1,target:t.element(r.target),parent:t.element(r.parent),menuContentEl:t.element(i[0].querySelector("md-menu-content"))})}function f(){var e=function(e,t){return l.throttle(function(){if(!r.isRemoved){var n=$(e,t);e.css(C.toCss(n))}})}(i,r);return s.addEventListener("resize",e),s.addEventListener("orientationchange",e),function(){s.removeEventListener("resize",e),s.removeEventListener("orientationchange",e)}}function g(){return r.backdrop?(r.backdrop.on("click",v),function(){r.backdrop.off("click",v)}):t.noop}function v(e){e.preventDefault(),e.stopPropagation(),n.$apply(function(){r.mdMenuCtrl.close(!0,{closeAll:!0})})}function E(){function o(t){var n;switch(t.keyCode){case a.KEY_CODE.ESCAPE:r.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.UP_ARROW:b(t,r.menuContentEl,r,-1)||r.nestLevel||r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.DOWN_ARROW:b(t,r.menuContentEl,r,1)||r.nestLevel||r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.LEFT_ARROW:r.nestLevel?r.mdMenuCtrl.close():r.mdMenuCtrl.triggerContainerProxy(t),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var o=e.getClosest(t.target,"MD-MENU");o&&o!=r.parent[0]?t.target.click():r.mdMenuCtrl.triggerContainerProxy(t),n=!0}n&&(t.preventDefault(),t.stopImmediatePropagation())}function i(t){function o(){n.$apply(function(){r.mdMenuCtrl.close(!0,{closeAll:!0})})}function i(e,t){if(!e)return!1;for(var n,o=0;n=t[o];++o)if(y.hasAttribute(e,n))return!0;return!1}var a=t.target;do{if(a==r.menuContentEl[0])return;if((i(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!i(a,["md-prevent-menu-close"])){var d=e.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||d&&d!=r.parent[0]||o();break}}while(a=a.parentNode)}if(!r.menuContentEl[0])return t.noop;r.menuContentEl.on("keydown",o),r.menuContentEl[0].addEventListener("click",i,!0);var d=r.menuContentEl[0].querySelector(y.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!d)for(var s=r.menuContentEl[0].children.length,c=0;c<s;c++){var l=r.menuContentEl[0].children[c];if(d=l.querySelector(".md-button:not([disabled])"))break;if(l.firstElementChild&&!l.firstElementChild.disabled){d=l.firstElementChild;break}}return d&&d.focus(),function(){r.menuContentEl.off("keydown",o),r.menuContentEl[0].removeEventListener("click",i,!0)}}return u(r),r.menuContentEl[0]?o.inherit(r.menuContentEl,r.target):p.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",i),r.cleanupResizing=f(),r.hideBackdrop=h(n,i,r),d().then(function(e){return r.alreadyOpen=!0,r.cleanupInteraction=E(),r.cleanupBackdrop=g(),i.addClass("md-clickable"),e})}function b(t,n,o,i){for(var r,a=e.getClosest(t.target,"MD-MENU-ITEM"),d=e.nodesToArray(n[0].children),s=d.indexOf(a),c=s+i;c>=0&&c<d.length;c+=i){var l=d[c].querySelector(".md-button");if(r=v(l))break}return r}function v(e){if(e&&e.getAttribute("tabindex")!=-1)return e.focus(),d[0].activeElement==e}function E(e,t){t.preserveElement?i(e).style.display="none":i(e).parentNode===i(t.parent)&&i(t.parent).removeChild(i(e))}function $(t,o){function i(e){e.top=Math.max(Math.min(e.top,v.bottom-l.offsetHeight),v.top),e.left=Math.max(Math.min(e.left,v.right-l.offsetWidth),v.left)}function a(){for(var e=0;e<m.children.length;++e)if("none"!=s.getComputedStyle(m.children[e]).display)return m.children[e]}var c,l=t[0],m=t[0].firstElementChild,u=m.getBoundingClientRect(),p=d[0].body,h=p.getBoundingClientRect(),f=s.getComputedStyle(m),g=o.target[0].querySelector(y.buildSelector("md-menu-origin"))||o.target[0],b=g.getBoundingClientRect(),v={left:h.left+r,top:Math.max(h.top,0)+r,bottom:Math.max(h.bottom,Math.max(h.top,0)+h.height)-r,right:h.right-r},E={top:0,left:0,right:0,bottom:0},$={top:0,left:0,right:0,bottom:0},C=o.mdMenuCtrl.positionMode();"target"!=C.top&&"target"!=C.left&&"target-right"!=C.left||(c=a(),c&&(c=c.firstElementChild||c,c=c.querySelector(y.buildSelector("md-menu-align-target"))||c,E=c.getBoundingClientRect(),$={top:parseFloat(l.style.top||0),left:parseFloat(l.style.left||0)}));var M={},T="top ";switch(C.top){case"target":M.top=$.top+b.top-E.top;break;case"cascade":M.top=b.top-parseFloat(f.paddingTop)-g.style.top;break;case"bottom":M.top=b.top+b.height;break;default:throw new Error('Invalid target mode "'+C.top+'" specified for md-menu on Y axis.')}var A="rtl"==e.bidi();switch(C.left){case"target":M.left=$.left+b.left-E.left,T+=A?"right":"left";break;case"target-left":M.left=b.left,T+="left";break;case"target-right":M.left=b.right-u.width+(u.right-E.right),T+="right";break;case"cascade":var w=A?b.left-u.width<v.left:b.right+u.width<v.right;M.left=w?b.right-g.style.left:b.left-g.style.left-u.width,T+=w?"left":"right";break;case"right":A?(M.left=b.right-b.width,T+="left"):(M.left=b.right-u.width,T+="right");break;case"left":A?(M.left=b.right-u.width,T+="right"):(M.left=b.left,T+="left");break;default:throw new Error('Invalid target mode "'+C.left+'" specified for md-menu on X axis.')}var k=o.mdMenuCtrl.offsets();M.top+=k.top,M.left+=k.left,i(M);var _=Math.round(100*Math.min(b.width/l.offsetWidth,1))/100,x=Math.round(100*Math.min(b.height/l.offsetHeight,1))/100;return{top:Math.round(M.top),left:Math.round(M.left),transform:o.alreadyOpen?n:e.supplant("scale({0},{1})",[_,x]),transformOrigin:T}}var y=e.prefixer(),C=e.dom.animator;return{parent:"body",onShow:g,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function i(e){return e instanceof t.element&&(e=e[0]),e}o.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var r=8;return e("$mdMenu").setDefaults({methods:["target"],options:o})}e.$inject=["$$interimElementProvider"],t.module("material.components.menu").provider("$mdMenu",e)}(),function(){function e(e,n,i,r,a,d,s,c){this.$element=i,this.$attrs=r,this.$mdConstant=a,this.$mdUtil=s,this.$document=d,this.$scope=e,this.$rootScope=n,this.$timeout=c;var l=this;t.forEach(o,function(e){l[e]=t.bind(l,l[e])})}e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],t.module("material.components.menuBar").controller("MenuBarController",e);var o=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];e.prototype.init=function(){var e=this.$element,t=this.$mdUtil,o=this.$scope,i=this,r=[];e.on("keydown",this.handleKeyDown),this.parentToolbar=t.getClosest(e,"MD-TOOLBAR"),r.push(this.$rootScope.$on("$mdMenuOpen",function(t,n){i.getMenus().indexOf(n[0])!=-1&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),i.currentlyOpenMenu=n.controller("mdMenu"),i.currentlyOpenMenu.registerContainerProxy(i.handleKeyDown),i.enableOpenOnHover())})),r.push(this.$rootScope.$on("$mdMenuClose",function(o,r,a){var d=i.getMenus();if(d.indexOf(r[0])!=-1&&(e[0].classList.remove("md-open"),r[0].classList.remove("md-open")),e[0].contains(r[0])){for(var s=r[0];s&&d.indexOf(s)==-1;)s=t.getClosest(s,"MD-MENU",!0);s&&(a.skipFocus||s.querySelector("button:not([disabled])").focus(),i.currentlyOpenMenu=n,i.disableOpenOnHover(),i.setKeyboardMode(!0))}})),o.$on("$destroy",function(){for(i.disableOpenOnHover();r.length;)r.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){t.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),t.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),t.element(this.parentToolbar).off("click",this.handleParentClick)),t.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},e.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),o=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(o)},e.prototype.scheduleOpenMenu=function(e){var t=this,o=this.$timeout;e!=t.currentlyOpenMenu&&(o.cancel(t.pendingMenuOpen),t.pendingMenuOpen=o(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,o=this.currentlyOpenMenu,i=o&&o.isOpen;this.setKeyboardMode(!0);var r,a,d;switch(e.keyCode){case n.DOWN_ARROW:o?o.focusMenuContainer():this.openFocusedMenu(),r=!0;break;case n.UP_ARROW:o&&o.close(),r=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),i&&(d=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(d)),r=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),i&&(d=t.element(a).controller("mdMenu"),this.scheduleOpenMenu(d)),r=!0}r&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();n==-1&&(n=this.getOpenMenuIndex());var o=!1;if(n==-1?(n=0,o=!0):(e<0&&n>0||e>0&&n<t.length-e)&&(n+=e,o=!0),o)return t[n].querySelector("button").focus(),t[n]},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=e.getClosest(this.$document[0].activeElement,"MD-MENU");if(!t)return-1;var n=this.getMenus().indexOf(t);return n},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},e.prototype.handleParentClick=function(e){var n=this.querySelector("md-menu.md-open");n&&!n.contains(e.target)&&t.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function e(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(o,i){return i.ariaRole||o[0].setAttribute("role","menubar"),t.forEach(o[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var o=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(o,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),o.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,o,i){t.addClass("_md"),n(e,t),i.init()}}}}e.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuBar",e)}(),function(){function e(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}t.module("material.components.menuBar").directive("mdMenuDivider",e)}(),function(){function e(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}e.$inject=["$scope","$element","$attrs"],t.module("material.components.menuBar").controller("MenuItemController",e),e.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},e.prototype.clearNgAria=function(){var e=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];t.forEach(n,function(t){e.removeAttribute(t)})},e.prototype.initClickListeners=function(){function e(){if("radio"==d){var e=a.ngValue?r.$eval(a.ngValue):a.value;return i.$modelValue==e}return i.$modelValue}function n(e){e?c.off("click",l):c.on("click",l)}var o=this,i=this.ngModel,r=this.$scope,a=this.$attrs,d=(this.$element,this.mode);this.handleClick=t.bind(this,this.handleClick);var s=this.iconEl,c=t.element(this.buttonEl),l=this.handleClick;a.$observe("disabled",n),n(a.disabled),i.$render=function(){o.clearNgAria(),e()?(s.style.display="",c.attr("aria-checked","true")):(s.style.display="none",c.attr("aria-checked","false"))},r.$$postDigest(i.$render)},e.prototype.handleClick=function(e){var t,n=this.mode,o=this.ngModel,i=this.$attrs;"checkbox"==n?t=!o.$modelValue:"radio"==n&&(t=i.ngValue?this.$scope.$eval(i.ngValue):i.value),o.$setViewValue(t),o.$render()}}(),function(){function e(e,n,o){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,i){function r(e,o,i){i=i||n,i instanceof t.element&&(i=i[0]),i.hasAttribute(e)||i.setAttribute(e,o)}function a(o){var i=e.prefixer(o);t.forEach(i,function(e){if(n[0].hasAttribute(e)){var t=n[0].getAttribute(e);l[0].setAttribute(e,t),n[0].removeAttribute(e)}})}var d=i.type,s="md-in-menu-bar";if("checkbox"!=d&&"radio"!=d||!n.hasClass(s))r("role","menuitem",n[0].querySelector("md-button, button, a"));else{var c=n[0].textContent,l=t.element('<md-button type="button"></md-button>'),m='<md-icon md-svg-src="'+o.mdChecked+'"></md-icon>';l.html(c),l.attr("tabindex","0"),n.html(""),n.append(t.element(m)),n.append(l),n.addClass("md-indent").removeClass(s),r("role","checkbox"==d?"menuitemcheckbox":"menuitemradio",l),a("ng-disabled")}return function(e,t,n,o){var i=o[0],r=o[1];i.init(r)}}}}e.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],t.module("material.components.menuBar").directive("mdMenuItem",e)}(),function(){function e(e,n,o,i,r,a){function d(a,d,E){function $(t,o,r,d,s,l){function h(e){_.attr("stroke-dashoffset",c(v,E,e,M)),_.attr("transform","rotate("+C+" "+v/2+" "+v/2+")")}var f=++D,g=i.now(),b=o-t,v=m(a.mdDiameter),E=u(v),$=r||n.easeFn,y=d||n.duration,C=-90*(s||0),M=l||100;o===t?h(o):T=p(function A(){var n=e.Math.max(0,e.Math.min(i.now()-g,y));h($(n,t,b,y)),f===D&&n<y&&(T=p(A))})}function y(){$(x,N,n.easeFnIndeterminate,n.durationIndeterminate,S,75),S=++S%4}function C(){A||(A=r(y,n.durationIndeterminate,0,!1),y(),d.addClass(v).removeAttr("aria-valuenow"))}function M(){A&&(r.cancel(A),A=null,d.removeClass(v))}var T,A,w=d[0],k=t.element(w.querySelector("svg")),_=t.element(w.querySelector("path")),x=n.startIndeterminate,N=n.endIndeterminate,S=0,D=0;o(d),d.toggleClass(b,E.hasOwnProperty("disabled")),a.mdMode===g&&C(),a.$on("$destroy",function(){M(),T&&h(T)}),a.$watchGroup(["value","mdMode",function(){var e=w.disabled;return e===!0||e===!1?e:t.isDefined(d.attr("disabled"))}],function(e,t){var n=e[1],o=e[2],i=t[2];if(o!==i&&d.toggleClass(b,!!o),o)M();else if(n!==f&&n!==g&&(n=g,E.$set("mdMode",n)),n===g)C();else{var r=l(e[0]);M(),d.attr("aria-valuenow",r),$(l(t[0]),r)}}),a.$watch("mdDiameter",function(t){var n=m(t),o=u(n),i=l(a.value),r=n/2+"px",p={width:n+"px",height:n+"px"};k[0].setAttribute("viewBox","0 0 "+n+" "+n),k.css(p).css("transform-origin",r+" "+r+" "+r),d.css(p),_.attr("stroke-width",o),_.attr("stroke-linecap","square"),a.mdMode==g?(_.attr("d",s(n,o,!0)),_.attr("stroke-dasharray",(n-o)*e.Math.PI*.75),_.attr("stroke-dashoffset",c(n,o,1,75))):(_.attr("d",s(n,o,!1)),_.attr("stroke-dasharray",(n-o)*e.Math.PI),_.attr("stroke-dashoffset",c(n,o,0,100)),$(i,i))})}function s(e,t,n){var o=e/2,i=t/2,r=o+","+i,a=i+","+o,d=o-i;return"M"+r+"A"+d+","+d+" 0 1 1 "+a+(n?"":"A"+d+","+d+" 0 0 1 "+r)}function c(t,n,o,i){return(t-n)*e.Math.PI*(3*(i||100)/100-o/100)}function l(t){return e.Math.max(0,e.Math.min(t||0,100))}function m(e){var t=n.progressSize;if(e){var o=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(o=o/100*t),o}return t}function u(e){return n.strokeWidth/100*e}var p=e.requestAnimationFrame||e.webkitRequestAnimationFrame||t.noop,h=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||t.noop,f="determinate",g="indeterminate",b="_md-progress-circular-disabled",v="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,n){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),t.isUndefined(n.mdMode)){var o=n.hasOwnProperty("value")?f:g;n.$set("mdMode",o)}else n.$set("mdMode",n.mdMode.trim());return d}}}e.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],t.module("material.components.progressCircular").directive("mdProgressCircular",e)}(),function(){function e(){function e(e,t,n,o){
return n*e/o+t}function n(e,t,n,o){var i=(e/=o)*e,r=i*e;return t+n*(6*r*i+-15*i*i+10*r)}var o={progressSize:50,strokeWidth:10,duration:100,easeFn:e,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:e,materialEase:n}};return{configure:function(e){return o=t.extend(o,e||{})},$get:function(){return o}}}t.module("material.components.progressCircular").provider("$mdProgressCircular",e)}(),function(){function e(){function e(e,o,i,r){if(r){var a=r.getTabElementIndex(o),d=n(o,"md-tab-body").remove(),s=n(o,"md-tab-label").remove(),c=r.insertTab({scope:e,parent:e.$parent,index:a,element:o,template:d.html(),label:s.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&r.select(c.getIndex(),!0)}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return r.getTabElementIndex(o)},function(e){c.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(c)})}}function n(e,n){for(var o=e[0].children,i=0,r=o.length;i<r;i++){var a=o[i];if(a.tagName===n.toUpperCase())return t.element(a)}return t.element()}return{require:"^?mdTabs",terminal:!0,compile:function(o,i){var r=n(o,"md-tab-label"),a=n(o,"md-tab-body");if(0===r.length&&(r=t.element("<md-tab-label></md-tab-label>"),i.label?r.text(i.label):r.append(o.contents()),0===a.length)){var d=o.contents().detach();a=t.element("<md-tab-body></md-tab-body>"),a.append(d)}return o.append(r),a.html()&&o.append(a),e},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,o){o&&o.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var o=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){o(e,{$event:t})})})}}}}e.$inject=["$parse"],t.module("material.components.tabs").directive("mdTabScroll",e)}(),function(){function e(e,o,i,r,a,d,s,c,l,m,u,p){function h(){E("stretchTabs",C),X("focusIndex",_,he.selectedIndex||0),X("offsetLeft",k,0),X("hasContent",w,!1),X("maxTabWidth",T,J()),X("shouldPaginate",A,!1),$("noInkBar",R),$("dynamicHeight",F),$("noPagination"),$("swipeContent"),$("noDisconnect"),$("autoselect"),$("noSelectClick"),$("centerTabs",M,!1),$("enableDisconnect"),he.scope=e,he.parent=e.$parent,he.tabs=[],he.lastSelectedIndex=null,he.hasFocus=!1,he.styleTabItemFocus=!1,he.shouldCenterTabs=Y(),he.tabContentPrefix="tab-content-",f()}function f(){he.selectedIndex=he.selectedIndex||0,g(),v(),b(),m(o),d.nextTick(function(){ge=U(),de(),oe(),se(),he.tabs[he.selectedIndex]&&he.tabs[he.selectedIndex].scope.select(),Ee=!0,Q()})}function g(){var e=c.$mdTabsTemplate,n=t.element(o[0].querySelector("md-tab-data"));n.html(e),l(n.contents())(he.parent),delete c.$mdTabsTemplate}function b(){t.element(i).on("resize",L),e.$on("$destroy",y)}function v(){e.$watch("$mdTabsCtrl.selectedIndex",x)}function E(e,t){var n=c.$normalize("md-"+e);t&&X(e,t),c.$observe(n,function(t){he[e]=t})}function $(e,t){function n(t){he[e]="false"!==t}var o=c.$normalize("md-"+e);t&&X(e,t),c.hasOwnProperty(o)&&n(c[o]),c.$observe(o,n)}function y(){ve=!0,t.element(i).off("resize",L)}function C(e){var n=U();t.element(n.wrapper).toggleClass("md-stretch-tabs",V()),se()}function M(e){he.shouldCenterTabs=Y()}function T(e,n){if(e!==n){var o=U();t.forEach(o.tabs,function(t){t.style.maxWidth=e+"px"}),t.forEach(o.dummies,function(t){t.style.maxWidth=e+"px"}),d.nextTick(he.updateInkBarStyles)}}function A(e,t){e!==t&&(he.maxTabWidth=J(),he.shouldCenterTabs=Y(),d.nextTick(function(){he.maxTabWidth=J(),oe(he.selectedIndex)}))}function w(e){o[e?"removeClass":"addClass"]("md-no-tab-content")}function k(n){var o=U(),i=(he.shouldCenterTabs||pe()?"":"-")+n+"px";i=i.replace("--",""),t.element(o.paging).css(r.CSS.TRANSFORM,"translate3d("+i+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function _(e,t){e!==t&&U().tabs[e]&&(oe(),ne())}function x(t,n){t!==n&&(he.selectedIndex=G(t),he.lastSelectedIndex=n,he.updateInkBarStyles(),de(),oe(t),e.$broadcast("$mdTabsChanged"),he.tabs[n]&&he.tabs[n].scope.deselect(),he.tabs[t]&&he.tabs[t].scope.select())}function N(e){var t=o[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])}function S(){S.watcher||(S.watcher=e.$watch(function(){d.nextTick(function(){S.watcher&&o.prop("offsetParent")&&(S.watcher(),S.watcher=null,L())},!1)}))}function D(e){switch(e.keyCode){case r.KEY_CODE.LEFT_ARROW:e.preventDefault(),te(-1,!0);break;case r.KEY_CODE.RIGHT_ARROW:e.preventDefault(),te(1,!0);break;case r.KEY_CODE.SPACE:case r.KEY_CODE.ENTER:e.preventDefault(),fe||I(he.focusIndex);break;case r.KEY_CODE.TAB:he.focusIndex!==he.selectedIndex&&(he.focusIndex=he.selectedIndex)}}function I(e,t){fe||(he.focusIndex=he.selectedIndex=e),t&&he.noSelectClick||d.nextTick(function(){he.tabs[e].element.triggerHandler("click")},!1)}function H(e){he.shouldPaginate&&(e.preventDefault(),he.offsetLeft=le(he.offsetLeft-e.wheelDelta))}function O(){if(he.canPageForward()){var e=p.increasePageOffset(U(),he.offsetLeft);he.offsetLeft=le(e)}}function P(){if(he.canPageBack()){var e=p.decreasePageOffset(U(),he.offsetLeft);he.offsetLeft=le(e)}}function L(){he.lastSelectedIndex=he.selectedIndex,he.offsetLeft=le(he.offsetLeft),d.nextTick(function(){he.updateInkBarStyles(),Q()})}function R(e){t.element(U().inkBar).toggleClass("ng-hide",e)}function F(e){o.toggleClass("md-dynamic-height",e)}function B(e){if(!ve){var t=he.selectedIndex,n=he.tabs.splice(e.getIndex(),1)[0];ae(),he.selectedIndex===t&&(n.scope.deselect(),he.tabs[he.selectedIndex]&&he.tabs[he.selectedIndex].scope.select()),d.nextTick(function(){Q(),he.offsetLeft=le(he.offsetLeft)})}}function j(e,n){var o=Ee,i={getIndex:function(){return he.tabs.indexOf(r)},isActive:function(){return this.getIndex()===he.selectedIndex},isLeft:function(){return this.getIndex()<he.selectedIndex},isRight:function(){return this.getIndex()>he.selectedIndex},shouldRender:function(){return!he.noDisconnect||this.isActive()},hasFocus:function(){return he.styleTabItemFocus&&he.hasFocus&&this.getIndex()===he.focusIndex},id:d.nextUid(),hasContent:!(!e.template||!e.template.trim())},r=t.extend(i,e);return t.isDefined(n)?he.tabs.splice(n,0,r):he.tabs.push(r),ie(),re(),d.nextTick(function(){Q(),ue(r),o&&he.autoselect&&d.nextTick(function(){d.nextTick(function(){I(he.tabs.indexOf(r))})})}),r}function U(){var e={},t=o[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.nextButton=t.querySelector("md-next-button"),e.prevButton=t.querySelector("md-prev-button"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function q(){return he.offsetLeft>0}function z(){var e=U(),t=e.tabs[e.tabs.length-1];return pe()?he.offsetLeft<e.paging.offsetWidth-e.canvas.offsetWidth:t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+he.offsetLeft}function W(){var e=he.tabs[he.focusIndex];return e&&e.id?"tab-item-"+e.id:null}function V(){switch(he.stretchTabs){case"always":return!0;case"never":return!1;default:return!he.shouldPaginate&&i.matchMedia("(max-width: 600px)").matches}}function Y(){return he.centerTabs&&!he.shouldPaginate}function K(){if(he.noPagination||!Ee)return!1;var e=o.prop("clientWidth");return t.forEach(U().tabs,function(t){e-=t.offsetWidth}),e<0}function G(e){if(e===-1)return-1;var t,n,o=Math.max(he.tabs.length-e,e);for(t=0;t<=o;t++){if(n=he.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=he.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function X(e,t,n){Object.defineProperty(he,e,{get:function(){return n},set:function(e){var o=n;n=e,t&&t(e,o)}})}function Q(){he.maxTabWidth=J(),he.shouldPaginate=K()}function Z(e){var n=0;return t.forEach(e,function(e){n+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(n)}function J(){var e=U(),t=e.canvas.clientWidth,n=264;return Math.max(0,Math.min(t-1,n))}function ee(){var e=he.tabs[he.selectedIndex],t=he.tabs[he.focusIndex];he.tabs=he.tabs.sort(function(e,t){return e.index-t.index}),he.selectedIndex=he.tabs.indexOf(e),he.focusIndex=he.tabs.indexOf(t)}function te(e,t){var n,o=t?"focusIndex":"selectedIndex",i=he[o];for(n=i+e;he.tabs[n]&&he.tabs[n].scope.disabled;n+=e);n=(i+e+he.tabs.length)%he.tabs.length,he.tabs[n]&&(he[o]=n)}function ne(){he.styleTabItemFocus="keyboard"===u.getLastInteractionType(),U().tabs[he.focusIndex].focus()}function oe(e){var n=U();if(t.isNumber(e)||(e=he.focusIndex),n.tabs[e]&&!he.shouldCenterTabs){var o=n.tabs[e],i=o.offsetLeft,r=o.offsetWidth+i,a=32;if(0==e)return void(he.offsetLeft=0);if(pe()){var d=Z(Array.prototype.slice.call(n.tabs,0,e)),s=Z(Array.prototype.slice.call(n.tabs,0,e+1));he.offsetLeft=Math.min(he.offsetLeft,le(d)),he.offsetLeft=Math.max(he.offsetLeft,le(s-n.canvas.clientWidth))}else he.offsetLeft=Math.max(he.offsetLeft,le(r-n.canvas.clientWidth+a)),he.offsetLeft=Math.min(he.offsetLeft,le(i))}}function ie(){be.forEach(function(e){d.nextTick(e)}),be=[]}function re(){for(var e=!1,t=0;t<he.tabs.length;t++)if(he.tabs[t].hasContent){e=!0;break}he.hasContent=e}function ae(){he.selectedIndex=G(he.selectedIndex),he.focusIndex=G(he.focusIndex)}function de(){if(!he.dynamicHeight)return o.css("height","");if(!he.tabs.length)return be.push(de);var e=U(),t=e.contents[he.selectedIndex],i=t?t.offsetHeight:0,r=e.wrapper.offsetHeight,a=i+r,c=o.prop("clientHeight");if(c!==a){"bottom"===o.attr("md-align-tabs")&&(c-=r,a-=r,o.attr("md-border-bottom")!==n&&++c),fe=!0;var l={height:c+"px"},m={height:a+"px"};o.css(l),s(o,{from:l,to:m,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){o.css({transition:"none",height:""}),d.nextTick(function(){o.css("transition","")}),fe=!1})}}function se(){var e=U();if(!e.tabs[he.selectedIndex])return void t.element(e.inkBar).css({left:"auto",right:"auto"});if(!he.tabs.length)return be.push(he.updateInkBarStyles);if(!o.prop("offsetParent"))return S();var n=he.selectedIndex,i=e.paging.offsetWidth,r=e.tabs[n],a=r.offsetLeft,s=i-a-r.offsetWidth;if(he.shouldCenterTabs){var c=Z(e.tabs);i>c&&d.nextTick(se,!1)}ce(),t.element(e.inkBar).css({left:a+"px",right:s+"px"})}function ce(){var e=U(),n=he.selectedIndex,o=he.lastSelectedIndex,i=t.element(e.inkBar);t.isNumber(o)&&i.toggleClass("md-left",n<o).toggleClass("md-right",n>o)}function le(e){var t=U();if(!t.tabs.length||!he.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],o=n.offsetLeft+n.offsetWidth;return pe()?(e=Math.min(t.paging.offsetWidth-t.canvas.clientWidth,e),e=Math.max(0,e)):(e=Math.max(0,e),e=Math.min(o-t.canvas.clientWidth,e)),e}function me(e,n){var o=U(),i={colorElement:t.element(o.inkBar)};a.attach(e,n,i)}function ue(e){if(e.hasContent){var n=o[0].querySelectorAll('[md-tab-id="'+e.id+'"]');t.element(n).attr("aria-controls",he.tabContentPrefix+e.id)}}function pe(){return"rtl"==d.bidi()}var he=this,fe=!1,ge=U(),be=[],ve=!1,Ee=!1;he.$onInit=h,he.updatePagination=d.debounce(Q,100),he.redirectFocus=ne,he.attachRipple=me,he.insertTab=j,he.removeTab=B,he.select=I,he.scroll=H,he.nextPage=O,he.previousPage=P,he.keydown=D,he.canPageForward=z,he.canPageBack=q,he.refreshIndex=ae,he.incrementIndex=te,he.getTabElementIndex=N,he.updateInkBarStyles=d.debounce(se,100),he.updateTabOrder=d.debounce(ee,100),he.getFocusedTabId=W,1===t.version.major&&t.version.minor<=4&&this.$onInit()}e.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","MdTabsPaginationService"],t.module("material.components.tabs").controller("MdTabsController",e)}(),function(){function e(e){return{scope:{selectedIndex:"=?mdSelected"},template:function(t,n){return n.$mdTabsTemplate=t.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist"> <md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}"aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}e.$inject=["$$mdSvgRegistry"],t.module("material.components.tabs").directive("mdTabs",e)}(),function(){function e(e,t){return{require:"^?mdTabs",link:function(n,o,i,r){if(r){var a,d,s=function(){r.updatePagination(),r.updateInkBarStyles()};if("MutationObserver"in t){var c={childList:!0,subtree:!0,characterData:!0};a=new MutationObserver(s),a.observe(o[0],c),d=a.disconnect.bind(a)}else{var l=e.debounce(s,15,null,!1);o.on("DOMSubtreeModified",l),d=o.off.bind(o,"DOMSubtreeModified",l)}n.$on("$destroy",function(){d()})}}}}e.$inject=["$mdUtil","$window"],t.module("material.components.tabs").directive("mdTabsDummyWrapper",e)}(),function(){function e(e,t){function n(n,o,i,r){function a(){n.$watch("connected",function(e){e===!1?d():s()}),n.$on("$destroy",s)}function d(){r.enableDisconnect&&t.disconnectScope(c)}function s(){r.enableDisconnect&&t.reconnectScope(c)}if(r){var c=r.enableDisconnect?n.compileScope.$new():n.compileScope;return o.html(n.template),e(o.contents())(c),t.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}e.$inject=["$compile","$mdUtil"],t.module("material.components.tabs").directive("mdTabsTemplate",e)}(),function(){t.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-A100}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-100}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-A100}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{background-900}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li .highlight{color:"{{background-600}}"}.md-autocomplete-suggestions-container.md-THEME_NAME-theme li.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-200}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-50}}";border-top-color:"{{background-300}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-50}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-calendar.md-THEME_NAME-theme{background:"{{background-A100}}";color:"{{background-A200-0.87}}"}.md-calendar.md-THEME_NAME-theme tr:last-child td{border-bottom-color:"{{background-200}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-300}}";color:"{{background-A200-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-300}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{background-A200-0.435}}"}.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-A100}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-A100}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{background-A200-0.87}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{background-A200-0.25}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{background-A200-0.11}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-2}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background:"{{background-200}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.2}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{background-A200-0.54}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.2}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-A100}}";color:"{{background-A200}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{background-A100-0.87}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{background-A100-0.87}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked.md-primary .md-ink-ripple{color:"{{warn-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background:"{{background-A100}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{background-600-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{background-900-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{background-400-0.87}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background:"{{background-200}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{background-900-0.87}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
}()}(window,window.angular),window.ngMaterial={version:{full:"1.1.5"}};
/**
 * State-based routing for AngularJS 1.x
 * NOTICE: This monolithic bundle also bundles the @uirouter/core code.
 *         This causes it to be incompatible with plugins that depend on @uirouter/core.
 *         We recommend switching to the ui-router-core.js and ui-router-angularjs.js bundles instead.
 *         For more information, see https://ui-router.github.io/blog/uirouter-for-angularjs-umd-bundles
 * @version v1.0.8
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]={},t.angular)}(this,function(t,e){"use strict";function r(t){function e(r){return r.length>=n?t.apply(null,r):function(){return e(r.concat([].slice.apply(arguments)))}}var r=[].slice.apply(arguments,[1]),n=t.length;return e(r)}function n(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)&&e.apply(null,r)}}function a(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)||e.apply(null,r)}}function u(t,e){return function(r){return r[t].apply(r,e)}}function s(t){return function(e){for(var r=0;r<t.length;r++)if(t[r][0](e))return t[r][1](e)}}function c(t){if(te(t)&&t.length){var e=t.slice(0,-1),r=t.slice(-1);return!(e.filter(Ht(Zt)).length||r.filter(Ht(Kt)).length)}return Kt(t)}function f(t){return t}function l(){}function h(t,e,r,n,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(r())},a=function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}};return(n=n||Object.keys(t())).reduce(function(t,e){return t[e]=i?a(e):o(e),t},e)}function p(t,e){return-1!==t.indexOf(e)}function d(t,e){var r=t.indexOf(e);return r>=0&&t.splice(r,1),t}function v(t,e){return t.push(e),e}function m(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.concat({}).reverse(),i=he.apply(null,n);return he({},i,g(t||{},Object.keys(i)))}function y(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function g(t,e){var r={};for(var n in t)-1!==e.indexOf(n)&&(r[n]=t[n]);return r}function _(t,e){return Object.keys(t).filter(Ht(ve(e))).reduce(function(e,r){return e[r]=t[r],e},{})}function w(t,e){return b(t,jt(e))}function $(t,e){var r=te(t),n=r?[]:{},i=r?function(t){return n.push(t)}:function(t,e){return n[e]=t};return le(t,function(t,r){e(t,r)&&i(t,r)}),n}function S(t,e){var r;return le(t,function(t,n){r||e(t,n)&&(r=t)}),r}function b(t,e){var r=te(t)?[]:{};return le(t,function(t,n){return r[n]=e(t,n)}),r}function R(t,e){return t.push(e),t}function E(t,e){return void 0===e&&(e="assert failure"),function(r){var n=t(r);if(!n)throw new Error(Kt(e)?e(r):e);return n}}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var r,n=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),i=[];for(r=0;r<n;r++)switch(t.length){case 1:i.push([t[0][r]]);break;case 2:i.push([t[0][r],t[1][r]]);break;case 3:i.push([t[0][r],t[1][r],t[2][r]]);break;case 4:i.push([t[0][r],t[1][r],t[2][r],t[3][r]]);break;default:i.push(t.map(function(t){return t[r]}))}return i}function C(t,e){var r,n;if(te(e)&&(r=e[0],n=e[1]),!Zt(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function P(t){return t.length&&t[t.length-1]||void 0}function k(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),he(e,t)}function O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n=Object.keys(r),i=0;i<n.length;i++)t[n[i]]=r[n[i]]}return t}function x(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r=typeof t;if(r!==typeof e||"object"!==r)return!1;var n=[t,e];if(qt(te)(n))return I(t,e);if(qt(ee)(n))return t.getTime()===e.getTime();if(qt(re)(n))return t.toString()===e.toString();if(qt(Kt)(n))return!0;if([Kt,te,ee,re].map(Dt).reduce(function(t,e){return t||!!e(n)},!1))return!1;var i,o={};for(i in t){if(!x(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o[i])return!1;return!0}function I(t,e){return t.length===e.length&&T(t,e).reduce(function(t,e){return t&&x(e[0],e[1])},!0)}function j(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}function V(e){return Yt(e)?t.Category[e]:t.Category[t.Category[e]]}function A(t,e){var r=Zt(e)?[e]:e;return!!(Kt(r)?r:function(t){for(var e=r,n=0;n<e.length;n++){var i=new Lt(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1})(t)}function H(t,e,r){function n(t,n,a){void 0===a&&(a={});var u=new ze(e,r,n,t,o,a);return i.push(u),u.deregister.bind(u)}var i=(t._registeredHooks=t._registeredHooks||{})[r.name]=[],o=me(i);return t[r.name]=n,n}function q(t){return void 0===t&&(t=!1),function(e,r){var n=t?-1:1,i=(e.node.state.path.length-r.node.state.path.length)*n;return 0!==i?i:r.hook.priority-e.hook.priority}}function D(t,e){function r(t){return te(t)?t:zt(t)?[t]:[]}function n(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function i(t,e){return function(i){if(te(i)&&0===i.length)return i;var o=b(r(i),t);return!0===e?0===$(o,function(t){return!t}).length:n(o)}}function o(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(e){var r=t[e].bind(t),n="equals"===e?o:i;a[e]=n(r)}),he(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:i(t.is.bind(t),!0),$arrayMode:e})}function F(t){function e(){return t.value}return t=Ye(t)&&{value:t}||t,e.__cacheable=!0,he(t,{$$fn:c(t.value)?t.value:e})}function N(e,r,n,i,o){if(e.type&&r&&"string"!==r.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&r&&"string"===r.name&&o.type(e.type))return o.type(e.type);if(r)return r;if(!e.type){var a=n===t.DefType.CONFIG?"any":n===t.DefType.PATH?"path":n===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Qe?e.type:o.type(e.type)}function U(t,e,r){var n=t.squash;if(!e||!1===n)return!1;if(!zt(n)||null==n)return r;if(!0===n||Zt(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function L(t,e,r,n){var i,o,a=[{from:"",to:r||e?void 0:""},{from:null,to:r||e?void 0:""}];return i=te(t.replace)?t.replace:[],Zt(n)&&i.push({from:n,to:void 0}),o=b(i,jt("from")),$(a,function(t){return-1===o.indexOf(t.from)}).concat(i)}function M(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function B(t,e){for(;e.length<t;)e+=" ";return e}function G(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function W(t){var e=z(t),r=e.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:e,i=t.name||"";return i&&n.match(/function \(/)?"function "+i+n.substr(9):n}function z(t){var e=te(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function J(t){function e(t){if(Xt(t)){if(-1!==r.indexOf(t))return"[circular ref]";r.push(t)}return pr(t)}var r=[];return JSON.stringify(t,function(t,r){return e(r)}).replace(/\\"/g,'"')}function Q(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(f)}}function K(t,e){return Zt(P(t))&&Zt(e)?t.slice(0,-1).concat(P(t)+e):R(t,e)}function Y(t){return t.name}function Z(t){return t.self.$$state=function(){return t},t.self}function X(t){return t.parent&&t.parent.data&&(t.data=t.self.data=de(t.parent.data,t.data)),t.data}function tt(t){return t.parent?t.parent.path.concat(t):[t]}function et(t){var e=t.parent?he({},t.parent.includes):{};return e[t.name]=!0,e}function rt(t){var e=function(t){var e=ae.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"},r=function(t){return t.provide||t.token},n=s([[jt("resolveFn"),function(t){return new rr(r(t),t.resolveFn,t.deps,t.policy)}],[jt("useFactory"),function(t){return new rr(r(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[jt("useClass"),function(t){return new rr(r(t),function(){return new t.useClass},[],t.policy)}],[jt("useValue"),function(t){return new rr(r(t),function(){return t.useValue},[],t.policy,t.useValue)}],[jt("useExisting"),function(t){return new rr(r(t),f,[t.useExisting],t.policy)}]]),o=s([[i(jt("val"),Zt),function(t){return new rr(t.token,f,[t.val],t.policy)}],[i(jt("val"),te),function(t){return new rr(t.token,P(t.val),t.val.slice(0,-1),t.policy)}],[i(jt("val"),Kt),function(t){return new rr(t.token,t.val,e(t.val),t.policy)}]]),a=s([[Ft(rr),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},n],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},n],[function(t){return!!(t&&t.val&&(Zt(t.val)||te(t.val)||Kt(t.val)))},o],[Ut(!0),function(t){throw new Error("Invalid resolve value: "+J(t))}]]),u=t.resolve;return(te(u)?u:function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:void 0,policy:e[r]}})}(u,t.resolvePolicy||{})).map(a)}function nt(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;switch(e.squash){case!1:r=["(",")"+(e.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"]}return n+r[0]+e.type.pattern.source+r[1]}function it(t,e,r,n){return"/"===n?t:e?mr(n)+t:r?n.slice(1)+t:t}function ot(t){if(!(Kt(t)||Zt(t)||Ft(Be)(t)||Be.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Kt(t)?t:Ut(t)}function at(t){t.addResolvable({token:Xr,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:lr,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function ut(t){return function(e,r){return(0,r.$$state()[t])(e,r)}}function st(t,e){var r=e.$$state().lazyLoad,n=r._promise;if(!n){n=r._promise=ae.$q.when(r(t,e)).then(function(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}).then(function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete r._promise,t},function(t){return delete r._promise,ae.$q.reject(t)})}return n}function ct(t){var e=t._ignoredReason();if(e){Me.traceTransitionIgnored(t);var r=t.router.globals.transition;return"SameAsCurrent"===e&&r&&r.abort(),He.ignored().toPromise()}}function ft(t){if(!t.valid())throw new Error(t.error())}function lt(t){var e=function(t){return t||""},r=yr(t).map(e),n=r[0],i=r[1],o=gr(n).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function ht(t,e,r,n){return function(i){var o=i.locationService=new r(i),a=i.locationConfig=new n(i,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}function pt(t){return ae.$injector=Vn,ae.$q=On,{name:"vanilla.services",$q:On,$injector:Vn,dispose:function(){return null}}}function dt(){var t=null;return function(e,r){return t=t||ae.$injector.get("$templateFactory"),[new ti(e,r,t)]}}function vt(t){if(!t.parent)return{};var e=["controller","controllerProvider","controllerAs","resolveAs"],r=["component","bindings","componentProvider"],n=["templateProvider","templateUrl","template","notify","async"].concat(e),i=r.concat(n);if(zt(t.views)&&Zn(i,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+i.filter(function(e){return zt(t[e])}).join(", "));var o={},a=t.views||{$default:g(t,i)};return le(a,function(e,i){if(i=i||"$default",Zt(e)&&(e={component:e}),e=he({},e),Zn(r,e)&&Zn(n,e))throw new Error("Cannot combine: "+r.join("|")+" with: "+n.join("|")+" in stateview: '"+i+"@"+t.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=i;var a=Mr.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=a.uiViewName,e.$uiViewContextAnchor=a.uiViewContextAnchor,o[i]=e}),o}function mt(t){var e=ae.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(ri).reduce(Re,[])}function yt(t){function e(t,e,n,i,o,a){return r._runtimeServices(i,t,n,e),delete pi.router,delete pi.$get,pi}(pi=this.router=new Xr).stateProvider=new ii(pi.stateRegistry,pi.stateService),pi.stateRegistry.decorator("views",vt),pi.stateRegistry.decorator("onExit",oi("onExit")),pi.stateRegistry.decorator("onRetain",oi("onRetain")),pi.stateRegistry.decorator("onEnter",oi("onEnter")),pi.viewService._pluginapi._viewConfigFactory("ng1",dt());var r=pi.locationService=pi.locationConfig=new ai(t);return ai.monkeyPatchPathParameterType(pi),pi.router=pi,pi.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],pi}function gt(t,e,r){ae.$injector=t,ae.$q=e,r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(Re,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}function _t(t){t.$watch(function(){Me.approximateDigests++})}function wt(t){var e,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t="("+r[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function $t(t){var e=t.parent().inheritedData("$uiView"),r=At("$cfg.path")(e);return r?P(r).state.name:void 0}function St(t,e,r){var n=r.uiState||t.current.name,i=he(Et(e,t),r.uiStateOpts||{}),o=t.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function bt(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function Rt(t,e,r,n,i){return function(o){var a=o.which||o.button,u=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var s=r(function(){e.go(u.uiState,u.uiStateParams,u.uiStateOpts)});o.preventDefault();var c=n.isAnchor&&!u.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(s)}}}}function Et(t,e){return{relative:$t(t)||e.$current,inherit:!0,source:"sref"}}function Tt(t,e,r,n){var i;n&&(i=n.events),te(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,u=i;a<u.length;a++){var s=u[a];t[o](s,r)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",n=0,o=i;n<o.length;n++){var a=o[n];t[e](a,r)}})}function Ct(t){var e=function(e,r,n){return t.is(e,r,n)};return e.$stateful=!0,e}function Pt(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}function kt(t,r,n,i,o,a){var u=At("viewDecl.controllerAs"),s=At("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return i.empty(),function(i,c){var f=c.data("$uiView");if(!f)return c.html(a),void t(c.contents())(i);var l=f.$cfg||{viewDecl:{},getTemplate:e.noop},h=l.path&&new sr(l.path);c.html(l.getTemplate(c,h)||a),Me.traceUIViewFill(f.$uiView,c.html());var p=t(c.contents()),d=l.controller,v=u(l),m=s(l),y=h&&mi(h);if(i[m]=y,d){var g=r(d,he({},y,{$scope:i,$element:c}));v&&(i[v]=g,i[v][m]=y),c.data("$ngControllerController",g),c.children().data("$ngControllerController",g),Ot(o,n,g,i,l)}if(Zt(l.viewDecl.component))var _=l.viewDecl.component,w=G(_),$=new RegExp("^(x-|data-)?"+w+"$","i"),S=i.$watch(function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&$.exec(t.tagName)});return t&&It.element(t).data("$"+_+"Controller")},function(t){t&&(Ot(o,n,t,i,l),S())});p(i)}}}}function Ot(t,e,r,n,i){!Kt(r.$onInit)||i.viewDecl.component&&wi||r.$onInit();var o=P(i.path).state.self,a={bind:r};if(Kt(r.uiOnParamsChanged)){var u=new sr(i.path).getResolvable("$transition$").data;n.$on("$destroy",e.onSuccess({},function(t){if(t!==u&&-1===t.exiting().indexOf(o)){var e=t.params("to"),n=t.params("from"),i=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(Re,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(Re,[]),s=i.filter(function(t){var r=a.indexOf(t);return-1===r||!a[r].type.equals(e[t.id],n[t.id])});if(s.length){var c=s.map(function(t){return t.id}),f=$(e,function(t,e){return-1!==c.indexOf(e)});r.uiOnParamsChanged(f,t)}}},a))}if(Kt(r.uiCanExit)){var s=$i++,c=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[s]||c(t.redirectedFrom()))},f={exiting:o.name};n.$on("$destroy",e.onBefore(f,function(e){var n,i=e._uiCanExitIds=e._uiCanExitIds||{};return c(e)||(n=t.when(r.uiCanExit(e))).then(function(t){return i[s]=!1!==t}),n},a))}}var xt=angular,It=e&&e.module?e:xt,jt=function(t){return function(e){return e&&e[t]}},Vt=r(function(t,e,r){return r&&r[t]===e}),At=function(t){return i.apply(null,t.split(".").map(jt))},Ht=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return!t.apply(null,e)}},qt=function(t){return function(e){return e.reduce(function(e,r){return e&&!!t(r)},!0)}},Dt=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},!1)}},Ft=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},Nt=function(t){return function(e){return t===e}},Ut=function(t){return function(){return t}},Lt=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),Mt=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var r=de(de(e,t.prototype));return e.$$state=function(){return r},r.self=e,r.__stateObjectCache={nameGlob:Lt.fromString(r.name)},r},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=m(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat($e(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||S($e(this.params),Vt("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return Kt(t)&&!0===t.__uiRouterState},t.isState=function(t){return Xt(t.__stateObjectCache)},t}(),Bt=Object.prototype.toString,Gt=function(t){return function(e){return typeof e===t}},Wt=Gt("undefined"),zt=Ht(Wt),Jt=function(t){return null===t},Qt=a(Jt,Wt),Kt=Gt("function"),Yt=Gt("number"),Zt=Gt("string"),Xt=function(t){return null!==t&&"object"==typeof t},te=Array.isArray,ee=function(t){return"[object Date]"===Bt.call(t)},re=function(t){return"[object RegExp]"===Bt.call(t)},ne=Mt.isState,ie=o(Xt,i(jt("then"),Kt)),oe=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},ae={$q:void 0,$injector:void 0},ue="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,se=ue.angular||{},ce=se.fromJson||JSON.parse.bind(JSON),fe=se.toJson||JSON.stringify.bind(JSON),le=se.forEach||function(t,e,r){if(te(t))return t.forEach(e,r);Object.keys(t).forEach(function(r){return e(t[r],r)})},he=Object.assign||O,pe=se.equals||x,de=function(t,e){return he(Object.create(t),e)},ve=r(p),me=r(d),ye=r(v),ge=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),me(t,e)})},_e=function(t,e){return he(t,e)},we=b,$e=function(t){return Object.keys(t).map(function(e){return t[e]})},Se=function(t,e){return t&&e},be=function(t,e){return t||e},Re=function(t,e){return t.concat(e)},Ee=function(t,e){return te(e)?t.concat(e.reduce(Ee,[])):R(t,e)},Te=function(t,e){return ve(t,e)?t:R(t,e)},Ce=function(t){return t.reduce(Re,[])},Pe=function(t){return t.reduce(Ee,[])},ke=E,Oe=E,xe=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Ie=function(t){return t.catch(function(t){return 0})&&t},je=function(t){return Ie(ae.$q.reject(t))},Ve=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var Ae=0,He=function(){function e(t,e,r){this.$id=Ae++,this.type=t,this.message=e,this.detail=r}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():J(t)}(this.detail),e=this;return"Transition Rejection($id: "+e.$id+" type: "+e.type+", message: "+e.message+", detail: "+t+")"},e.prototype.toPromise=function(){return he(je(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&Ft(e)(t._transitionRejection)},e.superseded=function(r,n){var i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",r);return n&&n.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(r){return new e(t.RejectType.INVALID,"This transition is invalid",r)},e.ignored=function(r){return new e(t.RejectType.IGNORED,"The transition was ignored",r)},e.aborted=function(r){return new e(t.RejectType.ABORTED,"The transition has been aborted",r)},e.errored=function(r){return new e(t.RejectType.ERROR,"The transition errored",r)},e.normalize=function(t){return Ft(e)(t)?t:e.errored(t)},e}(),qe=function(t){var e=t.viewDecl,r=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+r+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"},De=Kt(console.table)?console.table.bind(console):console.log.bind(console);!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var Fe=At("$id"),Ne=At("router.$id"),Ue=function(t){return"Transition #"+Fe(t)+"-"+Ne(t)},Le=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,r){var n=this;r.length||(r=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),r.map(V).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[V(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Ue(e)+": Started  -> "+J(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Ue(e)+": Ignored  <> "+J(e))},e.prototype.traceHookInvocation=function(e,r,n){if(this.enabled(t.Category.HOOK)){var i=At("traceData.hookType")(n)||"internal",o=At("traceData.context.state.name")(n)||At("traceData.context")(n)||"unknown",a=W(e.registeredHook.callback);console.log(Ue(r)+":   Hook -> "+i+" context: "+o+", "+M(200,a))}},e.prototype.traceHookResult=function(e,r,n){this.enabled(t.Category.HOOK)&&console.log(Ue(r)+":   <- Hook returned: "+M(200,J(e)))},e.prototype.traceResolvePath=function(e,r,n){this.enabled(t.Category.RESOLVE)&&console.log(Ue(n)+":         Resolving "+e+" ("+r+")")},e.prototype.traceResolvableResolved=function(e,r){this.enabled(t.Category.RESOLVE)&&console.log(Ue(r)+":               <- Resolved  "+e+" to: "+M(200,J(e.data)))},e.prototype.traceError=function(e,r){this.enabled(t.Category.TRANSITION)&&console.log(Ue(r)+": <- Rejected "+J(r)+", reason: "+e)},e.prototype.traceSuccess=function(e,r){this.enabled(t.Category.TRANSITION)&&console.log(Ue(r)+": <- Success  "+J(r)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,r,n){void 0===n&&(n=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+B(30,e)+" "+j(r)+n)},e.prototype.traceUIViewConfigUpdated=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+r+"'")},e.prototype.traceUIViewFill=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+M(200,r))},e.prototype.traceViewSync=function(e){if(this.enabled(t.Category.VIEWCONFIG)){var r=e.map(function(t){var e=t[0],r=t[1];return{"ui-view fqn":e.$type+":"+e.fqn,"state: view name":r&&r.viewDecl.$context.name+": "+r.viewDecl.$name+" ("+r.viewDecl.$type+")"}}).sort(function(t,e){return t["ui-view fqn"].localeCompare(e["ui-view fqn"])});De(r)}},e.prototype.traceViewServiceEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+qe(r))},e.prototype.traceViewServiceUIViewEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+j(r))},e}(),Me=new Le;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var Be=function(){function t(t,e,r,n){this._stateRegistry=t,this._identifier=e,this._identifier=e,this._params=he({},r||{}),this._options=he({},n||{}),this._definition=t.matcher.find(e,this._options.relative)}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+J(this.params())},t.prototype.withState=function(e){return new t(this._stateRegistry,e,this._params,this._options)},t.prototype.withParams=function(e,r){void 0===r&&(r=!1);var n=r?e:he({},this._params,e);return new t(this._stateRegistry,this._identifier,n,this._options)},t.prototype.withOptions=function(e,r){void 0===r&&(r=!1);var n=r?e:he({},this._options,e);return new t(this._stateRegistry,this._identifier,this._params,n)},t.isDef=function(t){return t&&t.state&&(Zt(t.state)||Zt(t.state.name))},t}(),Ge={current:l,transition:null,traceData:{},bind:null},We=function(){function e(e,r,n,i){var o=this;this.transition=e,this.stateContext=r,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(i,Ge),this.type=n.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;Me.traceHookInvocation(this,this.transition,n);var i=function(r){return e.eventType.getErrorHandler(t)(r)},o=function(r){return e.eventType.getResultHandler(t)(r)};try{var a=e.callback.call(n.bind,t.transition,t.stateContext);return!this.type.synchronous&&ie(a)?a.catch(function(t){return He.normalize(t).toPromise()}).then(o,i):o(a)}catch(t){return i(He.normalize(t))}finally{e.invokeLimit&&++e.invokeCount>=e.invokeLimit&&e.deregister()}}},e.prototype.handleHookResult=function(t){var e=this,r=this.getNotCurrentRejection();return r||(ie(t)?t.then(function(t){return e.handleHookResult(t)}):(Me.traceHookResult(t,this.transition,this.options),!1===t?He.aborted("Hook aborted transition").toPromise():Ft(Be)(t)?He.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?He.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?He.aborted().toPromise():this.isSuperseded()?He.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this,e=t.options,r=t.registeredHook;return(At("traceData.hookType")(e)||"internal")+" context: "+(At("traceData.context.state.name")(e)||At("traceData.context")(e)||"unknown")+", "+M(200,z(r.callback))},e.chain=function(t,e){return t.reduce(function(t,e){return t.then(function(){return e.invokeHook()})},e||ae.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n<t.length;n++){var i=t[n].invokeHook();if(ie(i)){var o=t.slice(n+1);return e.chain(o,i).then(r)}}return r()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},e.LOG_REJECTED_RESULT=function(t){return function(e){ie(e)&&e.catch(function(e){return t.logError(He.normalize(e))})}},e.LOG_ERROR=function(t){return function(e){return t.logError(e)}},e.REJECT_ERROR=function(t){return function(t){return je(t)}},e.THROW_ERROR=function(t){return function(t){throw t}},e}(),ze=function(){function e(t,e,r,n,i,o){void 0===o&&(o={}),this.tranSvc=t,this.eventType=e,this.callback=r,this.matchCriteria=n,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var r=t.filter(function(t){return A(t.state,e)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return b(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var r=this,n=he(this._getDefaultMatchCriteria(),this.matchCriteria);return $e(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===t.TransitionHookScope.STATE,u=e[o.name]||[],s=a?u:[P(u)];return i[o.name]=r._matchingNodes(s,n[o.name]),i},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return $e(e).every(f)?e:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}(),Je=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(Re,[]).filter(f)},e.prototype.buildHooks=function(e){var r=this.transition,n=r.treeChanges(),i=this.getMatchingHooks(e,n);if(!i)return[];var o={transition:r,current:r.options().current};return i.map(function(i){return i.matches(n)[e.criteriaMatchPath.name].map(function(n){var a=he({bind:i.bind,traceData:{hookType:e.name,context:n}},o),u=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?n.state.self:null,s=new We(r,u,i,a);return{hook:i,node:n,transitionHook:s}})}).reduce(Re,[]).sort(q(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,r){var n=e.hookPhase===t.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(n?[i]:[this.transition,i]).map(function(t){return t.getHooks(e.name)}).filter(ke(te,"broken event named: "+e.name)).reduce(Re,[]).filter(function(t){return t.matches(r)})},e}(),Qe=function(){function t(t){this.pattern=/.*/,this.inherit=!0,he(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new D(this,t)},t}(),Ke=Object.prototype.hasOwnProperty,Ye=function(t){return 0===["value","type","squash","array","dynamic"].filter(Ke.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var Ze=function(){function e(e,r,n,i,o){r=N(n=F(n),r,i,e,o.paramTypes);var a=function(){var r={array:i===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return he(r,o,n).array}();r=a?r.$asArray(a,i===t.DefType.SEARCH):r;var u=void 0!==n.value||i===t.DefType.SEARCH,s=zt(n.dynamic)?!!n.dynamic:!!r.dynamic,c=zt(n.raw)?!!n.raw:!!r.raw,f=U(n,u,o.defaultSquashPolicy()),l=L(n,a,u,f),h=zt(n.inherit)?!!n.inherit:!!r.inherit;he(this,{id:e,type:r,location:i,isOptional:u,dynamic:s,raw:c,squash:f,replace:l,inherit:h,array:a,config:n})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var r=0,n=e.replace;r<n.length;r++){var i=n[r];if(i.from===t)return i.to}return t}(t),Wt(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!ae.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=ae.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((Wt(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var r=this.type.encode(e);return!(Zt(r)&&!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var r={},n=0,i=t;n<i.length;n++){var o=i[n];r[o.id]=o.value(e[o.id])}return r},e.changed=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})},e.equals=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===e.changed(t,r,n).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(Se,!0)},e}(),Xe=function(){function t(e){if(e instanceof t){var r=e;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=he({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,r){return C(t,e(r))},{}),this},t.prototype.parameter=function(t){return S(this.paramSchema,Vt("id",t))},t.prototype.equals=function(t,e){var r=this.diff(t,e);return r&&0===r.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var r=e?e(this):this.paramSchema;return Ze.changed(r,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),tr=function(){function t(){}return t.makeTargetState=function(t,e){var r=P(e).state;return new Be(t,r,e.map(jt("paramValues")).reduce(_e,{}),{})},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new Xe(t).applyRawParams(e)})},t.buildToPath=function(e,r){var n=t.buildPath(r);return r.options().inherit?t.inheritParams(e,n,Object.keys(r.params())):n},t.applyViewConfigs=function(e,r,n){r.filter(function(t){return ve(n,t.state)}).forEach(function(n){var i=$e(n.state.views||{}),o=t.subPath(r,function(t){return t===n}),a=i.map(function(t){return e.createViewConfig(o,t)});n.views=a.reduce(Re,[])})},t.inheritParams=function(t,e,r){function n(t,e){var r=S(t,Vt("state",e));return he({},r&&r.paramValues)}void 0===r&&(r=[]);var i=t.map(function(t){return t.paramSchema}).reduce(Re,[]).filter(function(t){return!t.inherit}).map(jt("id"));return e.map(function(e){var o=he({},e&&e.paramValues),a=g(o,r);o=_(o,r);var u=_(n(t,e.state)||{},i),s=he(o,u,a);return new Xe(e.state).applyRawParams(s)})},t.treeChanges=function(e,r,n){for(var i=0,o=Math.min(e.length,r.length);i<o&&e[i].state!==n&&function(e,r){return e.equals(r,t.nonDynamicParams)}(e[i],r[i]);)i++;var a,u,s,c,f;u=(a=e).slice(0,i),s=a.slice(i);var l=u.map(function(t,e){var n=Xe.clone(t);return n.paramValues=r[e].paramValues,n});return c=r.slice(i),f=l.concat(c),{from:a,to:f,retained:u,exiting:s,entering:c}},t.matching=function(t,e,r){var n=!1;return T(t,e).reduce(function(t,e){var i=e[0],o=e[1];return(n=n||!i.equals(o,r))?t:t.concat(i)},[])},t.equals=function(e,r,n){return e.length===r.length&&t.matching(e,r,n).length===e.length},t.subPath=function(t,e){var r=S(t,e),n=t.indexOf(r);return-1===n?void 0:t.slice(0,n+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},t.paramValues=function(t){return t.reduce(function(t,e){return he(t,e.paramValues)},{})},t}(),er={when:"LAZY",async:"WAIT"},rr=function(){function t(e,r,n,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)he(this,e);else if(Kt(r)){if(Qt(e))throw new Error("new Resolvable(): token argument is required");if(!Kt(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=r,this.deps=n||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?ae.$q.when(this.data):void 0}else if(Xt(e)&&e.token&&Kt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},r=t&&t.resolvePolicy||{};return{when:e.when||r.when||er.when,async:e.async||r.async||er.async}},t.prototype.resolve=function(t,e){var r=this,n=ae.$q,i=t.findNode(this),o=i&&i.state,a="RXWAIT"===this.getPolicy(o).async?function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})}:f;return this.promise=n.when().then(function(){return n.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))}).then(function(t){return r.resolveFn.apply(null,t)}).then(a).then(function(t){return r.data=t,r.resolved=!0,Me.traceResolvableResolved(r,e),r.data})},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+J(this.token)+", requires: ["+this.deps.map(J)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,r){return new t(e,function(){return r},null,null,r)},t}(),nr={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},ir=nr.when,or=[ir.EAGER,ir.LAZY],ar=[ir.EAGER],ur="Native Injector",sr=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(Te,[])},t.prototype.getResolvable=function(t){return P(this._path.map(function(t){return t.resolvables}).reduce(Re,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(tr.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var r=S(this._path,Vt("state",e)),n=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return-1===n.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var r=this;void 0===t&&(t="LAZY");var n=(ve(or,t)?t:"LAZY")===nr.when.EAGER?ar:or;Me.traceResolvePath(this._path,t,e);var i=function(t,e){return function(n){return ve(t,r.getPolicy(n)[e])}},o=this._path.reduce(function(t,o){var a=o.resolvables.filter(i(n,"when")),u=a.filter(i(["NOWAIT"],"async")),s=a.filter(Ht(i(["NOWAIT"],"async"))),c=r.subContext(o.state),f=function(t){return t.get(c,e).then(function(e){return{token:t.token,value:e}})};return u.forEach(f),t.concat(s.map(f))},[]);return ae.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new cr(this))},t.prototype.findNode=function(t){return S(this._path,function(e){return ve(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,r=this.findNode(t),n=(tr.subPath(this._path,function(t){return t===r})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var r=n.filter(function(e){return e.token===t});if(r.length)return P(r);var i=e.injector().getNative(t);if(Wt(i))throw new Error("Could not find Dependency Injection token: "+J(t));return new rr(t,function(){return i},[],i)})},t}(),cr=function(){function t(t){this.context=t,this.native=this.get(ur)||ae.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+J(e.token));return e.data}return this.getNative(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):ae.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),fr=jt("self"),lr=function(){function e(e,r,n){var i=this;if(this._deferred=ae.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Je(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=r,!r.valid())throw new Error(r.error());this._options=he({current:Ut(this)},r.options()),this.$id=n.transitionService._transitionCount++;var o=tr.buildToPath(e,r);this._treeChanges=tr.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);We.invokeHooks(a,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return H(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});tr.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return P(this._treeChanges.from).state},e.prototype.$to=function(){return P(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!A(this.$to(),t.to)||t.from&&!A(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(jt("paramValues")).reduce(_e,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var r=this._treeChanges[e];return t&&(r=tr.subPath(r,function(e){return e.state===t||e.state.name===t})),new sr(r).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new sr(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Ft(rr)(t)?t:new rr(t);var r="string"==typeof e?e:e.name,n=this._treeChanges.to,i=S(n,function(t){return t.state.name===r});new sr(n).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return b(this._treeChanges.entering,jt("state")).map(fr)},e.prototype.exiting=function(){return b(this._treeChanges.exiting,jt("state")).map(fr).reverse()},e.prototype.retained=function(){return b(this._treeChanges.retained,jt("state")).map(fr)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var r=this._treeChanges[t];return(r=e?r.filter(Vt("state",e)):r).map(jt("views")).filter(f).reduce(Re,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,r=this;null!=(r=r.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var n={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(n.location="replace");var i=he({},this.options(),t.options(),n);t=t.withOptions(i,!0);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,u=o._treeChanges.entering;return tr.matching(u,a,tr.nonDynamicParams).filter(Ht(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||T(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(be,!1))){var e=t.to.map(function(t){return t.paramSchema}),r=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return T(e,r[0],r[1]).map(function(t){var e=t[0],r=t[1],n=t[2];return Ze.changed(e,r,n)}).reduce(Re,[])}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(be,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,r=function(t,r){if(t.length!==r.length)return!1;var n=tr.matching(t,r);return t.length===n.filter(function(t){return!e||!t.state.includes[e.name]}).length},n=this.treeChanges(),i=t&&t.treeChanges();return i&&r(i.to,n.to)&&r(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,r=We.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=n(t.TransitionHookPhase.BEFORE);return We.invokeHooks(i,function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),Me.traceTransitionStart(e),ae.$q.when(void 0)}).then(function(){var e=n(t.TransitionHookPhase.RUN);return We.invokeHooks(e,function(){return ae.$q.when(void 0)})}).then(function(){Me.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),r(n(t.TransitionHookPhase.SUCCESS))},function(i){Me.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,r(n(t.TransitionHookPhase.ERROR))}),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){Wt(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();if(t.self.abstract)return"Cannot transition to abstract state '"+t.name+"'";var e=t.parameters(),r=this.params(),n=e.filter(function(t){return!t.validates(r[t.id])});return n.length?"Param values not valid for state '"+t.name+"'. Invalid params: [ "+n.map(function(t){return t.id}).join(", ")+" ]":!1===this.success?this._error:void 0},e.prototype.toString=function(){var t=this.from(),e=this.to(),r=function(t){return null!==t["#"]&&void 0!==t["#"]?t:_(t,["#"])};return"Transition#"+this.$id+"( '"+(Xt(t)?t.name:t)+"'"+J(r(this._treeChanges.from.map(jt("paramValues")).reduce(_e,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Xt(e)?e.name:e)+"'"+J(r(this.params()))+" )"},e.diToken=e,e}(),hr=null,pr=function(t){var e=He.isRejectionPromise;return(hr=hr||s([[Ht(zt),Ut("undefined")],[Jt,Ut("null")],[ie,Ut("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[Ft(He),u("toString")],[Ft(lr),u("toString")],[Ft(rr),u("toString")],[c,W],[Ut(!0),f]]))(t)},dr=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}},vr=new RegExp("^(?:[a-z]+:)?//[^/]+/"),mr=function(t){return t.replace(/\/[^/]*$/,"")},yr=dr("#"),gr=dr("?"),_r=dr("="),wr=function(t){return t?t.replace(/^#/,""):""},$r=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=g(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=de(b(this.defaultTypes,function(t,e){return new Qe(he({name:e},t))}),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,r){if(!zt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Qe(he({name:t},e)),r&&(this.typeQueue.push({name:t,def:r}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");he(this.types[t.name],ae.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},r={encode:e,decode:e,is:Ft(String),pattern:/.*/,equals:function(t,e){return t==e}};return he({},r,t)};he($r.prototype,{string:t({}),path:t({pattern:/[^/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Qt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:Ft(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&t[n]()===e[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:fe,decode:ce,is:Ft(Object),equals:pe,pattern:/[^/]*/}),any:t({encode:f,decode:f,is:function(){return!0},equals:pe})})}();var Sr,br=function(){function t(t){void 0===t&&(t={}),he(this,t)}return t.prototype.$inherit=function(t,e,r){var n,i=y(e,r),o={},a=[];for(var u in i)if(i[u]&&i[u].params&&(n=Object.keys(i[u].params)).length)for(var s in n)a.indexOf(n[s])>=0||(a.push(n[s]),o[n[s]]=this[n[s]]);return he({},o,t)},t}(),Rr=function(t){if(!Zt(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},Er=function(t,e){return function(r){var n=r;n&&n.url&&n.name&&n.name.match(/\.\*\*$/)&&(n.url+="{remainder:any}");var i=Rr(n.url),o=r.parent,a=i?t.compile(i.val,{params:r.params||{},paramMap:function(t,e){return!1===n.reloadOnSearch&&e&&(t=he(t||{},{dynamic:!0})),t}}):n.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+r+"'");return i&&i.root?a:(o&&o.navigable||e()).url.append(a)}},Tr=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},Cr=function(t){return function(e){var r=e.url&&e.url.parameters({inherit:!1})||[],n=$e(we(_(e.params||{},r.map(jt("id"))),function(e,r){return t.fromConfig(r,null,e)}));return r.concat(n).map(function(t){return[t.id,t]}).reduce(C,{})}},Pr=function(){function t(t,e){this.matcher=t;var r=this,n=function(){return t.find("")},i=function(t){return""===t.name};this.builders={name:[Y],self:[Z],parent:[function(e){return i(e)?null:t.find(r.parentName(e))||n()}],data:[X],url:[Er(e,n)],navigable:[Tr(i)],params:[Cr(e.paramFactory)],views:[],path:[tt],includes:[et],resolvables:[rt]}}return t.prototype.builder=function(t,e){var r=this.builders,n=r[t]||[];return Zt(t)&&!zt(e)?n.length>1?n:n[0]:Zt(t)&&Kt(e)?(r[t]=n,r[t].push(e),function(){return r[t].splice(r[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,r=e.matcher,n=e.builders,i=this.parentName(t);if(i&&!r.find(i,void 0,!1))return null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o].reduce(function(t,e){return function(r){return e(r,t)}},l);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",r=e.split(".");if("**"===r.pop()&&r.pop(),r.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return r.join(".")}return t.parent?Zt(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var r=Zt(t.parent)?t.parent:t.parent.name;return r?r+"."+e:e},t}(),kr=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,r){if(void 0===r&&(r=!0),t||""===t){var n=Zt(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(n||!(n||o!==t&&o.self!==t)))return o;if(n&&r){var a=$e(this._states).filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)});return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(t){return t.name})),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var r=this.find(e),n=t.split("."),i=0,o=n.length,a=r;i<o;i++)if(""!==n[i]||0!==i){if("^"!==n[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent}else a=r;var u=n.slice(i).join(".");return a.name+(a.name&&u?".":"")+u},t}(),Or=function(){function t(t,e,r,n,i){this.$registry=t,this.$urlRouter=e,this.states=r,this.builder=n,this.listeners=i,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,r=Mt.create(t),n=r.name;if(!Zt(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||ve(e.map(jt("name")),n))throw new Error("State '"+n+"' is already defined");return e.push(r),this.flush(),r},t.prototype.flush=function(){for(var t=this,e=this,r=e.queue,n=e.states,i=e.builder,o=[],a=[],u={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};r.length>0;){var c=r.shift(),f=c.name,l=i.build(c),h=a.indexOf(c);if(l){var p=s(f);if(p&&p.name===f)throw new Error("State '"+f+"' is already defined");var d=s(f+".**");d&&this.$registry.deregister(d),n[f]=c,this.attachRoute(c),h>=0&&a.splice(h,1),o.push(c)}else{var v=u[f];if(u[f]=r.length,h>=0&&v===r.length)return r.push(c),n;h<0&&a.push(c),r.push(c)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),n},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),xr=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new kr(this.states),this.builder=new Pr(this.matcher,t.urlMatcherFactory),this.stateQueue=new Or(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){var t={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(t)).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){me(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,r=this.get().map(function(t){return t.$$state()}),n=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(n(e))},i=n([t]),o=[t].concat(i).reverse();return o.forEach(function(t){var r=e._router.urlRouter;r.rules().filter(Vt("state",t)).forEach(r.removeRule.bind(r)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))}),r},t.prototype.get=function(t,e){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return r.states[t].self});var n=this.matcher.find(t,e);return n&&n.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),Ir=function(t,e,r){return t[e]=t[e]||r()},jr=Q("/"),Vr=function(){function e(t,r,n,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:f});for(var a,u,s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,p=[],d=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(S(o._params,Vt("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},v=function(e,n){var i=e[2]||e[3],a=n?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:t.substring(h,e.index),type:a?r.type(a)||function(t){return de(r.type(n?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=c.exec(t))&&!((u=v(a,!1)).segment.indexOf("?")>=0);)d(u.id),this._params.push(n.fromPath(u.id,u.type,this.config.paramMap(u.cfg,!1))),this._segments.push(u.segment),p.push([u.segment,P(this._params)]),h=c.lastIndex;var y=(s=t.substring(h)).indexOf("?");if(y>=0){var g=s.substring(y);if(s=s.substring(0,y),g.length>0)for(h=0;a=l.exec(g);)d((u=v(a,!0)).id),this._params.push(n.fromSearch(u.id,u.type,this.config.paramMap(u.cfg,!0))),h=c.lastIndex}this._segments.push(s),this._compiled=p.map(function(t){return nt.apply(null,t)}).concat(nt(s))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,r,n){var i=this;void 0===e&&(e={}),void 0===n&&(n={});var o=Ir(this._cache,"pattern",function(){return new RegExp(["^",Ce(i._cache.path.map(jt("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(t);if(!o)return null;var a=this.parameters(),u=a.filter(function(t){return!t.isSearch()}),s=a.filter(function(t){return t.isSearch()}),c=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),f={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var l=0;l<c;l++){for(var h=u[l],p=o[l+1],d=0;d<h.replace.length;d++)h.replace[d].from===p&&(p=h.replace[d].to);p&&!0===h.array&&(p=function(t){var e=function(t){return t.split("").reverse().join("")};return b(b(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}(p)),zt(p)&&(p=h.type.decode(p)),f[h.id]=h.value(p)}return s.forEach(function(t){for(var r=e[t.id],n=0;n<t.replace.length;n++)t.replace[n].from===r&&(r=t.replace[n].to);zt(r)&&(r=t.type.decode(r)),f[t.id]=t.value(r)}),r&&(f["#"]=r),f},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:Ce(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var r=this;void 0===e&&(e={});var n=this._cache.parent;return function(){for(var e=0,n=r._params;e<n.length;e++){var i=n[e];if(i.id===t)return i}}()||!1!==e.inherit&&n&&n.parameter(t,e)||null},e.prototype.validates=function(t){var e=function(t,e){return!t||t.validates(e)};return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(r){return e(r,t[r.id])}).reduce(Se,!0)},e.prototype.format=function(t){function r(e){var r=e.value(t[e.id]),n=e.validates(r),i=e.isDefaultValue(r);return{param:e,value:r,isValid:n,isDefaultValue:i,squash:!!i&&e.squash,encoded:e.type.encode(r)}}void 0===t&&(t={});var n=this._cache.path,i=n.map(e.pathSegmentsAndParams).reduce(Re,[]).map(function(t){return Zt(t)?t:r(t)}),o=n.map(e.queryParams).reduce(Re,[]).map(r);if(i.concat(o).filter(function(t){return!1===t.isValid}).length)return null;var a=i.reduce(function(t,r){if(Zt(r))return t+r;var n=r.squash,i=r.encoded,o=r.param;return!0===n?t.match(/\/$/)?t.slice(0,-1):t:Zt(n)?t+n:!1!==n?t:null==i?t:te(i)?t+b(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),u=o.map(function(t){var e=t.param,r=t.squash,n=t.encoded,i=t.isDefaultValue;if(!(null==n||i&&!1!==r)&&(te(n)||(n=[n]),0!==n.length))return e.raw||(n=b(n,encodeURIComponent)),n.map(function(t){return e.id+"="+t})}).filter(f).reduce(Re,[]).join("&");return a+(u?"?"+u:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return T(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(Re,[]).filter(function(t){return""!==t&&zt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,r){var n=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(Re,[]).reduce(K,[]).map(function(t){return Zt(t)?jr(t):t}).reduce(Re,[])},i=function(t){return t._cache.weights=t._cache.weights||n(t).map(function(t){return"/"===t?1:Zt(t)?2:t instanceof Ze?3:void 0})},o=i(t),a=i(r);!function(t,e,r){for(var n=Math.max(t.length,e.length);t.length<n;)t.push(r);for(;e.length<n;)e.push(r)}(o,a,0);var u,s,c=T(o,a);for(s=0;s<c.length;s++)if(0!=(u=c[s][0]-c[s][1]))return u;return 0},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}(),Ar=function(){function e(){var e=this;this.paramTypes=new $r,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return he({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(r,n,i){return new Ze(r,n,i,t.DefType.CONFIG,e)},fromPath:function(r,n,i){return new Ze(r,n,i,t.DefType.PATH,e)},fromSearch:function(r,n,i){return new Ze(r,n,i,t.DefType.SEARCH,e)}},he(this,{UrlMatcher:Vr,Param:Ze})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=zt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=zt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(zt(t)&&!0!==t&&!1!==t&&!Zt(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=zt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new Vr(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!Xt(t))return!1;var e=!0;return le(Vr.prototype,function(r,n){Kt(r)&&(e=e&&zt(t[n])&&Kt(t[n]))}),e},e.prototype.type=function(t,e,r){var n=this.paramTypes.type(t,e,r);return zt(e)?this:n},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),Hr=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var r=this,n=s([[Zt,function(t){return n(r.compile(t))}],[Ft(Vr),function(t){return r.fromUrlMatcher(t,e)}],[ne,function(t){return r.fromState(t,r.router)}],[Ft(RegExp),function(t){return r.fromRegExp(t,e)}],[Kt,function(t){return new qr(t,e)}]]),i=n(t);if(!i)throw new Error("invalid 'what' in when()");return i},t.prototype.fromUrlMatcher=function(t,e){var r=e;Zt(e)&&(e=this.router.urlMatcherFactory.compile(e)),Ft(Vr)(e)&&(r=function(t){return e.format(t)});var n={urlMatcher:t,matchPriority:function(e){var r=t.parameters().filter(function(t){return t.isOptional});return r.length?r.filter(function(t){return e[t.id]}).length/r.length:1e-6},type:"URLMATCHER"};return he(new qr(function(e){var r=t.exec(e.path,e.search,e.hash);return t.validates(r)&&r},r),n)},t.prototype.fromState=function(t,e){var r={state:t,type:"STATE"};return he(this.fromUrlMatcher(t.url,function(r){var n=e.stateService,i=e.globals;n.href(t,r)!==n.href(i.current,i.params)&&n.transitionTo(t,r,{inherit:!0,source:"url"})}),r)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var r=Zt(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})}:e,n={regexp:t,type:"REGEXP"};return he(new qr(function(e){return t.exec(e.path)},r),n)},t.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return zt(t[e])})},t}(),qr=function(){return function(t,e){var r=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-r.$id},this.handler=e||f}}(),Dr=function(t,e){return(e.priority||0)-(t.priority||0)},Fr=function(t,e){var r={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(r[t.type]||0)-(r[e.type]||0)},Nr=function(t,e){return t.urlMatcher&&e.urlMatcher?Vr.compare(t.urlMatcher,e.urlMatcher):0},Ur=function(t,e){var r={STATE:!0,URLMATCHER:!0};return r[t.type]&&r[e.type]?0:(t.$id||0)-(e.$id||0)};Sr=function(t,e){var r=Dr(t,e);return 0!==r?r:0!==(r=Fr(t,e))?r:0!==(r=Nr(t,e))?r:Ur(t,e)};var Lr=function(){function t(e){this._sortFn=Sr,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new Hr(e),h(Ut(t.prototype),this,Ut(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules=this.stableSort(this._rules,this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(t,e){var r=t.map(function(t,e){return{elem:t,idx:e}});return r.sort(function(t,r){var n=e(t.elem,r.elem);return 0===n?t.idx-r.idx:n}),r.map(function(t){return t.elem})},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=he({path:"",search:{},hash:""},t);var r=this.rules();this._otherwiseFn&&r.push(this._otherwiseFn);for(var n,i=0;i<r.length&&(!n||0===this._sortFn(r[i],n.rule));i++){var o=function(r){var n=r.match(t,e._router);return n&&{match:n,rule:r,weight:r.matchPriority(n)}}(r[i]);n=!n||o&&o.weight>n.weight?o:n}return n},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,r=e.urlService,n=e.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},o=this.match(i);s([[Zt,function(t){return r.url(t,!0)}],[Be.isDef,function(t){return n.go(t.state,t.params,t.options)}],[Ft(Be),function(t){return n.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;t?this.location=e.path():e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,r){var n=r&&!!r.replace;this._router.urlService.url(t.format(e||{}),n)},t.prototype.href=function(t,e,r){var n=t.format(e);if(null==n)return null;r=r||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===n||(n="#"+i.hashPrefix()+n),n=it(n,o,r.absolute,i.baseHref()),!r.absolute||!n)return n;var a=!o&&n?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,a,n].join("")},t.prototype.rule=function(t){var e=this;if(!Hr.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){me(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=ot(t);this._otherwiseFn=this.urlRuleFactory.create(Ut(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=ot(t);this.rule(this.urlRuleFactory.create(function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)},e))},t.prototype.when=function(t,e,r){var n=this.urlRuleFactory.create(t,e);return zt(r&&r.priority)&&(n.priority=r.priority),this.rule(n),n},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),Mr=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var r=this._viewConfigFactories[e.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+e.$type);var n=r(t,e);return te(n)?n:[n]},t.prototype.deactivateViewConfig=function(t){Me.traceViewServiceEvent("<- Removing",t),me(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){Me.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function e(t){for(var e=t.viewDecl.$context,r=0;++r&&e.parent;)e=e.parent;return r}var n=this,i=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(C,{}),o=r(function(t,e,r,n){return e*(t(r)-t(n))}),a=this._uiViews.sort(o(function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)},1)).map(function(r){var a=n._viewConfigs.filter(t.matches(i,r));return a.length>1&&a.sort(o(e,-1)),[r,a[0]]});Me.traceViewSync(a),a.forEach(function(t){var e=t[0],r=t[1];-1!==n._uiViews.indexOf(e)&&e.configUpdated(r)})},t.prototype.registerUIView=function(t){Me.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&Me.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(Me.traceViewServiceUIViewEvent("<- Deregistering",t),me(e)(t)):Me.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(jt("fqn"))},t.prototype.active=function(){return this._uiViews.filter(jt("$config")).map(jt("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var r=e.split("@"),n=r[0]||"$default",i=Zt(r[1])?r[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);return o&&(i=o[1],n=o[2]),"!"===n.charAt(0)&&(n=n.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(t,e){return t.parent},t).name:"."===i&&(i=t.name),{uiViewName:n,uiViewContextAnchor:i}},t.matches=function(t,e){return function(r){if(e.$type!==r.viewDecl.$type)return!1;var n=r.viewDecl,i=n.$uiViewName.split("."),o=e.fqn.split(".");if(!pe(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,u=o.slice(0,a).join("."),s=t[u].creationContext;return n.$uiViewContextAnchor===(s&&s.name)}},t}(),Br=function(){function t(){this.params=new br,this.lastStartedTransitionId=-1,this.transitionHistory=new Ve([],1),this.successfulTransitions=new Ve([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),Gr=function(t){return t.reduce(function(t,e){return t[e]=oe(e),t},{dispose:l})},Wr=["url","path","search","hash","onChange"],zr=["port","protocol","host","baseHref","html5Mode","hashPrefix"],Jr=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Qr=["sort","when","initial","otherwise","rules","rule","removeRule"],Kr=["deferIntercept","listen","sync","match"],Yr=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var r=function(){return t.locationService};h(r,this,r,Wr,e);var n=function(){return t.locationConfig};h(n,this.config,n,zr,e);var i=function(){return t.urlMatcherFactory};h(i,this.config,i,Jr);var o=function(){return t.urlRouter};h(o,this.rules,o,Qr),h(o,this,o,Kr)}return t.prototype.url=function(t,e,r){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t.locationServiceStub=Gr(Wr),t.locationConfigStub=Gr(zr),t}(),Zr=0,Xr=function(){function t(t,e){void 0===t&&(t=Yr.locationServiceStub),void 0===e&&(e=Yr.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=Zr++,this._disposed=!1,this._disposables=[],this.trace=Me,this.viewService=new Mr,this.transitionService=new Pn(this),this.globals=new Br,this.urlMatcherFactory=new Ar,this.urlRouter=new Lr(this),this.stateRegistry=new xr(this),this.stateService=new kn(this),this.urlService=new Yr(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&Kt(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),me(e._disposables,t)}catch(t){}}))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var r=new t(this,e);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},t.prototype.getPlugin=function(t){return t?this._plugins[t]:$e(this._plugins)},t}(),tn=function(t){return t.onCreate({},at)},en=function(t){function e(e){if(e)return e instanceof Be?e:Zt(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var r=t.to().redirectTo;if(r){var n=t.router.stateService;return Kt(r)?ae.$q.when(r(t)).then(e):e(r)}},rn=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},en)},nn=ut("onExit"),on=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},nn)},an=ut("onRetain"),un=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},an)},sn=ut("onEnter"),cn=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},sn)},fn=function(t){return new sr(t.treeChanges().to).resolvePath("EAGER",t).then(l)},ln=function(t){return t.onStart({},fn,{priority:1e3})},hn=function(t,e){return new sr(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(l)},pn=function(t){return t.onEnter({entering:Ut(!0)},hn,{priority:1e3})},dn=function(t){var e=ae.$q,r=t.views("entering");if(r.length)return e.all(r.map(function(t){return e.when(t.load())})).then(l)},vn=function(t){return t.onFinish({},dn)},mn=function(t){var e=t.views("entering"),r=t.views("exiting");if(e.length||r.length){var n=t.router.viewService;r.forEach(function(t){return n.deactivateViewConfig(t)}),e.forEach(function(t){return n.activateViewConfig(t)}),n.sync()}},yn=function(t){return t.onSuccess({},mn)},gn=function(t){var e=t.router.globals,r=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,k(t.params(),e.params)},{priority:1e4}),t.promise.then(r,r)},_n=function(t){return t.onCreate({},gn)},wn=function(t){var e=t.options(),r=t.router.stateService,n=t.router.urlRouter;if("url"!==e.source&&e.location&&r.$current.navigable){var i={replace:"replace"===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!0)},$n=function(t){return t.onSuccess({},wn,{priority:9999})},Sn=function(t){var e=t.router,r=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return st(t,e)});return ae.$q.all(r).then(function(){if("url"!==t.originalTransition().options().source){var r=t.targetState();return e.stateService.target(r.identifier(),r.params(),r.options())}var n=e.urlService,i=n.match(n.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,u=i.match;return e.stateService.target(a,u,t.options())}e.urlService.sync()})},bn=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},Sn)},Rn=function(){return function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=We.HANDLE_RESULT),void 0===a&&(a=We.REJECT_ERROR),void 0===u&&(u=!1),this.name=t,this.hookPhase=e,this.hookOrder=r,this.criteriaMatchPath=n,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=u}}(),En=function(t){return t.onBefore({},ct,{priority:-9999})},Tn=function(t){return t.onBefore({},ft,{priority:-1e4})},Cn={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Pn=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=h(Ut(this),{},Ut(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,r){},e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.dispose=function(t){$e(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,me(t,e)})})},e.prototype.create=function(t,e){return new lr(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,r=We,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,r.LOG_REJECTED_RESULT,r.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,r=t.TransitionHookScope.TRANSITION;this._definePathType("to",r),this._definePathType("from",r),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=We.HANDLE_RESULT),void 0===a&&(a=We.REJECT_ERROR),void 0===u&&(u=!1);var s=new Rn(t,e,r,n,i,o,a,u);this._eventTypes.push(s),H(this,this,s)},e.prototype._getEvents=function(t){return(zt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var r=t.hookPhase-e.hookPhase;return 0===r?t.hookOrder-e.hookOrder:r})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=tn(this),t.ignored=En(this),t.invalid=Tn(this),t.redirectTo=rn(this),t.onExit=on(this),t.onRetain=un(this),t.onEnter=cn(this),t.eagerResolve=ln(this),t.lazyResolve=pn(this),t.loadViews=vn(this),t.activateViews=yn(this),t.updateGlobals=_n(this),t.updateUrl=$n(this),t.lazyLoad=bn(this)},e}(),kn=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof He?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var r=["current","$current","params","transition"],n=Object.keys(e.prototype).filter(Ht(ve(r)));h(Ut(e.prototype),this,Ut(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(l),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function r(){var t=s.dequeue();return void 0===t?He.invalid(e.error()).toPromise():ae.$q.when(t(e,i,c)).then(f).then(function(t){return t||r()})}var n=this,i=tr.makeTargetState(this.router.stateRegistry,t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},u=a(),s=new Ve(this.invalidCallbacks.slice()),c=new sr(t).injector(),f=function(t){if(t instanceof Be){var e=t;return(e=n.target(e.identifier(),e.params(),e.options())).valid()?a()!==u?He.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):He.invalid(e.error()).toPromise()}};return r()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){me(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!zt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,r){var n=m(r,{relative:this.$current,inherit:!0},Cn);return this.transitionTo(t,e,n)},e.prototype.target=function(t,e,r){if(void 0===r&&(r={}),Xt(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(Zt(r.reload)?r.reload:r.reload.name)+"'");return new Be(this.router.stateRegistry,t,e,r)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals.successfulTransitions.peekTail();return e?e.treeChanges().to:[new Xe(t.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,r,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o=this.router,a=o.globals;n=m(n,Cn);n=he(n,{current:function(){return a.transition}});var u=this.target(e,r,n),s=this.getCurrentPath();if(!u.exists())return this._handleInvalidTargetState(s,u);if(!u.valid())return je(u.error());var c=function(e){return function(r){if(r instanceof He){var n=o.globals.lastStartedTransitionId===e.$id;if(r.type===t.RejectType.IGNORED)return n&&o.urlRouter.update(),ae.$q.when(a.current);var u=r.detail;if(r.type===t.RejectType.SUPERSEDED&&r.redirected&&u instanceof Be){var s=e.redirect(u);return s.run().catch(c(s))}if(r.type===t.RejectType.ABORTED)return n&&o.urlRouter.update(),ae.$q.reject(r)}return i.defaultErrorHandler()(r),ae.$q.reject(r)}},f=this.router.transitionService.create(s,u),l=f.run().catch(c(f));return Ie(l),he(l,{transition:f})},e.prototype.is=function(t,e,r){r=m(r,{relative:this.$current});var n=this.router.stateRegistry.matcher.find(t,r.relative);if(zt(n)){if(this.$current!==n)return!1;if(!e)return!0;var i=n.parameters({inherit:!0,matchingKeys:e});return Ze.equals(i,Ze.values(i,e),this.params)}},e.prototype.includes=function(t,e,r){r=m(r,{relative:this.$current});var n=Zt(t)&&Lt.fromString(t);if(n){if(!n.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,r.relative),o=this.$current.includes;if(zt(i)){if(!zt(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return Ze.equals(a,Ze.values(a,e),this.params)}},e.prototype.href=function(t,e,r){r=m(r,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var n=this.router.stateRegistry.matcher.find(t,r.relative);if(!zt(n))return null;r.inherit&&(e=this.params.$inherit(e,this.$current,n));var i=n&&r.lossy?n.navigable:n;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var r=this.get(t);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+t);var n=this.getCurrentPath(),i=tr.makeTargetState(this.router.stateRegistry,n);return e=e||this.router.transitionService.create(n,i),st(e,r)},e}(),On={when:function(t){return new Promise(function(e,r){return e(t)})},reject:function(t){return new Promise(function(e,r){r(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t},all:function(t){if(te(t))return Promise.all(t);if(Xt(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return On.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},xn={},In=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,jn=/([^\s,]+)/g,Vn={get:function(t){return xn[t]},has:function(t){return null!=Vn.get(t)},invoke:function(t,e,r){var n=he({},xn,r||{}),i=Vn.annotate(t),o=ke(function(t){return n.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(o).map(function(t){return n[t]});return Kt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!c(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(te(t))return t.slice(0,-1);var e=t.toString().replace(In,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(jn)||[]}},An=function(t,e){var r=e[0],n=e[1];return t.hasOwnProperty(r)?te(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t},Hn=function(t){return t.split("&").filter(f).map(_r).reduce(An,{})},qn=function(t){var e=t.path(),r=t.search(),n=t.hash(),i=Object.keys(r).map(function(t){var e=r[t];return(te(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(Re,[]).join("&");return e+(i?"?"+i:"")+(n?"#"+n:"")},Dn=function(){function t(t,e){var r=this;this.fireAfterUpdate=e,this._listener=function(t){return r._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return lt(r._get()).hash},this.path=function(){return lt(r._get()).path},this.search=function(){return Hn(lt(r._get()).search)},this._location=ue.location,this._history=ue.history}return t.prototype.url=function(t,e){return void 0===e&&(e=!0),zt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach(function(e){return e({url:t})})),qn(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return me(e._listeners,t)}},t.prototype.dispose=function(t){ge(this._listeners)},t}(),Fn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nn=function(t){function e(e){var r=t.call(this,e,!1)||this;return ue.addEventListener("hashchange",r._listener,!1),r}return Fn(e,t),e.prototype._get=function(){return wr(this._location.hash)},e.prototype._set=function(t,e,r,n){this._location.hash=r},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),ue.removeEventListener("hashchange",this._listener)},e}(Dn),Un=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ln=function(t){function e(e){return t.call(this,e,!0)||this}return Un(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,r,n){this._url=r},e}(Dn),Mn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bn=function(t){function e(e){var r=t.call(this,e,!0)||this;return r._config=e.urlService.config,ue.addEventListener("popstate",r._listener,!1),r}return Mn(e,t),e.prototype._getBasePrefix=function(){return mr(this._config.baseHref())},e.prototype._get=function(){var t=this._location,e=t.pathname,r=t.hash,n=t.search;n=gr(n)[1],r=yr(r)[1];var i=this._getBasePrefix(),o=e===this._config.baseHref(),a=e.startsWith(i);return(e=o?"/":a?e.substring(i.length):e)+(n?"?"+n:"")+(r?"#"+r:"")},e.prototype._set=function(t,e,r,n){var i=this._getBasePrefix()+r;n?this._history.replaceState(t,e,i):this._history.pushState(t,e,i)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),ue.removeEventListener("popstate",this._listener)},e}(Dn),Gn=function(){return function(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return zt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=l}}(),Wn=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return zt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return zt(t)?this._baseHref=t:zt(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base")[0];return this._baseHref=t?t.href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),zn=ht("vanilla.hashBangLocation",!1,Nn,Wn),Jn=ht("vanilla.pushStateLocation",!0,Bn,Wn),Qn=ht("vanilla.memoryLocation",!1,Ln,Gn),Kn=function(){function t(){}return t.prototype.dispose=function(t){},t}(),Yn=Object.freeze({root:ue,fromJson:ce,toJson:fe,forEach:le,extend:he,equals:pe,identity:f,noop:l,createProxyFunctions:h,inherit:de,inArray:ve,_inArray:p,removeFrom:me,_removeFrom:d,pushTo:ye,_pushTo:v,deregAll:ge,defaults:m,mergeR:_e,ancestors:y,pick:g,omit:_,pluck:w,filter:$,find:S,mapObj:we,map:b,values:$e,allTrueR:Se,anyTrueR:be,unnestR:Re,flattenR:Ee,pushR:R,uniqR:Te,unnest:Ce,flatten:Pe,assertPredicate:ke,assertMap:Oe,assertFn:E,pairs:xe,arrayTuples:T,applyPairs:C,tail:P,copy:k,_extend:O,silenceUncaughtInPromise:Ie,silentRejection:je,notImplemented:oe,services:ae,Glob:Lt,curry:r,compose:n,pipe:i,prop:jt,propEq:Vt,parse:At,not:Ht,and:o,or:a,all:qt,any:Dt,is:Ft,eq:Nt,val:Ut,invoke:u,pattern:s,isUndefined:Wt,isDefined:zt,isNull:Jt,isNullOrUndefined:Qt,isFunction:Kt,isNumber:Yt,isString:Zt,isObject:Xt,isArray:te,isDate:ee,isRegExp:re,isState:ne,isInjectable:c,isPromise:ie,Queue:Ve,maxLength:M,padString:B,kebobString:G,functionToString:W,fnToString:z,stringify:J,beforeAfterSubstr:dr,hostRegex:vr,stripFile:mr,splitHash:yr,splitQuery:gr,splitEqual:_r,trimHashVal:wr,splitOnDelim:Q,joinNeighborsR:K,get Category(){return t.Category},Trace:Le,trace:Me,get DefType(){return t.DefType},Param:Ze,ParamTypes:$r,StateParams:br,ParamType:Qe,PathNode:Xe,PathUtils:tr,resolvePolicies:nr,defaultResolvePolicy:er,Resolvable:rr,NATIVE_INJECTOR_TOKEN:ur,ResolveContext:sr,resolvablesBuilder:rt,StateBuilder:Pr,StateObject:Mt,StateMatcher:kr,StateQueueManager:Or,StateRegistry:xr,StateService:kn,TargetState:Be,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Je,matchState:A,RegisteredHook:ze,makeEvent:H,get RejectType(){return t.RejectType},Rejection:He,Transition:lr,TransitionHook:We,TransitionEventType:Rn,defaultTransOpts:Cn,TransitionService:Pn,UrlMatcher:Vr,UrlMatcherFactory:Ar,UrlRouter:Lr,UrlRuleFactory:Hr,BaseUrlRule:qr,UrlService:Yr,ViewService:Mr,UIRouterGlobals:Br,UIRouter:Xr,$q:On,$injector:Vn,BaseLocationServices:Dn,HashLocationService:Nn,MemoryLocationService:Ln,PushStateLocationService:Bn,MemoryLocationConfig:Gn,BrowserLocationConfig:Wn,keyValsToObjectR:An,getParams:Hn,parseUrl:lt,buildUrl:qn,locationPluginFactory:ht,servicesPlugin:pt,hashLocationPlugin:zn,pushStateLocationPlugin:Jn,memoryLocationPlugin:Qn,UIRouterPluginBase:Kn}),Zn=function(t,e){return t.reduce(function(t,r){return t||zt(e[r])},!1)},Xn=0,ti=function(){function t(t,e,r){var n=this;this.path=t,this.viewDecl=e,this.factory=r,this.$id=Xn++,this.loaded=!1,this.getTemplate=function(t,e){return n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}return t.prototype.load=function(){var t=this,e=ae.$q,r=new sr(this.path),n=this.path.reduce(function(t,e){return he(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,n,r)),controller:e.when(this.getController(r))};return e.all(i).then(function(e){return Me.traceViewServiceEvent("Loaded",t),t.controller=e.controller,he(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!c(e))return this.viewDecl.controller;var r=ae.$injector.annotate(e),n=te(e)?P(e):e;return new rr("",n,r).get(t)},t}(),ei=function(){function t(){var t=this;this._useHttp=It.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,r,n){return t.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),t.$http=e,t.$templateCache=r,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,r){var n=function(t){return ae.$q.when(t).then(function(t){return{template:t}})},i=function(t){return ae.$q.when(t).then(function(t){return{component:t}})};return zt(t.template)?n(this.fromString(t.template,e)):zt(t.templateUrl)?n(this.fromUrl(t.templateUrl,e)):zt(t.templateProvider)?n(this.fromProvider(t.templateProvider,e,r)):zt(t.component)?i(t.component):zt(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,r)):n("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return Kt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return Kt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,r){var n=ae.$injector.annotate(t),i=te(t)?P(t):t;return new rr("",i,n).get(r)},t.prototype.fromComponentProvider=function(t,e,r){var n=ae.$injector.annotate(t),i=te(t)?P(t):t;return new rr("",i,n).get(r)},t.prototype.makeComponentTemplate=function(t,e,r,n){n=n||{};var i=It.version.minor>=3?"::":"",o=function(t){var e=G(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=mt(r).map(function(r){var a=r.name,u=r.type,s=o(a);if(t.attr(s)&&!n[a])return s+"='"+t.attr(s)+"'";var c=n[a]||a;if("@"===u)return s+"='{{"+i+"$resolve."+c+"}}'";if("&"===u){var f=e.getResolvable(c),l=f&&f.data,h=l&&ae.$injector.annotate(l)||[];return s+"='$resolve."+c+(te(l)?"["+(l.length-1)+"]":"")+"("+h.join(",")+")'"}return s+"='"+i+"$resolve."+c+"'"}).join(" "),u=o(r);return"<"+u+" "+a+"></"+u+">"},t}(),ri=function(t){return ni(Xt(t.bindToController)?t.bindToController:t.scope)},ni=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return zt(t)&&te(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},ii=function(){function t(e,r){this.stateRegistry=e,this.stateService=r,h(Ut(t.prototype),this,Ut(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return Xt(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),oi=function(t){return function(e,r){var n=e[t],i="onExit"===t?"from":"to";return n?function(t,e){var r=new sr(t.treeChanges(i)),o=he(mi(r),{$state$:e,$transition$:t});return ae.$injector.invoke(n,this,o)}:void 0}},ai=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=Ut(t);h(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return me(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=Xt(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,r){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),r&&this.$location.state(r),this.$location.url()},t.prototype._runtimeServices=function(t,e,r,n){var i=this;this.$location=e,this.$sniffer=r,t.$on("$locationChangeSuccess",function(t){return i._urlListeners.forEach(function(e){return e(t)})});var o=Ut(e),a=Ut(n);h(o,this,o,["replace","path","search","hash"]),h(o,this,o,["port","protocol","host"]),h(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),ui=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!Kt(t))throw new Error("'rule' must be a function");var r=new qr(function(){return t(ae.$injector,e._router.locationService)},f);return this._urlRouter.rule(r),this},t.prototype.otherwise=function(t){var e=this,r=this._urlRouter;if(Zt(t))r.otherwise(t);else{if(!Kt(t))throw new Error("'rule' must be a string or function");r.otherwise(function(){return t(ae.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,r){return(te(r)||Kt(r))&&(r=t.injectableHandler(this._router,r)),this._urlRouter.when(e,r),this},t.injectableHandler=function(t,e){return function(r){return ae.$injector.invoke(e,null,{$match:r,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();It.module("ui.router.angular1",[]);var si=It.module("ui.router.init",[]),ci=It.module("ui.router.util",["ng","ui.router.init"]),fi=It.module("ui.router.router",["ui.router.util"]),li=It.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),hi=It.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),pi=(It.module("ui.router.compat",["ui.router"]),null);yt.$inject=["$locationProvider"];var di=function(t){return["$uiRouterProvider",function(e){var r=e.router[t];return r.$get=function(){return r},r}]};gt.$inject=["$injector","$q","$uiRouter"];_t.$inject=["$rootScope"],si.provider("$uiRouter",yt),fi.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new ui(t)}]),ci.provider("$urlService",di("urlService")),ci.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return pi.urlMatcherFactory}]),ci.provider("$templateFactory",function(){return new ei}),li.provider("$stateRegistry",di("stateRegistry")),li.provider("$uiRouterGlobals",di("globals")),li.provider("$transitions",di("transitionService")),li.provider("$state",["$uiRouterProvider",function(){return he(pi.stateProvider,{$get:function(){return pi.stateService}})}]),li.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),hi.factory("$view",function(){return pi.viewService}),hi.service("$trace",function(){return Me}),hi.run(_t),ci.run(["$urlMatcherFactory",function(t){}]),li.run(["$state",function(t){}]),fi.run(["$urlRouter",function(t){}]),si.run(gt);var vi,mi=function(t){return t.getTokens().filter(Zt).map(function(e){var r=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(r).async?r.promise:r.data]}).reduce(C,{})};vi=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function u(){var t=p();l&&l(),f&&(l=f.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var s,c=bt(i),f=a[1]||a[0],l=null,h={},p=function(){return St(r,i,h)},d=wt(o.uiSref);h.uiState=d.state,h.uiStateOpts=o.uiSrefOpts?n.$eval(o.uiSrefOpts):{},d.paramExpr&&(n.$watch(d.paramExpr,function(t){h.uiStateParams=he({},t),u()},!0),h.uiStateParams=he({},n.$eval(d.paramExpr))),u(),n.$on("$destroy",t.stateRegistry.onStatesChanged(u)),n.$on("$destroy",t.transitionService.onSuccess({},u)),c.clickable&&(s=Rt(i,r,e,c,p),Tt(i,n,s,h.uiStateOpts))}}}];var yi;yi=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function u(){var t=d();h&&h(),f&&(h=f.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var s,c=bt(i),f=a[1]||a[0],h=null,p={},d=function(){return St(r,i,p)},v=["uiState","uiStateParams","uiStateOpts"],m=v.reduce(function(t,e){return t[e]=l,t},{});v.forEach(function(t){p[t]=o[t]?n.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=n.$watch(e,function(e){p[t]=e,u()},!0)})}),u(),n.$on("$destroy",t.stateRegistry.onStatesChanged(u)),n.$on("$destroy",t.transitionService.onSuccess({},u)),c.clickable&&(s=Rt(i,r,e,c,d),Tt(i,n,s,p.uiStateOpts))}}}];var gi;gi=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,r,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){function a(t){t.promise.then(s,l)}function u(e,r,n){var o={state:t.get(e,$t(i))||{name:e},params:r,activeClass:n};return p.push(o),function(){me(p)(o)}}function s(){var r=function(t){return t.split(/\s/).filter(f)},n=function(t){return t.map(function(t){return t.activeClass}).map(r).reduce(Re,[])},o=n(p).concat(r(c)).reduce(Te,[]),a=n(p.filter(function(e){return t.includes(e.state.name,e.params)})),u=!!p.filter(function(e){return t.is(e.state.name,e.params)}).length?r(c):[],s=a.concat(u).reduce(Te,[]),l=o.filter(function(t){return!ve(s,t)});e.$evalAsync(function(){s.forEach(function(t){return i.addClass(t)}),l.forEach(function(t){return i.removeClass(t)})})}var c,h,p=[];c=r(o.uiSrefActiveEq||"",!1)(e);try{h=e.$eval(o.uiSrefActive)}catch(t){}h=h||r(o.uiSrefActive||"",!1)(e),Xt(h)&&le(h,function(t,r){if(Zt(t)){var n=wt(t);u(n.state,e.$eval(n.paramExpr),r)}}),this.$$addStateInfo=function(t,e){if(!(Xt(h)&&p.length>0)){var r=u(t,e,h);return s(),r}},e.$on("$stateChangeSuccess",s),e.$on("$destroy",n.transitionService.onStart({},a)),n.globals.transition&&a(n.globals.transition),s()}]}}],It.module("ui.router.state").directive("uiSref",vi).directive("uiSrefActive",gi).directive("uiSrefActiveEq",gi).directive("uiState",yi),Ct.$inject=["$state"],Pt.$inject=["$state"],It.module("ui.router.state").filter("isState",Ct).filter("includedByState",Pt);var _i;_i=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,r,n,i){function o(t,r){return{enter:function(t,r,n){It.version.minor>2?e.enter(t,null,r).then(n):e.enter(t,null,r,n)},leave:function(t,r){It.version.minor>2?e.leave(t).then(r):e.leave(t,r)}}}function a(t,e){return t===e}var u={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},s={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,c,f){return function(e,c,l){function h(){if(d&&(Me.traceUIViewEvent("Removing (previous) el",d.data("$uiView")),d.remove(),d=null),m&&(Me.traceUIViewEvent("Destroying scope",R),m.$destroy(),m=null),v){var t=v.data("$uiViewAnim");Me.traceUIViewEvent("Animate out",t),w.leave(v,function(){t.$$animLeave.resolve(),d=null}),d=v,v=null}}function p(t){var n=e.$new(),o=i.defer(),a=i.defer(),u={$cfg:t,$uiView:R},s={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};n.$emit("$viewContentLoading",b);var l=f(n,function(t){t.data("$uiViewAnim",s),t.data("$uiView",u),w.enter(t,c,function(){o.resolve(),m&&m.$emit("$viewContentAnimationEnded"),(zt(_)&&!_||e.$eval(_))&&r(t)}),h()});v=l,(m=n).$emit("$viewContentLoaded",t||$),m.$eval(g)}var d,v,m,y,g=l.onload||"",_=l.autoscroll,w=o(),$=void 0,S=c.inheritedData("$uiView")||u,b=n(l.uiView||l.name||"")(e)||"$default",R={$type:"ng1",id:s.count++,name:b,fqn:S.$uiView.fqn?S.$uiView.fqn+"."+b:b,config:null,configUpdated:function(t){(!t||t instanceof ti)&&(a($,t)||(Me.traceUIViewConfigUpdated(R,t&&t.viewDecl&&t.viewDecl.$context),$=t,p(t)))},get creationContext(){var t=At("$cfg.viewDecl.$context")(S),e=At("$uiView.creationContext")(S);return t||e}};Me.traceUIViewEvent("Linking",R),c.data("$uiView",{$uiView:R}),p(),y=t.registerUIView(R),e.$on("$destroy",function(){Me.traceUIViewEvent("Destroying/Unregistering",R),y()})}}};return s}],kt.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var wi="function"==typeof It.module("ui.router").component,$i=0;It.module("ui.router.state").directive("uiView",_i),It.module("ui.router.state").directive("uiView",kt),It.module("ui.router.state").provider("$uiViewScroll",function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r(function(){t[0].scrollIntoView()},0,!1)}}]});t.default="ui.router",t.core=Yn,t.watchDigests=_t,t.getLocals=mi,t.getNg1ViewConfigFactory=dt,t.ng1ViewsBuilder=vt,t.Ng1ViewConfig=ti,t.StateProvider=ii,t.UrlRouterProvider=ui,t.root=ue,t.fromJson=ce,t.toJson=fe,t.forEach=le,t.extend=he,t.equals=pe,t.identity=f,t.noop=l,t.createProxyFunctions=h,t.inherit=de,t.inArray=ve,t._inArray=p,t.removeFrom=me,t._removeFrom=d,t.pushTo=ye,t._pushTo=v,t.deregAll=ge,t.defaults=m,t.mergeR=_e,t.ancestors=y,t.pick=g,t.omit=_,t.pluck=w,t.filter=$,t.find=S,t.mapObj=we,t.map=b,t.values=$e,t.allTrueR=Se,t.anyTrueR=be,t.unnestR=Re,t.flattenR=Ee,t.pushR=R,t.uniqR=Te,t.unnest=Ce,t.flatten=Pe,t.assertPredicate=ke,t.assertMap=Oe,t.assertFn=E,t.pairs=xe,t.arrayTuples=T,t.applyPairs=C,t.tail=P,t.copy=k,t._extend=O,t.silenceUncaughtInPromise=Ie,t.silentRejection=je,t.notImplemented=oe,t.services=ae,t.Glob=Lt,t.curry=r,t.compose=n,t.pipe=i,t.prop=jt,t.propEq=Vt,t.parse=At,t.not=Ht,t.and=o,t.or=a,t.all=qt,t.any=Dt,t.is=Ft,t.eq=Nt,t.val=Ut,t.invoke=u,t.pattern=s,t.isUndefined=Wt,t.isDefined=zt,t.isNull=Jt,t.isNullOrUndefined=Qt,t.isFunction=Kt,t.isNumber=Yt,t.isString=Zt,t.isObject=Xt,t.isArray=te,t.isDate=ee,t.isRegExp=re,t.isState=ne,t.isInjectable=c,t.isPromise=ie,t.Queue=Ve,t.maxLength=M,t.padString=B,t.kebobString=G,t.functionToString=W,t.fnToString=z,t.stringify=J,t.beforeAfterSubstr=dr,t.hostRegex=vr,t.stripFile=mr,t.splitHash=yr,t.splitQuery=gr,t.splitEqual=_r,t.trimHashVal=wr,t.splitOnDelim=Q,t.joinNeighborsR=K,t.Trace=Le,t.trace=Me,t.Param=Ze,t.ParamTypes=$r,t.StateParams=br,t.ParamType=Qe,t.PathNode=Xe,t.PathUtils=tr,t.resolvePolicies=nr,t.defaultResolvePolicy=er,t.Resolvable=rr,t.NATIVE_INJECTOR_TOKEN=ur,t.ResolveContext=sr,t.resolvablesBuilder=rt,t.StateBuilder=Pr,t.StateObject=Mt,t.StateMatcher=kr,t.StateQueueManager=Or,t.StateRegistry=xr,t.StateService=kn,t.TargetState=Be,t.HookBuilder=Je,t.matchState=A,t.RegisteredHook=ze,t.makeEvent=H,t.Rejection=He,t.Transition=lr,t.TransitionHook=We,t.TransitionEventType=Rn,t.defaultTransOpts=Cn,t.TransitionService=Pn,t.UrlMatcher=Vr,t.UrlMatcherFactory=Ar,t.UrlRouter=Lr,t.UrlRuleFactory=Hr,t.BaseUrlRule=qr,t.UrlService=Yr,t.ViewService=Mr,t.UIRouterGlobals=Br,t.UIRouter=Xr,t.$q=On,t.$injector=Vn,t.BaseLocationServices=Dn,t.HashLocationService=Nn,t.MemoryLocationService=Ln,t.PushStateLocationService=Bn,t.MemoryLocationConfig=Gn,t.BrowserLocationConfig=Wn,t.keyValsToObjectR=An,t.getParams=Hn,t.parseUrl=lt,t.buildUrl=qn,t.locationPluginFactory=ht,t.servicesPlugin=pt,t.hashLocationPlugin=zn,t.pushStateLocationPlugin=Jn,t.memoryLocationPlugin=Qn,t.UIRouterPluginBase=Kn,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-ui-router.min.js.map

/**
 * State-based routing for AngularJS 1.x
 * @version v1.0.8
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs-state-events"]={},t.angular)}(this,function(t,e){"use strict";var r=angular,n=e&&e.module?e:r;!function(){function t(t,e){var r,n;if(Array.isArray(e)&&(r=e[0],n=e[1]),!s(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function e(t){if(t.options().notify&&t.valid()&&!t.ignored()){var e=t.injector(),r=e.get("$stateEvents"),n=e.get("$rootScope"),o=e.get("$state"),a=e.get("$urlRouter"),s=r.provider.enabled(),i=t.params("to"),u=t.params("from");if(s.$stateChangeSuccess){if(n.$broadcast("$stateChangeStart",t.to(),i,t.from(),u,t.options(),t).defaultPrevented)return s.$stateChangeCancel&&n.$broadcast("$stateChangeCancel",t.to(),i,t.from(),u,t.options(),t),null==o.transition&&a.update(),!1;var c={priority:9999};t.onSuccess({},function(){n.$broadcast("$stateChangeSuccess",t.to(),i,t.from(),u,t.options(),t)},c)}s.$stateChangeError&&t.promise.catch(function(e){(!e||2!==e.type&&3!==e.type)&&(n.$broadcast("$stateChangeError",t.to(),i,t.from(),u,e,t.options(),t).defaultPrevented||a.update())})}}function r(t,e,r){function n(){return o.target(u.to,u.toParams,u.options)}var o=r.get("$state"),s=r.get("$rootScope"),i=r.get("$urlRouter"),u={to:t.identifier(),toParams:t.params(),options:t.options()},c=s.$broadcast("$stateNotFound",u,e.state(),e.params());return(c.defaultPrevented||c.retry)&&i.update(),!c.defaultPrevented&&(c.retry||o.get(u.to)?c.retry&&a(c.retry.then)?c.retry.then(n):n():void 0)}function o(n){function a(){if(i)throw new Error("Cannot enable events at runtime (use $stateEventsProvider")}function s(t){return i=!0,c.$stateNotFound&&n.onInvalid(r),c.$stateChangeStart&&t.onBefore({},e,{priority:1e3}),{provider:o.prototype.instance}}o.prototype.instance=this;var i=!1,u=["$stateChangeStart","$stateNotFound","$stateChangeSuccess","$stateChangeError"],c=u.map(function(t){return[t,!0]}).reduce(t,{});this.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a(),t&&t.length||(t=u),t.forEach(function(t){return c[t]=!0})},this.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a(),t&&t.length||(t=u),t.forEach(function(t){return delete c[t]})},this.enabled=function(){return c},this.$get=s,s.$inject=["$transitions"]}var a=n.isFunction,s=n.isString;r.$inject=["$to$","$from$","$state","$rootScope","$urlRouter"],o.$inject=["$stateProvider"],n.module("ui.router.state.events",["ui.router.state"]).provider("$stateEvents",o).run(["$stateEvents",function(t){}])}(),t.$stateChangeStart=void 0,t.$stateChangeCancel=void 0,t.$stateChangeSuccess=void 0,t.$stateChangeError=void 0,t.$stateNotFound=void 0,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=stateEvents.min.js.map

(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.i18next = factory());
}(this, (function () { 'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};











var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};









var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};



var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};





var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();













var toConsumableArray = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return Array.from(arr);
  }
};

var consoleLogger = {
  type: 'logger',

  log: function log(args) {
    this.output('log', args);
  },
  warn: function warn(args) {
    this.output('warn', args);
  },
  error: function error(args) {
    this.output('error', args);
  },
  output: function output(type, args) {
    var _console;

    /* eslint no-console: 0 */
    if (console && console[type]) (_console = console)[type].apply(_console, toConsumableArray(args));
  }
};

var Logger = function () {
  function Logger(concreteLogger) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, Logger);

    this.init(concreteLogger, options);
  }

  Logger.prototype.init = function init(concreteLogger) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  };

  Logger.prototype.setDebug = function setDebug(bool) {
    this.debug = bool;
  };

  Logger.prototype.log = function log() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return this.forward(args, 'log', '', true);
  };

  Logger.prototype.warn = function warn() {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return this.forward(args, 'warn', '', true);
  };

  Logger.prototype.error = function error() {
    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return this.forward(args, 'error', '');
  };

  Logger.prototype.deprecate = function deprecate() {
    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  };

  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (typeof args[0] === 'string') args[0] = '' + prefix + this.prefix + ' ' + args[0];
    return this.logger[lvl](args);
  };

  Logger.prototype.create = function create(moduleName) {
    return new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));
  };

  return Logger;
}();

var baseLogger = new Logger();

var EventEmitter = function () {
  function EventEmitter() {
    classCallCheck(this, EventEmitter);

    this.observers = {};
  }

  EventEmitter.prototype.on = function on(events, listener) {
    var _this = this;

    events.split(' ').forEach(function (event) {
      _this.observers[event] = _this.observers[event] || [];
      _this.observers[event].push(listener);
    });
  };

  EventEmitter.prototype.off = function off(event, listener) {
    var _this2 = this;

    if (!this.observers[event]) {
      return;
    }

    this.observers[event].forEach(function () {
      if (!listener) {
        delete _this2.observers[event];
      } else {
        var index = _this2.observers[event].indexOf(listener);
        if (index > -1) {
          _this2.observers[event].splice(index, 1);
        }
      }
    });
  };

  EventEmitter.prototype.emit = function emit(event) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    if (this.observers[event]) {
      var cloned = [].concat(this.observers[event]);
      cloned.forEach(function (observer) {
        observer.apply(undefined, args);
      });
    }

    if (this.observers['*']) {
      var _cloned = [].concat(this.observers['*']);
      _cloned.forEach(function (observer) {
        var _ref;

        observer.apply(observer, (_ref = [event]).concat.apply(_ref, args));
      });
    }
  };

  return EventEmitter;
}();

function makeString(object) {
  if (object == null) return '';
  /* eslint prefer-template: 0 */
  return '' + object;
}

function copy(a, s, t) {
  a.forEach(function (m) {
    if (s[m]) t[m] = s[m];
  });
}

function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;
  }

  function canNotTraverseDeeper() {
    return !object || typeof object === 'string';
  }

  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');
  while (stack.length > 1) {
    if (canNotTraverseDeeper()) return {};

    var key = cleanKey(stack.shift());
    if (!object[key] && Empty) object[key] = new Empty();
    object = object[key];
  }

  if (canNotTraverseDeeper()) return {};
  return {
    obj: object,
    k: cleanKey(stack.shift())
  };
}

function setPath(object, path, newValue) {
  var _getLastOfPath = getLastOfPath(object, path, Object),
      obj = _getLastOfPath.obj,
      k = _getLastOfPath.k;

  obj[k] = newValue;
}

function pushPath(object, path, newValue, concat) {
  var _getLastOfPath2 = getLastOfPath(object, path, Object),
      obj = _getLastOfPath2.obj,
      k = _getLastOfPath2.k;

  obj[k] = obj[k] || [];
  if (concat) obj[k] = obj[k].concat(newValue);
  if (!concat) obj[k].push(newValue);
}

function getPath(object, path) {
  var _getLastOfPath3 = getLastOfPath(object, path),
      obj = _getLastOfPath3.obj,
      k = _getLastOfPath3.k;

  if (!obj) return undefined;
  return obj[k];
}

function deepExtend(target, source, overwrite) {
  /* eslint no-restricted-syntax: 0 */
  for (var prop in source) {
    if (prop in target) {
      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch
      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
        if (overwrite) target[prop] = source[prop];
      } else {
        deepExtend(target[prop], source[prop], overwrite);
      }
    } else {
      target[prop] = source[prop];
    }
  }
  return target;
}

function regexEscape(str) {
  /* eslint no-useless-escape: 0 */
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
}

/* eslint-disable */
var _entityMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': '&quot;',
  "'": '&#39;',
  "/": '&#x2F;'
};
/* eslint-enable */

function escape(data) {
  if (typeof data === 'string') {
    return data.replace(/[&<>"'\/]/g, function (s) {
      return _entityMap[s];
    });
  }

  return data;
}

var ResourceStore = function (_EventEmitter) {
  inherits(ResourceStore, _EventEmitter);

  function ResourceStore(data) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { ns: ['translation'], defaultNS: 'translation' };
    classCallCheck(this, ResourceStore);

    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));

    _this.data = data || {};
    _this.options = options;
    return _this;
  }

  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  };

  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {
    var index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  };

  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

    var keySeparator = options.keySeparator || this.options.keySeparator;
    if (keySeparator === undefined) keySeparator = '.';

    var path = [lng, ns];
    if (key && typeof key !== 'string') path = path.concat(key);
    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);

    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    }

    return getPath(this.data, path);
  };

  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {
    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { silent: false };

    var keySeparator = this.options.keySeparator;
    if (keySeparator === undefined) keySeparator = '.';

    var path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);

    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }

    this.addNamespaces(ns);

    setPath(this.data, path, value);

    if (!options.silent) this.emit('added', lng, ns, key, value);
  };

  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {
    /* eslint no-restricted-syntax: 0 */
    for (var m in resources) {
      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });
    }
    this.emit('added', lng, ns, resources);
  };

  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {
    var path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }

    this.addNamespaces(ns);

    var pack = getPath(this.data, path) || {};

    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = _extends({}, pack, resources);
    }

    setPath(this.data, path, pack);

    this.emit('added', lng, ns, resources);
  };

  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);

    this.emit('removed', lng, ns);
  };

  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  };

  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;

    // COMPATIBILITY: remove extend in v2.1.0
    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));

    return this.getResource(lng, ns);
  };

  ResourceStore.prototype.toJSON = function toJSON() {
    return this.data;
  };

  return ResourceStore;
}(EventEmitter);

var postProcessor = {

  processors: {},

  addPostProcessor: function addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle: function handle(processors, value, key, options, translator) {
    var _this = this;

    processors.forEach(function (processor) {
      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);
    });

    return value;
  }
};

var Translator = function (_EventEmitter) {
  inherits(Translator, _EventEmitter);

  function Translator(services) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, Translator);

    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));

    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);

    _this.options = options;
    _this.logger = baseLogger.create('translator');
    return _this;
  }

  Translator.prototype.changeLanguage = function changeLanguage(lng) {
    if (lng) this.language = lng;
  };

  Translator.prototype.exists = function exists(key) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { interpolation: {} };

    return this.resolve(key, options) !== undefined;
  };

  Translator.prototype.extractFromKey = function extractFromKey(key, options) {
    var nsSeparator = options.nsSeparator || this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    var keySeparator = options.keySeparator || this.options.keySeparator || '.';

    var namespaces = options.ns || this.options.defaultNS;
    if (nsSeparator && key.indexOf(nsSeparator) > -1) {
      var parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    if (typeof namespaces === 'string') namespaces = [namespaces];

    return {
      key: key,
      namespaces: namespaces
    };
  };

  Translator.prototype.translate = function translate(keys) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object') {
      /* eslint prefer-rest-params: 0 */
      options = this.options.overloadTranslationOptionHandler(arguments);
    }

    // non valid keys handling
    if (keys === undefined || keys === null || keys === '') return '';
    if (typeof keys === 'number') keys = String(keys);
    if (typeof keys === 'string') keys = [keys];

    // separators
    var keySeparator = options.keySeparator || this.options.keySeparator || '.';

    // get namespace(s)

    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options),
        key = _extractFromKey.key,
        namespaces = _extractFromKey.namespaces;

    var namespace = namespaces[namespaces.length - 1];

    // return key on CIMode
    var lng = options.lng || this.language;
    var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        var nsSeparator = options.nsSeparator || this.options.nsSeparator;
        return namespace + nsSeparator + key;
      }

      return key;
    }

    // resolve from store
    var res = this.resolve(keys, options);

    var resType = Object.prototype.toString.apply(res);
    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;

    // object
    if (res && typeof res !== 'string' && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {
      if (!options.returnObjects && !this.options.returnObjects) {
        this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(key, res, options) : 'key \'' + key + ' (' + this.language + ')\' returned an object instead of string.';
      }

      // if we got a separator we loop over children - else we just return object as is
      // as having it set to false means no hierarchy so no lookup for nested values
      if (options.keySeparator || this.options.keySeparator) {
        var copy$$1 = resType === '[object Array]' ? [] : {}; // apply child translation on a copy

        /* eslint no-restricted-syntax: 0 */
        for (var m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            copy$$1[m] = this.translate('' + key + keySeparator + m, _extends({}, options, { joinArrays: false, ns: namespaces }));
          }
        }
        res = copy$$1;
      }
    } else if (joinArrays && resType === '[object Array]') {
      // array special treatment
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, key, options);
    } else {
      // string, empty or null
      var usedDefault = false;
      var usedKey = false;

      // fallback value
      if (!this.isValidLookup(res) && options.defaultValue !== undefined) {
        usedDefault = true;
        res = options.defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }

      // save missing
      if (usedKey || usedDefault) {
        this.logger.log('missingKey', lng, namespace, key, res);

        var lngs = [];
        var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (var i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }

        if (this.options.saveMissing) {
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(lngs, namespace, key, res);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(lngs, namespace, key, res);
          }
        }

        this.emit('missingKey', lngs, namespace, key, res);
      }

      // extend
      res = this.extendTranslation(res, key, options);

      // append namespace if still key
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;

      // parseMissingKeyHandler
      if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);
    }

    // return
    return res;
  };

  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {
    var _this2 = this;

    if (options.interpolation) this.interpolator.init(_extends({}, options, { interpolation: _extends({}, this.options.interpolation, options.interpolation) }));

    // interpolate
    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);
    res = this.interpolator.interpolate(res, data, options.lng || this.language);

    // nesting
    if (options.nest !== false) res = this.interpolator.nest(res, function () {
      return _this2.translate.apply(_this2, arguments);
    }, options);

    if (options.interpolation) this.interpolator.reset();

    // post process
    var postProcess = options.postProcess || this.options.postProcess;
    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;

    if (res !== undefined && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, options, this);
    }

    return res;
  };

  Translator.prototype.resolve = function resolve(keys) {
    var _this3 = this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var found = void 0;

    if (typeof keys === 'string') keys = [keys];

    // forEach possible key
    keys.forEach(function (k) {
      if (_this3.isValidLookup(found)) return;

      var extracted = _this3.extractFromKey(k, options);
      var key = extracted.key;
      var namespaces = extracted.namespaces;
      if (_this3.options.fallbackNS) namespaces = namespaces.concat(_this3.options.fallbackNS);

      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';

      var codes = options.lngs ? options.lngs : _this3.languageUtils.toResolveHierarchy(options.lng || _this3.language);

      namespaces.forEach(function (ns) {
        if (_this3.isValidLookup(found)) return;

        codes.forEach(function (code) {
          if (_this3.isValidLookup(found)) return;

          var finalKey = key;
          var finalKeys = [finalKey];

          var pluralSuffix = void 0;
          if (needsPluralHandling) pluralSuffix = _this3.pluralResolver.getSuffix(code, options.count);

          // fallback for plural if context not found
          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);

          // get key for context if needed
          if (needsContextHandling) finalKeys.push(finalKey += '' + _this3.options.contextSeparator + options.context);

          // get key for plural if needed
          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);

          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only
          var possibleKey = void 0;
          /* eslint no-cond-assign: 0 */
          while (possibleKey = finalKeys.pop()) {
            if (!_this3.isValidLookup(found)) {
              found = _this3.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });

    return found;
  };

  Translator.prototype.isValidLookup = function isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  };

  Translator.prototype.getResource = function getResource(code, ns, key) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

    return this.resourceStore.getResource(code, ns, key, options);
  };

  return Translator;
}(EventEmitter);

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var LanguageUtil = function () {
  function LanguageUtil(options) {
    classCallCheck(this, LanguageUtil);

    this.options = options;

    this.whitelist = this.options.whitelist || false;
    this.logger = baseLogger.create('languageUtils');
  }

  LanguageUtil.prototype.getScriptPartFromCode = function getScriptPartFromCode(code) {
    if (!code || code.indexOf('-') < 0) return null;

    var p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    return this.formatLanguageCode(p.join('-'));
  };

  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {
    if (!code || code.indexOf('-') < 0) return code;

    var p = code.split('-');
    return this.formatLanguageCode(p[0]);
  };

  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {
    // http://www.iana.org/assignments/language-tags/language-tags.xhtml
    if (typeof code === 'string' && code.indexOf('-') > -1) {
      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      var p = code.split('-');

      if (this.options.lowerCaseLng) {
        p = p.map(function (part) {
          return part.toLowerCase();
        });
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();

        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();

        // if lenght 2 guess it's a country
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();

        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }

      return p.join('-');
    }

    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  };

  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;
  };

  LanguageUtil.prototype.getFallbackCodes = function getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'string') fallbacks = [fallbacks];
    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;

    if (!code) return fallbacks.default || [];

    // asume we have an object defining fallbacks
    var found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks.default;

    return found || [];
  };

  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {
    var _this = this;

    var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);

    var codes = [];
    var addCode = function addCode(c) {
      if (!c) return;
      if (_this.isWhitelisted(c)) {
        codes.push(c);
      } else {
        _this.logger.warn('rejecting non-whitelisted language code: ' + c);
      }
    };

    if (typeof code === 'string' && code.indexOf('-') > -1) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (typeof code === 'string') {
      addCode(this.formatLanguageCode(code));
    }

    fallbackCodes.forEach(function (fc) {
      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));
    });

    return codes;
  };

  return LanguageUtil;
}();

// definition http://translate.sourceforge.net/wiki/l10n/pluralforms
/* eslint-disable */
var sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];

var _rulesPluralsTypes = {
  1: function _(n) {
    return Number(n > 1);
  },
  2: function _(n) {
    return Number(n != 1);
  },
  3: function _(n) {
    return 0;
  },
  4: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function _(n) {
    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function _(n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function _(n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function _(n) {
    return Number(n >= 2);
  },
  10: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function _(n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function _(n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function _(n) {
    return Number(n !== 0);
  },
  14: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function _(n) {
    return Number(n == 1 || n % 10 == 1 ? 0 : 1);
  },
  18: function _(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function _(n) {
    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function _(n) {
    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function _(n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  }
};
/* eslint-enable */

function createRules() {
  var rules = {};
  sets.forEach(function (set$$1) {
    set$$1.lngs.forEach(function (l) {
      rules[l] = {
        numbers: set$$1.nr,
        plurals: _rulesPluralsTypes[set$$1.fc]
      };
    });
  });
  return rules;
}

var PluralResolver = function () {
  function PluralResolver(languageUtils) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    classCallCheck(this, PluralResolver);

    this.languageUtils = languageUtils;
    this.options = options;

    this.logger = baseLogger.create('pluralResolver');

    this.rules = createRules();
  }

  PluralResolver.prototype.addRule = function addRule(lng, obj) {
    this.rules[lng] = obj;
  };

  PluralResolver.prototype.getRule = function getRule(code) {
    return this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  };

  PluralResolver.prototype.needsPlural = function needsPlural(code) {
    var rule = this.getRule(code);

    return rule && rule.numbers.length > 1;
  };

  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {
    var _this = this;

    var rule = this.getRule(code);

    if (rule) {
      if (rule.numbers.length === 1) return '0'; // only singular support the _0

      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
      var suffix = rule.numbers[idx];

      // special treatment for lngs only having singular and plural
      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
        if (suffix === 2) {
          suffix = 'plural';
        } else if (suffix === 1) {
          suffix = '';
        }
      }

      var returnSuffix = function returnSuffix() {
        return _this.options.prepend && suffix.toString() ? _this.options.prepend + suffix.toString() : suffix.toString();
      };

      // COMPATIBILITY JSON
      // v1
      if (this.options.compatibilityJSON === 'v1') {
        if (suffix === 1) return '';
        if (typeof suffix === 'number') return '_plural_' + suffix.toString();
        return returnSuffix();
      } else if ( /* v2 */this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {
        return returnSuffix();
      } else if ( /* v3 - gettext index */rule.numbers.length === 2 && rule.numbers[0] === 1) {
        return returnSuffix();
      }
      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
    }

    this.logger.warn('no plural rule found for: ' + code);
    return '';
  };

  return PluralResolver;
}();

var Interpolator = function () {
  function Interpolator() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    classCallCheck(this, Interpolator);

    this.logger = baseLogger.create('interpolator');

    this.init(options, true);
  }

  /* eslint no-param-reassign: 0 */


  Interpolator.prototype.init = function init() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var reset = arguments[1];

    if (reset) {
      this.options = options;
      this.format = options.interpolation && options.interpolation.format || function (value) {
        return value;
      };
      this.escape = options.interpolation && options.interpolation.escape || escape;
    }
    if (!options.interpolation) options.interpolation = { escapeValue: true };

    var iOpts = options.interpolation;

    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;

    this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';
    this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';

    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';

    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';

    this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');

    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;

    // the regexp
    this.resetRegExp();
  };

  Interpolator.prototype.reset = function reset() {
    if (this.options) this.init(this.options);
  };

  Interpolator.prototype.resetRegExp = function resetRegExp() {
    // the regexp
    var regexpStr = this.prefix + '(.+?)' + this.suffix;
    this.regexp = new RegExp(regexpStr, 'g');

    var regexpUnescapeStr = '' + this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;
    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');

    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;
    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');
  };

  Interpolator.prototype.interpolate = function interpolate(str, data, lng) {
    var _this = this;

    var match = void 0;
    var value = void 0;
    var replaces = void 0;

    function regexSafe(val) {
      return val.replace(/\$/g, '$$$$');
    }

    var handleFormat = function handleFormat(key) {
      if (key.indexOf(_this.formatSeparator) < 0) return getPath(data, key);

      var p = key.split(_this.formatSeparator);
      var k = p.shift().trim();
      var f = p.join(_this.formatSeparator).trim();

      return _this.format(getPath(data, k), f, lng);
    };

    this.resetRegExp();

    replaces = 0;
    // unescape if has unescapePrefix/Suffix
    /* eslint no-cond-assign: 0 */
    while (match = this.regexpUnescape.exec(str)) {
      value = handleFormat(match[1].trim());
      str = str.replace(match[0], value);
      this.regexpUnescape.lastIndex = 0;
      replaces++;
      if (replaces >= this.maxReplaces) {
        break;
      }
    }

    replaces = 0;
    // regular escape on demand
    while (match = this.regexp.exec(str)) {
      value = handleFormat(match[1].trim());
      if (typeof value !== 'string') value = makeString(value);
      if (!value) {
        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);
        value = '';
      }
      value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
      replaces++;
      if (replaces >= this.maxReplaces) {
        break;
      }
    }
    return str;
  };

  Interpolator.prototype.nest = function nest(str, fc) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    var match = void 0;
    var value = void 0;

    var clonedOptions = _extends({}, options);
    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup

    // if value is something like "myKey": "lorem $(anotherKey, { "count": {{aValueInOptions}} })"
    function handleHasOptions(key) {
      if (key.indexOf(',') < 0) return key;

      var p = key.split(',');
      key = p.shift();
      var optionsString = p.join(',');
      optionsString = this.interpolate(optionsString, clonedOptions);
      optionsString = optionsString.replace(/'/g, '"');

      try {
        clonedOptions = JSON.parse(optionsString);
      } catch (e) {
        this.logger.error('failed parsing options string in nesting for key ' + key, e);
      }

      return key;
    }

    // regular escape on demand
    while (match = this.nestingRegexp.exec(str)) {
      value = fc(handleHasOptions.call(this, match[1].trim()), clonedOptions);

      // is only the nesting key (key1 = '$(key2)') return the value without stringify
      if (value && match[0] === str && typeof value !== 'string') return value;

      // no string to include or empty
      if (typeof value !== 'string') value = makeString(value);
      if (!value) {
        this.logger.warn('missed to resolve ' + match[1] + ' for nesting ' + str);
        value = '';
      }
      // Nested keys should not be escaped by default #854
      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  };

  return Interpolator;
}();

function remove(arr, what) {
  var found = arr.indexOf(what);

  while (found !== -1) {
    arr.splice(found, 1);
    found = arr.indexOf(what);
  }
}

var Connector = function (_EventEmitter) {
  inherits(Connector, _EventEmitter);

  function Connector(backend, store, services) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    classCallCheck(this, Connector);

    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));

    _this.backend = backend;
    _this.store = store;
    _this.languageUtils = services.languageUtils;
    _this.options = options;
    _this.logger = baseLogger.create('backendConnector');

    _this.state = {};
    _this.queue = [];

    if (_this.backend && _this.backend.init) {
      _this.backend.init(services, options.backend, options);
    }
    return _this;
  }

  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {
    var _this2 = this;

    // find what needs to be loaded
    var toLoad = [];
    var pending = [];
    var toLoadLanguages = [];
    var toLoadNamespaces = [];

    languages.forEach(function (lng) {
      var hasAllNamespaces = true;

      namespaces.forEach(function (ns) {
        var name = lng + '|' + ns;

        if (_this2.store.hasResourceBundle(lng, ns)) {
          _this2.state[name] = 2; // loaded
        } else if (_this2.state[name] < 0) {
          // nothing to do for err
        } else if (_this2.state[name] === 1) {
          if (pending.indexOf(name) < 0) pending.push(name);
        } else {
          _this2.state[name] = 1; // pending

          hasAllNamespaces = false;

          if (pending.indexOf(name) < 0) pending.push(name);
          if (toLoad.indexOf(name) < 0) toLoad.push(name);
          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);
        }
      });

      if (!hasAllNamespaces) toLoadLanguages.push(lng);
    });

    if (toLoad.length || pending.length) {
      this.queue.push({
        pending: pending,
        loaded: {},
        errors: [],
        callback: callback
      });
    }

    return {
      toLoad: toLoad,
      pending: pending,
      toLoadLanguages: toLoadLanguages,
      toLoadNamespaces: toLoadNamespaces
    };
  };

  Connector.prototype.loaded = function loaded(name, err, data) {
    var _this3 = this;

    var _name$split = name.split('|'),
        _name$split2 = slicedToArray(_name$split, 2),
        lng = _name$split2[0],
        ns = _name$split2[1];

    if (err) this.emit('failedLoading', lng, ns, err);

    if (data) {
      this.store.addResourceBundle(lng, ns, data);
    }

    // set loaded
    this.state[name] = err ? -1 : 2;

    // callback if ready
    this.queue.forEach(function (q) {
      pushPath(q.loaded, [lng], ns);
      remove(q.pending, name);

      if (err) q.errors.push(err);

      if (q.pending.length === 0 && !q.done) {
        _this3.emit('loaded', q.loaded);
        /* eslint no-param-reassign: 0 */
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });

    // remove done load requests
    this.queue = this.queue.filter(function (q) {
      return !q.done;
    });
  };

  Connector.prototype.read = function read(lng, ns, fcName) {
    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;

    var _this4 = this;

    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;
    var callback = arguments[5];

    if (!lng.length) return callback(null, {}); // noting to load

    return this.backend[fcName](lng, ns, function (err, data) {
      if (err && data /* = retryFlag */ && tried < 5) {
        setTimeout(function () {
          _this4.read.call(_this4, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    });
  };

  /* eslint consistent-return: 0 */


  Connector.prototype.load = function load(languages, namespaces, callback) {
    var _this5 = this;

    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    var options = _extends({}, this.backend.options, this.options.backend);

    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
    if (typeof namespaces === 'string') namespaces = [namespaces];

    var toLoad = this.queueLoad(languages, namespaces, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now
      return null; // pendings will trigger callback
    }

    // load with multi-load
    if (options.allowMultiLoading && this.backend.readMulti) {
      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {
        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);
        if (!err && data) _this5.logger.log('successfully loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);

        toLoad.toLoad.forEach(function (name) {
          var _name$split3 = name.split('|'),
              _name$split4 = slicedToArray(_name$split3, 2),
              l = _name$split4[0],
              n = _name$split4[1];

          var bundle = getPath(data, [l, n]);
          if (bundle) {
            _this5.loaded(name, err, bundle);
          } else {
            var error = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';
            _this5.loaded(name, error);
            _this5.logger.error(error);
          }
        });
      });
    } else {
      toLoad.toLoad.forEach(function (name) {
        _this5.loadOne(name);
      });
    }
  };

  Connector.prototype.reload = function reload(languages, namespaces) {
    var _this6 = this;

    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
    }
    var options = _extends({}, this.backend.options, this.options.backend);

    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
    if (typeof namespaces === 'string') namespaces = [namespaces];

    // load with multi-load
    if (options.allowMultiLoading && this.backend.readMulti) {
      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {
        if (err) _this6.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);
        if (!err && data) _this6.logger.log('successfully reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);

        languages.forEach(function (l) {
          namespaces.forEach(function (n) {
            var bundle = getPath(data, [l, n]);
            if (bundle) {
              _this6.loaded(l + '|' + n, err, bundle);
            } else {
              var error = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';
              _this6.loaded(l + '|' + n, error);
              _this6.logger.error(error);
            }
          });
        });
      });
    } else {
      languages.forEach(function (l) {
        namespaces.forEach(function (n) {
          _this6.loadOne(l + '|' + n, 're');
        });
      });
    }
  };

  Connector.prototype.loadOne = function loadOne(name) {
    var _this7 = this;

    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

    var _name$split5 = name.split('|'),
        _name$split6 = slicedToArray(_name$split5, 2),
        lng = _name$split6[0],
        ns = _name$split6[1];

    this.read(lng, ns, 'read', null, null, function (err, data) {
      if (err) _this7.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);
      if (!err && data) _this7.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);

      _this7.loaded(name, err, data);
    });
  };

  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue) {
    if (this.backend && this.backend.create) this.backend.create(languages, namespace, key, fallbackValue);

    // write to store to avoid resending
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  };

  return Connector;
}(EventEmitter);

var Connector$1 = function (_EventEmitter) {
  inherits(Connector, _EventEmitter);

  function Connector(cache, store, services) {
    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    classCallCheck(this, Connector);

    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));

    _this.cache = cache;
    _this.store = store;
    _this.services = services;
    _this.options = options;
    _this.logger = baseLogger.create('cacheConnector');

    if (_this.cache && _this.cache.init) _this.cache.init(services, options.cache, options);
    return _this;
  }

  /* eslint consistent-return: 0 */


  Connector.prototype.load = function load(languages, namespaces, callback) {
    var _this2 = this;

    if (!this.cache) return callback && callback();
    var options = _extends({}, this.cache.options, this.options.cache);

    var loadLngs = typeof languages === 'string' ? this.services.languageUtils.toResolveHierarchy(languages) : languages;

    if (options.enabled) {
      this.cache.load(loadLngs, function (err, data) {
        if (err) _this2.logger.error('loading languages ' + loadLngs.join(', ') + ' from cache failed', err);
        if (data) {
          /* eslint no-restricted-syntax: 0 */
          for (var l in data) {
            if (Object.prototype.hasOwnProperty.call(data, l)) {
              for (var n in data[l]) {
                if (Object.prototype.hasOwnProperty.call(data[l], n)) {
                  if (n !== 'i18nStamp') {
                    var bundle = data[l][n];
                    if (bundle) _this2.store.addResourceBundle(l, n, bundle);
                  }
                }
              }
            }
          }
        }
        if (callback) callback();
      });
    } else if (callback) {
      callback();
    }
  };

  Connector.prototype.save = function save() {
    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);
  };

  return Connector;
}(EventEmitter);

function get$1() {
  return {
    debug: false,
    initImmediate: true,

    ns: ['translation'],
    defaultNS: ['translation'],
    fallbackLng: ['dev'],
    fallbackNS: false, // string or array of namespaces

    whitelist: false, // array with whitelisted languages
    nonExplicitWhitelist: false,
    load: 'all', // | currentOnly | languageOnly
    preload: false, // array with preload languages

    simplifyPluralSuffix: true,
    keySeparator: '.',
    nsSeparator: ':',
    pluralSeparator: '_',
    contextSeparator: '_',

    saveMissing: false, // enable to send missing values
    saveMissingTo: 'fallback', // 'current' || 'all'
    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling

    postProcess: false, // string or array of postProcessor names
    returnNull: true, // allows null value as valid translation
    returnEmptyString: true, // allows empty string value as valid translation
    returnObjects: false,
    joinArrays: false, // or string to join array
    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false
    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      return { defaultValue: args[1] };
    },

    interpolation: {
      escapeValue: true,
      format: function format(value, _format, lng) {
        return value;
      },
      prefix: '{{',
      suffix: '}}',
      formatSeparator: ',',
      // prefixEscaped: '{{',
      // suffixEscaped: '}}',
      // unescapeSuffix: '',
      unescapePrefix: '-',

      nestingPrefix: '$t(',
      nestingSuffix: ')',
      // nestingPrefixEscaped: '$t(',
      // nestingSuffixEscaped: ')',
      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data
      maxReplaces: 1000 // max replaces to prevent endless loop
    }
  };
}

/* eslint no-param-reassign: 0 */
function transformOptions(options) {
  // create namespace object if namespace is passed in as string
  if (typeof options.ns === 'string') options.ns = [options.ns];
  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];

  // extend whitelist with cimode
  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) options.whitelist.push('cimode');

  return options;
}

function noop() {}

var I18n = function (_EventEmitter) {
  inherits(I18n, _EventEmitter);

  function I18n() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments[1];
    classCallCheck(this, I18n);

    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));

    _this.options = transformOptions(options);
    _this.services = {};
    _this.logger = baseLogger;
    _this.modules = { external: [] };

    if (callback && !_this.isInitialized && !options.isClone) {
      var _ret;

      // https://github.com/i18next/i18next/issues/879
      if (!_this.options.initImmediate) return _ret = _this.init(options, callback), possibleConstructorReturn(_this, _ret);
      setTimeout(function () {
        _this.init(options, callback);
      }, 0);
    }
    return _this;
  }

  I18n.prototype.init = function init() {
    var _this2 = this;

    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments[1];

    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    this.options = _extends({}, get$1(), this.options, transformOptions(options));

    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;

    function createClassOnDemand(ClassOrObject) {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    }

    // init services
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }

      var lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);

      var s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.resourceStore.on('added removed', function (lng, ns) {
        s.cacheConnector.save();
      });
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, { prepend: this.options.pluralSeparator, compatibilityJSON: this.options.compatibilityJSON, simplifyPluralSuffix: this.options.simplifyPluralSuffix });
      s.interpolator = new Interpolator(this.options);

      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      // pipe events from backendConnector
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        _this2.emit.apply(_this2, [event].concat(args));
      });

      s.backendConnector.on('loaded', function (loaded) {
        s.cacheConnector.save();
      });

      s.cacheConnector = new Connector$1(createClassOnDemand(this.modules.cache), s.resourceStore, s, this.options);
      // pipe events from backendConnector
      s.cacheConnector.on('*', function (event) {
        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }

        _this2.emit.apply(_this2, [event].concat(args));
      });

      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        s.languageDetector.init(s, this.options.detection, this.options);
      }

      this.translator = new Translator(this.services, this.options);
      // pipe events from translator
      this.translator.on('*', function (event) {
        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
          args[_key3 - 1] = arguments[_key3];
        }

        _this2.emit.apply(_this2, [event].concat(args));
      });

      this.modules.external.forEach(function (m) {
        if (m.init) m.init(_this2);
      });
    }

    // append api
    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];
    storeApi.forEach(function (fcName) {
      _this2[fcName] = function () {
        var _store;

        return (_store = _this2.store)[fcName].apply(_store, arguments);
      };
    });

    var load = function load() {
      _this2.changeLanguage(_this2.options.lng, function (err, t) {
        _this2.isInitialized = true;
        _this2.logger.log('initialized', _this2.options);
        _this2.emit('initialized', _this2.options);

        callback(err, t);
      });
    };

    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }

    return this;
  };

  /* eslint consistent-return: 0 */


  I18n.prototype.loadResources = function loadResources() {
    var _this3 = this;

    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;

    if (!this.options.resources) {
      if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode

      var toLoad = [];

      var append = function append(lng) {
        if (!lng) return;
        var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(function (l) {
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };

      if (!this.language) {
        // at least load fallbacks in this case
        var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(function (l) {
          return append(l);
        });
      } else {
        append(this.language);
      }

      if (this.options.preload) {
        this.options.preload.forEach(function (l) {
          return append(l);
        });
      }

      this.services.cacheConnector.load(toLoad, this.options.ns, function () {
        _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);
      });
    } else {
      callback(null);
    }
  };

  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    this.services.backendConnector.reload(lngs, ns);
  };

  I18n.prototype.use = function use(module) {
    if (module.type === 'backend') {
      this.modules.backend = module;
    }

    if (module.type === 'cache') {
      this.modules.cache = module;
    }

    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }

    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }

    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }

    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }

    return this;
  };

  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {
    var _this4 = this;

    var done = function done(err, l) {
      _this4.translator.changeLanguage(l);

      if (l) {
        _this4.emit('languageChanged', l);
        _this4.logger.log('languageChanged', l);
      }

      if (callback) callback(err, function () {
        return _this4.t.apply(_this4, arguments);
      });
    };

    var setLng = function setLng(l) {
      if (l) {
        _this4.language = l;
        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);

        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);
      }

      _this4.loadResources(function (err) {
        done(err, l);
      });
    };

    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      this.services.languageDetector.detect(setLng);
    } else {
      setLng(lng);
    }
  };

  I18n.prototype.getFixedT = function getFixedT(lng, ns) {
    var _this5 = this;

    var fixedT = function fixedT(key) {
      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var options = typeof opts === 'string' ? { defaultValue: opts } : _extends({}, opts);
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      return _this5.t(key, options);
    };
    if (typeof lng === 'string') {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    return fixedT;
  };

  I18n.prototype.t = function t() {
    var _translator;

    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);
  };

  I18n.prototype.exists = function exists() {
    var _translator2;

    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);
  };

  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  };

  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {
    var _this6 = this;

    if (!this.options.ns) return callback && callback();
    if (typeof ns === 'string') ns = [ns];

    ns.forEach(function (n) {
      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);
    });

    this.loadResources(callback);
  };

  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {
    if (typeof lngs === 'string') lngs = [lngs];
    var preloaded = this.options.preload || [];

    var newLngs = lngs.filter(function (lng) {
      return preloaded.indexOf(lng) < 0;
    });
    // Exit early if all given languages are already preloaded
    if (!newLngs.length) return callback();

    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(callback);
  };

  I18n.prototype.dir = function dir(lng) {
    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;
    if (!lng) return 'rtl';

    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];

    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';
  };

  /* eslint class-methods-use-this: 0 */


  I18n.prototype.createInstance = function createInstance() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments[1];

    return new I18n(options, callback);
  };

  I18n.prototype.cloneInstance = function cloneInstance() {
    var _this7 = this;

    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;

    var mergedOptions = _extends({}, this.options, options, { isClone: true });
    var clone = new I18n(mergedOptions, callback);
    var membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(function (m) {
      clone[m] = _this7[m];
    });
    clone.translator = new Translator(clone.services, clone.options);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }

      clone.emit.apply(clone, [event].concat(args));
    });
    clone.init(mergedOptions, callback);

    return clone;
  };

  return I18n;
}(EventEmitter);

var i18next = new I18n();

return i18next;

})));

var __extends=this&&this.__extends||function(t,i){function n(){this.constructor=t}for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)},n3Charts;!function(t){var i;!function(t){"use strict";function i(){function t(t,i,n){t.attr("transform",function(t){var e=i(t.value);return"translate("+(isFinite(e)?e:n(t.value))+",0)"})}function i(t,i,n){t.attr("transform",function(t){var e=i(t.value);return"translate(0,"+(isFinite(e)?e:n(t.value))+")"})}function n(t){var i=t[0],n=t[t.length-1];return n>i?[i,n]:[n,i]}function e(t){return t.rangeExtent?t.rangeExtent():n(t.range())}var o,s=([].slice,"bottom"),r={top:1,right:1,bottom:1,left:1},a=d3.scale.linear(),c=s,u=6,p=24,h=-6,l=0,f=5,d=null,y=null,g=function(n,s,r,a,d){var y,g="major"===s,v=g?p:l,m=g?h:f,x=d.selectAll(".tick."+s).data(n,function(t){return a(t.value)}),O=x.enter().insert("g",".domain").attr("class","tick "+s).style("opacity",1e-6),S=d3.transition(x.exit()).style("opacity",1e-6).remove(),b=d3.transition(x.order()).style("opacity",1),M=Math.max(v,0)+m,w=e(a),A=d.selectAll(".domain").data([0]),D=(A.enter().append("path").attr("class","domain"),A.transition());O.append("line"),O.append("text");var F,C,E,k,T=O.select("line"),z=b.select("line"),U=x.select("text").text(function(t,i){return o?o(t,i):t.label}),_=O.select("text"),B=b.select("text"),P="top"===c||"left"===c?-1:1;"bottom"===c||"top"===c?(y=t,F="x",E="y",C="x2",k="y2",U.attr({dy:0>P?"0em":".8em",dx:"5px"}).style("text-anchor","left"),D.attr("d","M"+w[0]+","+P*u+"V0H"+w[1]+"V"+P*u)):(y=i,F="y",E="x",C="y2",k="x2",U.attr({dy:".32em",dx:0>P?-M+"px":M+"px"}).style("text-anchor",0>P?"end":"start"),D.attr("d","M"+P*u+","+w[0]+"H0V"+w[1]+"H"+P*u)),T.attr(k,P*v),_.attr(E,P*M),z.attr(C,0).attr(k,P*v),B.attr(F,0).attr(E,P*M),S.call(y,a,r),O.call(y,r,a),b.call(y,a,a)},v=function(t){t.each(function(){var t=d3.select(this),i=this.__chart__||a,n=this.__chart__=a.copy(),e=d(n.domain()),o=e.major,s=e.minor;g(o,"major",i,n,t),g(s,"minor",i,n,t)})};return v.scale=function(t){return arguments.length?(a=t,v):a},v.orient=function(t){return arguments.length?(c=t in r?t+"":s,v):c},v.ticks=function(t){return arguments.length?(d=t,v):d},v.tickValues=function(t){return arguments.length?(y=t,v):y},v.tickFormat=function(t){return arguments.length?(o=t,v):o},v.tickSize=function(t){var i=arguments.length;return i?(p=+t,u=+arguments[i-1],l=+t,v):p},v.innerTickSize=function(t){return arguments.length?(p=+t,v):p},v.outerTickSize=function(t){return arguments.length?(u=+t,v):u},v.tickPadding=function(t){return arguments.length?(h=+t,v):h},v}t.twoSpeedAxis=i}(i=t.svg||(t.svg={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){"use strict";var n=function(){function n(t){void 0===t&&(t={}),this.parse(t)}return n.prototype.parse=function(e){if(!n.isValidType(e.type))throw new Error("Unknown type for symbol: "+e.type);this.type=i.Options.getString(e.type),this.value=i.Options.getNumber(e.value,0),this.color=i.Options.getString(e.color,"lightgrey"),this.axis=i.Options.getString(e.axis,"y"),this.id=i.Options.getString(e.id,t.Utils.UUID.generate())},n.isValidType=function(t){return-1!==d3.values(n.TYPE).indexOf(t)},n.TYPE={HLINE:"hline",VLINE:"vline"},n}();i.SymbolOptions=n}(i=t.Options||(t.Options={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){"use strict";var n=function(){function n(i){void 0===i&&(i={}),this.axis="y",this.type=["line"],this.visible=!0,this.defined=function(t){return!0};var n=this.sanitizeOptions(i);this.id=n.id||t.Utils.UUID.generate(),this.axis=n.axis,this.interpolation=n.interpolation,this.dataset=n.dataset,this.key=n.key,this.color=n.color,this.visible=n.visible,this.label=n.label||n.id,n.defined&&(this.defined=n.defined),n.type.length>0&&(this.type=this.sanitizeType(n.type))}return n.prototype.sanitizeOptions=function(n){var e=t.Utils.ObjectUtils.extend(this,n);return e.axis=this.sanitizeAxis(e.axis),e.interpolation=this.sanitizeInterpolation(e.interpolation),e.id=i.Options.getString(e.id),e.type=i.Options.getArray(e.type),e.dataset=i.Options.getString(e.dataset),e.key=this.sanitizeKeys(e.key),e.color=i.Options.getString(e.color),e.label=i.Options.getString(e.label),e.visible=i.Options.getBoolean(e.visible),e.defined=i.Options.getFunction(e.defined),e},n.prototype.sanitizeInterpolation=function(t){return t?{mode:i.Options.getString(t.mode,"linear"),tension:i.Options.getNumber(t.tension,.7)}:{mode:"linear",tension:.7}},n.prototype.sanitizeKeys=function(t){return t?"string"==typeof t?{y1:i.Options.getString(t)}:{y0:i.Options.getString(t.y0),y1:i.Options.getString(t.y1)}:{y1:void 0}},n.prototype.getToggledVisibility=function(){return!this.visible},n.prototype.sanitizeType=function(t){return t.filter(function(t){return n.isValidType(t)?!0:(console.warn("Unknow series type : "+t),!1)})},n.prototype.sanitizeAxis=function(t){if(-1===["y","y2"].indexOf(t))throw TypeError(t+" is not a valid series option for axis.");return t},n.prototype.isAColumn=function(){return this.hasType(n.TYPE.COLUMN)},n.prototype.isDashed=function(){return-1!==this.type.indexOf(n.TYPE.DASHED_LINE)},n.prototype.hasType=function(t){return t===n.TYPE.LINE?-1!==this.type.indexOf(t)||-1!==this.type.indexOf(n.TYPE.DASHED_LINE):-1!==this.type.indexOf(t)},n.prototype.hasTwoKeys=function(){return void 0!==this.key.y0},n.isValidType=function(t){return-1!==d3.values(n.TYPE).indexOf(t)},n.TYPE={DOT:"dot",LINE:"line",DASHED_LINE:"dashed-line",AREA:"area",COLUMN:"column"},n}();i.SeriesOptions=n}(i=t.Options||(t.Options={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function i(t){void 0===t&&(t={}),this.includeZero=!1,this.type="linear",this.key="x",this.padding={min:0,max:0},this.ticksShift={x:0,y:0},this.parse(t)}return i.prototype.parse=function(n){this.type=t.Options.getString(n.type,"linear"),this.key=n.key,this.padding=t.Options.getObject(n.padding||{},this.padding),this.includeZero=t.Options.getBoolean(n.includeZero,!1),this.tickFormat=t.Options.getFunction(n.tickFormat),this.ticks=n.ticks,n.ticksShift&&(this.ticksShift={x:t.Options.getNumber(n.ticksShift.x,0),y:t.Options.getNumber(n.ticksShift.y,0)}),this.type===i.TYPE.LINEAR?(this.min=t.Options.getNumber(n.min,void 0),this.max=t.Options.getNumber(n.max,void 0)):this.type===i.TYPE.DATE&&(this.min=t.Options.getDate(n.min,void 0),this.max=t.Options.getDate(n.max,void 0))},i.isValidSide=function(t){return-1!==d3.values(i.SIDE).indexOf(t)},i.prototype.hasDynamicTicks=function(){return this.ticks instanceof Function},i.prototype.configure=function(t){return t.tickFormat(this.tickFormat),this.ticks instanceof Array?t.tickValues(this.ticks):"number"==typeof this.ticks?t.ticks(this.ticks):this.ticks instanceof Function&&t.ticks(this.ticks),t},i.SIDE={X:"x",X2:"x2",Y:"y",Y2:"y2"},i.TYPE={LINEAR:"linear",DATE:"date",LOG:"log"},i}();t.AxisOptions=i}(i=t.Options||(t.Options={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function i(){this.width=600,this.height=200,this.innerWidth=560,this.innerHeight=160,this.margin=i.getDefaultMargins()}return i.getDefaultMargins=function(){return{top:0,left:40,bottom:40,right:40}},i.prototype.updateMargins=function(i){var n=this;if(i&&i.margin){var e=function(e){return n.margin[e]=t.Options.getNumber(i.margin[e],n.margin[e])};e("top"),e("bottom"),e("left"),e("right")}},i.prototype.getDimensionByProperty=function(t,i){var n=window.getComputedStyle(t,null);return+n.getPropertyValue(i).replace(/px$/,"")},i.prototype.fromParentElement=function(t){if(t){var i=this.getDimensionByProperty(t,"padding-left")+this.getDimensionByProperty(t,"padding-right"),n=this.getDimensionByProperty(t,"padding-top")+this.getDimensionByProperty(t,"padding-bottom");this.width=t.clientWidth-i,this.height=t.clientHeight-n,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.innerWidth=this.width-this.margin.left-this.margin.right}},i}();t.Dimensions=i}(i=t.Options||(t.Options={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){"use strict";var n=function(){function n(e){this.doubleClickEnabled=!0,this.series=[],this.symbols=[],this.pan={x:function(){},x2:function(){},y:function(){},y2:function(){}},this.zoom={x:!1,y:!1},this.axes={x:{},y:{}},this.margin=i.Dimensions.getDefaultMargins(),this.grid={x:!1,y:!0};var o=t.Utils.ObjectUtils.extend(this,e);this.margin=this.sanitizeMargin(n.getObject(o.margin,this.margin)),this.series=this.sanitizeSeries(n.getArray(o.series)),this.symbols=this.sanitizeSymbols(n.getArray(o.symbols)),this.axes=this.sanitizeAxes(n.getObject(o.axes,this.axes)),this.grid=this.sanitizeTwoAxesOptions(o.grid,this.grid),this.pan=this.sanitizePanOptions(o.pan,this.pan),this.zoom=this.sanitizeTwoAxesOptions(o.zoom,this.zoom),this.tooltipHook=n.getFunction(o.tooltipHook),this.doubleClickEnabled=n.getBoolean(o.doubleClickEnabled,!1)}return n.prototype.sanitizeMargin=function(t){return{top:n.getNumber(t.top,0),left:n.getNumber(t.left,0),bottom:n.getNumber(t.bottom,0),right:n.getNumber(t.right,0)}},n.prototype.sanitizeSeries=function(t){return t.map(function(t){return new i.SeriesOptions(t)})},n.prototype.sanitizeSymbols=function(t){return t.map(function(t){return new i.SymbolOptions(t)})},n.prototype.sanitizeTwoAxesOptions=function(t,i){return{x:n.getBoolean(t.x,i.x),y:n.getBoolean(t.y,i.y)}},n.prototype.sanitizePanOptions=function(t,i){return{x:this.sanitizePanOption(t.x),x2:this.sanitizePanOption(t.x2),y:this.sanitizePanOption(t.y),y2:this.sanitizePanOption(t.y2)}},n.prototype.sanitizePanOption=function(i){if(void 0===i)return function(t){};if(t.Utils.ObjectUtils.isBoolean(i))return i?function(t){return t}:function(t){};if(t.Utils.ObjectUtils.isFunction(i))return i;throw new Error("Pan option should either be a Boolean or a function. Please RTFM.")},n.prototype.sanitizeAxes=function(t){return Object.keys(t).reduce(function(n,e){return n[e]=new i.AxisOptions(t[e]),n},{})},n.prototype.getAbsKey=function(){if(!this.axes[i.AxisOptions.SIDE.X])throw new TypeError("Cannot find abs key : "+i.AxisOptions.SIDE.X);return this.axes[i.AxisOptions.SIDE.X].key},n.prototype.getVisibleDatasets=function(){var t=[];return this.series.forEach(function(i){i.visible&&-1===t.indexOf(i.dataset)&&t.push(i.dataset)}),t},n.prototype.getVisibleSeriesBySide=function(t){return this.series.filter(function(i){return i.visible&&i.axis===t})},n.prototype.getSeriesAndDatasetBySide=function(t){if(!i.AxisOptions.isValidSide(t))throw new TypeError("Cannot get axis side : "+t);t!==i.AxisOptions.SIDE.Y2||this.axes[t]||(t=i.AxisOptions.SIDE.Y);var n=[],e={};return this.series.forEach(function(i){i.visible&&i.axis===t&&(n.push(i.dataset),e[i.dataset]||(e[i.dataset]=[]),e[i.dataset].push(i))}),{seriesForDataset:e,datasetsForSide:n}},n.prototype.getByAxisSide=function(t){if(!i.AxisOptions.isValidSide(t))throw new TypeError("Cannot get axis side : "+t);if(!this.axes[t]){if(t===i.AxisOptions.SIDE.Y2)return this.axes[i.AxisOptions.SIDE.Y];if(t===i.AxisOptions.SIDE.X2)return this.axes[i.AxisOptions.SIDE.X]}return this.axes[t]},n.prototype.getSeriesByType=function(t){if(!i.SeriesOptions.isValidType(t))throw new TypeError("Unknown series type: "+t);return this.series.filter(function(i){return i.hasType(t)})},n.prototype.getSymbolsByType=function(t){if(!i.SymbolOptions.isValidType(t))throw new TypeError("Unknown symbols type: "+t);return this.symbols.filter(function(i){return i.type===t})},n.getBoolean=function(t,i){return void 0===i&&(i=!0),"boolean"==typeof t?t:i},n.getNumber=function(t,i){var n=parseFloat(t);return isNaN(n)?i:n},n.getDate=function(t,i){return t instanceof Date?t:i},n.getFunction=function(t){return t instanceof Function?t:void 0},n.getString=function(t,i){return t?String(t):i},n.getIdentifier=function(t){var i=n.getString(t);return i.replace(/[^a-zA-Z0-9\-_]/gi,"")},n.getObject=function(i,n){if(void 0===n&&(n={}),!t.Utils.ObjectUtils.isObject(i))throw TypeError(i+" option must be an object.");return t.Utils.ObjectUtils.extend(n,i)},n.getArray=function(t,i){return void 0===i&&(i=[]),i.concat(t)},n}();i.Options=n}(i=t.Options||(t.Options={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function t(){this.strictMode=!0}return t.prototype.init=function(t){var i=this;this._dispatch=d3.dispatch.apply(this,t);var n=(new Date).getTime();return d3.select(window).on("mouseup."+n,function(){i.trigger("window-mouseup")}),d3.select(window).on("mousemove."+n,function(){i.trigger("window-mousemove")}),this},t.prototype.update=function(t,i){this.data=t,this.options=i},t.prototype.on=function(i,n){if(this.strictMode&&-1===t.EVENTS.indexOf(i.split(".")[0]))throw new Error("Unknown event: "+i);return this._dispatch.on(i,n),this},t.prototype.trigger=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return this._dispatch[t].apply(this,i),this},t.prototype.triggerDataAndOptions=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return i.push(this.data),i.push(this.options),this._dispatch[t].apply(this,i),this},t.prototype.datumEnter=function(t,i){var n=this;return function(e){return e.on("mouseenter",function(e,o){n.trigger("enter",e,o,t,i)})}},t.prototype.datumOver=function(t,i){var n=this;return function(e){return e.on("mouseover",function(e,o){n.trigger("over",e,o,t,i)})}},t.prototype.datumMove=function(t,i){var n=this;return function(e){return e.on("mousemove",function(e,o){n.trigger("over",e,o,t,i)})}},t.prototype.datumLeave=function(t,i){var n=this;return function(e){return e.on("mouseleave",function(e,o){n.trigger("leave",e,o,t,i)})}},t.prototype.listenForDblClick=function(t,i,n){var e,o,s=this,r=5,a=null,c=function(t,i){return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))};return t.on("mousedown.dbl."+n,function(){e=d3.mouse(document.body),o=(new Date).getTime()}),t.on("mouseup.dbl."+n,function(){!e||c(e,d3.mouse(document.body))>r||(a&&s.options.doubleClickEnabled?(window.clearTimeout(a),a=null,i(d3.event)):a=window.setTimeout(function(t){return function(){a=null}}(d3.event),300))}),t},t.EVENTS=["create","update","data-update","resize","destroy","enter","over","move","leave","click","dblclick","legend-click","legend-over","legend-out","container-over","container-move","container-out","focus","toggle","outer-world-hover","outer-world-domain-change","pan","pan-end","zoom","zoom-end","zoom-pan-reset","window-mouseup","window-mousemove"],t}();t.EventManager=i}(i=t.Utils||(t.Utils={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function t(){this._factoryStack=[]}return t.prototype.index=function(t){return this._factoryStack.map(function(t){return t.key}).indexOf(t)},t.prototype.getBoundFunction=function(t,i){var n=this.get(t);return n?n[i].bind(n):null},t.prototype.get=function(t){var i=this.index(t);return i>-1?this._factoryStack[i].instance:null},t.prototype.all=function(){return this._factoryStack},t.prototype.turnFactoriesOff=function(t){var i=this,n=[];return t.forEach(function(t){var e=i.get(t);e.isOn()&&(e.off(),n.push(t))}),function(){return i.turnFactoriesOn(n)}},t.prototype.turnFactoriesOn=function(t){var i=this,n=[];return t.forEach(function(t){var e=i.get(t);e.isOff()&&(e.on(),n.push(t))}),function(){return i.turnFactoriesOff(n)}},t.prototype.registerMany=function(t){var i=this;return t.forEach(function(t){i.register.apply(i,t)}),this},t.prototype.register=function(t,i){for(var n=[],e=2;e<arguments.length;e++)n[e-2]=arguments[e];var o=i.bind.apply(i,[null].concat(n)),s=new o;return this._factoryStack.push({key:t,instance:s}),s},t.prototype.unregister=function(t){var i=this.index(t);return i>-1&&delete this._factoryStack[i],this},t}();t.FactoryManager=i}(i=t.Utils||(t.Utils={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function t(t,i){this.fromJS(t,i)}return t.prototype.fromJS=function(t,i){this.id=i,this.values=t},t}();t.Dataset=i}(i=t.Utils||(t.Utils={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function i(t){t&&this.fromJS(t)}return i.prototype.fromJS=function(i){var n={};for(var e in i)i.hasOwnProperty(e)&&(n[e]=new t.Dataset(i[e],e));this.sets=n},i.prototype.getDatasets=function(t,i){var n=this;return t.map(function(t){return n.getDatasetValues(t,i)})},i.prototype.getDatasetValues=function(t,i){if(!this.sets||!this.sets[t.dataset].values)return[];var n,e=i.getAbsKey();return n=t.key.y0?function(i){return{x:i[e],y1:i[t.key.y1],y0:i[t.key.y0]}}:function(i){return{x:i[e],y1:i[t.key.y1],y0:0}},this.sets[t.dataset].values.map(n)},i.getMinDistance=function(t,i,n,e){return void 0===n&&(n="x"),d3.min(t.map(function(t){return t.map(function(t){return i.scale(t[n])}).filter(function(t){return e?t>=e[0]&&t<=e[1]:!0}).reduce(function(t,i,n,e){var o=n>0?i-e[n-1]:Number.MAX_VALUE;return t>o?o:t},Number.MAX_VALUE)}))},i}();t.Data=i}(i=t.Utils||(t.Utils={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function t(){}return t.debounce=function(t,i){var n=this,e=null;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s-0]=arguments[s];e&&window.clearTimeout(e),e=window.setTimeout(function(){return t.apply(n,o)},i)}},t}();t.FunctionUtils=i;var n=function(){function t(){}return t.generate=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=16*Math.random()|0,n="x"===t?i:3&i|8;return n.toString(16)})},t}();t.UUID=n}(i=t.Utils||(t.Utils={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function i(){}return i.isFunction=function(t){return t instanceof Function},i.isDate=function(t){return t instanceof Date},i.isObject=function(t){return!(t instanceof Array)&&t instanceof Object},i.isArray=function(t){return t instanceof Array},i.isBoolean=function(t){return t===!0||t===!1},i.isReference=function(t){return t instanceof Array||t instanceof Object},i.sameType=function(t,n){return i.isArray(t)&&i.isArray(n)?!0:i.isObject(t)&&i.isObject(n)?!0:typeof t==typeof n},i.extend=function(n,e){var o=i.copy,s=i.extend,r=i.sameType,a=i.isReference,c=i.isFunction,u=t.ObjectUtils.copy(n);if(!e)return u;for(var p in e)e.hasOwnProperty(p)&&(n.hasOwnProperty(p)&&r(n[p],e[p])?r(n[p],e[p])&&(c(n[p])?u[p]=e[p]:a(n[p])?u[p]=s(n[p],e[p]):u[p]=e[p]):u[p]=o(e[p]));return u},i.copy=function(t){if(i.isDate(t))return new Date(t.getTime());if(i.isFunction(t))return t;if(t instanceof Array){for(var n=t.length,e=[],o=0;n>o;o++)e[o]=i.copy(t[o]);return e}if(t instanceof Object){var e={};for(var s in t)t.hasOwnProperty(s)&&(e[s]=i.copy(t[s]));return e}return t},i}();t.ObjectUtils=i}(i=t.Utils||(t.Utils={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(){function t(){this.enabled=!0}return t.prototype.init=function(t,i,n){this.key=t,this.eventMgr=i,this.factoryMgr=n,this.eventMgr.on("create."+this.key,this.create.bind(this)),this.eventMgr.on("update."+this.key,this.update.bind(this)),this.eventMgr.on("destroy."+this.key,this.destroy.bind(this))},t.prototype.on=function(){this.enabled=!0},t.prototype.off=function(){this.enabled=!1},t.prototype.isOn=function(){return this.enabled===!0},t.prototype.isOff=function(){return this.enabled===!1},t.prototype.create=function(t){},t.prototype.update=function(t,i){},t.prototype.destroy=function(){},t}();t.BaseFactory=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){"use strict";var n=function(i){function n(n){i.call(this),this.element=n,this.dim=new t.Options.Dimensions}return __extends(n,i),n.prototype.create=function(t){var i=this;this.dim.updateMargins(t),this.listenToElement(this.element,t),this.createRoot(),this.createContainer(),this.dim.fromParentElement(this.element.parentElement),this.eventMgr.on("resize",function(){i.dim.fromParentElement(i.element.parentElement),i.update()}),this.eventMgr.listenForDblClick(this.svg,function(){i.eventMgr.trigger("zoom-pan-reset",!0)},this.key),this.eventMgr.on("zoom-pan-reset."+this.key,function(t){i.eventMgr.triggerDataAndOptions("update")})},n.prototype.listenToElement=function(t,i){var n=this.eventMgr;t.addEventListener("mouseover",function(t){n.triggerDataAndOptions.apply(n,["container-over",t])}),t.addEventListener("mousemove",function(t){n.triggerDataAndOptions.apply(n,["container-move",t])}),t.addEventListener("mouseout",function(t){n.triggerDataAndOptions.apply(n,["container-out",t])})},n.prototype.getCoordinatesFromEvent=function(t){var i=this.getDimensions(),n=t.currentTarget.getBoundingClientRect(),e=n.left,o=n.top,s=this.factoryMgr.get("x-axis"),r=s.invert(t.clientX-e-i.margin.left),a=this.factoryMgr.get("y-axis"),c=a.invert(t.clientY-o-i.margin.top);return{y:c,x:r}},n.prototype.update=function(){this.updateRoot(),this.updateContainer()},n.prototype.destroy=function(){this.destroyRoot()},n.prototype.createRoot=function(){this.svg=d3.select(this.element).append("svg").attr("class","chart"),this.defs=this.svg.append("defs")},n.prototype.updateRoot=function(){this.svg.attr("width",this.dim.width).attr("height",this.dim.height)},n.prototype.destroyRoot=function(){this.svg.remove()},n.prototype.createContainer=function(){this.vis=this.svg.append("g").attr("class","container"),this.axes=this.vis.append("g").attr("class","axes"),this.clippingPathId="clipping-path-"+t.Utils.UUID.generate(),this.defs.append("svg:clipPath").attr("id",this.clippingPathId).append("svg:rect").attr("id","clipping-rect"),this.data=this.vis.append("g").attr({"class":"data","clip-path":"url(#"+this.clippingPathId+")"}),this.overlay=this.vis.append("g").attr("class","overlay"),this.symbols=this.overlay.append("g").attr({"class":"symbols","clip-path":"url(#"+this.clippingPathId+")"})},n.prototype.updateContainer=function(){this.vis.attr({width:this.dim.innerWidth,height:Math.max(this.dim.innerHeight,0),transform:"translate("+this.dim.margin.left+", "+this.dim.margin.top+")"}),d3.select(this.element).select("#clipping-rect").attr({width:Math.max(this.dim.innerWidth,0),height:Math.max(this.dim.innerHeight,0)})},n.prototype.getDimensions=function(){return this.dim},n}(i.BaseFactory);i.Container=n}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){"use strict";var n=function(i){function n(t){i.call(this),this.element=t}return __extends(n,i),n.prototype.off=function(){i.prototype.off.call(this),this.hide()},n.prototype.create=function(t){this.options=t,this.createTooltip(),this.eventMgr.on("container-move.tooltip",this.show.bind(this)),this.eventMgr.on("container-out.tooltip",this.hide.bind(this)),this.eventMgr.on("outer-world-hover.tooltip",this.showFromCoordinates.bind(this)),this.hide()},n.prototype.update=function(t,i){this.options=i},n.prototype.createTooltip=function(){var t=this.svg=d3.select(this.element).append("div").attr("class","chart-tooltip");t.append("div").attr("class","abscissas"),this.line=this.factoryMgr.get("container").overlay.append("line").attr("class","tooltip-line"),this.dots=this.factoryMgr.get("container").overlay.append("g").attr("class","tooltip-dots")},n.prototype.destroy=function(){this.svg.remove()},n.prototype.getClosestRows=function(t,i,n){for(var e=n.series.filter(function(t){return t.visible}),o=e.map(function(t){return i.getDatasetValues(t,n).filter(t.defined)}),s=[],r=-1,a=Number.POSITIVE_INFINITY,c=[],u=0;u<o.length;u++)for(var p=0;p<o[u].length;p++){if("date"===n.axes.x.type)var h=Math.abs(o[u][p].x.getTime()-t);else var h=Math.abs(o[u][p].x-t);var l=e[u];h===a&&-1===c.indexOf(l)?(s.push({series:l,row:o[u][p]}),c.push(l)):a>h&&(a=h,s=[{series:e[u],row:o[u][p]}],c=[l],r=p)}return{rows:s,index:r}},n.prototype.showFromCoordinates=function(t,i,n){if(!this.isOff()){var e=t.x,o=t.y;if(void 0===e||void 0===o)return void this.hide(void 0,i,n);e instanceof Date&&(e=e.getTime());var s=this.getClosestRows(e,i,n),r=s.rows,a=s.index;if(0===r.length)return void this.hide(void 0,i,n);this.updateTooltipDots(r),this.dots.style("opacity","1"),this.updateLinePosition(r),this.line.style("opacity","1");var c=this.getTooltipContent(r,a,n);n.tooltipHook&&(c=n.tooltipHook(r)),c&&(this.updateTooltipContent(c,a,n),this.updateTooltipPosition(r),this.svg.style("display",null))}},n.prototype.show=function(t,i,n){if(!this.isOff()){var e=this.factoryMgr.get("container"),o=e.getCoordinatesFromEvent(t);this.showFromCoordinates(o,i,n)}},n.prototype.hide=function(t,i,n){this.svg.style("display","none"),this.line.style("opacity","0"),this.dots.style("opacity","0"),n&&n.tooltipHook&&n.tooltipHook(void 0)},n.prototype.getTooltipContent=function(i,n,e){var o=e.getByAxisSide(t.Options.AxisOptions.SIDE.X).tickFormat,s=function(t){return e.getByAxisSide(t).tickFormat},r=function(t){var i=s(t.series.axis),e=i?function(t){return i(t,n)}:function(t){return t},o=e(t.row.y1);return t.series.hasTwoKeys()?"["+e(t.row.y0)+", "+o+"]":o};return{abscissas:o?o(i[0].row.x,n):i[0].row.x,rows:i.map(function(t){return{label:t.series.label,value:r(t),color:t.series.color,id:t.series.id}})}},n.prototype.updateTooltipContent=function(t,i,n){this.svg.select(".abscissas").text(t.abscissas);var e=function(t){return t.attr({"class":"tooltip-item"}),t.append("div").attr({"class":"color-dot"}).style({"background-color":function(t){return t.color}}),t.append("div").attr({"class":"series-label"}),t.append("div").attr({"class":"y-value"}),t},o=function(t){return t.select(".series-label").text(function(t){return t.label}),t.select(".y-value").text(function(t){return t.value}),t},s=this.svg.selectAll(".tooltip-item").data(t.rows,function(t,i){return t.id?t.id:i});s.enter().append("div").call(e).call(o),s.call(o),s.exit().remove()},n.prototype.updateTooltipDots=function(t){var i=this,n=this.factoryMgr.get("x-axis").scale,e=function(t){return i.factoryMgr.get(t+"-axis").scale},o=3,s=function(t){t.attr("class","tooltip-dots-group"),t.append("circle").attr({"class":"tooltip-dot y1"}).on("click",function(t,n){i.eventMgr.trigger("click",t.row,n,t.series,i.options)}),t.append("circle").attr({"class":"tooltip-dot y0"}).style({display:function(t){return t.series.hasTwoKeys()?null:"none"}}).on("click",function(t,n){i.eventMgr.trigger("click",t.row,n,t.series,i.options)})},r=function(t){t.select(".tooltip-dot.y1").attr({r:function(t){return o},cx:function(t){return n(t.row.x)},cy:function(t){return e(t.series.axis)(t.row.y1)},stroke:function(t){return t.series.color}}),t.select(".tooltip-dot.y0").attr({r:function(t){return t.series.hasTwoKeys()?o:null},cx:function(t){return t.series.hasTwoKeys()?n(t.row.x):null},cy:function(t){return t.series.hasTwoKeys()?e(t.series.axis)(t.row.y0):null},stroke:function(t){return t.series.hasTwoKeys()?t.series.color:null}})},a=this.dots.selectAll(".tooltip-dots-group").data(t);a.enter().append("g").call(s).call(r),a.call(r),a.exit().remove()},n.prototype.updateTooltipPosition=function(t){var i=t.slice(-1)[0],n=this.factoryMgr.get("x-axis"),e=(this.factoryMgr.get("y-axis").scale,this.factoryMgr.get("container").getDimensions().margin),o=this.element.offsetLeft,s=this.element.offsetTop,r=0,a="";n.isInLastHalf(i.row.x)?(a="translate(-100%, 0)",r=-10):r=10,this.svg.style({left:o+e.left+n.scale(i.row.x)+r+"px",top:s+e.top+"px",transform:a})},n.prototype.updateLinePosition=function(t){var i=this.factoryMgr.get("container"),n=i.getDimensions(),e=t.slice(-1)[0],o=this.factoryMgr.get("x-axis"),s=o.scale(e.row.x);this.line.attr({x1:s,x2:s,y1:-n.margin.top,y2:n.innerHeight})},n}(i.BaseFactory);i.Tooltip=n}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(t){function i(i){t.call(this),this.element=i}return __extends(i,t),i.prototype.create=function(){this.createLegend()},i.prototype.createLegend=function(){this.div=d3.select(this.element).append("div").attr("class","chart-legend").style("position","absolute")},i.prototype.legendClick=function(){var t=this;return function(i){return i.on("click",function(i){t.eventMgr.trigger("legend-click",i)})}},i.prototype.update=function(t,i){var n=this,e=this.factoryMgr.get("container"),o=(e.getDimensions(),function(t){var i=t.append("div").attr({"class":"item"}).call(n.legendClick());i.append("div").attr({"class":"icon"}),i.append("div").attr({"class":"legend-label"})}),s=function(t){t.attr("class",function(t){return"item "+t.type.join(" ")}).classed("legend-hidden",function(t){return!t.visible}),t.select(".icon").style("background-color",function(t){return t.color}),t.select(".legend-label").text(function(t){return t.label})},r=this.div.selectAll(".item").data(i.series);r.enter().call(o),r.call(s),r.exit().remove()},i.prototype.destroy=function(){this.div.remove()},i}(t.BaseFactory);t.Legend=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){"use strict";var n=function(i){function n(n){var e=this;if(i.call(this),this.side=n,!t.Options.AxisOptions.isValidSide(n))throw new TypeError("Wrong axis side : "+n);this.scale=function(t){return e._scale.call(e,t)}}return __extends(n,i),n.prototype.range=function(){return this._scale.range()},n.prototype.getDomain=function(){return this._scale.domain()},n.prototype.setDomain=function(t){return this._scale.domain.call(this,t)},n.prototype.create=function(){var t=this.factoryMgr.get("container").axes;this.createAxis(t),this.eventMgr.on("pan."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("zoom-end."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("outer-world-domain-change."+this.key,this.updateFromOuterWorld.bind(this)),this.eventMgr.on("resize."+this.key,this.onResize.bind(this))},n.prototype.updateFromOuterWorld=function(t){this.updateScaleDomain(t[this.side]),this.softUpdate()},n.prototype.softUpdate=function(){this.factoryMgr.get("transitions").isOn()?this.svg.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).call(this.d3axis):this.svg.call(this.d3axis)},n.prototype.onResize=function(){var t=this.factoryMgr.get("container"),i=t.getDimensions();this.updateScaleRange(i,this.options),this.updateAxisContainer(i),this.softUpdate()},n.prototype.getDimensions=function(){var t=this.factoryMgr.get("container");return t.getDimensions()},n.prototype.update=function(t,i){var n=this.getDimensions(),e=this.getExtent(t,i);this.options=i.getByAxisSide(this.side),this._scale=this.getScale(),this.updateScaleRange(n,this.options),this.updateScaleDomain(e),this.d3axis=this.getAxis(this._scale,this.options),this.updateAxisOrientation(this.d3axis),this.updateAxisContainer(n),this.shiftAxisTicks(this.options)},n.prototype.shiftAxisTicks=function(t){var i=t.ticksShift,n=i.x,e=i.y;this.svg.selectAll("text").attr("transform","translate("+n+", "+e+")")},n.prototype.destroy=function(){this.destroyAxis()},n.prototype.updateScaleRange=function(t,i){this.isAbscissas()?this._scale.range([i.padding.min,t.innerWidth-i.padding.max]):this._scale.range([t.innerHeight-i.padding.min,i.padding.max])},n.prototype.updateScaleDomain=function(t){this._scale.domain(t)},n.prototype.getScaleDomain=function(){return this._scale?this._scale.domain():[0,1]},n.prototype.getExtent=function(i,n){var e=n.getByAxisSide(this.side),o=void 0;if(this.isAbscissas()){var s=n.getVisibleDatasets(),r=n.getAbsKey(),a=[];s.forEach(function(t){var n=i.sets[t].values;a=a.concat(n.map(function(t){return t[r]}))}),o=d3.extent(a)}else{var c=e.includeZero?[0]:[],u=e.includeZero?[0]:[],p=n.getVisibleSeriesBySide(this.side);this.side===t.Options.AxisOptions.SIDE.Y2&&0===p.length&&(p=n.getVisibleSeriesBySide(t.Options.AxisOptions.SIDE.Y)),p.forEach(function(t){var e=i.getDatasetValues(t,n);e.forEach(function(i){t.defined&&!t.defined(i)||(c.push(i.y0||i.y1),u.push(i.y1))})}),o=[d3.min(c),d3.max(u)],0===o[0]&&0===o[1]&&(o=[0,1]);
}return void 0!==e.min&&(o[0]=e.min),void 0!==e.max&&(o[1]=e.max),o},n.prototype.isAbscissas=function(){return-1!==[t.Options.AxisOptions.SIDE.X,t.Options.AxisOptions.SIDE.X2].indexOf(this.side)},n.prototype.isInLastHalf=function(t){var i=function(t){return t};t instanceof Date&&(i=function(t){return t.getTime()});var n=this._scale.domain(),e=n[0],o=n[1];return i(t)>i(e)+(i(o)-i(e))/2},n.prototype.createAxis=function(t){this.svg=t.append("g").attr("class","axis "+this.side+"-axis")},n.prototype.updateAxisOrientation=function(i){this.isAbscissas()?this.side===t.Options.AxisOptions.SIDE.X?i.orient("bottom"):i.orient("top"):this.side===t.Options.AxisOptions.SIDE.Y?i.orient("left"):i.orient("right")},n.prototype.updateAxisContainer=function(i){this.isAbscissas()?this.side===t.Options.AxisOptions.SIDE.X?this.svg.attr("transform","translate(0, "+i.innerHeight+")"):this.svg.attr("transform","translate(0, 0)"):this.side===t.Options.AxisOptions.SIDE.Y?this.svg.attr("transform","translate(0, 0)"):this.svg.attr("transform","translate("+i.innerWidth+", 0)"),this.softUpdate()},n.prototype.destroyAxis=function(){this.svg.remove()},n.prototype.invert=function(t){return this._scale.invert(t)},n.prototype.isTimeAxis=function(){return this.options.type===t.Options.AxisOptions.TYPE.DATE},n.prototype.getScale=function(){return this.options&&this.options.type===t.Options.AxisOptions.TYPE.DATE?d3.time.scale():this.options&&this.options.type===t.Options.AxisOptions.TYPE.LOG?d3.scale.log():d3.scale.linear()},n.prototype.getAxis=function(i,n){var e;return e=n.hasDynamicTicks()?t.svg.twoSpeedAxis().scale(i):d3.svg.axis().scale(i),n.configure(e),e},n.prototype.cloneAxis=function(){var i;return i=this.options&&this.options.hasDynamicTicks()?t.svg.twoSpeedAxis().ticks(this.d3axis.ticks()):d3.svg.axis().ticks(this.d3axis.ticks()[0]),i.scale(this.d3axis.scale()).orient(this.d3axis.orient()).tickValues(this.d3axis.tickValues()).tickSize(this.d3axis.tickSize())},n}(i.BaseFactory);i.Axis=n}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.create=function(){this.svg=this.factoryMgr.get("container").axes.insert("g",":first-child").attr("class","grid"),this.svg.append("g").classed("x-grid",!0),this.svg.append("g").classed("y-grid",!0),this.eventMgr.on("resize."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("pan."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("zoom-end."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("outer-world-domain-change."+this.key,this.softUpdate.bind(this))},i.prototype.softUpdate=function(){var t=this.factoryMgr.get("container"),i=t.getDimensions();if(this.xAxis){var n=this.svg.select(".x-grid");this.factoryMgr.get("transitions").isOn()&&(n=n.transition().call(this.factoryMgr.getBoundFunction("transitions","edit"))),n.attr("transform","translate(0, "+i.innerHeight+")").call(this.xAxis.tickSize(-i.innerHeight,0))}if(this.yAxis){var n=this.svg.select(".y-grid");this.factoryMgr.get("transitions").isOn()&&(n=n.transition().call(this.factoryMgr.getBoundFunction("transitions","edit"))),n.call(this.yAxis.tickSize(-i.innerWidth,0))}},i.prototype._updateVisibility=function(t){this.svg.select(".x-grid").style("display",t.grid.x?null:"none"),this.svg.select(".y-grid").style("display",t.grid.y?null:"none")},i.prototype.update=function(t,i){var n=this.factoryMgr.get("container"),e=n.getDimensions();i.grid.x&&(this.xAxis=this.factoryMgr.get("x-axis").cloneAxis().tickSize(-e.innerHeight,0),this.svg.select(".x-grid").transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).attr("transform","translate(0, "+e.innerHeight+")").call(this.xAxis)),i.grid.y&&(this.yAxis=this.factoryMgr.get("y-axis").cloneAxis(),this.svg.select(".y-grid").transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).call(this.yAxis.tickSize(-e.innerWidth,0))),this._updateVisibility(i)},i.prototype.destroy=function(){this.svg.remove()},i}(t.BaseFactory);t.Grid=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(t){function i(){t.apply(this,arguments),this.isActive=!1}return __extends(i,t),i.prototype.create=function(){this.rect=this.factoryMgr.get("container").svg.append("rect").attr("class","chart-brush")},i.prototype.constrainOutgoingDomains=function(t){this.zoomOnX||delete t.x,this.zoomOnY||delete t.y},i.prototype.update=function(t,i){var n=this.factoryMgr.get("container").getDimensions(),e=n.margin,o=e.left,s=e.top;this.zoomOnX=i.zoom.x,this.zoomOnY=i.zoom.y,(this.zoomOnX||this.zoomOnY)&&(this.xStartFn=this.zoomOnX?function(t){return t}:function(t){return o},this.xEndFn=this.zoomOnX?function(t){return t}:function(t){return n.innerWidth+o},this.yStartFn=this.zoomOnY?function(t){return t}:function(t){return s},this.yEndFn=this.zoomOnY?function(t){return t}:function(t){return n.innerHeight+s},this.registerEvents(this.factoryMgr.get("container")))},i.prototype.show=function(t){var i=t.xStart,n=t.xEnd,e=t.yStart,o=t.yEnd;s=i>n?[n,i]:[i,n],i=s[0],n=s[1],r=e>o?[o,e]:[e,o],e=r[0],o=r[1],this.rect.attr({x:i,width:n-i,y:e,height:o-e}).style("opacity","1");var s,r},i.prototype.hide=function(){this.rect.style("opacity","0")},i.prototype.updateAxes=function(t){var i=t.xStart,n=t.xEnd,e=t.yStart,o=t.yEnd;f=i>n?[n,i]:[i,n],i=f[0],n=f[1],d=e>o?[o,e]:[e,o],e=d[0],o=d[1];var s=this.factoryMgr.get("container").getDimensions(),r=s.margin,a=r.left,c=r.top,u=this.factoryMgr.get("x-axis"),p=this.factoryMgr.get("x2-axis");u.setDomain([u.invert(i-a),u.invert(n-a)]),p.setDomain(u.getDomain());var h=this.factoryMgr.get("y-axis"),l=this.factoryMgr.get("y2-axis");h.setDomain([h.invert(o-c),h.invert(e-c)]),l.setDomain([l.invert(o-c),l.invert(e-c)]);var f,d},i.prototype.registerEvents=function(t){var i,n,e,o,s,r=this,a=function(t){return t+"."+r.key},c=function(){r.isActive=!1,r.hide(),void 0!==n&&void 0!==o&&(r.updateAxes({xStart:i,xEnd:n,yStart:e,yEnd:o}),r.eventMgr.trigger("zoom-end"),i=n=e=o=void 0,s()),r.eventMgr.on(a("window-mouseup"),null)};t.svg.on(a("mousedown"),function(){var t=d3.event;if(0===t.button){t.altKey&&(s=r.factoryMgr.turnFactoriesOff(["tooltip"]),r.isActive=!0,r.eventMgr.on(a("window-mouseup"),c),n=d3.mouse(t.currentTarget),i=n[0],e=n[1],i=r.xStartFn(i),e=r.yStartFn(e));var n}}).on(a("mousemove"),function(){r.isActive&&(t=d3.mouse(d3.event.currentTarget),n=t[0],o=t[1],n=r.xEndFn(n),o=r.yEndFn(o),r.show({xStart:i,xEnd:n,yStart:e,yEnd:o}),r.eventMgr.trigger("zoom"));var t})},i}(t.BaseFactory);t.Zoom=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(t){function i(){t.apply(this,arguments),this.isActive=!1,this.hasMoved=!1}return __extends(i,t),i.prototype.constrainDomains=function(t){t.x=this.options.x(t.x),t.x2=this.options.x2(t.x2),t.y=this.options.y(t.y),t.y2=this.options.y2(t.y2)},i.prototype.move=function(t){var i=t.x,n=t.x2,e=t.y,o=t.y2,s=this.factoryMgr.get("x-axis"),r=this.factoryMgr.get("x2-axis"),a=this.factoryMgr.get("y-axis"),c=this.factoryMgr.get("y2-axis");i&&s.setDomain(i),n&&r.setDomain(n),e&&a.setDomain(e),o&&c.setDomain(o)},i.prototype.getNewDomains=function(t,i,n,e){var o=this.factoryMgr.get("x-axis"),s=this.factoryMgr.get("x2-axis"),r=this.factoryMgr.get("y-axis"),a=this.factoryMgr.get("y2-axis");return{x:o.range().map(function(i){return i+t}).map(o.invert,o),x2:s.range().map(function(t){return t+i}).map(s.invert,o),y:r.range().map(function(t){return t+n}).map(r.invert,r),y2:a.range().map(function(t){return t+e}).map(a.invert,a)}},i.prototype.update=function(t,i){var n=this;this.options=i.pan;var e,o,s,r=this.factoryMgr.get("container"),a=function(t){return t+"."+n.key},c=function(){n.hasMoved&&n.eventMgr.trigger("pan-end"),s&&s(),n.isActive=n.hasMoved=!1,s=void 0,n.eventMgr.on(a("window-mouseup"),null),n.eventMgr.on(a("window-mousemove"),null)},u=function(){if(n.isActive){var t=d3.mouse(r.svg.node()),i=t[0],a=t[1],c=n.getNewDomains(e-i,e-i,o-a,o-a);n.constrainDomains(c);var u=c.x,p=c.x2,h=c.y,l=c.y2;(u||p||h||l)&&(s||(s=n.factoryMgr.turnFactoriesOff(["tooltip","transitions"])),n.hasMoved=!0,n.move(c),n.eventMgr.trigger("pan")),f=[i,a],e=f[0],o=f[1]}var f};r.svg.on(a("mousedown"),function(){var t=d3.event;if(0===t.button){t.altKey||(n.isActive=!0,i=d3.mouse(t.currentTarget),e=i[0],o=i[1],n.eventMgr.on(a("window-mouseup"),c),n.eventMgr.on(a("window-mousemove"),u));var i}})},i}(t.BaseFactory);t.Pan=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(t){function i(){t.apply(this,arguments),this.duration=i.defaultDuration,this.ease="cubic"}return __extends(i,t),i.prototype.off=function(){t.prototype.off.call(this),this.duration=0},i.prototype.on=function(){t.prototype.on.call(this),this.duration=i.defaultDuration},i.prototype.enter=function(t){var i=this.duration,n=this.ease,e=t[0].length,o=function(t,n){return e?n/e*i:0};t.duration(i).delay(o).ease(n)},i.prototype.edit=function(t){var i=this.duration,n=this.ease,e=0;t.duration(i).delay(e).ease(n)},i.prototype.exit=function(t){var i=this.duration,n=this.ease,e=0;t.duration(i).delay(e).ease(n)},i.defaultDuration=250,i}(t.BaseFactory);t.Transition=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(n){"use strict";var e=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),n.prototype.create=function(){this.svg=this.factoryMgr.get("container").symbols.append("g").attr({"class":"hlines"}),this.eventMgr.on("resize."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("pan."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("zoom-end."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("outer-world-domain-change."+this.key,this.softUpdate.bind(this))},n.prototype.softUpdate=function(){var i=this.factoryMgr.get("x-axis"),n={y:this.factoryMgr.get("y-axis"),y2:this.factoryMgr.get("y2-axis")},e=this.svg.selectAll(".hline").data(this.options.getSymbolsByType(t.Options.SymbolOptions.TYPE.HLINE),function(t){return t.id}),o=function(t){t.attr("class","hline").style({opacity:0,stroke:function(t){return t.color}})},s=function(t){t.attr({x1:i.scale(i.getDomain()[0]),x2:i.scale(i.getDomain()[1]),y1:function(t){return n[t.axis].scale(t.value)},y2:function(t){return n[t.axis].scale(t.value)}}).style({opacity:1})};this.factoryMgr.get("transitions").isOn()?(e.enter().append("svg:line").call(o).transition().call(this.factoryMgr.getBoundFunction("transitions","enter")).call(s),e.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).call(s),e.exit().transition().call(this.factoryMgr.getBoundFunction("transitions","exit")).style("opacity",0).each("end",function(){d3.select(this).remove()})):(e.enter().append("svg:line").call(o),e.call(s),e.exit().remove())},n.prototype.update=function(t,i){this.options=i,this.softUpdate()},n.prototype.destroy=function(){this.svg.remove()},n}(i.BaseFactory);n.HLine=e}(n=i.Symbols||(i.Symbols={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(n){"use strict";var e=function(i){function n(){i.apply(this,arguments)}return __extends(n,i),n.prototype.create=function(){this.svg=this.factoryMgr.get("container").symbols.append("g").attr({"class":"vlines"}),this.eventMgr.on("resize."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("pan."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("zoom-end."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("outer-world-domain-change."+this.key,this.softUpdate.bind(this))},n.prototype.softUpdate=function(){var i=this.factoryMgr.get("x-axis"),n=this.factoryMgr.get("y-axis"),e=this.svg.selectAll(".vline").data(this.options.getSymbolsByType(t.Options.SymbolOptions.TYPE.VLINE),function(t){return t.id}),o=function(t){t.attr("class","vline").style({opacity:0,stroke:function(t){return t.color}})},s=function(t){t.attr({x1:function(t){return i.scale(t.value)},x2:function(t){return i.scale(t.value)},y1:n.scale(n.getDomain()[0]),y2:n.scale(n.getDomain()[1])}).style({opacity:1})};this.factoryMgr.get("transitions").isOn()?(e.enter().append("svg:line").call(o).transition().call(this.factoryMgr.getBoundFunction("transitions","enter")).call(s),e.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).call(s),e.exit().transition().call(this.factoryMgr.getBoundFunction("transitions","exit")).style("opacity",0).each("end",function(){d3.select(this).remove()})):(e.enter().append("svg:line").call(o),e.call(s),e.exit().remove())},n.prototype.update=function(t,i){this.options=i,this.softUpdate()},n.prototype.destroy=function(){this.svg.remove()},n}(i.BaseFactory);n.VLine=e}(n=i.Symbols||(i.Symbols={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(i){"use strict";var n=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.create=function(){this.createContainer(this.factoryMgr.get("container").data),this.eventMgr.on("data-update."+this.type,this.update.bind(this)),this.eventMgr.on("pan."+this.type,this.softUpdate.bind(this)),this.eventMgr.on("zoom-end."+this.type,this.softUpdate.bind(this)),this.eventMgr.on("outer-world-domain-change."+this.key,this.softUpdate.bind(this)),this.eventMgr.on("resize."+this.type,this.softUpdate.bind(this))},i.prototype.update=function(t,i){this.data=t,this.options=i,this.softUpdate()},i.prototype.getAxes=function(t){return{xAxis:this.factoryMgr.get("x-axis"),yAxis:this.factoryMgr.get(t.axis+"-axis")}},i.prototype.softUpdate=function(){var t=this.options.getSeriesByType(this.type).filter(function(t){return t.visible});this.updateSeriesContainer(t)},i.prototype.destroy=function(){this.svg.remove()},i.prototype.createContainer=function(t){this.svg=t.append("g").attr("class",this.type+i.containerClassSuffix)},i.prototype.updateSeriesContainer=function(t){var n=this,e=this.svg.selectAll("."+this.type+i.seriesClassSuffix).data(t,function(t){return t.id});e.enter().append("g").attr({"class":function(t){return n.type+i.seriesClassSuffix+" "+t.id}}),this.styleSeries(e),this.updateSeries(e,t),e.exit().remove()},i.prototype.updateSeries=function(t,i){var n=this;t.each(function(t,e){var o=d3.select(this);n.updateData(o,t,e,i.length)})},i.prototype.updateData=function(t,i,n,e){},i.prototype.styleSeries=function(t){},i.containerClassSuffix="-data",i.seriesClassSuffix="-series",i}(t.Factory.BaseFactory);i.SeriesFactory=n}(n=i.Series||(i.Series={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(n){"use strict";var e=function(i){function n(){i.apply(this,arguments),this.type=t.Options.SeriesOptions.TYPE.DOT}return __extends(n,i),n.prototype.updateData=function(t,i,n,e){var o=this.getAxes(i),s=o.xAxis,r=o.yAxis,a=this.data.getDatasetValues(i,this.options).filter(i.defined),c=2,u=t.selectAll("."+this.type).data(a,function(t){return""+t.x}),p=function(t){t.attr({r:function(t){return c},cx:function(t){return s.scale(t.x)},cy:function(t){return r.range()[0]}})},h=function(t){t.attr({r:function(t){return c},cx:function(t){return s.scale(t.x)},cy:function(t){return r.scale(t.y1)}}).style("opacity",i.visible?1:0)};this.factoryMgr.get("transitions").isOn()?(u.enter().append("circle").attr("class",this.type).call(this.eventMgr.datumEnter(i,this.options)).call(this.eventMgr.datumOver(i,this.options)).call(this.eventMgr.datumMove(i,this.options)).call(this.eventMgr.datumLeave(i,this.options)).call(p).transition().call(this.factoryMgr.getBoundFunction("transitions","enter")).call(h),u.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).call(h),u.exit().transition().call(this.factoryMgr.getBoundFunction("transitions","exit")).call(p).each("end",function(){d3.select(this).remove()})):(u.enter().append("circle").attr("class",this.type).call(this.eventMgr.datumEnter(i,this.options)).call(this.eventMgr.datumOver(i,this.options)).call(this.eventMgr.datumMove(i,this.options)).call(this.eventMgr.datumLeave(i,this.options)).call(h),u.call(h),u.exit().remove())},n.prototype.styleSeries=function(t){t.style({stroke:function(t){return t.color}})},n}(i.Series.SeriesFactory);n.Dot=e}(n=i.Series||(i.Series={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(n){"use strict";var e=function(i){function n(){i.apply(this,arguments),this.type=t.Options.SeriesOptions.TYPE.LINE}return __extends(n,i),n.prototype.updateData=function(t,i,n,e){t.classed("dashed",i.isDashed());var o=this.getAxes(i),s=o.xAxis,r=o.yAxis,a=this.data.getDatasetValues(i,this.options),c=d3.svg.line().defined(i.defined).x(function(t){return s.scale(t.x)}).y(r.range()[0]).interpolate(i.interpolation.mode).tension(i.interpolation.tension),u=d3.svg.line().defined(i.defined).x(function(t){return s.scale(t.x)}).y(function(t){return r.scale(t.y1)}).interpolate(i.interpolation.mode).tension(i.interpolation.tension),p=t.selectAll("."+this.type).data([a]);this.factoryMgr.get("transitions").isOn()?(p.enter().append("path").attr("class",this.type).attr("d",function(t){return c(t)}).transition().call(this.factoryMgr.getBoundFunction("transitions","enter")).attr("d",function(t){return u(t)}),p.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).attr("d",function(t){return u(t)}).style("opacity",i.visible?1:0),p.exit().transition().call(this.factoryMgr.getBoundFunction("transitions","exit")).attr("d",function(t){return c(t)}).each("end",function(){d3.select(this).remove()})):(p.enter().append("path").attr("class",this.type).attr("d",function(t){return u(t)}),p.attr("d",function(t){return u(t)}).style("opacity",i.visible?1:0),p.exit().remove())},n.prototype.styleSeries=function(t){t.style({fill:"none",stroke:function(t){return t.color},"stroke-dasharray":function(t){return t.isDashed()?"10,3":void 0}})},n}(i.Series.SeriesFactory);n.Line=e}(n=i.Series||(i.Series={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(n){"use strict";var e=function(i){function n(){i.apply(this,arguments),this.type=t.Options.SeriesOptions.TYPE.AREA}return __extends(n,i),n.prototype.updateData=function(t,i,n,e){var o=this.getAxes(i),s=o.xAxis,r=o.yAxis,a=this.data.getDatasetValues(i,this.options),c=d3.svg.area().defined(i.defined).x(function(t){return s.scale(t.x)}).y0(r.range()[0]).y1(r.range()[0]).interpolate(i.interpolation.mode).tension(i.interpolation.tension),u=d3.svg.area().defined(i.defined).x(function(t){return s.scale(t.x)}).y0(function(t){return isNaN(r.scale(t.y0))?r.range()[0]:r.scale(t.y0)}).y1(function(t){return r.scale(t.y1)}).interpolate(i.interpolation.mode).tension(i.interpolation.tension),p=t.selectAll("."+this.type).data([a]);this.factoryMgr.get("transitions").isOn()?(p.enter().append("path").attr("class",this.type).attr("d",function(t){return c(t)}).transition().call(this.factoryMgr.getBoundFunction("transitions","enter")).attr("d",function(t){return u(t)}),p.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).attr("d",function(t){return u(t)}).style("opacity",i.visible?1:0),p.exit().transition().call(this.factoryMgr.getBoundFunction("transitions","exit")).attr("d",function(t){return c(t)}).each("end",function(){d3.select(this).remove()})):(p.enter().append("path").attr("class",this.type).attr("d",function(t){return u(t)}),p.attr("d",function(t){return u(t)}).style("opacity",i.visible?1:0),p.exit().remove())},n.prototype.styleSeries=function(t){t.style({fill:function(t){return t.color},stroke:function(t){return t.color}})},n}(i.Series.SeriesFactory);n.Area=e}(n=i.Series||(i.Series={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(i){var n;!function(n){"use strict";var e=function(i){function n(){i.apply(this,arguments),this.type=t.Options.SeriesOptions.TYPE.COLUMN,this.gapFactor=.2,this.outerPadding=this.gapFactor/2*3,this.columnsWidth=0}return __extends(n,i),n.prototype.softUpdate=function(){var t=this.options.getSeriesByType(this.type).filter(function(t){return t.visible});this.updateColumnsWidth(t,this.options),this.updateColumnScale(t,this.options),this.updateSeriesContainer(t)},n.prototype.update=function(t,i){this.data=t,this.options=i;var n=i.getSeriesByType(this.type).filter(function(t){return t.visible});this.updateColumnsWidth(n,i),this.updateColumnScale(n,i),this.updateSeriesContainer(n)},n.prototype.updateColumnsWidth=function(i,n){var e=this.factoryMgr.get("x-axis"),o=this.data.getDatasets(i,n),s=t.Utils.Data.getMinDistance(o,e,"x");this.columnsWidth=s<Number.MAX_VALUE?s/i.length:10},n.prototype.updateColumnScale=function(t,i){var n=this.columnsWidth*t.length/2;this.innerXScale=d3.scale.ordinal().domain(t.map(function(t){return t.id})).rangeBands([-n,n],0,.1)},n.prototype.getTooltipPosition=function(t){return this.innerXScale(t.id)+this.innerXScale.rangeBand()/2},n.prototype.updateData=function(t,i,n,e){var o=this,s=this.getAxes(i),r=s.xAxis,a=s.yAxis,c=this.data.getDatasetValues(i,this.options).filter(i.defined),u=function(t){return r.scale(t.x)+o.innerXScale(i.id)},p=function(t){t.attr({x:u,y:function(t){return a.scale(t.y0)},width:o.innerXScale.rangeBand(),height:0})},h=function(t){t.attr({x:u,y:function(t){return t.y1>0?a.scale(t.y1):a.scale(t.y0)},width:o.innerXScale.rangeBand(),height:function(t){return Math.abs(a.scale(t.y0)-a.scale(t.y1))}}).style("opacity",i.visible?1:0)},l=t.selectAll("."+this.type).data(c,function(t){return""+t.x});this.factoryMgr.get("transitions").isOn()?(l.enter().append("rect").attr("class",this.type).call(this.eventMgr.datumEnter(i,this.options)).call(this.eventMgr.datumOver(i,this.options)).call(this.eventMgr.datumMove(i,this.options)).call(this.eventMgr.datumLeave(i,this.options)).call(p).transition().call(this.factoryMgr.getBoundFunction("transitions","enter")).call(h),l.transition().call(this.factoryMgr.getBoundFunction("transitions","edit")).call(h),l.exit().transition().call(this.factoryMgr.getBoundFunction("transitions","exit")).call(p).each("end",function(){d3.select(this).remove()})):(l.enter().append("rect").attr("class",this.type).call(this.eventMgr.datumEnter(i,this.options)).call(this.eventMgr.datumOver(i,this.options)).call(this.eventMgr.datumMove(i,this.options)).call(this.eventMgr.datumLeave(i,this.options)).call(h),l.call(h),l.exit().remove())},n.prototype.styleSeries=function(t){t.style({fill:function(t){return t.color},stroke:function(t){return t.color},"stroke-width":1})},n}(i.Series.SeriesFactory);n.Column=e}(n=i.Series||(i.Series={}))}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){var i;!function(t){"use strict";var i=function(t){function i(i,n,e){t.call(this),this.scope=i,this.attributes=n,this.$parse=e}return __extends(i,t),i.prototype.create=function(){this.unregisteringFunctions=[],this.sanitizeAttributes(),this.syncTooltips(),this.syncDomainsChange(),this.syncDatumEvents()},i.prototype.sanitizeAttributes=function(){var t=this.attributes,i=t.tooltipSyncKey,n=t.domainsSyncKey;if(i&&n&&i===n)throw new Error("Heterogeneous sync keys can't have the same value.")},i.prototype.syncDatumEvents=function(){var t=this,i=this.eventMgr;if(this.attributes.onClick){var n=this.$parse(this.attributes.onClick);i.on("click.sync-layer",function(i,e,o,s){n(t.scope.$parent,{row:i,index:e,series:o,options:s})})}},i.prototype.syncTooltips=function(){var t=this,i=this.eventMgr;this.attributes.tooltipSyncKey&&(this.unregisteringFunctions.push(this.scope.$root.$on(this.attributes.tooltipSyncKey,function(t,n){i.triggerDataAndOptions("outer-world-hover",n)})),i.on("container-move.sync-layer",function(i){t.scope.$emit(t.attributes.tooltipSyncKey,t.factoryMgr.get("container").getCoordinatesFromEvent(i))}),i.on("container-out.sync-layer",function(){t.scope.$emit(t.attributes.tooltipSyncKey,{x:void 0,y:void 0})}))},i.prototype.syncDomainsChange=function(){var t=this,i=this.eventMgr,n=[],e=this.factoryMgr.get("x-axis"),o=this.factoryMgr.get("x2-axis"),s=this.factoryMgr.get("y-axis"),r=this.factoryMgr.get("y2-axis");if(this.attributes.onDomainsChange){var a=this.$parse(this.attributes.onDomainsChange);n.push(function(i,n){var e=n.isEndEvent;e&&a(t.scope.$parent,{$domains:i})})}this.attributes.domainsSyncKey&&(this.unregisteringFunctions.push(this.scope.$root.$on(this.attributes.domainsSyncKey,function(n,a,c){n.targetScope!==t.scope&&(a.x&&a.y&&a.x2&&a.y2||(a=angular.copy(a)),a.x||(a.x=e.getScaleDomain()),a.x2||(a.x2=o.getScaleDomain()),a.y||(a.y=s.getScaleDomain()),a.y2||(a.y2=r.getScaleDomain()),"zoom-end"===c?(i.trigger("outer-world-domain-change",a),t.factoryMgr.turnFactoriesOn(["tooltip"])):"zoom"===c?t.factoryMgr.turnFactoriesOff(["tooltip"]):"pan"===c||"pan-end"===c?(t.factoryMgr.turnFactoriesOff(["transitions","tooltip"]),i.trigger("outer-world-domain-change",a),"pan-end"===c&&t.factoryMgr.turnFactoriesOn(["transitions","tooltip"])):"zoom-pan-reset"===c&&i.trigger("zoom-pan-reset",!1))})),n.push(function(i,n){var e=n.type;t.scope.$emit(t.attributes.domainsSyncKey,i,e)}));var c=function(){return{x:e.getScaleDomain(),x2:o.getScaleDomain(),y:s.getScaleDomain(),y2:r.getScaleDomain()}},u=function(t,i){return n.forEach(function(n){return n(t,i)})};i.on("pan.sync-layer",function(){var i=c();t.factoryMgr.get("pan").constrainDomains(i),u(i,{type:"pan"})}),i.on("pan-end.sync-layer",function(){var i=c();t.factoryMgr.get("pan").constrainDomains(i),u(i,{type:"pan-end",isEndEvent:!0})}),i.on("zoom.sync-layer",function(){var i=c();t.factoryMgr.get("zoom").constrainOutgoingDomains(i),u(i,{type:"zoom",isEndEvent:!1})}),i.on("zoom-end.sync-layer",function(){var i=c();t.factoryMgr.get("zoom").constrainOutgoingDomains(i),u(i,{type:"zoom-end",isEndEvent:!0})}),i.on("zoom-pan-reset.sync-layer",function(t){t&&u(c(),{type:"zoom-pan-reset",isEndEvent:!0})})},i.prototype.destroy=function(){for(var t;t=this.unregisteringFunctions.pop();)t()},i}(t.BaseFactory);t.AngularJSSyncLayer=i}(i=t.Factory||(t.Factory={}))}(n3Charts||(n3Charts={}));var n3Charts;!function(t){"use strict";var i=function(){function i(i,n,e,o){var s=this;this.$window=i,this.$parse=n,this.$timeout=e,this.$rootScope=o,this.scope={data:"=",options:"=",styles:"=",hoveredCoordinates:"="},this.restrict="E",this.replace=!0,this.template="<div></div>",this.link=function(i,n,e){var o,r,a=new t.Utils.EventManager,c=new t.Utils.FactoryManager;a.init(t.Utils.EventManager.EVENTS),c.registerMany([["container",t.Factory.Container,n[0]],["tooltip",t.Factory.Tooltip,n[0]],["legend",t.Factory.Legend,n[0]],["transitions",t.Factory.Transition],["x-axis",t.Factory.Axis,t.Options.AxisOptions.SIDE.X],["x2-axis",t.Factory.Axis,t.Options.AxisOptions.SIDE.X2],["y-axis",t.Factory.Axis,t.Options.AxisOptions.SIDE.Y],["y2-axis",t.Factory.Axis,t.Options.AxisOptions.SIDE.Y2],["grid",t.Factory.Grid],["pan",t.Factory.Pan],["zoom",t.Factory.Zoom],["sync-layer",t.Factory.AngularJSSyncLayer,i,e,s.$parse],["series-area",t.Factory.Series.Area],["series-column",t.Factory.Series.Column],["series-line",t.Factory.Series.Line],["series-dot",t.Factory.Series.Dot],["symbols-hline",t.Factory.Symbols.HLine],["symbols-vline",t.Factory.Symbols.VLine]]),c.all().forEach(function(t){return t.instance.init(t.key,a,c)});var u=void 0===i.options,p=function(){r=new t.Options.Options(angular.copy(i.options)),o=new t.Utils.Data(i.data),u&&(u=!1,a.trigger("create",r)),a.update(o,r),a.trigger("update",o,r)};u||a.trigger("create",new t.Options.Options(angular.copy(i.options)));var h=function(t){t&&(o.fromJS(t),c.turnFactoriesOff(["transitions"]),a.trigger("data-update",o,r),c.turnFactoriesOn(["transitions"]),a.trigger("update",o,r))};i.$watch("options",p,!0),i.$watch("data",h,!0),a.on("legend-click.directive",function(t){var n=i.options.series.filter(function(i){return i.id===t.id})[0];n.visible=t.getToggledVisibility(),i.$apply()}),a.on("pan.directive",function(){c.get("container").svg.classed("panning",!0)}),a.on("pan-end.directive",function(){c.get("container").svg.classed("panning",!1)});var l=function(){if(!n||!n[0])return{};var t=n[0].parentElement.getBoundingClientRect();return{height:t.height,width:t.width,left:t.left,right:t.right,bottom:t.bottom,top:t.top}},f=t.Utils.FunctionUtils.debounce(function(){a.trigger("resize",n[0].parentElement)},50);i.$watch(l,f,!0);var d=t.Utils.FunctionUtils.debounce(function(){return i.$apply()},50);angular.element(s.$window).on("resize",d),i.$on("$destroy",function(){a.trigger("destroy"),angular.element(s.$window).off("resize",d)})}}return i}();t.LineChart=i}(n3Charts||(n3Charts={})),angular.module("n3-line-chart",[]).directive("linechart",["$window","$parse","$timeout","$rootScope",function(t,i,n,e){return new n3Charts.LineChart(t,i,n,e)}]);
(function(){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}(function(){"use strict";var origin=angular.module;angular.module=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var name=args[0];var module=origin.call.apply(origin,[angular].concat(args));if(WavesApp.modules.indexOf(name)===-1){WavesApp.modules.push(name);wrapAngularController(module);wrapAngularComponent(module);wrapAngularDirective(module)}return module};function wrapAngularController(module){var origin=module.controller;module.controller=function(name,$ctrl){if(typeof $ctrl!=="function"){throw new Error("Wrong code style!")}WavesApp.addController(name,$ctrl);return origin.call(this,name,wrapControllerParams($ctrl))}}function wrapAngularComponent(module){var origin=module.component;module.component=function(name,$component){$component.controller=wrapControllerParams($component.controller);return origin.call(this,name,$component)}}function wrapAngularDirective(module){var origin=module.directive;module.directive=function(name,$directive){$directive.controller=wrapControllerParams($directive.controller);return origin.call(this,name,$directive)}}function wrapControllerParams(controller){var newController=controller;if(typeof controller==="function"){var $inject=["$element","$compile","$scope"].concat(_toConsumableArray(controller.$inject||[]));if($inject.length>3&&!controller.length){throw new Error("Wrong code style!")}newController=function newController($element,$compile,$scope){for(var _len2=arguments.length,args=Array(_len2>3?_len2-3:0),_key2=3;_key2<_len2;_key2++){args[_key2-3]=arguments[_key2]}var _this=this;var onError=function onError(){$element.addClass("_internal-error");return _this};try{var instance=new(Function.prototype.bind.apply(controller,[null].concat(args)));var originalPostLink=instance.$postLink;if(originalPostLink){instance.$postLink=function(){try{for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}return originalPostLink.apply(instance,args)}catch(e){return onError(e)}}}return instance}catch(e){return onError(e)}};newController.$inject=$inject}return newController}angular.module("app",["ngAnimate","ngMaterial","ui.router","ui.router.state.events","n3-line-chart","app.templates","app.utils","app.ui","app.welcome","app.create","app.restore","app.desktop","app.ledger","app.keeper","app.import","app.wallet","app.dex","app.tokens"])})();(function(){"use strict";angular.module("app").component("wComponentError",{templateUrl:"modules/app/directives/componentError/componentError.html"})})();(function(){"use strict";var controller=function controller(Base,$element,$injector){var ContainerAlertNotification=function(_Base){_inherits(ContainerAlertNotification,_Base);function ContainerAlertNotification(){_classCallCheck(this,ContainerAlertNotification);var _this2=_possibleConstructorReturn(this,(ContainerAlertNotification.__proto__||Object.getPrototypeOf(ContainerAlertNotification)).call(this));_this2.type=null;return _this2}_createClass(ContainerAlertNotification,[{key:"$postLink",value:function $postLink(){if(!this.type){throw new Error("Can't find type!")}var notification=$injector.get(this.type);this.receive(notification.changeSignal,this._onChangeNotifications,this);this._onChangeNotifications(notification.getActiveNotificationsList())}},{key:"_onChangeNotifications",value:function _onChangeNotifications(list){$element.children().detach().end().append(list.map(function(_ref){var $element=_ref.$element;return $element}))}}]);return ContainerAlertNotification}(Base);return new ContainerAlertNotification};controller.$inject=["Base","$element","$injector"];angular.module("app").component("wContainerAlertNotification",{bindings:{type:"@"},transclude:false,controller:controller})})();(function(){"use strict";var escape=function escape(text){return text.split("").map(function(char){switch(char.charCodeAt(0)){case 34:return"&quot;";case 38:return"&amp;";case 39:return"&#39;";case 60:return"&lt;";case 62:return"&gt;";default:return char}}).join("")};var directive=function directive(Base,i18n,utils){return{scope:false,restrict:"A",link:function link($scope,$element,$attrs){var I18n=function(_Base2){_inherits(I18n,_Base2);function I18n(){_classCallCheck(this,I18n);var _this3=_possibleConstructorReturn(this,(I18n.__proto__||Object.getPrototypeOf(I18n)).call(this,$scope));_this3._forStop=[];_this3._watchers=Object.create(null);_this3._literalTemplate=I18n._getLiteralTemplate();_this3._parts=I18n._getParts(_this3._literalTemplate);_this3._handler=utils.debounce(_this3._getHandler());_this3._addWatchers();_this3.listenEventEmitter(i18next,"languageChanged",_this3._handler);if($attrs.params){var stop=$scope.$watch($attrs.params,_this3._handler);_this3._forStop.push(stop)}_this3._handler();return _this3}_createClass(I18n,[{key:"$onDestroy",value:function $onDestroy(){_get(I18n.prototype.__proto__||Object.getPrototypeOf(I18n.prototype),"$onDestroy",this).call(this);this._forStop.forEach(function(cb){return cb()});this._forStop=[]}},{key:"_getHandler",value:function _getHandler(){var _this4=this;var ns=this._getNs();return function(){var skipErrors="skipErrors"in $attrs;var defaultValue=escape($attrs.defaultValue||"");var params=$attrs.params&&$scope.$eval($attrs.params)||undefined;var result=i18n.translate(_this4._compile(_this4._literalTemplate),ns,params,skipErrors);$element.html(result?result:defaultValue||result)}}},{key:"_getNs",value:function _getNs(){return $attrs.wI18nNs?$attrs.wI18nNs:i18n.getNs($element)}},{key:"_compile",value:function _compile(literal){if(this._parts){this._parts.forEach(function(_ref2){var part=_ref2.part,evalTpl=_ref2.evalTpl;literal=literal.replace(part,$scope.$eval(evalTpl))})}return literal}},{key:"_addWatchers",value:function _addWatchers(){var _this5=this;if(!this._parts){return null}this._parts.forEach(function(_ref3){var part=_ref3.part,needWatch=_ref3.needWatch,evalTpl=_ref3.evalTpl;if(needWatch&&!_this5._watchers[part]){_this5._forStop.push($scope.$watch(evalTpl,_this5._handler));_this5._watchers[part]=true}})}}],[{key:"_getLiteralTemplate",value:function _getLiteralTemplate(){return String($element.attr("w-i18n")).trim()}},{key:"_getParts",value:function _getParts(template){var parts=template.match(/{{.*?(}})/g);if(parts){return parts.map(function(part){return{part:part,evalTpl:part.replace("{{","").replace("}}","").replace("::",""),needWatch:part.indexOf("::")===-1}})}else{return null}}}]);return I18n}(Base);return new I18n},transclude:true,template:function template($element){if($element.get(0).tagName==="W-I18N"){return"<span ng-transclude></span>"}}}};directive.$inject=["Base","i18n","utils"];angular.module("app").directive("wI18n",directive)})();(function(){"use strict";var controller=function controller($element,$attrs,i18n,$scope,Base,utils){var I18nAttr=function(_Base3){_inherits(I18nAttr,_Base3);function I18nAttr(){_classCallCheck(this,I18nAttr);var _this6=_possibleConstructorReturn(this,(I18nAttr.__proto__||Object.getPrototypeOf(I18nAttr)).call(this,$scope));_this6._forStop=[];_this6._watchers=Object.create(null);_this6._toTranslate=$attrs.wI18nAttr.split(",");_this6._literalTemplatesHash=_this6._toTranslate.reduce(function(acc,attrName){acc[attrName]=$element.attr(attrName).trim();return acc},Object.create(null));_this6._partsHash=_this6._toTranslate.reduce(function(acc,attrName){acc[attrName]=I18nAttr._getParts($attrs[attrName]);return acc},Object.create(null));_this6._handler=utils.debounce(_this6._getHandler());_this6.listenEventEmitter(i18next,"languageChanged",_this6._handler);_this6._addWatchers();_this6._handler();return _this6}_createClass(I18nAttr,[{key:"$onDestroy",value:function $onDestroy(){_get(I18nAttr.prototype.__proto__||Object.getPrototypeOf(I18nAttr.prototype),"$onDestroy",this).call(this);this._forStop.forEach(function(cb){return cb()});this._forStop=[]}},{key:"_getHandler",value:function _getHandler(){var _this7=this;var ns=this._getNs();return function(){_this7._toTranslate.forEach(function(attrName){var params=$attrs.params&&$scope.$eval($attrs.attrParams)||undefined;var value=i18n.translate(_this7._compile(attrName),ns,params,false);$element.attr(attrName,value)})}}},{key:"_compile",value:function _compile(attrName){var template=this._literalTemplatesHash[attrName];var parts=this._partsHash[attrName];var literal=template;if(parts){parts.forEach(function(_ref4){var part=_ref4.part,evalTpl=_ref4.evalTpl;literal=literal.replace(part,$scope.$eval(evalTpl))})}return literal}},{key:"_getNs",value:function _getNs(){return $attrs.wI18nNs?$attrs.wI18nNs:i18n.getNs($element)}},{key:"_addWatchers",value:function _addWatchers(){var _this8=this;Object.values(this._partsHash).forEach(function(parts){(parts||[]).forEach(function(_ref5){var part=_ref5.part,needWatch=_ref5.needWatch,evalTpl=_ref5.evalTpl;if(needWatch&&!_this8._watchers[part]){_this8._forStop.push($scope.$watch(evalTpl,_this8._handler));_this8._watchers[part]=true}})})}}],[{key:"_getParts",value:function _getParts(template){var parts=template.match(/{{.*?(}})/g);if(parts){return parts.map(function(part){return{part:part,evalTpl:part.replace("{{","").replace("}}","").replace("::",""),needWatch:part.indexOf("::")===-1}})}else{return null}}}]);return I18nAttr}(Base);return new I18nAttr};controller.$inject=["$element","$attrs","i18n","$scope","Base","utils"];angular.module("app").directive("wI18nAttr",function(){return{scope:false,restrict:"A",controller:controller}})})();(function(){"use strict";var config=function config($urlRouterProvider,$stateProvider,$locationProvider){var tsUtils=require("ts-utils");ds.config.setConfig(WavesApp.network);ds.config.set("remappedAssetNames",WavesApp.remappedAssetNames);var AppConfig=function(){function AppConfig(){_classCallCheck(this,AppConfig);this._initUrlResolveMode();this._initLocalize();this._initAdapters();this._initStates()}_createClass(AppConfig,[{key:"_initAdapters",value:function _initAdapters(){var Transport=window.TransportNodeHid;ds.signAdapters.adapterList.forEach(function(Adapter){return Adapter.initOptions({networkCode:WavesApp.network.code.charCodeAt(0),openTimeout:WavesApp.sign.openTimeout,listenTimeout:WavesApp.sign.listenTimeout,exchangeTimeout:WavesApp.sign.exchangeTimeout,debug:!WavesApp.isProduction(),transport:Transport&&Transport.default,extension:function extension(){return typeof Waves==="undefined"?null:Waves}})})}},{key:"_initUrlResolveMode",value:function _initUrlResolveMode(){if(WavesApp.isWeb()){var base=document.createElement("base");base.href="/";document.head.appendChild(base);$locationProvider.html5Mode(true)}$urlRouterProvider.otherwise("/")}},{key:"_initLocalize",value:function _initLocalize(){var BIG_NUMBER_FORMAT={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0};i18next.use(i18nextLocizeBackend).init({lng:localStorage.getItem("lng")||AppConfig.getUserLang(),debug:!WavesApp.isProduction(),ns:WavesApp.modules.filter(tsUtils.notContains("app.templates")),fallbackLng:"en",whitelist:Object.keys(WavesApp.localize),defaultNS:"app",useCookie:false,useLocalStorage:false,interpolation:{format:function format(value,_format){switch(_format){case"money":return value&&value.getTokens().toFixed()||"";case"money-currency":if(value){return value.getTokens().toFixed()+"\n                                                "+(value.asset.displayName==="WAVES"?"ACRYL":value.asset.displayName)}else{return""}case"money-fee":return value&&value.getTokens().toFixed()+"\n                                             "+(value.asset.displayName==="WAVES"?"ACRYL":value.asset.displayName)||"";case"BigNumber":return value&&value.toFixed()||"";default:throw new Error("Wrong format type!")}}},backend:{loadPath:"locales/{{lng}}/{{ns}}.json?"+WavesApp.version,referenceLng:"en"}});i18next.on("initialized",function(){var localeData=WavesApp.getLocaleData().separators;BigNumber.config({ROUNDING_MODE:BigNumber.ROUND_DOWN,FORMAT:tsUtils.merge(Object.create(null),BIG_NUMBER_FORMAT,{groupSeparator:localeData.group,decimalSeparator:localeData.decimal})});if(WavesApp.isDesktop()){transfer("setLanguage",i18next.language)}i18next.on("languageChanged",function(){if(WavesApp.isDesktop()){transfer("setLanguage",i18next.language)}var localeData=WavesApp.getLocaleData().separators;BigNumber.config({ROUNDING_MODE:BigNumber.ROUND_DOWN,FORMAT:tsUtils.merge(Object.create(null),BIG_NUMBER_FORMAT,{groupSeparator:localeData.group,decimalSeparator:localeData.decimal})})})})}},{key:"_initStates",value:function _initStates(){var defaultUrl=AppConfig.getUrlFromState(WavesApp.stateTree.find("welcome"));$urlRouterProvider.when("",defaultUrl);WavesApp.stateTree.toArray().slice(1).forEach(function(item){var abstract=item.get("abstract");var url=AppConfig.getUrlFromState(item);var redirectTo=item.get("redirectTo");var reloadOnSearch=item.get("reloadOnSearch");var views=item.get("views").reduce(function(views,viewData){var controller=abstract||viewData.noController?undefined:AppConfig.getCtrlName(item.get("controller")||tsUtils.camelCase(item.id));var template=viewData.template;var templateUrl=template?undefined:viewData.templateUrl||AppConfig.getTemplateUrl(WavesApp.stateTree.getPath(item.id));views[viewData.name]={controller:controller,template:template,templateUrl:templateUrl};return views},Object.create(null));$stateProvider.state(WavesApp.stateTree.getPath(item.id).join("."),{abstract:abstract,url:url,redirectTo:redirectTo,views:views,reloadOnSearch:reloadOnSearch})})}}],[{key:"getCtrlName",value:function getCtrlName(name){return name.charAt(0).toUpperCase()+name.substr(1)+"Ctrl as $ctrl"}},{key:"getTemplateUrl",value:function getTemplateUrl(path){return path.filter(function(id){return!WavesApp.stateTree.find(id).get("abstract")}).reduce(function(result,item,index,array){item=tsUtils.camelCase(item);if(index===array.length-1){result+="/modules/"+item+"/templates/"+item+".html"}else{result+="/modules/"+item}return result},"").replace(/\/\//g,"/").substr(1)}},{key:"getUserLang",value:function getUserLang(){var available=Object.keys(WavesApp.localize);var cookieLng=Cookies.get("locale");var userLang=navigator.language||navigator.userLanguage;if(available.indexOf(cookieLng)!==-1){return cookieLng}if(!userLang){return"en"}else if(available.indexOf(userLang)!==-1){return userLang}else{var lng=null;userLang.split(/\W/).some(function(part){if(available.indexOf(part)!==-1){lng=part}else if(available.indexOf(part.toLowerCase())!==-1){lng=part.toLowerCase()}return!!lng});return lng||"en"}}},{key:"getUrlFromState",value:function getUrlFromState(state){return state.get("abstract")?undefined:state.get("url")||"/"+state.id}}]);return AppConfig}();return new AppConfig};config.$inject=["$urlRouterProvider","$stateProvider","$locationProvider"];angular.module("app").config(config)})();(function(){"use strict";var tsUtils=require("ts-utils");var PROGRESS_MAP={RUN_SCRIPT:10,APP_RUN:15,LOCALIZE_READY:25,IMAGES_LOADED:50};var allProgress=Object.values(PROGRESS_MAP).reduce(function(result,item){return result+item},0);if(allProgress!==100){throw new Error("Configure loader progress!")}var LOADER={_current:0,_root:document.querySelector(".app-loader"),_element:document.querySelector(".app-loader .progress"),addProgress:function addProgress(delta){this._current+=delta;this._current=Math.min(this._current,100);this._element.style.width=this._current+"%";WavesApp.progress=this._current},stop:function stop(){var _this9=this;return new Promise(function(resolve){var loader=$(_this9._root);loader.fadeOut(1e3,function(){loader.remove();resolve()})})}};LOADER.addProgress(PROGRESS_MAP.RUN_SCRIPT);WavesApp.state="initApp";var run=function run($rootScope,utils,user,$state,state,modalManager,storage,notification,decorators,waves,ModalRouter){var _dec,_desc,_value,_class;var phone=WavesApp.device.phone();var tablet=WavesApp.device.tablet();var isPhone=!!phone;var isTablet=!!tablet;var isDesktop=!(isPhone||isTablet);$rootScope.isDesktop=isDesktop;$rootScope.isNotDesktop=!isDesktop;$rootScope.isPhone=isPhone;$rootScope.isNotPhone=!isPhone;$rootScope.isTablet=isTablet;if(isPhone){document.body.classList.add("phone")}else if(isTablet){document.body.classList.add("tablet")}else{document.body.classList.add("desktop")}var AppRun=(_dec=decorators.scope({closeByModal:false}),_class=function(){function AppRun(){_classCallCheck(this,AppRun);var identityImg=require("identity-img");LOADER.addProgress(PROGRESS_MAP.APP_RUN);this.activeClasses=[];this._modalRouter=new ModalRouter;identityImg.config({rows:8,cells:8});this._setHandlers();this._stopLoader();this._initializeLogin();this._initializeOutLinks();if(WavesApp.isDesktop()){window.listenMainProcessEvent(function(type,url){var parts=utils.parseElectronUrl(url);var path=parts.path.replace(/\/$/,"")||parts.path;if(path){var noLogin=path==="/"||WavesApp.stateTree.where({noLogin:true}).some(function(item){var url=item.get("url")||item.id;return path===url});if(noLogin){location.hash="#!"+path+parts.search}else{user.onLogin().then(function(){setTimeout(function(){location.hash="#!"+path+parts.search},1e3)})}}})}$rootScope.WavesApp=WavesApp}_createClass(AppRun,[{key:"_initTryDesktop",value:function _initTryDesktop(){return Promise.resolve(true)}},{key:"_runDesktop",value:function _runDesktop(){this._canOpenDesktopPage=true;$state.go("desktop");return false}},{key:"_setHandlers",value:function _setHandlers(){$rootScope.$on("$stateChangeSuccess",this._onChangeStateSuccess.bind(this))}},{key:"_initializeOutLinks",value:function _initializeOutLinks(){if(WavesApp.isDesktop()){$(document).on("click",'[target="_blank"]',function(e){var $link=$(e.currentTarget);e.preventDefault();openInBrowser($link.attr("href"))})}}},{key:"_listenChangeLanguage",value:function _listenChangeLanguage(){i18next.on("languageChanged",this._changeLangHandler)}},{key:"_stopListenChangeLanguage",value:function _stopListenChangeLanguage(){i18next.off("languageChanged",this._changeLangHandler)}},{key:"_changeLangHandler",value:function _changeLangHandler(){localStorage.setItem("lng",i18next.language)}},{key:"_initializeLogin",value:function _initializeLogin(){var _this10=this;var needShowTutorial=false;this._listenChangeLanguage();var START_STATES=WavesApp.stateTree.where({noLogin:true}).map(function(item){return WavesApp.stateTree.getPath(item.id).join(".")});var waiting=false;var stop=$rootScope.$on("$stateChangeStart",function(event,toState,params){var tryDesktop=void 0;if(START_STATES.indexOf(toState.name)===-1){event.preventDefault()}if(toState.name==="desktop"&&!_this10._canOpenDesktopPage){event.preventDefault();$state.go(START_STATES[0])}if(waiting){return null}if(needShowTutorial&&toState.name!=="dex-demo"){modalManager.showTutorialModals();needShowTutorial=false}if(toState.name==="main.dex-demo"){tryDesktop=Promise.resolve()}else{tryDesktop=_this10._initTryDesktop()}var promise=Promise.all([storage.onReady(),tryDesktop]).then(function(_ref6){var _ref7=_slicedToArray(_ref6,2),oldVersion=_ref7[0],canOpenTutorial=_ref7[1];needShowTutorial=canOpenTutorial&&!oldVersion});promise.then(function(){if(needShowTutorial&&toState.name!=="dex-demo"){modalManager.showTutorialModals();needShowTutorial=false}});waiting=true;tryDesktop.then(function(canChangeState){return _this10._login(toState,canChangeState)}).then(function(){stop();_this10._stopListenChangeLanguage();if(START_STATES.indexOf(toState.name)===-1){$state.go(toState.name,params)}else{$state.go(user.getActiveState("wallet"))}i18next.changeLanguage(user.getSetting("lng"));_this10._initializeTermsAccepted().then(function(){_this10._initializeBackupWarning()}).then(function(){_this10._modalRouter.initialize()});$rootScope.$on("$stateChangeStart",function(event,current){if(START_STATES.indexOf(current.name)!==-1){event.preventDefault()}else{state.signals.changeRouterStateStart.dispatch(event)}})})})}},{key:"_initializeTermsAccepted",value:function _initializeTermsAccepted(){if(!user.getSetting("termsAccepted")){return modalManager.showTermsAccept(user).then(function(){if(user.getSetting("shareAnalytics")){}}).catch(function(){return false})}else if(user.getSetting("shareAnalytics")){}return Promise.resolve()}},{key:"_initializeBackupWarning",value:function _initializeBackupWarning(scope){var _this11=this;if(!user.getSetting("hasBackup")){var id=tsUtils.uniqueId("n");var changeModalsHandler=function changeModalsHandler(modal){scope.closeByModal=true;notification.remove(id);scope.closeByModal=false;modal.catch(function(){return null}).then(function(){if(!user.getSetting("hasBackup")){_this11._initializeBackupWarning()}})};modalManager.openModal.once(changeModalsHandler);notification.error({id:id,ns:"app.utils",title:{literal:"notification.backup.title"},body:{literal:"notification.backup.body"},action:{literal:"notification.backup.action",callback:function callback(){modalManager.showSeedBackupModal()}},onClose:function onClose(){if(scope.closeByModal||user.getSetting("hasBackup")){return null}modalManager.openModal.off(changeModalsHandler);var stop=$rootScope.$on("$stateChangeSuccess",function(){stop();_this11._initializeBackupWarning()})}},-1)}}},{key:"_login",value:function _login(currentState,canChangeState){var states=WavesApp.stateTree.where({noLogin:true}).map(function(item){return WavesApp.stateTree.getPath(item.id).join(".")});if(canChangeState&&states.indexOf(currentState.name)===-1){$state.go(states[0])}return user.onLogin()}},{key:"_onChangeStateSuccess",value:function _onChangeStateSuccess(event,toState,some,fromState){var _this12=this;analytics.push(fromState);this.activeClasses.forEach(function(className){document.body.classList.remove(className)});this.activeClasses=[];toState.name.split(".").filter(Boolean).forEach(function(className){var name=className.replace(/_/g,"-");document.body.classList.add(name);_this12.activeClasses.push(name)});user.applyState(toState);state.signals.changeRouterStateSuccess.dispatch(toState)}},{key:"_stopLoader",value:function _stopLoader(){Promise.all([this._getLocalizeReadyPromise(),this._getImagesReadyPromise()]).then(function(){LOADER.stop();WavesApp.state="appRun"}).catch(function(e){console.error(e);WavesApp.state="loadingError"})}},{key:"_getLocalizeReadyPromise",value:function _getLocalizeReadyPromise(){return new Promise(function(resolve){i18next.on("initialized",function(){LOADER.addProgress(PROGRESS_MAP.LOCALIZE_READY);resolve()})})}},{key:"_getImagesReadyPromise",value:function _getImagesReadyPromise(){return $.ajax({url:"img/images-list.json?v="+WavesApp.version,dataType:"json"}).then(function(list){return Promise.all(list.map(AppRun.getLoadImagePromise(list.length)))})}}],[{key:"getLoadImagePromise",value:function getLoadImagePromise(length){return function(path){return new Promise(function(resolve){var img=new Image;var apply=function apply(){LOADER.addProgress(PROGRESS_MAP.IMAGES_LOADED/length);resolve()};img.onload=apply;img.onerror=function(){console.warn("Can't load image! \""+path+'"');apply()};img.src=path})}}},{key:"_getUrlFromState",value:function _getUrlFromState(state){return WavesApp.stateTree.getPath(state.name.split(".").slice(-1)[0]).filter(function(id){return!WavesApp.stateTree.find(id).get("abstract")}).map(function(id){return WavesApp.stateTree.find(id).get("url")||id}).reduce(function(url,id){return url+"/"+id},"")}}]);return AppRun}(),_applyDecoratedDescriptor(_class.prototype,"_initializeBackupWarning",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"_initializeBackupWarning"),_class.prototype),_class);return new AppRun};run.$inject=["$rootScope","utils","user","$state","state","modalManager","storage","notification","decorators","waves","ModalRouter","configService","whatsNew"];angular.module("app").run(run)})();(function(){"use strict";var _require=require("ts-utils"),Signal=_require.Signal;var factory=function factory(user,Poll,utils,waves){var BalanceWatcher=function(){function BalanceWatcher(){var _this13=this;_classCallCheck(this,BalanceWatcher);this.change=new Signal;this._balance=[];this._poll=null;user.onLogin().then(function(){return _this13._watch()})}_createClass(BalanceWatcher,[{key:"getBalance",value:function getBalance(){return utils.toHash(this._balance,"asset.id")}},{key:"_watch",value:function _watch(){var _this14=this;var get=function get(){return _this14._getBalanceList()};var set=function set(list){return _this14._setBalanceList(list)};this._poll=new Poll(get,set,1e3)}},{key:"_getBalanceList",value:function _getBalanceList(){return waves.node.assets.userBalances().then(function(list){return list.map(function(_ref8){var available=_ref8.available;return available})}).then(function(list){return list.filter(function(money){return money.getTokens().gt(0)})})}},{key:"_setBalanceList",value:function _setBalanceList(balances){var _this15=this;var comparator=utils.comparators.process(function(money){return money.asset.id}).asc;var list=balances.slice().sort(comparator);var apply=function apply(){_this15.change.dispatch(utils.toHash(list,"asset.id"));_this15._balance=list};if(list.length!==this._balance.length){apply();return null}var isEqual=list.some(function(money,i){return money.asset.id!==_this15._balance[i].asset.id||!money.getTokens().eq(_this15._balance[i].getTokens())});if(!isEqual){apply()}}}]);return BalanceWatcher}();return new BalanceWatcher};factory.$inject=["user","Poll","utils","waves"];angular.module("app").factory("balanceWatcher",factory)})();(function(){"use strict";var _require2=require("data-service"),fetch=_require2.fetch;var _require3=require("ts-utils"),Signal=_require3.Signal,getPaths=_require3.getPaths,_get2=_require3.get,clone=_require3.clone;var factory=function factory(Base,createPoll){var ConfigService=function(_Base4){_inherits(ConfigService,_Base4);function ConfigService(){_classCallCheck(this,ConfigService);var _this16=_possibleConstructorReturn(this,(ConfigService.__proto__||Object.getPrototypeOf(ConfigService)).call(this));_this16._config=Object.create(null);_this16.change=new Signal;_this16._poll=createPoll(_this16,_this16._getConfig,_this16._setConfig,3e4);return _this16}_createClass(ConfigService,[{key:"get",value:function get(path){return clone(_get2(this._config,path))}},{key:"_getConfig",value:function _getConfig(){return fetch(WavesApp.network.featuresConfigUrl).then(JSON.parse)}},{key:"_setConfig",value:function _setConfig(config){var _this17=this;var paths=getPaths(config);var myConfig=this._config;this._config=config;paths.filter(function(path){return _get2(myConfig,path)!==_get2(config,path)}).forEach(function(path){return _this17.change.dispatch(String(path))})}}]);return ConfigService}(Base);return new ConfigService};factory.$inject=["Base","createPoll"];angular.module("app").factory("configService",factory)})();(function(){"use strict";var factory=function factory(utils){var DefaultSettings=function(){function DefaultSettings(settings){_classCallCheck(this,DefaultSettings);this.settings=settings;this.change=new tsUtils.Signal;this.defaults={advancedMode:false,network:WavesApp.network,lastOpenVersion:"",whatsNewList:[],withScam:false,scamListUrl:WavesApp.network.scamListUrl,shareAnalytics:false,logoutAfterMin:5,encryptionRounds:5e3,savePassword:true,hasBackup:true,termsAccepted:true,baseAssetId:WavesApp.defaultAssets.BTC,assetsOracle:WavesApp.oracle,events:Object.create(null),lng:"ru",send:{defaultTab:"singleSend"},orderLimit:.05,pinnedAssetIdList:[WavesApp.defaultAssets.WAVES,WavesApp.defaultAssets.BTC],wallet:{activeState:"assets",assets:{chartMode:"month",activeChartAssetId:WavesApp.defaultAssets.WAVES,chartAssetIdList:[WavesApp.defaultAssets.WAVES]},transactions:{filter:"all"},portfolio:{spam:[],filter:"active"}},dex:{chartCropRate:1.5,assetIdPair:{amount:WavesApp.defaultAssets.WAVES,price:WavesApp.defaultAssets.BTC},watchlist:{showOnlyFavorite:false,favourite:[[WavesApp.defaultAssets.WAVES,WavesApp.defaultAssets.BTC]],activeTab:"all",list:Object.values(WavesApp.defaultAssets)},layout:{watchlist:{collapsed:false},orderbook:{collapsed:false},tradevolume:{collapsed:true}}}}}_createClass(DefaultSettings,[{key:"get",value:function get(path){var setting=tsUtils.get(this.settings,path);return tsUtils.isEmpty(setting)?tsUtils.get(this.defaults,path):setting}},{key:"set",value:function set(path,value){if(utils.isEqual(this.get(path),value)){return null}if(utils.isEqual(tsUtils.get(this.defaults,path),value)){tsUtils.unset(this.settings,path)}else{tsUtils.set(this.settings,path,value)}this.change.dispatch(path)}},{key:"getSettings",value:function getSettings(){return this.settings}}]);return DefaultSettings}();return{create:function create(settings){return new DefaultSettings(settings)}}};factory.$inject=["utils"];angular.module("app").factory("defaultSettings",factory)})();(function(){"use strict";var factory=function factory(){var DexService=function(){function DexService(){_classCallCheck(this,DexService)}_createClass(DexService,[{key:"getTotalPrice",value:function getTotalPrice(amount,price){var amountTokens=amount.getTokens();var priceTokens=price.getTokens();var precision=price.asset.precision;return amountTokens.times(priceTokens).toFormat(precision)}}]);return DexService}();return new DexService};angular.module("app").factory("dexService",factory)})();(function(){"use strict";var _require4=require("ts-utils"),Signal=_require4.Signal;var factory=function factory(user,Poll,$injector,TxEvent,utils){var EventManager=function(){function EventManager(){_classCallCheck(this,EventManager);this.ready=null;this.signals={changeBalanceEvent:new Signal};this._poll=null;this._events=Object.create(null);this._waves=null;user.onLogin().then(this._initialize.bind(this))}_createClass(EventManager,[{key:"addTx",value:function addTx(tx,moneyList){this._events[tx.id]=new TxEvent(tx.id,moneyList);this._syncEventList();this._resetPoll()}},{key:"getReservedMoneyList",value:function getReservedMoneyList(){var _this18=this;return Object.keys(this._events).reduce(function(list,eventId){return list.concat(_this18._events[eventId].getReservedMoneyList())},[])}},{key:"_initialize",value:function _initialize(){var _this19=this;this._waves=$injector.get("waves");this._waves.node.transactions.listUtx().then(function(list){var events=user.getSetting("events");var utxHash=utils.toHash(list,"id");Object.keys(events).forEach(function(id){if(!utxHash[id]){_this19._removeEvent(id,true)}});if(list&&list.length){_this19._resetPoll()}})}},{key:"_addEvent",value:function _addEvent(tx){if(!this._events[tx.id]){this._events[tx.id]=new TxEvent(tx.id,EventManager._getMoneyListData(tx));this._syncEventList();return true}}},{key:"_removeEvent",value:function _removeEvent(id,force){if(this._events[id]||force){delete this._events[id];this._syncEventList();if(!force){this.signals.changeBalanceEvent.dispatch()}}}},{key:"_resetPoll",value:function _resetPoll(){var _this20=this;if(this._poll){this._poll.destroy()}setTimeout(function(){_this20._poll=new Poll(_this20._waves.node.transactions.listUtx,_this20._addUtxList.bind(_this20),1e3)},1e3)}},{key:"_addUtxList",value:function _addUtxList(list){var _this21=this;var dispatch=false;var utxHash=utils.toHash(list,"id");Object.keys(this._events).forEach(function(id){if(!utxHash[id]){_this21._removeEvent(id);dispatch=true}});if(list.length){list.forEach(function(tx){if(!_this21._events[tx.id]){_this21._addEvent(tx);dispatch=true}});if(dispatch){this.signals.changeBalanceEvent.dispatch()}}else if(this._poll){this._poll.destroy();this._poll=null}}},{key:"_syncEventList",value:function _syncEventList(){var result=Object.create(null);Object.keys(this._events).forEach(function(id){result[id]=true});user.setSetting("events",result)}}],[{key:"_getMoneyListData",value:function _getMoneyListData(tx){var moneyList=[tx.fee];if(tx.type===4){moneyList.push(tx.amount)}return moneyList}}]);return EventManager}();return utils.bind(new EventManager)};factory.$inject=["user","Poll","$injector","TxEvent","utils"];angular.module("app").factory("eventManager",factory)})();(function(){"use strict";var factory=function factory(){var AVAILABLE_TAGS=["div","span"];var AVAILABLE_URL_PROTOCOLS=["http:","https:","mailto:"];var LocaleParser=function(){function LocaleParser(open,close,contentOpen,contentClose,compile){_classCallCheck(this,LocaleParser);this.openChar=open;this.closeChar=close;this.contentOpenChar=contentOpen;this.contentCloseChar=contentClose;this.compile=compile}_createClass(LocaleParser,[{key:"parse",value:function parse(text){var _this22=this;var openList=[];var closeList=[];var openContent=[];var closeContent=[];text.split("").forEach(function(char,index){switch(char){case _this22.openChar:openList.push(index);break;case _this22.closeChar:closeList.push(index);break;case _this22.contentOpenChar:openContent.push(index);break;case _this22.contentCloseChar:closeContent.push(index);break;default:break}});var mainIntervals=[];var contentIntervals=[];openList.reverse().forEach(function(open){closeList.some(function(close,i){if(open<close){mainIntervals.push({open:open,close:close});closeList.splice(i,1);return true}return false})});openContent.reverse().forEach(function(open){closeContent.some(function(close,i){if(open<close){contentIntervals.push({open:open,close:close});closeContent.splice(i,1);return true}return false})});var index=0;var result="";mainIntervals.reverse().forEach(function(mainData){contentIntervals.forEach(function(contentData){if(contentData.open===mainData.close+1){var content=text.slice(contentData.open+1,contentData.close);var main=text.slice(mainData.open+1,mainData.close);result+=text.slice(index,mainData.open)+_this22.compile({main:main,content:content});index=contentData.close+1}})});result+=text.slice(index);return result}}]);return LocaleParser}();var tagCompile=function tagCompile(_ref9){var main=_ref9.main,content=_ref9.content;try{var firstDotIndex=main.indexOf(".");var tagName="";switch(firstDotIndex){case 0:tagName="span";break;case-1:tagName=main;break;default:tagName=main.slice(0,firstDotIndex)}var classes=main.slice(firstDotIndex+1).split(".").join(" ");if(AVAILABLE_TAGS.indexOf(tagName)===-1){throw new Error("Locale parser: Wrong tag name! "+tagName)}return"<"+tagName+' class="'+classes+'">'+content+"</"+tagName+">"}catch(e){return content}};var linkCompile=function linkCompile(_ref10){var main=_ref10.main,content=_ref10.content;try{var url=new URL(content);if(AVAILABLE_URL_PROTOCOLS.indexOf(url.protocol)===-1){throw new Error("Locale parser: Wrong url protocol! "+url.protocol)}return'<a href="'+content+'" target="_blank">'+main+"</a>"}catch(e){return""}};var tagParser=new LocaleParser("{","}","[","]",tagCompile);var linkParser=new LocaleParser("[","]","(",")",linkCompile);return function(text){return tagParser.parse(linkParser.parse(text))}};factory.$inject=[];angular.module("app").factory("localeParser",factory)})();(function(){"use strict";var factory=function factory(utils){var Queue=function(){function Queue(options){_classCallCheck(this,Queue);this.signals=utils.liteObject({change:new tsUtils.Signal});this._queueLimit=options.queueLimit;this._list=[];this._activeList=[];this._queueHash=Object.create(null)}_createClass(Queue,[{key:"push",value:function push(item){if(this._queueHash[item.id]){throw new Error("Duplicate queue id!")}var handler=this._getEndPromiseHandler(item);item.promise.then(handler,handler);this._queueHash[item.id]=item;if(this._activeList.length===this._queueLimit){this._list.push(item)}else{this._activeList.push(item);this._dispatch()}}},{key:"remove",value:function remove(id){if(this._queueHash[id]){var item=this._queueHash[id];this._getEndPromiseHandler(item)();return item}}},{key:"has",value:function has(id){return!!this._queueHash[id]}},{key:"getActiveList",value:function getActiveList(){return this._activeList.slice()}},{key:"_dispatch",value:function _dispatch(){this.signals.change.dispatch(this.getActiveList())}},{key:"_getEndPromiseHandler",value:function _getEndPromiseHandler(item){var _this23=this;if(this._queueHash[item.id]){delete this._queueHash[item.id]}return function(){[_this23._list,_this23._activeList].forEach(function(list,isActiveList){var index=list.indexOf(item);if(index!==-1){list.splice(index,1);if(isActiveList){_this23._updateActiveList()}}})}}},{key:"_updateActiveList",value:function _updateActiveList(){if(this._list.length){var item=this._list.shift();this._activeList.push(item)}this._dispatch()}}]);return Queue}();return Queue};factory.$inject=["utils"];angular.module("app").factory("Queue",factory)})();(function(){"use strict";var factory=function factory(user,utils){var tsUtils=require("ts-utils");var SessionBridge=function(){_createClass(SessionBridge,[{key:"_sessionListKey",get:function get(){return this._key+"-sessionList"}}]);function SessionBridge(){var _this24=this;_classCallCheck(this,SessionBridge);this._sessionId="s_"+Date.now();this._key="__sb";this._messageHash=Object.create(null);this.signals=utils.liteObject({changeSessions:new tsUtils.Signal});this._api=utils.liteObject({getLoginData:function getLoginData(commandData){return _this24._getLoginData(commandData)},sign:function sign(commandData){return _this24._sign(commandData)},response:function response(commandData){return _this24._onResponse(commandData)}});this._setHandlers();user.onLogin().then(function(){_this24._addSession();_this24._addUserData()})}_createClass(SessionBridge,[{key:"getSessionsData",value:function getSessionsData(){var _this25=this;var userDataHash=this._getOtherSessions().reduce(function(result,sessionId){var userData=_this25._getUserDataBySession(sessionId);if(userData){result[userData.address]=userData}else{_this25._clearCommand(_this25._getSessionDataKey(sessionId))}return result},Object.create(null));return Object.values(userDataHash)}},{key:"login",value:function login(sessionId){return this._runCommand("getLoginData",sessionId).then(function(response){if(response.status==="success"){user.login(response.data)}else{}})}},{key:"sign",value:function sign(type,tx){var master=this._getMasterSessionId(user.address);return this._runCommand("sign",master&&master.id,{type:type,tx:tx})}},{key:"_getLoginData",value:function _getLoginData(request){return this._setResponseSuccess(request,{address:user.address})}},{key:"_sign",value:function _sign(){}},{key:"_setResponseSuccess",value:function _setResponseSuccess(request,body){this._setResponse(request,"success",{data:body})}},{key:"_setResponseError",value:function _setResponseError(request,message){this._setResponse(request,"error",{message:message})}},{key:"_setResponse",value:function _setResponse(request,status,data){var _this26=this;var command=this._getCommandKey(request.referer,"response");this._dispatch(command,{id:request.id,referer:this._sessionId,data:_extends({status:status},data)});setTimeout(function(){_this26._clearCommand(command)},100)}},{key:"_runCommand",value:function _runCommand(apiMethod,targetSessionId,data){var _this27=this;return new Promise(function(resolve){var id=tsUtils.uniqueId("cmd__");var params={id:id,data:data,referer:_this27._sessionId};var command=_this27._getCommandKey(targetSessionId,apiMethod);_this27._messageHash[id]=function(result){delete _this27._messageHash[id];_this27._clearCommand(command);resolve(result)};_this27._dispatch(command,params);setTimeout(function(){if(_this27._messageHash[id]){_this27._messageHash[id]({status:"error",message:new Error("Timeout limit error!")})}},1e3)})}},{key:"_dispatch",value:function _dispatch(storageKey,data){localStorage.setItem(storageKey,JSON.stringify(data))}},{key:"_clearCommand",value:function _clearCommand(storageKey){localStorage.removeItem(storageKey)}},{key:"_onResponse",value:function _onResponse(commandData){if(this._messageHash[commandData.id]){this._messageHash[commandData.id](commandData.data)}}},{key:"_setHandlers",value:function _setHandlers(){var _this28=this;window.addEventListener("storage",function(event){return _this28._onStorageEvent(event)},false);window.addEventListener("unload",function(){return _this28._destroy()},false)}},{key:"_onStorageEvent",value:function _onStorageEvent(event){if(event.newValue){var cmd=this._parseCommand(event.key);if(cmd&&cmd in this._api){var commandData=JSON.parse(localStorage.getItem(event.key));try{this._api[cmd](commandData)}catch(e){if(cmd!=="response"){this._setResponseError(commandData,e)}}}else if(event.key===this._sessionListKey){this.signals.changeSessions.dispatch(this.getSessionsData())}}}},{key:"_destroy",value:function _destroy(){this._removeSession();this._removeUserData()}},{key:"_addSession",value:function _addSession(){var sessions=JSON.parse(localStorage.getItem(this._sessionListKey)||"[]");sessions.push(this._sessionId);localStorage.setItem(this._sessionListKey,JSON.stringify(sessions))}},{key:"_removeSession",value:function _removeSession(){var sessions=JSON.parse(localStorage.getItem(this._sessionListKey)||"[]");var index=sessions.indexOf(this._sessionId);if(index!==-1){sessions.splice(index,1);localStorage.setItem(this._sessionListKey,JSON.stringify(sessions))}}},{key:"_addUserData",value:function _addUserData(){localStorage.setItem(this._getSessionDataKey(),JSON.stringify({name:user.name,address:user.address,id:this._sessionId,isMaster:user.isMaster()}))}},{key:"_getMasterSessionId",value:function _getMasterSessionId(address){return tsUtils.find(this.getSessionsData(),{address:address,isMaster:true})}},{key:"_getAllSessions",value:function _getAllSessions(){return JSON.parse(localStorage.getItem(this._sessionListKey)||"[]")}},{key:"_getOtherSessions",value:function _getOtherSessions(){var _this29=this;return this._getAllSessions().filter(function(sessionId){return sessionId!==_this29._sessionId})}},{key:"_removeUserData",value:function _removeUserData(sessionId){localStorage.removeItem(this._getSessionDataKey(sessionId))}},{key:"_getUserDataBySession",value:function _getUserDataBySession(sessionId){return JSON.parse(localStorage.getItem(this._getSessionDataKey(sessionId)))}},{key:"_getSessionDataKey",value:function _getSessionDataKey(){var sessionId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._sessionId;return this._key+"-"+sessionId}},{key:"_getCommandKey",value:function _getCommandKey(sessionId,cmd){return this._getSessionDataKey(sessionId)+"-"+cmd+"-cmd"}},{key:"_parseCommand",value:function _parseCommand(localStorageKey){var _localStorageKey$spli=localStorageKey.split("-").slice(1,-1),_localStorageKey$spli2=_slicedToArray(_localStorageKey$spli,2),sessionId=_localStorageKey$spli2[0],cmd=_localStorageKey$spli2[1];if(sessionId&&cmd&&sessionId===this._sessionId){return cmd}else{return null}}}]);return SessionBridge}();return new SessionBridge};factory.$inject=["user","utils"];angular.module("app").factory("sessionBridge",factory)})();(function(){"use strict";var factory=function factory(timeLine,$injector){var tsUtils=require("ts-utils");var State=function(){_createClass(State,[{key:"_sleepStep",get:function get(){return this.__sleepStep},set:function set(value){if(value){if(this._maxSleep){this._addBlock()}}else{this._removeBlock()}this.__sleepStep=value}}]);function State(){var _this30=this;_classCallCheck(this,State);this.signals={window:{blur:new tsUtils.Signal,focus:new tsUtils.Signal},sleep:new tsUtils.Signal,wakeUp:new tsUtils.Signal,changeRouterStateSuccess:new tsUtils.Signal,changeRouterStateStart:new tsUtils.Signal};this.lastOpenVersion="";this._timer=null;this._seepStartTime=null;this._maxSleep=null;this.__sleepStep=null;this._block=document.createElement("DIV");this._handlers=Object.create(null);timeLine.wait(100).then(function(){var user=$injector.get("user");user.onLogin().then(function(){_this30._maxSleep=user.getSetting("logoutAfterMin");user.changeSetting.on(function(path){if(path==="logoutAfterMin"){_this30._maxSleep=user.getSetting("logoutAfterMin")}})})});this._initialize()}_createClass(State,[{key:"_initialize",value:function _initialize(){this._addBlockStyles();this._createHandlers();this._setHandlers()}},{key:"_addBlockStyles",value:function _addBlockStyles(){this._block.classList.add("sleep-block")}},{key:"_createHandlers",value:function _createHandlers(){var _this31=this;this._handlers.focus=function(){_this31.signals.window.focus.dispatch();_this31._wakeUp()};this._handlers.blur=function(){_this31.signals.window.blur.dispatch();_this31._sleep()}}},{key:"_wakeUp",value:function _wakeUp(){this._seepStartTime=null;this._sleepStep=null;if(this._timer){timeLine.cancel(this._timer);this._timer=null}this.signals.wakeUp.dispatch()}},{key:"_removeBlock",value:function _removeBlock(){if(this._block&&this._block.parentNode===document.body){document.body.removeChild(this._block)}}},{key:"_addBlock",value:function _addBlock(){if(this._block&&!this._block.parentNode){document.body.appendChild(this._block)}}},{key:"_sleep",value:function _sleep(){var _this32=this;if(this._timer){timeLine.cancel(this._timer);this._timer=null}if(!this._seepStartTime){this._seepStartTime=Date.now();this._setSleepStep(0)}this._timer=timeLine.timeout(function(){_this32._timer=null;var time=Date.now()-_this32._seepStartTime;var sleepMinutes=Math.floor(time/(1e3*60));_this32._setSleepStep(sleepMinutes);_this32._sleep()},1e3)}},{key:"_setSleepStep",value:function _setSleepStep(step){if(this._sleepStep===step){return null}this._sleepStep=step;this.signals.sleep.dispatch(this._sleepStep)}},{key:"_setHandlers",value:function _setHandlers(){var _this33=this;Object.keys(this._handlers).forEach(function(event){window.addEventListener(event,_this33._handlers[event],false)})}}]);return State}();return new State};factory.$inject=["timeLine","$injector"];angular.module("app").factory("state",factory)})();(function(){"use strict";var factory=function factory(state,user,$state){var StateManager=function(){function StateManager(){_classCallCheck(this,StateManager);this.rootStateList=[];this.subStateList=[];state.signals.changeRouterStateSuccess.on(this._currentStateLists,this);this.changeRouteState=state.signals.changeRouterStateSuccess;this._currentStateLists()}_createClass(StateManager,[{key:"getSrefByState",value:function getSrefByState(state){return WavesApp.stateTree.getPath(state.id).join(".")}},{key:"getStateTree",value:function getStateTree(){var fromId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"main";var root=WavesApp.stateTree.find(fromId);return root.getChildren().filter(function(child){return child.get("noLogin")!==true}).map(StateManager._remapStateItem)}},{key:"_currentStateLists",value:function _currentStateLists(){if(!$state.$current||!$state.$current.name){return false}var root=WavesApp.stateTree.find("main");var rootPath=WavesApp.stateTree.getPath(root.id).join(".");this.rootStateList=root.getChildren().map(function(item){var path=user.getActiveState(item.id);var base=rootPath+"."+item.id;return{path:path,name:item.id,base:base}});var idList=$state.$current.name.split(".");var parent=idList[idList.length-2];var stateData=WavesApp.stateTree.find(parent);if(stateData&&!stateData.get("abstract")){this.subStateList=stateData.getChildren().map(function(item){var path=WavesApp.stateTree.getPath(item.id).join(".");return{name:item.id,path:path}})}else{this.subStateList=[]}}}],[{key:"_remapStateItem",value:function _remapStateItem(item){var list=item.getChildren().map(StateManager._remapStateItem);var isLeaf=list.length===0;var result={list:list,isLeaf:isLeaf,id:item.id};if(list.length){Object.defineProperty(result,"sref",{get:function get(){return user.getActiveState(item.id)}})}else{result.sref=user.getActiveState(item.id)}return result}}]);return StateManager}();return new StateManager};factory.$inject=["state","user","$state"];angular.module("app").factory("stateManager",factory)})();(function(){"use strict";var DEFAULT_THEME="default";var DEFAULT_CANDLE="blue";var factory=function factory(){var Themes=function(){function Themes(){_classCallCheck(this,Themes);this._events={};this.cssRules={};this.currentTheme=DEFAULT_THEME;this.themes=WavesApp.themesConf.themes;this.candleColors={};this._initCssStyleEl();this.changeTheme();this._setDefaultCandle();this.links=[].slice.apply(document.querySelectorAll("[rel=stylesheet]")).filter(function(el){return el.getAttribute("theme")})}_createClass(Themes,[{key:"getCurrentTheme",value:function getCurrentTheme(){return this.currentTheme}},{key:"getDefaultTheme",value:function getDefaultTheme(){return DEFAULT_THEME}},{key:"changeTheme",value:function changeTheme(name){name=name||DEFAULT_THEME;if(this.hasTheme(name)&&name!==this.currentTheme){this.currentTheme=name;this._changeTheme(name)}return this.currentTheme}},{key:"hasTheme",value:function hasTheme(name){return this.themes.includes(name)}},{key:"getAllThemes",value:function getAllThemes(){return this.themes}},{key:"getSettings",value:function getSettings(theme){return WavesApp.themesConf[theme||this.currentTheme||DEFAULT_THEME]||{}}},{key:"getTradingViewConfig",value:function getTradingViewConfig(theme){return this.getSettings(theme).tradingView||{}}},{key:"switchNext",value:function switchNext(){var index=this.themes.indexOf(this.currentTheme)+1;var newTheme=this.themes[index%this.themes.length];this.changeTheme(newTheme);return this.currentTheme}},{key:"getCandlesColors",value:function getCandlesColors(currentTheme){return this.getTradingViewConfig(currentTheme).candles}},{key:"getCurrentCandleSColor",value:function getCurrentCandleSColor(name){if(name){var _getCandlesColors=this.getCandlesColors()[name||DEFAULT_CANDLE],upColor=_getCandlesColors.upColor,downColor=_getCandlesColors.downColor,_volume=_getCandlesColors.volume0,_volume2=_getCandlesColors.volume1;return{up:upColor,down:downColor,volume0:_volume,volume1:_volume2}}var _candleColors=this.candleColors,up=_candleColors.up,down=_candleColors.down,volume0=_candleColors.volume0,volume1=_candleColors.volume1;up=up||this.getCandlesColors()[DEFAULT_CANDLE].upColor;down=down||this.getCandlesColors()[DEFAULT_CANDLE].downColor;volume0=volume0||this.getCandlesColors()[DEFAULT_CANDLE].volume0;volume1=volume1||this.getCandlesColors()[DEFAULT_CANDLE].volume1;return{up:up,down:down,volume0:volume0,volume1:volume1}}},{key:"changeStyleRules",value:function changeStyleRules(rules){this.cssRules=_extends({},this.cssRules,rules);this._applyRules()}},{key:"setCandleColors",value:function setCandleColors(up,down){this.candleColors={up:up,down:down};this.changeStyleRules({".candle-up-color-dynamic":{color:up+"!important"},".candle-down-color-dynamic":{color:down+"!important"},".candle-up-bg-color-dynamic":{"background-color":up+"!important"},".candle-down-bg-color-dynamic":{"background-color":down+"!important"}})}},{key:"setCandleColorsByName",value:function setCandleColorsByName(currentTheme,name){var colors=this.getCandlesColors(currentTheme);var cfg=colors[name]||colors[DEFAULT_CANDLE];if(cfg){this.setCandleColors(cfg.upColor,cfg.downColor)}}},{key:"_setDefaultCandle",value:function _setDefaultCandle(){var _getCandlesColors$DEF=this.getCandlesColors()[DEFAULT_CANDLE],upColor=_getCandlesColors$DEF.upColor,downColor=_getCandlesColors$DEF.downColor;this.setCandleColors(upColor,downColor)}},{key:"_changeTheme",value:function _changeTheme(name){this.links.forEach(function(style){if(style.getAttribute("theme")===name){style.disabled=false;document.head.appendChild(style)}})}},{key:"_applyRules",value:function _applyRules(){var cssText="";var parseStyles=function parseStyles(){var styles=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var stylesTxt="";var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=Object.entries(styles)[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _step$value=_slicedToArray(_step.value,2),style=_step$value[0],value=_step$value[1];stylesTxt+="\n"+style+": "+value+";"}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return stylesTxt};var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=Object.entries(this.cssRules)[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _step2$value=_slicedToArray(_step2.value,2),rule=_step2$value[0],css=_step2$value[1];cssText+=rule+" {"+parseStyles(css)+"\n}\n"}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}this.cssStyleEl.innerHTML=cssText}},{key:"_initCssStyleEl",value:function _initCssStyleEl(){this.cssStyleEl=document.createElement("style");document.head.appendChild(this.cssStyleEl)}}]);return Themes}();return new Themes};factory.$inject=[];angular.module("app").factory("themes",factory)})();(function(){"use strict";var NOT_SYNC_FIELDS=["changeSetting","extraFee","networkError","changeScript"];var factory=function factory(storage,$state,defaultSettings,state,UserRouteState,modalManager,timeLine,$injector,themes){var tsUtils=require("ts-utils");var ds=require("data-service");var _require5=require("@waves/data-entities"),Money=_require5.Money;var User=function(){_createClass(User,[{key:"changeSetting",get:function get(){return this._settings.change}}]);function User(){var _this34=this;_classCallCheck(this,User);this.networkError=false;this.address=null;this.id=null;this.name=null;this.publicKey=null;this.encryptedSeed=null;this.userType=null;this.settings=Object.create(null);this.noSaveToStorage=false;this.lastLogin=Date.now();this.matcherSign=null;this.extraFee=null;this.changeScript=new tsUtils.Signal;this._settings=defaultSettings.create(Object.create(null));this._dfr=$.Deferred();this.__props=Object.create(null);this._password=null;this._changeTimer=null;this._stateList=null;this._fieldsForSave=[];this._history=[];this._hasScript=false;this._scriptInfoPoll=null;this._setObserve();this._settings.change.on(function(){return _this34._onChangeSettings()});Mousetrap.bind(["ctrl+shift+k"],function(){return _this34.switchNextTheme()});this.onLogin().then(function(){var Poll=$injector.get("Poll");setTimeout(function(){_this34._scriptInfoPoll=new Poll(function(){return _this34.updateScriptAccountData()},function(){return null},1e4)},3e4)})}_createClass(User,[{key:"hasScript",value:function hasScript(){return this._hasScript}},{key:"isMaster",value:function isMaster(){return!!this._password}},{key:"getSetting",value:function getSetting(name){return this._settings.get(name)}},{key:"togglePinAsset",value:function togglePinAsset(assetId,state){this.toggleArrayUserSetting("pinnedAssetIdList",assetId,state);if(this.hasInArrayUserSetting("pinnedAssetIdList",assetId)){this.toggleSpamAsset(assetId,false)}}},{key:"toggleSpamAsset",value:function toggleSpamAsset(assetId,state){this.toggleArrayUserSetting("wallet.portfolio.spam",assetId,state);if(this.hasInArrayUserSetting("wallet.portfolio.spam",assetId)){this.togglePinAsset(assetId,false)}}},{key:"toggleArrayUserSetting",value:function toggleArrayUserSetting(path,value,state){var list=this.getSetting(path);var index=list.indexOf(value);state=tsUtils.isEmpty(state)?index===-1:state;if(state&&index===-1){var newList=list.slice();newList.push(value);this.setSetting(path,newList);return null}if(!state&&index!==-1){var _newList=list.slice();_newList.splice(index,1);this.setSetting(path,_newList);return null}}},{key:"hasInArrayUserSetting",value:function hasInArrayUserSetting(path,value){var list=this.getSetting(path);return list.includes(value)}},{key:"getSettingByUser",value:function getSettingByUser(user,name){var settings=defaultSettings.create(user.settings);return settings.get(name)}},{key:"getDefaultUserSettings",value:function getDefaultUserSettings(settings){return defaultSettings.create(_extends({},settings))}},{key:"getSettingsByUser",value:function getSettingsByUser(user){var settings=this.getDefaultUserSettings(user.settings);return settings}},{key:"setSetting",value:function setSetting(name,value){this._settings.set(name,value)}},{key:"onLogin",value:function onLogin(){return this._dfr.promise()}},{key:"login",value:function login(data){this.networkError=false;return this._addUserData(data).then(function(){return analytics.push("User","Login."+WavesApp.type+"."+data.userType)})}},{key:"create",value:function create(data,hasBackup,restore){this.noSaveToStorage=!data.saveToStorage;data.userType=data.userType||"seed";return this._addUserData({id:data.id,api:data.api,address:data.address,password:data.password,name:data.name,userType:data.userType,encryptedSeed:data.encryptedSeed,publicKey:data.publicKey,settings:{termsAccepted:false,hasBackup:hasBackup,lng:i18next.language,theme:themes.getDefaultTheme(),candle:"blue"}}).then(function(){return analytics.push("User",(restore?"Restore":"Create")+"."+WavesApp.type+"."+data.userType,document.referrer)})}},{key:"logout",value:function logout(){if(WavesApp.isDesktop()){transfer("reload")}else{window.location.reload()}}},{key:"getActiveState",value:function getActiveState(name){var userState=tsUtils.find(this._stateList||[],{name:name});if(userState){return userState.state}else{return WavesApp.stateTree.getPath(name).join(".")}}},{key:"applyState",value:function applyState(state){var _this35=this;this._history.push(state.name);this._history=this._history.slice(-10);if(this._stateList){this._stateList.some(function(item){return item.applyState(state,_this35)})}}},{key:"getLastState",value:function getLastState(){return this._history.length>1?this._history[this._history.length-2]:"welcome"}},{key:"getUserList",value:function getUserList(){return storage.onReady().then(function(){return storage.load("userList")}).then(function(list){list=list||[];list.sort(function(a,b){return a.lastLogin-b.lastLogin}).reverse();return list})}},{key:"removeUserByAddress",value:function removeUserByAddress(removeAddress){return storage.load("userList").then(function(list){return list.filter(function(_ref11){var address=_ref11.address;return address!==removeAddress})}).then(function(list){return storage.save("userList",list)})}},{key:"getThemeSettings",value:function getThemeSettings(){var currentTheme=this.getSetting("theme");return themes.getSettings(currentTheme)}},{key:"changeTheme",value:function changeTheme(theme){var currentTheme=this.getSetting("theme");var newTheme=themes.changeTheme(theme||this.getSetting("theme"));if(currentTheme!==newTheme){this.setSetting("theme",newTheme)}analytics.push("Settings","Settings.ChangeTheme",newTheme)}},{key:"changeCandle",value:function changeCandle(name){var currentTheme=this.getSetting("theme");var current=this.getSetting("candle");themes.setCandleColorsByName(currentTheme,name);if(name!==current){this.setSetting("candle",name)}}},{key:"switchNextTheme",value:function switchNextTheme(){var newTheme=themes.switchNext();this.setSetting("theme",newTheme)}},{key:"updateScriptAccountData",value:async function updateScriptAccountData(){var _this36=this;var item=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var waves=void 0;var address=item?item.address:this.address;try{this.networkError=false;waves=await ds.api.assets.get(WavesApp.defaultAssets.WAVES)}catch(e){this.networkError=true;throw new Error("Can't get Waves asset")}var addHasScript=function addHasScript(value){if(_this36._hasScript!==value){_this36._hasScript=value;_this36.changeScript.dispatch()}};try{var response=await ds.fetch(ds.config.get("node")+"/addresses/scriptInfo/"+address);this.extraFee=Money.fromCoins(response.extraFee,waves);addHasScript(response.extraFee!==0)}catch(e){addHasScript(!!this._hasScript);this.extraFee=this.extraFee||Money.fromCoins(0,waves)}}},{key:"addMatcherSign",value:function addMatcherSign(){var _this37=this;var promise=void 0;var modalPromise=void 0;var devicePromise=void 0;var dayForwardTime=ds.app.getTimeStamp(1,"day");if(!this.matcherSign||this.matcherSign.timestamp-dayForwardTime<0){var maxIntervalTimeStamp=ds.app.getTimeStamp(WavesApp.matcherSignInterval.count,WavesApp.matcherSignInterval.timeType);promise=ds.app.signForMatcher(maxIntervalTimeStamp).then(function(signature){return{signature:signature,timestamp:maxIntervalTimeStamp}});if(this.userType&&this.userType!=="seed"){modalPromise=ds.app.getSignIdForMatcher(maxIntervalTimeStamp).then(function(id){return modalManager.showSignByDevice({promise:promise,mode:"sign-matcher",id:id,userType:_this37.userType})});devicePromise=modalPromise.then(function(){return promise}).catch(function(){return modalManager.showSignDeviceError({error:"sign-error",userType:_this37.userType}).then(function(){return _this37.addMatcherSign()})})}}return(devicePromise||promise||Promise.resolve(this.matcherSign)).then(function(matcherSign){_this37.matcherSign=matcherSign||_this37.matcherSign||{timestamp:0,signature:""};return ds.app.addMatcherSign(_this37.matcherSign.timestamp,_this37.matcherSign.signature)})}},{key:"_addUserData",value:function _addUserData(data){var _this38=this;return this._loadUserByAddress(data.address).then(function(item){_this38._fieldsForSave.forEach(function(propertyName){if(data[propertyName]!=null){_this38[propertyName]=data[propertyName]}else if(item[propertyName]!=null){_this38[propertyName]=item[propertyName]}});_this38.lastLogin=Date.now();if(_this38._settings){_this38._settings.change.off()}_this38._settings=defaultSettings.create(_this38.settings);_this38._settings.change.on(function(){return _this38._onChangeSettings()});if(_this38._settings.get("savePassword")){_this38._password=data.password}var states=WavesApp.stateTree.find("main").getChildren();_this38._stateList=states.map(function(baseTree){var id=baseTree.id;return new UserRouteState("main",id,_this38._settings.get(id+".activeState"))});Object.keys(WavesApp.network).forEach(function(key){ds.config.set(key,_this38._settings.get("network."+key))});ds.config.set("oracleAddress",_this38.getSetting("assetsOracle"));ds.app.login(data.address,data.api);data.api.onDestroy(function(){_this38.logout()});return _this38.addMatcherSign().catch(function(){return Promise.resolve()}).then(function(){_this38.changeTheme();_this38.changeCandle();return _this38._save()}).then(function(){return _this38._logoutTimer()}).then(function(){return _this38.updateScriptAccountData()}).then(_this38._dfr.resolve).catch(function(e){ds.app.logOut();return Promise.reject(e)})})}},{key:"_logoutTimer",value:function _logoutTimer(){var _this39=this;this.receive(state.signals.sleep,function(min){if(min>=_this39._settings.get("logoutAfterMin")){_this39.logout()}})}},{key:"_onChangeSettings",value:function _onChangeSettings(){this.settings=_extends({},this._settings.getSettings())}},{key:"_onChangePropsForSave",value:function _onChangePropsForSave(){var _this40=this;if(!this._changeTimer){this._changeTimer=timeLine.timeout(function(){_this40._changeTimer=null;_this40._save()},500)}}},{key:"_setObserve",value:function _setObserve(){var _this41=this;this._fieldsForSave=Object.keys(this).filter(function(property){return property.charAt(0)!=="_"&&NOT_SYNC_FIELDS.indexOf(property)===-1});this._fieldsForSave.forEach(function(key){_this41._observe(key,_this41)})}},{key:"_observe",value:function _observe(key,target){var _this42=this;this.__props[key]=target[key];Object.defineProperty(target,key,{get:function get(){return _this42.__props[key]},set:function set(value){if(value!==_this42.__props[key]){_this42.__props[key]=value;_this42._onChangePropsForSave()}}})}},{key:"_save",value:function _save(){var _this43=this;if(this.noSaveToStorage||!this.address){return Promise.resolve()}return storage.load("userList").then(function(list){list=list||[];list=list.filter(tsUtils.notContains({address:_this43.address}));var props=_this43._fieldsForSave.reduce(function(result,propertyName){var property=_this43[propertyName];if(property!=null){result[propertyName]=property}return result},Object.create(null));list.push(props);return storage.save("userList",list)})}},{key:"_loadUserByAddress",value:function _loadUserByAddress(address){return storage.load("userList").then(function(list){return tsUtils.find(list||[],{address:address})||Object.create(null)})}}]);return User}();User.prototype.receive=tsUtils.Receiver.prototype.receive;User.prototype.receiveOnce=tsUtils.Receiver.prototype.receiveOnce;User.prototype.stopReceive=tsUtils.Receiver.prototype.stopReceive;return new User};factory.$inject=["storage","$state","defaultSettings","state","UserRouteState","modalManager","timeLine","$injector","themes"];angular.module("app").factory("user",factory)})();(function(){"use strict";var factory=function factory($q,localeParser){var onLoad=$q(function(resolve){i18next.on("initialized",resolve)});var escape=function escape(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return text.split("").map(function(char){switch(char.charCodeAt(0)){case 34:return"&quot;";case 38:return"&amp;";case 39:return"&#39;";case 60:return"&lt;";case 62:return"&gt;";default:return char}}).join("")};var parse=function parse(text){return localeParser(escape(text))};return{translate:function translate(literal,ns,params,skipErrors){if(!ns){ns="app"}var translate=[ns+":"+literal];if(ns&&ns!=="app"){translate.push("app:"+literal)}if(skipErrors){var has=translate.some(function(key){return i18next.exists(key,params)});if(has){return parse(i18next.t(translate,params))}else{return""}}return parse(i18next.t(translate,_extends({},params,{interpolation:{escapeValue:false}})))},translateField:function translateField(controller,literalField,translatedField,ns,params){var _this44=this;var apply=function apply(){if(controller[literalField]!=null){controller[translatedField]=_this44.translate(controller[literalField],ns,params)}};controller.observe(literalField,apply);i18next.on("languageChanged",apply);controller.signals.destroy.once(function(){i18next.off("languageChanged")});if(!controller[translatedField]){apply()}},getNs:function getNs($element){return $element.closest("[w-i18n-ns]").attr("w-i18n-ns")||""},onLoad:onLoad}};factory.$inject=["$q","localeParser"];angular.module("app").factory("i18n",factory)})();(function(){"use strict";var factory=function factory(){var TxEvent=function(){function TxEvent(id,moneyList){_classCallCheck(this,TxEvent);this.id=id;this.moneyList=moneyList}_createClass(TxEvent,[{key:"getReservedMoneyList",value:function getReservedMoneyList(){return this.moneyList}}]);return TxEvent}();return TxEvent};factory.$inject=[];angular.module("app").factory("TxEvent",factory)})();(function(){"use strict";var factory=function factory($compile,$q,$rootScope,timeLine,Queue,$templateRequest,utils){var tsUtils=require("ts-utils");var BaseNotificationManager=function(){function BaseNotificationManager(options){_classCallCheck(this,BaseNotificationManager);this._queue=new Queue({queueLimit:options.queueLimit});this._options=options;this.changeSignal=new tsUtils.Signal;this._setHandlers()}_createClass(BaseNotificationManager,[{key:"remove",value:function remove(id){var item=this._queue.remove(id);if(item&&item.destroy){item.destroy()}}},{key:"has",value:function has(id){return this._queue.has(id)}},{key:"info",value:function info(notificationObj,delay){return this._push("info",notificationObj,delay)}},{key:"success",value:function success(notificationObj,delay){return this._push("success",notificationObj,delay)}},{key:"warn",value:function warn(notificationObj,delay){return this._push("warn",notificationObj,delay)}},{key:"error",value:function error(notificationObj,delay){return this._push("error",notificationObj,delay)}},{key:"getActiveNotificationsList",value:function getActiveNotificationsList(){return this._queue.getActiveList()}},{key:"_setHandlers",value:function _setHandlers(){this._queue.signals.change.on(this._run,this)}},{key:"_push",value:function _push(type,notificationObj){var delay=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this._options.defaultDelay;var defer=$q.defer();var promise=defer.promise;notificationObj.id=notificationObj.id||tsUtils.uniqueId("n");var notification=utils.liteObject({id:notificationObj.id,defer:defer,promise:promise,notificationObj:notificationObj,delay:delay,type:type,$element:null,destroy:null});this._queue.push(notification);return promise}},{key:"_createElement",value:function _createElement($scope){return BaseNotificationManager._loadTemplate(this._options.templateUrl).then(function(html){return $compile(html)($scope)})}},{key:"_run",value:function _run(list){var _this45=this;var promises=list.filter(function(item){return!item.$element}).map(function(item){var $scope=$rootScope.$new(true);$scope.$on("$destroy",item.defer.resolve);Object.assign($scope,item.notificationObj);$scope.type=item.type;item.destroy=function(){$scope.$destroy();if(item.notificationObj.onClose){item.notificationObj.onClose()}};return _this45._createElement($scope).then(function($element){item.$element=$element;$element.on("click","[w-notification-close]",function(){item.destroy()});$element.on("click","[w-notification-action]",function(){item.notificationObj.action.callback(item)});if(item.notificationObj.action){$element.on("click",".js-notification-action",function(){item.notificationObj.action(item)})}if(item.delay>0){timeLine.timeout(item.destroy,item.delay)}})});Promise.all(promises).then(function(){return _this45._dispatch()})}},{key:"_dispatch",value:function _dispatch(){this.changeSignal.dispatch(this.getActiveNotificationsList())}}],[{key:"_loadTemplate",value:function _loadTemplate(url){return $templateRequest(url)}}]);return BaseNotificationManager}();return BaseNotificationManager};factory.$inject=["$compile","$q","$rootScope","timeLine","Queue","$templateRequest","utils"];angular.module("app").factory("BaseNotificationManager",factory)})();(function(){"use strict";var factory=function factory(BaseNotificationManager){return new BaseNotificationManager({templateUrl:"modules/app/services/notification/templates/notification.html",queueLimit:5,defaultDelay:3e3})};factory.$inject=["BaseNotificationManager"];angular.module("app").factory("notification",factory)})();(function(){"use strict";var factory=function factory(node,matcher,wavesUtils,utils){var Waves=function Waves(){_classCallCheck(this,Waves);this.node=node;this.matcher=matcher;this.utils=wavesUtils};return utils.bind(new Waves)};factory.$inject=["node","matcher","wavesUtils","utils"];angular.module("app").factory("waves",factory)})();(function(){"use strict";var factory=function factory(assets,utils,decorators){var _dec2,_dec3,_dec4,_dec5,_dec6,_desc2,_value2,_class5;var ds=require("data-service");var entities=require("@waves/data-entities");var WavesUtils=(_dec2=decorators.cachable(5),_dec3=decorators.cachable(350),_dec4=decorators.cachable(60),_dec5=decorators.cachable(60),_dec6=decorators.cachable(60),_class5=function(){function WavesUtils(){_classCallCheck(this,WavesUtils)}_createClass(WavesUtils,[{key:"searchAsset",value:function searchAsset(userInput){return ds.fetch(WavesApp.network.api+"/assets/search/"+userInput)}},{key:"getRate",value:function getRate(assetFrom,assetTo,date){var WavesId=WavesApp.defaultAssets.WAVES;var from=WavesUtils.toId(assetFrom);var to=WavesUtils.toId(assetTo);if(from===to){return Promise.resolve(new BigNumber(1))}if(date){}else if(from===WavesId||to===WavesId){return this._getRate(from,to)}else{return utils.whenAll([this._getRate(from,WavesId),this._getRate(to,WavesId)]).then(function(_ref12){var _ref13=_slicedToArray(_ref12,2),rateFrom=_ref13[0],rateTo=_ref13[1];return rateTo.eq(0)?rateTo:rateFrom.div(rateTo)})}}},{key:"getRateApi",value:function getRateApi(assetFrom,assetTo){var _this46=this;return utils.whenAll([assets.getAsset(WavesUtils.toId(assetFrom)),assets.getAsset(WavesUtils.toId(assetTo)),this.getRate(assetFrom,assetTo)]).then(function(_ref14){var _ref15=_slicedToArray(_ref14,3),from=_ref15[0],to=_ref15[1],rate=_ref15[2];return _this46._generateRateApi(from,to,rate)})}},{key:"getRateHistory",value:function getRateHistory(assetFrom,assetTo,from,to){var idFrom=WavesUtils.toId(assetFrom);var idTo=WavesUtils.toId(assetTo);var wavesId=WavesApp.defaultAssets.WAVES;to=to||Date.now();if(idFrom===idTo){return Promise.resolve([])}else if(idFrom===wavesId||idTo===wavesId){return this._getRateHistory(idFrom,idTo,utils.moment(from),utils.moment(to))}else{return Promise.all([this._getRateHistory(idFrom,wavesId,utils.moment(from),utils.moment(to)),this._getRateHistory(idTo,wavesId,utils.moment(from),utils.moment(to))]).then(function(_ref16){var _ref17=_slicedToArray(_ref16,2),from=_ref17[0],to=_ref17[1];var toHash=function toHash(list){return list.reduce(function(result,item){result[item.timestamp.valueOf()]=item;return result},Object.create(null))};var hash=toHash(to);return from.reduce(function(result,item){if(hash[item.timestamp.valueOf()]){item.rate/=hash[item.timestamp.valueOf()].rate;result.push(item)}return result},[])})}}},{key:"getChange",value:function getChange(assetFrom,assetTo){var idFrom=WavesUtils.toId(assetFrom);var idTo=WavesUtils.toId(assetTo);if(idFrom===idTo){return Promise.resolve(new BigNumber(0))}return this._getChange(idFrom,idTo)}},{key:"getVolume",value:function getVolume(pair){return ds.api.pairs.info(pair).then(function(data){var _data$filter=data.filter(Boolean),_data$filter2=_slicedToArray(_data$filter,1),_data$filter2$=_data$filter2[0],pair=_data$filter2$===undefined?{}:_data$filter2$;return pair&&String(pair.volume)||"0"})}},{key:"_getChange",value:function _getChange(from,to){var getChange=function getChange(open,close){if(open.eq(0)){return new BigNumber(0)}else{return close.minus(open).div(open).times(100).dp(2)}};return ds.api.pairs.get(from,to).then(function(pair){return ds.api.pairs.info(pair).catch(function(){return null}).then(function(_ref18){var _ref19=_slicedToArray(_ref18,1),data=_ref19[0];if(!data||data.status==="error"){return 0}var open=data.firstPrice||new entities.Money(0,pair.priceAsset);var close=data.lastPrice||new entities.Money(0,pair.priceAsset);var change24=getChange(open.getTokens(),close.getTokens()).toNumber();if(pair.amountAsset.id===from){return change24}else{return-change24}})})}},{key:"_getRate",value:function _getRate(fromId,toId){var calculateCurrentRate=function calculateCurrentRate(trades){return trades.reduce(function(result,item){return result.plus(new BigNumber(item.price.getTokens()))},new BigNumber(0)).div(trades.length)};var currentRate=function currentRate(trades){return trades&&trades.length?calculateCurrentRate(trades):new BigNumber(0)};return ds.api.pairs.get(fromId,toId).then(function(pair){return ds.api.transactions.getExchangeTxList({limit:5,amountAsset:pair.amountAsset,priceAsset:pair.priceAsset}).then(currentRate).then(function(rate){if(fromId!==pair.priceAsset.id){return rate}else{return rate.eq(0)?rate:new BigNumber(1).div(rate)}}).catch(function(){return new BigNumber(0)})})}},{key:"_getRateHistory",value:function _getRateHistory(fromId,toId,from,to){var interval="3h";return ds.api.pairs.get(fromId,toId).then(function(pair){var amountId=pair.amountAsset.id;var priceId=pair.priceAsset.id;var addver=WavesApp.network.api+"/"+WavesApp.network.apiVersion;var path=addver+"/candles/"+amountId+"/"+priceId;return ds.fetch(path+"?timeStart="+from+"&timeEnd="+to+"&interval="+interval+"&oldVersion=true").then(function(data){var list=data.candles;if(!list||!list.length){return Promise.reject(list)}var result=[];list.forEach(function(item){var close=Number(item.close);var rate=fromId!==pair.priceAsset.id?close:1/close;if(close!==0){result.push({timestamp:new Date(item.time),rate:rate})}});return result.filter(function(item){return item.timestamp>from&&item.timestamp<to}).sort(utils.comparators.process(function(_ref20){var timestamp=_ref20.timestamp;return timestamp}).asc)})})}},{key:"_generateRateApi",value:function _generateRateApi(from,to,rate){return{exchange:function exchange(balance){return balance.times(rate.toFixed(8)).dp(to.precision)},exchangeReverse:function exchangeReverse(balance){return(rate?balance.div(rate):new BigNumber(0)).dp(from.precision)},rate:rate}}}],[{key:"toId",value:function toId(asset){return typeof asset==="string"?asset:asset.id}}]);return WavesUtils}(),_applyDecoratedDescriptor(_class5.prototype,"searchAsset",[_dec2],Object.getOwnPropertyDescriptor(_class5.prototype,"searchAsset"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"getRate",[_dec3],Object.getOwnPropertyDescriptor(_class5.prototype,"getRate"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"getRateHistory",[_dec4],Object.getOwnPropertyDescriptor(_class5.prototype,"getRateHistory"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"getChange",[_dec5],Object.getOwnPropertyDescriptor(_class5.prototype,"getChange"),_class5.prototype),_applyDecoratedDescriptor(_class5.prototype,"getVolume",[_dec6],Object.getOwnPropertyDescriptor(_class5.prototype,"getVolume"),_class5.prototype),_class5);return new WavesUtils};factory.$inject=["assets","utils","decorators"];angular.module("app").factory("wavesUtils",factory)})();(function(){"use strict";var ds=require("data-service");var factory=function factory(utils,decorators,i18n,user,PollCache){var _dec7,_dec8,_desc3,_value3,_class6;var Matcher=(_dec7=decorators.cachable(1),_dec8=decorators.cachable(.5),_class6=function(){function Matcher(){_classCallCheck(this,Matcher);this._orderBookCacheHash=Object.create(null)}_createClass(Matcher,[{key:"getOrders",value:function getOrders(){if(user.address){return ds.api.matcher.getOrders().then(ds.processOrdersWithStore)}else{return Promise.resolve([])}}},{key:"getLastPrice",value:function getLastPrice(pair){return ds.api.matcher.getLastPrice(pair)}},{key:"getOrderBook",value:function getOrderBook(asset1,asset2){return this._getOrderBookCache(asset1,asset2).get()}},{key:"_getOrderBook",value:function _getOrderBook(asset1,asset2){return ds.api.matcher.getOrderBook(asset1,asset2).then(function(orderBook){return Matcher._remapOrderBook(orderBook)}).then(function(_ref21){var bids=_ref21.bids,asks=_ref21.asks,pair=_ref21.pair;return{bids:bids,asks:asks,pair:pair,spread:Matcher._getSpread(bids,asks,pair)}})}},{key:"_getOrderBookCache",value:function _getOrderBookCache(asset1,asset2){var _this47=this;var hash=this._orderBookCacheHash;var id=[asset1,asset2].sort(utils.comparators.asc).join("-");if(hash[id]){clearTimeout(hash[id].timer);hash[id].timer=setTimeout(function(){hash[id].cache.destroy();delete hash[id]},5e3);return hash[id].cache}else{hash[id]={timer:setTimeout(function(){hash[id].cache.destroy();delete hash[id]},5e3),cache:new PollCache({getData:function getData(){return _this47._getOrderBook(asset1,asset2)},timeout:1e3})};return hash[id].cache}}}],[{key:"_remapOrderBook",value:function _remapOrderBook(_ref22){var bids=_ref22.bids,asks=_ref22.asks,pair=_ref22.pair;return{pair:pair,bids:Matcher._remapBidAsks(bids,pair),asks:Matcher._remapBidAsks(asks,pair)}}},{key:"_remapBidAsks",value:function _remapBidAsks(list,pair){return(list||[]).map(function(item){var amount=item.amount.getTokens();var price=item.price.getTokens();var total=amount.times(price);return{amount:amount.toFixed(pair.amountAsset.precision),price:price.toFixed(pair.priceAsset.precision),total:total.toFixed(pair.priceAsset.precision)}})}},{key:"_getSpread",value:function _getSpread(bids,asks){var _asks=_slicedToArray(asks,1),lastAsk=_asks[0];var _bids=_slicedToArray(bids,1),firstBid=_bids[0];var sell=new BigNumber(firstBid&&firstBid.price);var buy=new BigNumber(lastAsk&&lastAsk.price);var percent=sell&&buy&&buy.gt(0)?buy.minus(sell).times(100).div(buy):new BigNumber(0);return firstBid&&lastAsk&&{lastAsk:lastAsk,firstBid:firstBid,buy:buy,sell:sell,percent:percent}||null}}]);return Matcher}(),_applyDecoratedDescriptor(_class6.prototype,"getOrders",[_dec7],Object.getOwnPropertyDescriptor(_class6.prototype,"getOrders"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"getLastPrice",[_dec8],Object.getOwnPropertyDescriptor(_class6.prototype,"getLastPrice"),_class6.prototype),_class6);return new Matcher};factory.$inject=["utils","decorators","i18n","user","PollCache"];angular.module("app").factory("matcher",factory)})();(function(){"use strict";var factory=function factory(BaseNodeComponent,aliases,transactions,assets,user,utils){var Node=function(_BaseNodeComponent){_inherits(Node,_BaseNodeComponent);function Node(){_classCallCheck(this,Node);var _this48=_possibleConstructorReturn(this,(Node.__proto__||Object.getPrototypeOf(Node)).call(this));_this48.aliases=aliases;_this48.assets=assets;_this48.transactions=transactions;return _this48}_createClass(Node,[{key:"isValidAddress",value:function isValidAddress(address){try{return ds.isValidAddress(address)}catch(e){return false}}},{key:"height",value:function height(){return ds.fetch(this.node+"/blocks/height").then(function(res){return res.height})}}]);return Node}(BaseNodeComponent);return utils.bind(new Node)};factory.$inject=["BaseNodeComponent","aliases","transactions","assets","user","utils"];angular.module("app").factory("node",factory)})();(function(){"use strict";var factory=function factory(BaseNodeComponent){var ds=require("data-service");var AVAILABLE_CHARS="-.0123456789@_abcdefghijklmnopqrstuvwxyz";var Aliases=function(_BaseNodeComponent2){_inherits(Aliases,_BaseNodeComponent2);function Aliases(){_classCallCheck(this,Aliases);return _possibleConstructorReturn(this,(Aliases.__proto__||Object.getPrototypeOf(Aliases)).apply(this,arguments))}_createClass(Aliases,[{key:"getAddress",value:function getAddress(alias){return ds.api.aliases.getAddressByAlias(alias).then(function(_ref23){var address=_ref23.address;return address})}},{key:"getAliasList",value:function getAliasList(){return ds.dataManager.getLastAliases()}},{key:"validate",value:function validate(alias){return alias.length>=4&&alias.length<=WavesApp.maxAliasLength&&alias.split("").every(function(char){return AVAILABLE_CHARS.includes(char)})}}]);return Aliases}(BaseNodeComponent);return new Aliases};factory.$inject=["BaseNodeComponent"];angular.module("app").factory("aliases",factory)})();(function(){"use strict";var entities=require("@waves/data-entities");var factory=function factory(BaseNodeComponent,utils,user,eventManager,decorators,createPoll){var _dec9,_desc4,_value4,_class7;var Assets=(_dec9=decorators.cachable(5),_class7=function(_BaseNodeComponent3){_inherits(Assets,_BaseNodeComponent3);function Assets(){_classCallCheck(this,Assets);var _this50=_possibleConstructorReturn(this,(Assets.__proto__||Object.getPrototypeOf(Assets)).call(this));user.onLogin().then(function(){if(!user.getSetting("withScam")){_this50.stopScam()}});return _this50}_createClass(Assets,[{key:"getBalanceByAddress",value:function getBalanceByAddress(address){return ds.api.assets.wavesBalance(address)}},{key:"info",value:function info(assetId){if(assetId===WavesApp.defaultAssets.WAVES){return this.getAsset(assetId)}return Promise.all([this.getAsset(assetId),ds.fetch(this.node+"/assets/details/"+assetId)]).then(function(_ref24){var _ref25=_slicedToArray(_ref24,2),asset=_ref25[0],assetData=_ref25[1];Assets._updateAsset(asset,assetData);return asset})}},{key:"getAsset",value:function getAsset(assetId){return ds.api.assets.get(assetId)}},{key:"balance",value:function balance(assetId){return this.balanceList([assetId]).then(function(_ref26){var _ref27=_slicedToArray(_ref26,1),asset=_ref27[0];return asset})}},{key:"search",value:function search(query){return $.get(WavesApp.network.api+"/assets/search/"+encodeURIComponent(query),function(data){return data.map(function(item){item.name=WavesApp.remappedAssetNames[item.id]||item.name;return item})})}},{key:"balanceList",value:function balanceList(assetIdList){var _this51=this;return utils.whenAll([this.userBalances(),this._getEmptyBalanceList(assetIdList)]).then(function(_ref28){var _ref29=_slicedToArray(_ref28,2),balanceList=_ref29[0],emptyBalanceList=_ref29[1];var balances=utils.toHash(balanceList,"available.asset.id");return Promise.all(emptyBalanceList.map(function(money){if(balances[money.asset.id]){return Promise.resolve(balances[money.asset.id])}else{return _this51.info(money.asset.id).then(function(){return{asset:money.asset,regular:money,available:money,inOrders:money,leasedOut:money,leasedIn:money}})}}))})}},{key:"userBalances",value:function userBalances(){return ds.dataManager.getBalances()}},{key:"giveMyScamBack",value:function giveMyScamBack(){WavesApp.scam=Object.create(null);if(this._pollScam){this._pollScam.destroy();this._pollScam=null}}},{key:"stopScam",value:function stopScam(){if(this._pollScam){return null}this._pollScam=createPoll(this,this._getScamAssetList,this._setScamAssetList,15e3)}},{key:"_getScamAssetList",value:function _getScamAssetList(){return ds.fetch(user.getSetting("scamListUrl")+"?"+WavesApp.version+"-"+Date.now()).then(function(text){var papa=require("papaparse");var hash=Object.create(null);papa.parse(text).data.forEach(function(_ref30){var _ref31=_slicedToArray(_ref30,1),id=_ref31[0];if(id){hash[id]=true}});return hash})}},{key:"_setScamAssetList",value:function _setScamAssetList(hash){WavesApp.scam=hash}},{key:"_getEmptyBalanceList",value:function _getEmptyBalanceList(idList){return ds.api.assets.get(idList).then(function(list){return list.map(function(asset){return new entities.Money(0,asset)})})}}],[{key:"_remapAssetProps",value:function _remapAssetProps(props){props.precision=props.decimals;delete props.decimals;return props}},{key:"_updateAsset",value:function _updateAsset(asset,props){asset.reissuable=props.reissuable;asset.quantity=new BigNumber(props.quantity)}}]);return Assets}(BaseNodeComponent),_applyDecoratedDescriptor(_class7.prototype,"info",[_dec9],Object.getOwnPropertyDescriptor(_class7.prototype,"info"),_class7.prototype),_class7);return utils.bind(new Assets)};factory.$inject=["BaseNodeComponent","utils","user","eventManager","decorators","createPoll"];angular.module("app").factory("assets",factory)})();(function(){"use strict";var factory=function factory(Base,utils,eventManager,user){var TYPES=WavesApp.TRANSACTION_TYPES.NODE;var ds=require("data-service");var _require6=require("@waves/data-entities"),Money=_require6.Money;var _require7=require("ramda"),head=_require7.head;var BaseNodeComponent=function(_Base5){_inherits(BaseNodeComponent,_Base5);function BaseNodeComponent(){_classCallCheck(this,BaseNodeComponent);return _possibleConstructorReturn(this,(BaseNodeComponent.__proto__||Object.getPrototypeOf(BaseNodeComponent)).apply(this,arguments))}_createClass(BaseNodeComponent,[{key:"_feeList",value:function _feeList(_ref32){var type=_ref32.type,tx=_ref32.tx;return Promise.all([ds.api.assets.get(WavesApp.defaultAssets.WAVES),user.onLogin()]).then(head).then(function(waves){var getFee=function getFee(tokens){return user.extraFee.add(Money.fromTokens(tokens,waves))};var transfer=function transfer(){var feeList=ds.utils.getTransferFeeList();var fee=Money.fromTokens(.001,waves).add(user.extraFee);var assets=feeList.map(function(item){var count=fee.getTokens().div(.001);return item.cloneWithTokens(item.getTokens().times(count))});return[fee].concat(_toConsumableArray(assets))};var getMassTransferFee=function getMassTransferFee(){var len=tx&&tx.transfers&&tx.transfers.length||0;var factor=!(len%2)?len:len+1;var transfer=new BigNumber("0.001");var massTransfer=new BigNumber("0.001").div(2);var fee=transfer.plus(massTransfer.times(factor));return getFee(fee)};switch(type){case TYPES.TRANSFER:return transfer();case TYPES.BURN:case TYPES.CREATE_ALIAS:case TYPES.LEASE:case TYPES.CANCEL_LEASING:return Promise.all([getFee("0.001")]);case TYPES.SET_SCRIPT:return Promise.all([getFee("0.01")]);case TYPES.MASS_TRANSFER:return Promise.all([getMassTransferFee()]);case TYPES.SPONSORSHIP:case TYPES.ISSUE:case TYPES.REISSUE:return Promise.all([getFee("1")]);default:throw new Error("Wrong transaction type! "+type)}})}},{key:"getFee",value:function getFee(_ref33){var type=_ref33.type,tx=_ref33.tx,fee=_ref33.fee;return this._feeList({type:type,tx:tx}).then(function(list){if(fee){var hash=utils.toHash(list,"asset.id");if(hash[fee.asset.id]&&hash[fee.asset.id].getTokens().lte(fee.getTokens())){return fee}else{throw new Error("Wrong fee!")}}else{return list[0]}})}},{key:"getFeeList",value:function getFeeList(_ref34){var type=_ref34.type,tx=_ref34.tx;return this._feeList({type:type,tx:tx})}},{key:"_pipeTransaction",value:function _pipeTransaction(moneyList){return function(transaction){eventManager.addTx(transaction,moneyList);return transaction}}},{key:"matcher",get:function get(){return user.getSetting("network.matcher")}},{key:"node",get:function get(){return user.getSetting("network.node")}}]);return BaseNodeComponent}(Base);return BaseNodeComponent};factory.$inject=["Base","utils","eventManager","user"];angular.module("app").factory("BaseNodeComponent",factory)})();(function(){"use strict";var factory=function factory(user,utils,aliases,decorators,BaseNodeComponent){var _dec10,_dec11,_desc5,_value5,_class8;var tsUtils=require("ts-utils");var R=require("ramda");var _require8=require("@waves/signature-adapter"),SIGN_TYPE=_require8.SIGN_TYPE;var ds=require("data-service");var TYPES=WavesApp.TRANSACTION_TYPES.EXTENDED;var Transactions=(_dec10=decorators.cachable(1),_dec11=decorators.cachable(120),_class8=function(_BaseNodeComponent4){_inherits(Transactions,_BaseNodeComponent4);function Transactions(){_classCallCheck(this,Transactions);var _this53=_possibleConstructorReturn(this,(Transactions.__proto__||Object.getPrototypeOf(Transactions)).call(this));_this53.TYPES=TYPES;return _this53}_createClass(Transactions,[{key:"get",value:function get(id){return ds.api.transactions.get(id).then(this._pipeTransaction())}},{key:"getUtx",value:function getUtx(id){return ds.api.transactions.getUTX(id).then(this._pipeTransaction())}},{key:"getAlways",value:function getAlways(id){var _this54=this;return this.get(id).catch(function(){return _this54.getUtx(id)}).catch(function(){return _this54.get(id)})}},{key:"list",value:function list(){var _this55=this;var limit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1e3;return ds.api.transactions.list(user.address,limit).then(function(list){return list.map(_this55._pipeTransaction())})}},{key:"getActiveLeasingTx",value:function getActiveLeasingTx(){var _this56=this;return ds.fetch(this.node+"/leasing/active/"+user.address).then(R.uniqBy(R.prop("id"))).then(function(list){return ds.api.transactions.parseTx(list,false)}).then(function(list){return list.map(_this56._pipeTransaction())})}},{key:"listUtx",value:function listUtx(){var _this57=this;return ds.api.transactions.listUTX(user.address).then(function(list){return list.map(_this57._pipeTransaction())})}},{key:"listAlways",value:function listAlways(){return utils.whenAll([this.listUtx(),this.list()]).then(function(_ref35){var _ref36=_slicedToArray(_ref35,2),utxTxList=_ref36[0],txList=_ref36[1];return utxTxList.concat(txList)})}},{key:"createTransaction",value:function createTransaction(txData){var tx=_extends({sender:user.address,timestamp:Date.now()},txData);if(tx.type===SIGN_TYPE.MASS_TRANSFER){tx.totalAmount=tx.totalAmount||tx.transfers.map(function(_ref37){var amount=_ref37.amount;return amount}).reduce(function(result,item){return result.add(item)})}return this._pipeTransaction(false)(tx)}},{key:"_pipeTransaction",value:function _pipeTransaction(){return function(tx){tx.timestamp=new Date(tx.timestamp);tx.typeName=Transactions._getTransactionType(tx);tx.templateType=Transactions._getTemplateType(tx);tx.shownAddress=Transactions._getTransactionAddress(tx);var list=aliases.getAliasList();switch(tx.typeName){case TYPES.BURN:case TYPES.REISSUE:tx.name=tx.name||tsUtils.get(tx,"quantity.asset.name")||tsUtils.get(tx,"amount.asset.name");break;case TYPES.ISSUE:tx.quantityStr=tx.quantity.toFormat(tx.precision);break;case TYPES.MASS_SEND:tx.numberOfRecipients=tx.transfers.length;tx.amount=tx.totalAmount;break;case TYPES.MASS_RECEIVE:tx.amount=tx.transfers.filter(function(_ref38){var recipient=_ref38.recipient;return recipient===user.address||list.indexOf(recipient)!==-1}).map(function(_ref39){var amount=_ref39.amount;return amount}).reduce(function(acc,val){return acc.add(val)},tx.totalAmount.cloneWithTokens(0));break;default:break}return tx}}}],[{key:"_getTransactionType",value:function _getTransactionType(tx){switch(tx.type){case 4:return Transactions._getTransferType(tx);case 11:return Transactions._getMassTransferType(tx.sender);case 7:return Transactions._getExchangeType(tx);case 8:return Transactions._getLeaseType(tx);case 9:return TYPES.CANCEL_LEASING;case 10:return TYPES.CREATE_ALIAS;case 3:return TYPES.ISSUE;case 5:return TYPES.REISSUE;case 6:return TYPES.BURN;case 12:return TYPES.DATA;case 13:return Transactions._getScriptType(tx);case 14:return Transactions._getSponsorshipType(tx);default:return TYPES.UNKNOWN}}},{key:"_getSponsorshipType",value:function _getSponsorshipType(tx){if(tx.minSponsoredAssetFee.getTokens().gt(0)){return TYPES.SPONSORSHIP_START}else{return TYPES.SPONSORSHIP_STOP}}},{key:"_getTypeByName",value:function _getTypeByName(txTypeName){switch(txTypeName){case WavesApp.TRANSACTION_TYPES.NODE.TRANSFER:return 4;case WavesApp.TRANSACTION_TYPES.NODE.MASS_TRANSFER:return 11;case WavesApp.TRANSACTION_TYPES.NODE.LEASE:return 8;case WavesApp.TRANSACTION_TYPES.NODE.CANCEL_LEASING:return 9;case WavesApp.TRANSACTION_TYPES.NODE.ISSUE:return 3;case WavesApp.TRANSACTION_TYPES.NODE.REISSUE:return 5;case WavesApp.TRANSACTION_TYPES.NODE.BURN:return 6;case WavesApp.TRANSACTION_TYPES.NODE.CREATE_ALIAS:return 10;case WavesApp.TRANSACTION_TYPES.NODE.DATA:return 12;case WavesApp.TRANSACTION_TYPES.NODE.SET_SCRIPT:return 13;case WavesApp.TRANSACTION_TYPES.NODE.SPONSORSHIP:return 14;default:throw new Error("Wrong tx name!")}}},{key:"isMe",value:function isMe(address){var aliasList=ds.dataManager.getLastAliases();return address===user.address||aliasList.includes(address)}},{key:"_getTransferType",value:function _getTransferType(_ref40){var sender=_ref40.sender,recipient=_ref40.recipient;var meIsSender=Transactions.isMe(sender);var meIsRecipient=Transactions.isMe(recipient);if(!meIsSender&&!meIsRecipient){return TYPES.SPONSORSHIP_FEE}else if(meIsSender&&meIsRecipient){return TYPES.CIRCULAR}else{return meIsSender?TYPES.SEND:TYPES.RECEIVE}}},{key:"_getMassTransferType",value:function _getMassTransferType(sender){return Transactions.isMe(sender)?TYPES.MASS_SEND:TYPES.MASS_RECEIVE}},{key:"_getScriptType",value:function _getScriptType(_ref41){var script=_ref41.script;return(script||"").replace("base64:","")?TYPES.SET_SCRIPT:TYPES.SCRIPT_CANCEL}},{key:"_getLeaseType",value:function _getLeaseType(_ref42){var sender=_ref42.sender;return Transactions.isMe(sender)?TYPES.LEASE_OUT:TYPES.LEASE_IN}},{key:"_getExchangeType",value:function _getExchangeType(_ref43){var exchangeType=_ref43.exchangeType;if(exchangeType==="buy"){return TYPES.EXCHANGE_BUY}else{return TYPES.EXCHANGE_SELL}}},{key:"_getTemplateType",value:function _getTemplateType(_ref44){var typeName=_ref44.typeName;switch(typeName){case TYPES.SEND:case TYPES.RECEIVE:case TYPES.MASS_SEND:case TYPES.MASS_RECEIVE:case TYPES.CIRCULAR:return"transfer";case TYPES.ISSUE:case TYPES.REISSUE:case TYPES.BURN:return"tokens";case TYPES.LEASE_IN:case TYPES.LEASE_OUT:return"lease";case TYPES.EXCHANGE_BUY:case TYPES.EXCHANGE_SELL:return"exchange";case TYPES.DATA:return"data";case TYPES.SPONSORSHIP_START:case TYPES.SPONSORSHIP_STOP:return"sponsorship";case TYPES.SPONSORSHIP_FEE:return"sponsorship_fee";case TYPES.UNKNOWN:return"unknown";default:return typeName}}},{key:"_getTransactionAddress",value:function _getTransactionAddress(_ref45){var typeName=_ref45.typeName,sender=_ref45.sender,recipient=_ref45.recipient;switch(typeName){case TYPES.RECEIVE:case TYPES.MASS_RECEIVE:case TYPES.ISSUE:case TYPES.REISSUE:case TYPES.LEASE_IN:case TYPES.CREATE_ALIAS:case TYPES.SPONSORSHIP_FEE:return sender;default:return recipient}}}]);return Transactions}(BaseNodeComponent),_applyDecoratedDescriptor(_class8.prototype,"list",[_dec10],Object.getOwnPropertyDescriptor(_class8.prototype,"list"),_class8.prototype),_applyDecoratedDescriptor(_class8.prototype,"getActiveLeasingTx",[_dec11],Object.getOwnPropertyDescriptor(_class8.prototype,"getActiveLeasingTx"),_class8.prototype),_class8);return utils.bind(new Transactions)};factory.$inject=["user","utils","aliases","decorators","BaseNodeComponent"];angular.module("app").factory("transactions",factory)})();(function(){"use strict";angular.module("app.create",[])})();(function(){"use strict";var controller=function controller(Base,$scope,$q,$mdDialog,$timeout,user,modalManager,seedService){var PATH="modules/create/templates";var ORDER_LIST=["createAccount","createAccountData","noBackupNoMoney","backupSeed","confirmBackup"];var CreateCtrl=function(_Base6){_inherits(CreateCtrl,_Base6);function CreateCtrl(){_classCallCheck(this,CreateCtrl);var _this58=_possibleConstructorReturn(this,(CreateCtrl.__proto__||Object.getPrototypeOf(CreateCtrl)).call(this,$scope));_this58.stepIndex=0;_this58.password="";_this58.name="";_this58.seed="";_this58.address="";_this58.seedList=[];_this58.seedIsValid=false;_this58.seedConfirmWasFilled=false;_this58.saveUserData=true;_this58.resetAddress();return _this58}_createClass(CreateCtrl,[{key:"showTutorialModals",value:function showTutorialModals(){return modalManager.showTutorialModals()}},{key:"onSeedConfirmFulfilled",value:function onSeedConfirmFulfilled(isValid){this.seedIsValid=isValid;this.seedConfirmWasFilled=true;this.observeOnce("stepIndex",this.clearSeedConfirm)}},{key:"seedOnTouch",value:function seedOnTouch(){this.seedConfirmWasFilled=false}},{key:"clearSeedConfirm",value:function clearSeedConfirm(){seedService.clear.dispatch();this.seedIsValid=false;this.seedConfirmWasFilled=false}},{key:"setActiveSeed",value:function setActiveSeed(item){var old=tsUtils.find(this.seedList,{active:true});if(old){old.active=false}item.active=true;this.seed=item.seed;this.address=item.address}},{key:"getStepUrl",value:function getStepUrl(){return PATH+"/"+ORDER_LIST[this.stepIndex]+".html"}},{key:"create",value:function create(){return this._create(true)}},{key:"createWithoutBackup",value:function createWithoutBackup(){return this._create(false)}},{key:"next",value:function next(index){var _this59=this;if(!index){index=this.stepIndex+1}if(index<0){index=this.stepIndex+index}if(!ORDER_LIST[index]){throw new Error("Wrong order list index!")}else{return this.checkNext().then(function(){_this59.stepIndex=index})}}},{key:"checkNext",value:function checkNext(){var step=ORDER_LIST[this.stepIndex];switch(step){case"noBackupNoMoney":return this.showBackupWarningPopup();default:return $q.when()}}},{key:"resetAddress",value:function resetAddress(){var list=[];for(var i=0;i<5;i++){var seedData=ds.Seed.create();list.push({seed:seedData.phrase,address:seedData.address})}this.setActiveSeed(list[0]);this.seedList=list}},{key:"showBackupWarningPopup",value:function showBackupWarningPopup(){return modalManager.showCustomModal({templateUrl:"modules/create/templates/noBackupNoMoney.modal.html",clickOutsideToClose:false,escapeToClose:false})}},{key:"_create",value:function _create(hasBackup){if(!this.saveUserData){this.password=Date.now().toString()}var encryptedSeed=new ds.Seed(this.seed).encrypt(this.password);var userSettings=user.getDefaultUserSettings({termsAccepted:false});var newUser={userType:this.restoreType,address:this.address,name:this.name,password:this.password,id:this.userId,path:this.userPath,settings:userSettings,saveToStorage:this.saveUserData,encryptedSeed:encryptedSeed};var api=ds.signature.getDefaultSignatureApi(newUser);return user.create(_extends({},newUser,{settings:userSettings.getSettings(),api:api}),hasBackup)}}]);return CreateCtrl}(Base);return new CreateCtrl};controller.$inject=["Base","$scope","$q","$mdDialog","$timeout","user","modalManager","seedService"];angular.module("app.create").controller("CreateCtrl",controller)})();(function(){"use strict";var ANIMATION_TIME=100;var factory=function factory(Base,$q){var SeedBase=function(_Base7){_inherits(SeedBase,_Base7);function SeedBase($container){_classCallCheck(this,SeedBase);var _this60=_possibleConstructorReturn(this,(SeedBase.__proto__||Object.getPrototypeOf(SeedBase)).call(this));_this60.$root=$container;_this60.seed=null;_this60.parts=null;return _this60}_createClass(SeedBase,[{key:"$postLink",value:function $postLink(){if(!this.seed){throw new Error("Has no seed!")}this.parts=this.seed.split(/\s/)}},{key:"animate",value:function animate($element,properties,options){return $q(function(resolve){options=options||{duration:ANIMATION_TIME};if(!options.duration){options.duration=ANIMATION_TIME}if(options.complete){var origin=options.complete;options.complete=function(){resolve();origin()}}else{options.complete=resolve}$element.stop(true,true).animate(properties,options)})}},{key:"createClone",value:function createClone($forClone){var $clone=$forClone.clone().removeClass("write").removeClass("full").removeClass("moved").addClass("read");var offset=$forClone.offset();this.$root.append($clone);$clone.addClass("clone");$clone.css({position:"absolute",margin:"0"});$clone.offset(offset);$forClone.addClass("moved");return $clone}},{key:"animateOut",value:function animateOut($element){return this.animate($element,{opacity:0},{progress:function progress(tween,_progress){$element.css("transform","scale("+(1-_progress)+")")}})}},{key:"animateIn",value:function animateIn($element){$element.css("opacity",0);return this.animate($element,{opacity:1},{progress:function progress(tween,_progress2){$element.css("transform","scale("+_progress2+")")}})}}]);return SeedBase}(Base);return SeedBase};factory.$inject=["Base","$q"];angular.module("app.create").factory("SeedBase",factory)})();(function(){"use strict";var AVAILABLE_TYPES=["read","random"];var controller=function controller(SeedBase,seedService,$element){var Seed=function(_SeedBase){_inherits(Seed,_SeedBase);function Seed(){_classCallCheck(this,Seed);var _this61=_possibleConstructorReturn(this,(Seed.__proto__||Object.getPrototypeOf(Seed)).call(this,$element));_this61.type=null;return _this61}_createClass(Seed,[{key:"$postLink",value:function $postLink(){_get(Seed.prototype.__proto__||Object.getPrototypeOf(Seed.prototype),"$postLink",this).call(this);if(!AVAILABLE_TYPES.includes(this.type)){throw new Error("Wrong type!")}this._initialize()}},{key:"_initialize",value:function _initialize(){if(this.type==="random"){this._mixSeed();this.receive(seedService.revert,this._revert,this)}}},{key:"_revert",value:function _revert(index){var $target=$element.find(".seed-item").eq(index);var $clone=this.createClone($target);this.animateIn($clone).then(function(){$target.removeClass("moved");$clone.remove()})}},{key:"_onClick",value:function _onClick(e,index){var $target=$(e.target);if($target.hasClass("moved")){return null}var word=$target.text().trim();var $clone=this.createClone($target);this.animateOut($clone).then(function(){$clone.remove();seedService.pick.dispatch({index:index,word:word})})}},{key:"_mixSeed",value:function _mixSeed(){for(var i=0;i<100;i++){this.parts.sort(function(){var num=Math.random();if(num<.33){return-1}if(num>.66){return 1}return 0})}}}]);return Seed}(SeedBase);return new Seed};controller.$inject=["SeedBase","seedService","$element"];angular.module("app.create").component("wSeedRead",{bindings:{type:"@",seed:"@"},controller:controller,templateUrl:"modules/create/directives/seed/seed.html"})})();(function(){"use strict";var factory=function factory(){return{revert:new tsUtils.Signal,pick:new tsUtils.Signal,clear:new tsUtils.Signal}};factory.$inject=[];angular.module("app.create").factory("seedService",factory)})();(function(){"use strict";var controller=function controller(SeedBase,$element,seedService,$scope,createPromise){var tsUtils=require("ts-utils");var SeedWrite=function(_SeedBase2){_inherits(SeedWrite,_SeedBase2);function SeedWrite(){_classCallCheck(this,SeedWrite);var _this62=_possibleConstructorReturn(this,(SeedWrite.__proto__||Object.getPrototypeOf(SeedWrite)).call(this,$element));_this62.onFulfilled=null;_this62.onTouch=null;_this62._$container=null;_this62._children=[];_this62._containerWidth=null;return _this62}_createClass(SeedWrite,[{key:"$postLink",value:function $postLink(){_get(SeedWrite.prototype.__proto__||Object.getPrototypeOf(SeedWrite.prototype),"$postLink",this).call(this);this._$container=$element.find(".seed-container");this._containerWidth=this._$container.width();this.receive(seedService.pick,this._show,this);this.receive(seedService.clear,this._clear,this)}},{key:"_clear",value:function _clear(){this._children.forEach(this._removePart,this)}},{key:"_removePart",value:function _removePart(child){var _this63=this;createPromise(this,this.animateOut(child.$element)).then(function(){seedService.revert.dispatch(child.randomIndex);var filter=tsUtils.notContains(_this63._getChildByElement(child.$element));_this63._children=_this63._children.filter(filter);child.$element.remove();_this63._resetPositions()})}},{key:"_resetPositions",value:function _resetPositions(){var _this64=this;var currentLine=SeedWrite._getPropertyGetter(this._$container,"padding-top")();var currentWidth=0;var lines={};this._children.forEach(function(child){if(currentWidth+child.width<_this64._containerWidth){currentWidth+=child.width}else{currentWidth=child.width;currentLine+=child.height}if(!lines[currentLine]){lines[currentLine]=[]}lines[currentLine].push(child)});Object.keys(lines).forEach(function(lineName){var line=lines[lineName];var width=_this64._getLineWidth(line);var left=(_this64._$container.outerWidth()-width)/2;line.forEach(function(child){var itemLeft=left;if(!child.line){child.$element.css({left:itemLeft,top:Number(lineName)});_this64.animateIn(child.$element)}else if(child.line!==Number(lineName)){_this64.animateOut(child.$element).then(function(){child.$element.css({left:itemLeft,top:child.line});_this64.animateIn(child.$element)})}else{_this64.animate(child.$element,{left:left,top:child.line})}child.line=Number(lineName);left+=child.width})})}},{key:"_show",value:function _show(_ref46){var _this65=this;var index=_ref46.index,word=_ref46.word;var $element=$('<span class="seed-item ghost">'+word+"</span>");this._$container.append($element);var child=this._createChild({index:index,word:word,$element:$element});this._children.push(child);$element.removeClass("ghost");this._resetPositions();$element.on("click",function(){_this65._removePart(child);_this65.onTouch();$scope.$digest()});if(this.onFulfilled&&this._children.length===this.parts.length){var isValid=this._children.map(function(child){return child.word}).join(" ")===this.seed;this.onFulfilled({isValid:isValid});if(isValid){this._$container.children().each(function(i,element){$(element).off("click");_this65._$container.addClass("seed-confirmed")})}}else{this.onTouch()}}},{key:"_createChild",value:function _createChild(_ref47){var index=_ref47.index,word=_ref47.word,$element=_ref47.$element;var margin=SeedWrite._getPropertyGetter($element,"margin-left")();var child={randomIndex:index,word:word,width:$element.outerWidth()+margin*2,height:$element.outerHeight()+margin*2,$element:$element,line:null};[{name:"left",get:SeedWrite._getPropertyGetter($element,"left")},{name:"top",get:SeedWrite._getPropertyGetter($element,"top")}].forEach(function(item){Object.defineProperty(child,item.name,{get:item.get})});return child}},{key:"_getLineWidth",value:function _getLineWidth(line){return line.reduce(function(result,child){return result+child.width},0)}},{key:"_getChildByElement",value:function _getChildByElement($element){return tsUtils.find(this._children,function(child){return child.$element.get(0)===$element.get(0)})}}],[{key:"_getPropertyGetter",value:function _getPropertyGetter($element,property){return function(){return parseInt($element.css(property),10)}}}]);return SeedWrite}(SeedBase);return new SeedWrite};controller.$inject=["SeedBase","$element","seedService","$scope","createPromise"];angular.module("app.create").component("wSeedWrite",{bindings:{seed:"@",onFulfilled:"&",onTouch:"&"},template:'<div class="seed-container"></div>',transclude:false,controller:controller})})();(function(){"use strict";angular.module("app.desktop",[])})();(function(){"use strict";var controller=function controller(modalManager,$state,Base,storage){var DesktopCtrl=function(_Base8){_inherits(DesktopCtrl,_Base8);_createClass(DesktopCtrl,[{key:"openLinkViaDesktop",get:function get(){return this.openClientMode==="desktop"},set:function set(value){if(value){this.openClientMode="desktop"}else{this.openClientMode=null}storage.save("openClientMode",this.openClientMode)}}]);function DesktopCtrl(){_classCallCheck(this,DesktopCtrl);var _this66=_possibleConstructorReturn(this,(DesktopCtrl.__proto__||Object.getPrototypeOf(DesktopCtrl)).call(this));_this66.openClientMode=null;storage.load("openClientMode").then(function(mode){_this66.openClientMode=mode});return _this66}_createClass(DesktopCtrl,[{key:"showTutorialModals",value:function showTutorialModals(){return modalManager.showTutorialModals()}},{key:"openMainPage",value:function openMainPage(){return $state.go("welcome")}}]);return DesktopCtrl}(Base);return new DesktopCtrl};controller.$inject=["modalManager","$state","Base","storage"];angular.module("app.desktop").controller("DesktopCtrl",controller)})();(function(){"use strict";angular.module("app.dex",[])})();(function(){"use strict";var ds=require("data-service");var controller=function controller(Base,$element,$state,$location,user,$scope){var DexCtrl=function(_Base9){_inherits(DexCtrl,_Base9);function DexCtrl(){_classCallCheck(this,DexCtrl);var _this67=_possibleConstructorReturn(this,(DexCtrl.__proto__||Object.getPrototypeOf(DexCtrl)).call(this));_this67.ready=false;_this67.isLogined=!!user.address;_this67._leftHidden=false;_this67._rightHidden=false;_this67._assetIdPair=null;_this67.syncSettings({tab:"dex.layout.bottomleft.tab",_leftHidden:"dex.layout.leftColumnState",_rightHidden:"dex.layout.rightColumnState",_assetIdPair:"dex.assetIdPair"});if(!_this67.isLogined){_this67.tab="tradeHistory"}user.addMatcherSign().catch(function(){return Promise.resolve()}).then(function(){_this67._initializePair().then(function(){_this67.ready=true;$scope.$apply()})});_this67.observe("_assetIdPair",_this67._onChangePair);_this67.observe(["_leftHidden","_rightHidden"],_this67._onChangeProperty);return _this67}_createClass(DexCtrl,[{key:"toggleColumn",value:function toggleColumn(column){this["_"+column+"Hidden"]=!this["_"+column+"Hidden"]}},{key:"_onChangePair",value:async function _onChangePair(){var pair=await this._getPair();$location.search("assetId2",pair.amountAsset.id);$location.search("assetId1",pair.priceAsset.id)}},{key:"_initializePair",value:function _initializePair(){var _this68=this;return new Promise(function(resolve){setTimeout(function(){var urlPair=_this68._getPairFromState();if(urlPair){return _this68._getPair(urlPair).catch(function(){return _this68._getPair({amount:WavesApp.defaultAssets.WAVES,price:WavesApp.defaultAssets.BTC})}).then(function(pair){var activeTab=user.getSetting("dex.watchlist.activeTab");if(activeTab!=="all"&&activeTab!==pair.amountAsset.id&&activeTab!==pair.priceAsset.id){user.setSetting("dex.watchlist.activeTab","all")}_this68._assetIdPair={amount:pair.amountAsset.id,price:pair.priceAsset.id}}).then(resolve)}else{_this68._onChangePair();resolve()}},200)})}},{key:"_getPair",value:function _getPair(){var pair=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._assetIdPair;if(pair){return ds.api.pairs.get(pair.amount,pair.price)}else{return ds.api.pairs.get(WavesApp.defaultAssets.WAVES,WavesApp.defaultAssets.BTC)}}},{key:"_getPairFromState",value:function _getPairFromState(){if(!($state.params.assetId1&&$state.params.assetId2)){return null}return{amount:$state.params.assetId1,price:$state.params.assetId2}}},{key:"_onChangeProperty",value:function _onChangeProperty(){var $graphWrapper=$element.find(".graph-wrapper");$graphWrapper.hide();setTimeout(function(){return $graphWrapper.show()},100)}}]);return DexCtrl}(Base);return new DexCtrl};controller.$inject=["Base","$element","$state","$location","user","$scope"];angular.module("app.dex").controller("DexCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,waves,user,utils,createPoll,$scope,$element,notification,dexDataService,ease,$state,modalManager){var entities=require("@waves/data-entities");var _require9=require("@waves/signature-adapter"),SIGN_TYPE=_require9.SIGN_TYPE;var ds=require("data-service");var CreateOrder=function(_Base10){_inherits(CreateOrder,_Base10);_createClass(CreateOrder,[{key:"priceDisplayName",get:function get(){this.priceBalance.asset.displayName=this.priceBalance.asset.displayName==="WAVES"?"ACRYL":this.priceBalance.asset.displayName;return this.priceBalance&&this.priceBalance.asset.displayName||""}},{key:"amountDisplayName",get:function get(){this.amountBalance.asset.displayName=this.amountBalance.asset.displayName==="WAVES"?"ACRYL":this.amountBalance.asset.displayName;return this.amountBalance&&this.amountBalance.asset.displayName||""}},{key:"loaded",get:function get(){return this.amountBalance&&this.priceBalance}}]);function CreateOrder(){_classCallCheck(this,CreateOrder);var _this69=_possibleConstructorReturn(this,(CreateOrder.__proto__||Object.getPrototypeOf(CreateOrder)).call(this));_this69.maxAmountBalance=null;_this69.canBuyOrder=true;_this69.amountBalance=null;_this69.priceBalance=null;_this69.type="buy";_this69.maxPriceBalance=null;_this69.totalPrice=null;_this69.amount=null;_this69.price=null;_this69.idDemo=!user.address;_this69.ERROR_DISPLAY_INTERVAL=3;_this69._assetIdPair=null;_this69.lastTradePrice=null;_this69.focusedInputName=null;_this69.hasScript=user.hasScript();_this69.expirationValues=[{name:"5min",value:function value(){return utils.moment().add().minute(5).getDate().getTime()}},{name:"30min",value:function value(){return utils.moment().add().minute(30).getDate().getTime()}},{name:"1hour",value:function value(){return utils.moment().add().hour(1).getDate().getTime()}},{name:"1day",value:function value(){return utils.moment().add().day(1).getDate().getTime()}},{name:"1week",value:function value(){return utils.moment().add().week(1).getDate().getTime()}},{name:"30day",value:function value(){return utils.moment().add().day(29).getDate().getTime()}}];_this69.expiration=_this69.expirationValues[_this69.expirationValues.length-1].value;ds.moneyFromTokens("0.003",WavesApp.defaultAssets.WAVES).then(function(money){_this69.fee=money;$scope.$digest()});_this69.receive(dexDataService.chooseOrderBook,function(_ref48){var type=_ref48.type,price=_ref48.price,amount=_ref48.amount;_this69.expand(type);switch(type){case"buy":_this69._onClickBuyOrder(price,amount);break;case"sell":_this69._onClickSellOrder(price,amount);break;default:throw new Error("Wrong order type!")}$scope.$digest()});_this69.syncSettings({_assetIdPair:"dex.assetIdPair"});var lastTraderPoll=void 0;var balancesPoll=createPoll(_this69,_this69._getBalances,_this69._setBalances,1e3);var spreadPoll=createPoll(_this69,_this69._getData,_this69._setData,1e3);var lastTradePromise=new Promise(function(resolve){balancesPoll.ready.then(function(){lastTraderPoll=createPoll(_this69,_this69._getLastPrice,"lastTradePrice",1e3);resolve()})});Promise.all([balancesPoll.ready,lastTradePromise,spreadPoll.ready]).then(function(){_this69.amount=_this69.amountBalance.cloneWithTokens("0");if(_this69.lastTradePrice&&_this69.lastTradePrice.getTokens().gt(0)){_this69.price=_this69.lastTradePrice}else{_this69.price=_this69._getCurrentPrice()}});_this69.observe(["amountBalance","type","fee","priceBalance"],_this69._updateMaxAmountOrPriceBalance);_this69.observe("_assetIdPair",function(){_this69.amount=null;_this69.price=null;_this69.bid=null;_this69.ask=null;balancesPoll.restart();spreadPoll.restart();var form=_this69.order;form.$setUntouched();form.$setPristine();if(lastTraderPoll){lastTraderPoll.restart()}_this69.observeOnce(["bid","ask"],utils.debounce(function(){if(_this69.type){_this69.amount=_this69.amountBalance.cloneWithTokens("0");_this69.price=_this69._getCurrentPrice();$scope.$apply()}}))});_this69.observe(["priceBalance","totalPrice"],_this69._setIfCanBuyOrder);_this69.observe(["amount","price","type"],_this69._currentTotal);_this69.observe("totalPrice",_this69._currentAmount);$element.on("mousedown touchstart",".body",function(e){e.stopPropagation()});return _this69}_createClass(CreateOrder,[{key:"expand",value:function expand(type){this.type=type;if(!this.price||this.price.getTokens().eq("0")){this.price=this._getCurrentPrice()}$element.parent().parent().parent().parent().parent().addClass("expanded")}},{key:"closeCreateOrder",value:function closeCreateOrder(){$element.parent().parent().parent().parent().parent().removeClass("expanded")}},{key:"isAmountInvalid",value:function isAmountInvalid(){return this.isDirtyAndInvalid(this.order.amount)}},{key:"isPriceInvalid",value:function isPriceInvalid(){return this.isDirtyAndInvalid(this.order.price)}},{key:"isTotalInvalid",value:function isTotalInvalid(){return this.isDirtyAndInvalid(this.order.total)}},{key:"isDirtyAndInvalid",value:function isDirtyAndInvalid(field){return field.$touched&&field.$invalid}},{key:"setMaxAmount",value:function setMaxAmount(){this._setDirtyAmount(this._getMaxAmountForSell())}},{key:"setMaxPrice",value:function setMaxPrice(){this._setDirtyAmount(this._getMaxAmountForBuy())}},{key:"setBidPrice",value:function setBidPrice(){this._setDirtyPrice(this.priceBalance.cloneWithTokens(String(this.bid.price)))}},{key:"setAskPrice",value:function setAskPrice(){this._setDirtyPrice(this.priceBalance.cloneWithTokens(String(this.ask.price)))}},{key:"setLastPrice",value:function setLastPrice(){this._setDirtyPrice(this.lastTradePrice)}},{key:"createOrder",value:function createOrder($event){var _this70=this;if(this.idDemo){return this._showDemoModal()}var form=this.order;$event.preventDefault();var notify=$element.find(".js-order-notification");notify.removeClass("success").removeClass("error");return ds.fetch(ds.config.get("matcher")).then(function(matcherPublicKey){form.$setUntouched();$scope.$apply();var data={orderType:_this70.type,price:_this70.price,amount:_this70.amount,matcherFee:_this70.fee,matcherPublicKey:matcherPublicKey};_this70._createTxData(data).then(function(txData){return ds.createOrder(txData)}).then(function(){notify.addClass("success");_this70.createOrderFailed=false;var pair=_this70.amountBalance.asset.id+"/"+_this70.priceBalance.asset.id;analytics.push("DEX","DEX."+WavesApp.type+".Order."+_this70.type+".Success",pair);dexDataService.createOrder.dispatch()}).catch(function(e){var error=utils.parseError(e);notification.error({ns:"app.dex",title:{literal:"directives.createOrder.notifications.error.title"},body:{literal:error&&error.message||error}},-1);_this70.createOrderFailed=true;notify.addClass("error");var pair=_this70.amountBalance.asset.id+"/"+_this70.priceBalance.asset.id;analytics.push("DEX","DEX."+WavesApp.type+".Order."+_this70.type+".Error",pair)}).finally(function(){CreateOrder._animateNotification(notify)})})}},{key:"_checkOrder",value:function _checkOrder(orderData){var isBuy=orderData.orderType==="buy";var coef=isBuy?1:-1;var limit=1+coef*(Number(user.getSetting("orderLimit"))||0);var price=new BigNumber(isBuy?this.ask.price:this.bid.price).times(limit);var orderPrice=orderData.price.getTokens();if(price.isNaN()||price.eq(0)){return Promise.resolve()}var delta=isBuy?orderPrice.minus(price):price.minus(orderPrice);if(delta.isNegative()){return Promise.resolve()}return modalManager.showConfirmOrder(_extends({},orderData,{orderLimit:Number(user.getSetting("orderLimit"))*100})).catch(function(){throw new Error("You have cancelled the creation of this order")})}},{key:"_createTxData",value:function _createTxData(data){var _this71=this;var timestamp=ds.utils.normalizeTime(Date.now());var expiration=ds.utils.normalizeTime(this.expiration());var clone=_extends({},data,{timestamp:timestamp,expiration:expiration});var signable=ds.signature.getSignatureApi().makeSignable({type:SIGN_TYPE.CREATE_ORDER,data:clone});return this._checkOrder(clone).then(function(){return signable.getId()}).then(function(id){var signPromise=signable.getDataForApi();if(user.userType==="seed"||!user.userType){return signPromise}var transactionData={fee:_this71.fee.toFormat(),amount:_this71.amount.toFormat(),price:_this71.price.toFormat(),total:_this71.totalPrice.toFormat(),orderType:_this71.type,totalAsset:_this71.totalPrice.asset,amountAsset:_this71.amountBalance.asset,priceAsset:_this71.priceBalance.asset,feeAsset:_this71.fee.asset,type:_this71.type,timestamp:timestamp,expiration:expiration};var modalPromise=modalManager.showSignByDevice({userType:user.userType,promise:signPromise,mode:"create-order",data:transactionData,id:id});return modalPromise.then(function(){return signPromise}).catch(function(){return modalManager.showSignDeviceError({error:"sign-error",userType:user.userType}).then(function(){return Promise.resolve()}).catch(function(){return Promise.reject({message:"Your sign is not confirmed!"})}).then(function(){return _this71._createTxData(data)})})})}},{key:"_showDemoModal",value:function _showDemoModal(){var _this72=this;return modalManager.showDialogModal({iconClass:"open-main-dex-account-info",message:{literal:"modal.createOrder.message"},buttons:[{success:false,classes:"big",text:{literal:"modal.createOrder.cancel"},click:function click(){return $state.go("create")}},{success:true,classes:"big submit",text:{literal:"modal.createOrder.ok"},click:function click(){return $state.go("welcome")}}]}).catch(function(){return null}).then(function(){var form=_this72.order;_this72.amount=null;form.$setUntouched();form.$setPristine()})}},{key:"_onClickBuyOrder",value:function _onClickBuyOrder(price,amount){var minAmount=this.amountBalance.cloneWithTokens(this.priceBalance.getTokens().div(price));this._setDirtyAmount(entities.Money.min(this.amountBalance.cloneWithTokens(amount),minAmount));this._setDirtyPrice(this.priceBalance.cloneWithTokens(price))}},{key:"_onClickSellOrder",value:function _onClickSellOrder(price,amount){var amountMoney=this.amountBalance.cloneWithTokens(amount);this._setDirtyAmount(entities.Money.min(amountMoney,this._getMaxAmountForSell()));this._setDirtyPrice(this.priceBalance.cloneWithTokens(price))}},{key:"_getMaxAmountForSell",value:function _getMaxAmountForSell(){var fee=this.fee;var balance=this.amountBalance;return balance.safeSub(fee).toNonNegative()}},{key:"_getMaxAmountForBuy",value:function _getMaxAmountForBuy(){if(!this.price||this.price.getTokens().eq(0)){return this.amountBalance.cloneWithTokens("0")}var fee=this.fee;return this.amountBalance.cloneWithTokens(this.priceBalance.safeSub(fee).toNonNegative().getTokens().div(this.price.getTokens()).dp(this.amountBalance.asset.precision))}},{key:"_getLastPrice",value:function _getLastPrice(){return ds.api.transactions.getExchangeTxList({amountAsset:this._assetIdPair.amount,priceAsset:this._assetIdPair.price,limit:1}).then(function(_ref49){var _ref50=_slicedToArray(_ref49,1),tx=_ref50[0];return tx&&tx.price||null})}},{key:"_updateMaxAmountOrPriceBalance",value:function _updateMaxAmountOrPriceBalance(){if(!this.amountBalance||!this.fee||!this.priceBalance){return null}if(this.type==="sell"){this.maxAmountBalance=this._getMaxAmountForSell();this.maxPriceBalance=null}else{this.maxAmountBalance=null;this.maxPriceBalance=this.priceBalance.safeSub(this.fee).toNonNegative()}}},{key:"_getCurrentPrice",value:function _getCurrentPrice(){switch(this.type){case"sell":return this.priceBalance.cloneWithTokens(String(this.bid&&this.bid.price||0));case"buy":return this.priceBalance.cloneWithTokens(String(this.ask&&this.ask.price||0));default:throw new Error("Wrong type")}}},{key:"_getBalances",value:function _getBalances(){if(!this.idDemo){return ds.api.pairs.get(this._assetIdPair.amount,this._assetIdPair.price).then(function(pair){return utils.whenAll([waves.node.assets.balance(pair.amountAsset.id),waves.node.assets.balance(pair.priceAsset.id)]).then(function(_ref51){var _ref52=_slicedToArray(_ref51,2),amountMoney=_ref52[0],priceMoney=_ref52[1];return{amountBalance:amountMoney.available,priceBalance:priceMoney.available}})})}else{return ds.api.pairs.get(this._assetIdPair.amount,this._assetIdPair.price).then(function(pair){return{amountBalance:entities.Money.fromTokens(10,pair.amountAsset),priceBalance:entities.Money.fromTokens(10,pair.priceAsset)}})}}},{key:"_setBalances",value:function _setBalances(data){if(data){this.amountBalance=data.amountBalance;this.priceBalance=data.priceBalance;$scope.$digest()}}},{key:"_currentTotal",value:function _currentTotal(){if(this.focusedInputName==="total"){return null}if(!this.price||!this.amount){this.totalPrice=this.priceBalance.cloneWithTokens("0")}else{this.totalPrice=this.priceBalance.cloneWithTokens(this.price.getTokens().times(this.amount.getTokens()))}this._setIfCanBuyOrder()}},{key:"_currentAmount",value:function _currentAmount(){if(this.focusedInputName!=="total"){return null}if(!this.totalPrice||!this.price||this.price.getTokens().eq("0")){return null}var amount=this.totalPrice.getTokens().div(this.price.getTokens());this._setDirtyAmount(this.amountBalance.cloneWithTokens(amount));this._setIfCanBuyOrder()}},{key:"_setIfCanBuyOrder",value:function _setIfCanBuyOrder(){if(this.type==="buy"&&this.totalPrice&&this.priceBalance&&this.totalPrice.asset.id===this.priceBalance.asset.id){this.canBuyOrder=this.totalPrice.lte(this.maxPriceBalance)&&this.maxPriceBalance.getTokens().gt(0)}else{this.canBuyOrder=true}}},{key:"_getData",value:function _getData(){return waves.matcher.getOrderBook(this._assetIdPair.amount,this._assetIdPair.price).then(function(_ref53){var bids=_ref53.bids,asks=_ref53.asks,spread=_ref53.spread;var _asks2=_slicedToArray(asks,1),lastAsk=_asks2[0];var _bids2=_slicedToArray(bids,1),firstBid=_bids2[0];return{lastAsk:lastAsk,firstBid:firstBid,spread:spread}})}},{key:"_setData",value:function _setData(_ref54){var lastAsk=_ref54.lastAsk,firstBid=_ref54.firstBid;this.bid=firstBid||{price:0};this.ask=lastAsk||{price:0};var sell=Number(this.bid.price);var buy=Number(this.ask.price);this.spreadPercent=buy?((buy-sell)*100/buy||0).toFixed(2):"0.00";$scope.$digest()}},{key:"_setDirtyAmount",value:function _setDirtyAmount(amount){this.amount=amount;this.order.$setDirty()}},{key:"_setDirtyPrice",value:function _setDirtyPrice(price){this.price=price;this.order.$setDirty()}}],[{key:"_animateNotification",value:function _animateNotification($element){return utils.animate($element,{t:100},{duration:1200,step:function step(tween){var progress=ease.bounceOut(tween/100);$element.css("transform","translate(0, "+(-100+progress*100)+"%)")}}).then(function(){return utils.wait(700)}).then(function(){return utils.animate($element,{t:0},{duration:500,step:function step(tween){var progress=ease.linear(tween/100);$element.css("transform","translate(0, "+-((1-progress)*100)+"%)")}})})}}]);return CreateOrder}(Base);return new CreateOrder};controller.$inject=["Base","waves","user","utils","createPoll","$scope","$element","notification","dexDataService","ease","$state","modalManager"];angular.module("app.dex").component("wCreateOrder",{bindings:{},templateUrl:"modules/dex/directives/createOrder/createOrder.html",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$element,utils,i18n,dexDataService){var DexBlock=function(_Base11){_inherits(DexBlock,_Base11);function DexBlock(){_classCallCheck(this,DexBlock);var _this73=_possibleConstructorReturn(this,(DexBlock.__proto__||Object.getPrototypeOf(DexBlock)).call(this));_this73.search="";_this73.titleLiteral=null;_this73.collapsed=false;_this73.focused=false;_this73.block=null;_this73._parent=null;i18n.translateField(_this73,"titleLiteral","title","app.dex");return _this73}_createClass(DexBlock,[{key:"scrollToSpread",value:function scrollToSpread(){dexDataService.showSpread.dispatch()}},{key:"$postLink",value:function $postLink(){this.syncSettings({collapsed:"dex.layout."+this.block+".collapsed"});this._parent.collapseBlock(this.block,this.collapsed);this._parent.registerItem($element,this)}},{key:"toggleCollapse",value:function toggleCollapse(){var _this74=this;var collapsed=this.collapsed;if(collapsed){this.collapsed=!collapsed;utils.wait(100).then(function(){_this74._parent.collapseBlock(_this74.block,_this74.collapsed)})}else{this._parent.collapseBlock(this.block,!this.collapsed);utils.wait(300).then(function(){_this74.collapsed=!collapsed})}}}]);return DexBlock}(Base);return new DexBlock};controller.$inject=["Base","$element","utils","i18n","dexDataService"];angular.module("app.dex").component("wDexBlock",{require:{_parent:"^wLayout"},bindings:{titleLiteral:"@titleName",block:"@",hasSearch:"@",canCollapse:"@"},templateUrl:"modules/dex/directives/dexBlock/dexBlock.html",transclude:true,controller:controller})})();(function(){"use strict";var DISABLED_FEATURES=["header_screenshot","header_symbol_search","symbol_search_hot_key","display_market_status","control_bar","timeframes_toolbar","volume_force_overlay"];function getOverrides(candleUpColor,candleDownColor){return{"mainSeriesProperties.candleStyle.upColor":candleUpColor,"mainSeriesProperties.candleStyle.downColor":candleDownColor,"mainSeriesProperties.candleStyle.drawBorder":false,"mainSeriesProperties.hollowCandleStyle.upColor":candleUpColor,"mainSeriesProperties.hollowCandleStyle.downColor":candleDownColor,"mainSeriesProperties.hollowCandleStyle.drawBorder":false,"mainSeriesProperties.barStyle.upColor":candleUpColor,"mainSeriesProperties.barStyle.downColor":candleDownColor,"mainSeriesProperties.haStyle.upColor":candleUpColor,"mainSeriesProperties.haStyle.downColor":candleDownColor,"mainSeriesProperties.haStyle.drawBorder":false,"mainSeriesProperties.lineStyle.color":candleUpColor,"mainSeriesProperties.areaStyle.color1":candleUpColor,"mainSeriesProperties.areaStyle.color2":candleUpColor,"mainSeriesProperties.areaStyle.linecolor":candleUpColor,volumePaneSize:"medium"}}function getStudiesOverrides(_ref55){var volume0=_ref55.volume0,volume1=_ref55.volume1;return{"volume.volume.color.0":volume0,"volume.volume.color.1":volume1}}var counter=0;var controller=function controller(Base,candlesService,$scope,themes,user){var DexCandleChart=function(_Base12){_inherits(DexCandleChart,_Base12);function DexCandleChart(){_classCallCheck(this,DexCandleChart);var _this75=_possibleConstructorReturn(this,(DexCandleChart.__proto__||Object.getPrototypeOf(DexCandleChart)).call(this));_this75.elementId="tradingview"+counter++;_this75.notLoaded=false;_this75._chart=null;_this75._chartReady=false;_this75._assetIdPairWasChanged=false;_this75._changeTheme=true;_this75._assetIdPair=null;_this75.loadingTradingView=true;_this75.theme=user.getSetting("theme");_this75.candle=user.getSetting("candle");_this75.observe("_assetIdPair",_this75._onChangeAssetPair);_this75.observe("theme",function(){_this75._changeTheme=true;_this75._resetTradingView()});_this75.observe("candle",_this75._refreshTradingView);_this75.syncSettings({_assetIdPair:"dex.assetIdPair"});_this75.syncSettings({theme:"theme"});_this75.syncSettings({candle:"candle"});return _this75}_createClass(DexCandleChart,[{key:"$postLink",value:function $postLink(){var _this76=this;controller.load().then(function(){_this76._createTradingView();_this76.listenEventEmitter(i18next,"languageChanged",_this76._changeLangHandler.bind(_this76))},function(){console.warn("Error 403!");_this76.notLoaded=true}).then(function(){$scope.$apply()})}},{key:"$onDestroy",value:function $onDestroy(){_get(DexCandleChart.prototype.__proto__||Object.getPrototypeOf(DexCandleChart.prototype),"$onDestroy",this).call(this);this._removeTradingView()}},{key:"_onChangeAssetPair",value:function _onChangeAssetPair(){if(this._chartReady){this._setChartPair()}else{this._assetIdPairWasChanged=true}}},{key:"_resetTradingView",value:function _resetTradingView(){try{return this._removeTradingView()._createTradingView()}catch(e){}}},{key:"_removeTradingView",value:function _removeTradingView(){try{if(this._chart){this._chart.remove()}}catch(e){}this._chart=null;return this}},{key:"_refreshTradingView",value:function _refreshTradingView(){if(!this._chart){return null}var _themes$getCurrentCan=themes.getCurrentCandleSColor(this.candle),up=_themes$getCurrentCan.up,down=_themes$getCurrentCan.down,volume0=_themes$getCurrentCan.volume0,volume1=_themes$getCurrentCan.volume1;var overrides=getOverrides(up,down);var studiesOverrides=getStudiesOverrides({volume0:volume0,volume1:volume1});this._chart.applyOverrides(overrides);this._chart.applyStudiesOverrides(studiesOverrides)}},{key:"_createTradingView",value:function _createTradingView(){var _this77=this;this.loadingTradingView=true;var _themes$getCurrentCan2=themes.getCurrentCandleSColor(this.candle),up=_themes$getCurrentCan2.up,down=_themes$getCurrentCan2.down,volume0=_themes$getCurrentCan2.volume0,volume1=_themes$getCurrentCan2.volume1;var themeConf=themes.getTradingViewConfig(this.theme);var overrides=_extends({},getOverrides(up,down),themeConf.OVERRIDES);var studies_overrides=_extends({},getStudiesOverrides({volume0:volume0,volume1:volume1}),themeConf.STUDIES_OVERRIDES);var toolbar_bg=themeConf.toolbarBg;var custom_css_url=themeConf.customCssUrl;this._chart=new TradingView.widget({locale:DexCandleChart._remapLanguageCode(i18next.language),symbol:this._assetIdPair.amount+"/"+this._assetIdPair.price,interval:WavesApp.dex.defaultResolution,container_id:this.elementId,datafeed:candlesService,library_path:"trading-view/",autosize:true,toolbar_bg:toolbar_bg,disabled_features:DISABLED_FEATURES,overrides:overrides,studies_overrides:studies_overrides,custom_css_url:custom_css_url});this._chart.onChartReady(function(){if(_this77._changeTheme){_this77._chart.applyOverrides(overrides);_this77._chart.applyStudiesOverrides(studies_overrides)}_this77._changeTheme=false;_this77.loadingTradingView=false;if(_this77._assetIdPairWasChanged){_this77._setChartPair();_this77._assetIdPairWasChanged=false;_this77._chartReady=true}});return this}},{key:"_setChartPair",value:function _setChartPair(){var _this78=this;this._chart.symbolInterval(function(_ref56){var interval=_ref56.interval;_this78._chart.setSymbol(_this78._assetIdPair.amount+"/"+_this78._assetIdPair.price,interval)})}},{key:"_changeLangHandler",value:function _changeLangHandler(){return this._resetTradingView()}}],[{key:"_remapLanguageCode",value:function _remapLanguageCode(code){switch(code){case"hi":return"en";case"nl":return"nl_NL";case"zh-Hans-CN":return"zh";default:return code}}}]);return DexCandleChart}(Base);return new DexCandleChart};controller.$inject=["Base","candlesService","$scope","themes","user"];controller.load=function(){var script=document.createElement("script");script.src="trading-view/charting_library.min.js";var promise=new Promise(function(resolve,reject){script.onload=resolve;script.onerror=reject;document.head.appendChild(script)});controller.load=function(){return promise};return promise};angular.module("app.dex").component("wDexCandleChart",{bindings:{},templateUrl:"modules/dex/directives/dexCandleChart/dex-candle-chart.html",transclude:false,controller:controller})})();(function(){"use strict";var entities=require("@waves/data-entities");var _require10=require("@waves/signature-adapter"),SIGN_TYPE=_require10.SIGN_TYPE;var ds=require("data-service");var controller=function controller(Base,waves,user,createPoll,notification,utils,$scope,dexDataService,modalManager,permissionManager,ease,$element){var R=require("ramda");var tsUtils=require("ts-utils");var DexMyOrders=function(_Base13){_inherits(DexMyOrders,_Base13);function DexMyOrders(){_classCallCheck(this,DexMyOrders);var _this79=_possibleConstructorReturn(this,(DexMyOrders.__proto__||Object.getPrototypeOf(DexMyOrders)).call(this));_this79._assetIdPair=null;_this79.orders=null;_this79.isDemo=!user.address;_this79.pending=!_this79.isDemo;_this79.shownOrderDetails=Object.create(null);_this79.loadingError=false;_this79.hasScript=user.hasScript();_this79.syncSettings({_assetIdPair:"dex.assetIdPair"});_this79.headers=[{id:"pair",valuePath:"item.pair",search:true,placeholder:"directives.filter"},{id:"type",title:{literal:"directives.myOrders.type"},valuePath:"item.type",sort:true},{id:"time",title:{literal:"directives.myOrders.time"},valuePath:"item.timestamp",sort:true,sortActive:true,isAsc:false},{id:"price",title:{literal:"directives.myOrders.price"},valuePath:"item.price",sort:true},{id:"amount",title:{literal:"directives.myOrders.amount"},valuePath:"item.amount",sort:true},{id:"total",title:{literal:"directives.myOrders.total"},valuePath:"item.total",sort:true},{id:"fee",title:{literal:"directives.myOrders.tableTitle.fee"},valuePath:"item.userFee",sort:true},{id:"status",title:{literal:"directives.myOrders.status"},valuePath:"item.progress",sort:true},{id:"controls",templatePath:"modules/dex/directives/dexMyOrders/header-control-cell.html",scopeData:{cancelAllOrdersClick:function cancelAllOrdersClick(){_this79.cancelAllOrders()},$ctrl:_this79}}];if(!_this79.isDemo){var poll=createPoll(_this79,_this79._getOrders,"orders",1e3,{$scope:$scope});poll.ready.then(function(){_this79.pending=false});_this79.receive(dexDataService.createOrder,function(){return poll.restart()});_this79.poll=poll}return _this79}_createClass(DexMyOrders,[{key:"setPair",value:function setPair(order){user.setSetting("dex.assetIdPair",{amount:order.assetPair.amountAsset.id,price:order.assetPair.priceAsset.id})}},{key:"showDetails",value:function showDetails(order){this.shownOrderDetails[order.id]=true}},{key:"hideDetails",value:function hideDetails(order){this.shownOrderDetails[order.id]=false}},{key:"toggleDetails",value:function toggleDetails(order){this.shownOrderDetails[order.id]=!this.shownOrderDetails[order.id]}},{key:"cancelAllOrders",value:function cancelAllOrders(){var _this80=this;if(!permissionManager.isPermitted("CAN_CANCEL_ORDER")){var $notify=$element.find(".js-order-notification");DexMyOrders._animateNotification($notify);return null}this.orders.filter(tsUtils.contains({isActive:true})).forEach(function(order){_this80.dropOrder(order)})}},{key:"round",value:function round(data){return Math.round(Number(data))}},{key:"isSelected",value:function isSelected(order){return this._assetIdPair.amount===order.amount.asset.id&&this._assetIdPair.price===order.price.asset.id}},{key:"dropOrderGetSignData",value:function dropOrderGetSignData(order){var _this81=this;var id=order.id;var data={id:id};var signable=ds.signature.getSignatureApi().makeSignable({type:SIGN_TYPE.CANCEL_ORDER,data:data});return signable.getId().then(function(id){var signPromise=signable.getDataForApi();if(user.userType==="seed"||!user.userType){return signPromise}return modalManager.showSignByDevice({promise:signPromise,data:order,id:id,mode:"cancel-order",userType:user.userType}).then(function(){return signPromise}).catch(function(){return Promise.reject()})}).catch(function(){return modalManager.showSignDeviceError({error:"sign-error",userType:user.userType}).then(function(){return _this81.dropOrderGetSignData(order)},function(){return Promise.reject({message:"Your sign is not confirmed!"})})})}},{key:"dropOrder",value:function dropOrder(order){var _this82=this;if(!permissionManager.isPermitted("CAN_CANCEL_ORDER")){var $notify=$element.find(".js-order-notification");DexMyOrders._animateNotification($notify);return null}var dataPromise=this.dropOrderGetSignData(order);dataPromise.then(function(signedTxData){return ds.cancelOrder(signedTxData,order.amount.asset.id,order.price.asset.id)}).then(function(){var canceledOrder=tsUtils.find(_this82.orders,{id:order.id});canceledOrder.state="Canceled";notification.info({ns:"app.dex",title:{literal:"directives.myOrders.notifications.isCanceled"}});if(_this82.poll){_this82.poll.restart()}}).catch(function(e){var error=utils.parseError(e);notification.error({ns:"app.dex",title:{literal:"directives.myOrders.notifications.somethingWentWrong"},body:{literal:error&&error.message||error}})})}},{key:"_getOrders",value:function _getOrders(){var _this83=this;return this._getAllOrders().then(function(orders){var remap=R.map(DexMyOrders._remapOrders);orders.sort(utils.comparators.process(function(a){return a.timestamp}).desc);var result=remap(orders);var last=result.length?result[result.length-1]:null;if(!last){return result}return ds.api.transactions.getExchangeTxList({sender:user.address,timeStart:ds.utils.normalizeTime(last.timestamp.getTime())}).then(function(txList){var transactionsByOrderHash=DexMyOrders._getTransactionsByOrderIdHash(txList);_this83.loadingError=false;return result.map(function(order){if(!transactionsByOrderHash[order.id]){transactionsByOrderHash[order.id]=[]}if(transactionsByOrderHash[order.id].length){order.fee=transactionsByOrderHash[order.id].map(DexMyOrders._getFeeByType(order.type)).reduce(function(sum,fee){return sum.add(fee)})}order.exchange=transactionsByOrderHash[order.id];return order})}).catch(function(){return result})}).catch(function(){_this83.loadingError=true;$scope.$apply()})}},{key:"_getAllOrders",value:function _getAllOrders(){return waves.matcher.getOrders().then(R.filter(R.whereEq({isActive:true})))}}],[{key:"_getTransactionsByOrderIdHash",value:function _getTransactionsByOrderIdHash(txList){var uniqueList=R.uniqBy(R.prop("id"),txList);var transactionsByOrderHash=Object.create(null);uniqueList.forEach(function(tx){["order1","order2"].forEach(function(orderFieldName){if(!transactionsByOrderHash[tx[orderFieldName].id]){transactionsByOrderHash[tx[orderFieldName].id]=[]}transactionsByOrderHash[tx[orderFieldName].id].push(DexMyOrders._remapTx(tx))})});return transactionsByOrderHash}},{key:"_remapTx",value:function _remapTx(tx){var fee=function fee(tx,order){return order.orderType==="sell"?tx.sellMatcherFee:tx.buyMatcherFee};var emptyFee=new entities.Money(0,tx.fee.asset);var userFee=[tx.order1,tx.order2].filter(function(order){return order.sender===user.address}).reduce(function(acc,order){return acc.add(fee(tx,order))},emptyFee);return _extends({},tx,{userFee:userFee})}},{key:"_remapOrders",value:function _remapOrders(order){var assetPair=order.assetPair;var pair=assetPair.amountAsset.displayName+" / "+assetPair.priceAsset.displayName;var isNew=Date.now()<order.timestamp.getTime()+1e3*8;var percent=new BigNumber(order.progress*100).dp(2).toFixed();return _extends({},order,{isNew:isNew,percent:percent,pair:pair})}},{key:"_getFeeByType",value:function _getFeeByType(type){return function(tx){switch(type){case"buy":return tx.buyMatcherFee;case"sell":return tx.sellMatcherFee;default:throw new Error("Wrong order type!")}}}},{key:"_animateNotification",value:function _animateNotification($element){return utils.animate($element,{t:100},{duration:1200,step:function step(tween){var progress=ease.bounceOut(tween/100);$element.css("transform","translate(0, "+(-100+progress*100)+"%)")}}).then(function(){return utils.wait(700)}).then(function(){return utils.animate($element,{t:0},{duration:500,step:function step(tween){var progress=ease.linear(tween/100);$element.css("transform","translate(0, "+-((1-progress)*100)+"%)")}})})}}]);return DexMyOrders}(Base);return new DexMyOrders};controller.$inject=["Base","waves","user","createPoll","notification","utils","$scope","dexDataService","modalManager","permissionManager","ease","$element"];angular.module("app.dex").component("wDexMyOrders",{bindings:{},templateUrl:"modules/dex/directives/dexMyOrders/myOrders.html",controller:controller})})();(function(){"use strict";var DROP_DOWN_ORDER_LIST=[];var DROP_DOWN_LIST=[];DROP_DOWN_ORDER_LIST.forEach(function(name){DROP_DOWN_LIST.push({name:name,id:WavesApp.defaultAssets[name]})});Object.keys(WavesApp.defaultAssets).forEach(function(name){if(!DROP_DOWN_ORDER_LIST.includes(name)&&name!=="WAVES"&&name!=="BTC"){DROP_DOWN_LIST.push({name:name,id:WavesApp.defaultAssets[name]})}});var controller=function controller(Base,$scope,utils,waves,stService,PromiseControl,createPoll,$element,modalManager,configService){var R=require("ramda");var ds=require("data-service");$scope.WavesApp=WavesApp;var WatchList=function(_Base14){_inherits(WatchList,_Base14);function WatchList(){_classCallCheck(this,WatchList);var _this84=_possibleConstructorReturn(this,(WatchList.__proto__||Object.getPrototypeOf(WatchList)).call(this,$scope));_this84.pending=false;_this84.dropDownId=null;_this84.dropDown=DROP_DOWN_LIST;_this84.isActiveSelect=false;_this84.searchRequest=null;_this84.tabs=[{name:"directives.watchlist.all",value:"all"},{name:"ACRYL",value:WavesApp.defaultAssets.WAVES},{name:"BTC",value:WavesApp.defaultAssets.BTC}];_this84._cache=utils.cache(controller.storage,WatchList._loadDataByPairs,WatchList._getKeyByPair,1e3*30,function(pair){return function(list){return list.find(function(p){return R.equals(p.pairIdList.slice().sort(),pair.slice().sort())})}});_this84.headers=[{id:"favourite",templatePath:"modules/dex/directives/dexWatchlist/FavouritesColumnHeader.html",scopeData:{toggleOnlyFavourite:function toggleOnlyFavourite(){_this84.showOnlyFavorite=!_this84.showOnlyFavorite;WatchList._renderSmartTable()},$ctrl:_this84}},{id:"pair",title:{literal:"directives.watchlist.pair"},sort:_this84._getComparatorByPath("pairNames")},{id:"price",title:{literal:"directives.watchlist.price"},sort:_this84._getComparatorByPath("price")},{id:"change",title:{literal:"directives.watchlist.chg"},sort:_this84._getComparatorByPath("change24")},{id:"volume",title:{literal:"directives.watchlist.volume"},sortActive:true,isAsc:false,sort:_this84._getComparatorByPath("volume")},{id:"info"}];_this84.tableOptions={filter:_this84._getTableFilter()};_this84.search="";_this84.searchInProgress=false;_this84.activeTab="all";_this84.showOnlyFavorite=false;_this84.pairDataList=null;_this84._isSelfSetPair=false;_this84._searchAssets=[];_this84._searchAssetsHash=Object.create(null);_this84._assetsIds=[];_this84._favourite=[];_this84._favoriteHash=Object.create(null);_this84._assetIdPair=null;_this84._poll=null;return _this84}_createClass(WatchList,[{key:"$postLink",value:function $postLink(){var _this85=this;this.observe("dropDownId",this._onChangeDropDown);this.observe("_favourite",this._updateFavoriteHash);this.observe("_searchAssets",this._updateSearchAssetHash);this.observe("search",this._onChangeSearch);this.syncSettings({activeTab:"dex.watchlist.activeTab",showOnlyFavorite:"dex.watchlist.showOnlyFavorite",_favourite:"dex.watchlist.favourite",_assetsIds:"dex.watchlist.list",_assetIdPair:"dex.assetIdPair"});this._initializeActiveTab();this.observe("_assetIdPair",this._onChangeChosenPair);this.observe("activeTab",this._onChangeActiveTab);stService.draw.once(WatchList._onRenderTable);this.pending=true;this._poll=createPoll(this,this._getPairData,"pairDataList",1e3*30,{$scope:$scope});this._poll.ready.then(function(){_this85.pending=false})}},{key:"showAssetInfo",value:function showAssetInfo(event,asset){event.preventDefault();event.stopPropagation();return modalManager.showAssetInfo(asset)}},{key:"isChosen",value:function isChosen(pairData){return this._assetIdPair.amount===pairData.amountAsset.id&&this._assetIdPair.price===pairData.priceAsset.id}},{key:"choosePair",value:function choosePair(pairData){var pair={amount:pairData.amountAsset.id,price:pairData.priceAsset.id};this._isSelfSetPair=true;this._assetIdPair=pair;this._isSelfSetPair=false}},{key:"chooseSelect",value:function chooseSelect(){this.isActiveSelect=true;this.activeTab=this.dropDownId}},{key:"chooseTab",value:function chooseTab(id){this.isActiveSelect=false;this.activeTab=id}},{key:"toggleFavourite",value:function toggleFavourite($event,pair){$event.stopPropagation();var key=WatchList._getKeyByPair(pair.pairIdList);var favorite=this._favourite.slice();if(this._favoriteHash[key]){var isEqualPair=function isEqualPair(p){return R.equals(p,pair.pairIdList)||R.equals(p,pair.pairIdList.reverse())};var predicate=function predicate(p){return R.not(isEqualPair(p))};this._favourite=favorite.filter(predicate)}else{favorite.push(pair.pairIdList);this._favourite=R.uniq(favorite)}WatchList._renderSmartTable()}},{key:"isFavourite",value:function isFavourite(pair){return!!this._favoriteHash[WatchList._getKeyByPair(pair.pairIdList)]}},{key:"_initializeActiveTab",value:function _initializeActiveTab(){this.isActiveSelect=!R.find(R.propEq("value",this.activeTab),this.tabs);if(this.isActiveSelect){this.dropDownId=this.activeTab}}},{key:"_onChangeChosenPair",value:function _onChangeChosenPair(){var _this86=this;var pair=this._assetIdPair;var id=[pair.amount,pair.price].sort().join();if(!this._favoriteHash[id]&&this.showOnlyFavorite){this.showOnlyFavorite=false}if(!R.find(R.propEq("id",id),this.pairDataList)){this._cache([id.split(",")]).then(function(_ref57){var _ref58=_slicedToArray(_ref57,1),item=_ref58[0];_this86.pairDataList.push(item);WatchList._renderSmartTable()})}else{WatchList._renderSmartTable()}if(!this._isSelfSetPair){this.activeTab="all";stService.draw.once(WatchList._onRenderTable)}}},{key:"_onChangeDropDown",value:function _onChangeDropDown(){if(this.isActiveSelect){this.activeTab=this.dropDownId}}},{key:"_getPairData",value:function _getPairData(){var pairs=this._getPairList();return Promise.all([this._getTabRate(),this._cache(pairs)]).then(function(_ref59){var _ref60=_slicedToArray(_ref59,2),rate=_ref60[0],pairs=_ref60[1];return pairs.map(WatchList._addRateForPair(rate))})}},{key:"_getTabRate",value:function _getTabRate(){var _this87=this;var activeTab=this.activeTab;return waves.node.assets.getAsset(activeTab==="all"?WavesApp.defaultAssets.WAVES:activeTab).then(function(asset){_this87.volumeAsset=asset;if(activeTab==="all"){return Promise.resolve(new BigNumber(1))}else{return waves.utils.getRate(WavesApp.defaultAssets.WAVES,activeTab)}})}},{key:"_getTableFilter",value:function _getTableFilter(){var _this88=this;return function(list){var hasSearch=_this88.search!=="";if(hasSearch){return list.filter(function(item){return _this88._filterDataItemByTab(item)&&_this88._filterDataItemByQuery(item)})}else{return list.filter(function(item){return _this88._filterDataItemByTab(item)})}}}},{key:"_filterDataItemByTab",value:function _filterDataItemByTab(item){var canShow=this.showOnlyFavorite?this.isFavourite(item):true;switch(this.activeTab){case"all":return canShow;default:return canShow&&(item.amountAsset.id===this.activeTab||item.priceAsset.id===this.activeTab)}}},{key:"_filterDataItemByQuery",value:function _filterDataItemByQuery(item){var query=this.search;var amountSearch={success:false,names:[item.amountAsset.name.toLowerCase(),item.amountAsset.ticker&&item.amountAsset.ticker.toLowerCase()||null].filter(Boolean)};var priceSearch={success:false,names:[item.priceAsset.name.toLowerCase(),item.priceAsset.ticker&&item.priceAsset.ticker.toLowerCase()||null].filter(Boolean)};var searchPair=[amountSearch,priceSearch];function search(query){var queryList=query.split("/").map(function(q){return q.trim()});if(queryList.length===1){var q=query.toLowerCase();if(WatchList._isId(query)){return item.pairIdList.includes(query)}else{return R.filter(R.whereEq({success:false}),searchPair).some(function(searchItem){searchItem.success=searchItem.names.some(function(n){return n.indexOf(q)===0});return searchItem.success})}}if(queryList[0]&&queryList[1]===""){var _q=queryList[0].toLowerCase();if(WatchList._isId(queryList[0])){return item.pairIdList.includes(queryList[0])}else{return searchPair.some(function(searchItem){if(!searchItem.success){searchItem.success=searchItem.names.some(function(n){return n===_q})}return searchItem.success})}}if(!queryList[0]&&queryList[1]){return search(query.replace("/",""))}return search(queryList[0].trim())&&search(queryList[1].trim())}return search(query.trim())}},{key:"_onChangeSearch",value:function _onChangeSearch(){var _this89=this;if(this.searchRequest){this.searchRequest.drop();this.searchInProgress=false;this.pending=false;this.searchRequest=null}var query=this.search;this._searchAssets=[];var queryParts=query.split("/").slice(0,2).map(function(q){return q.replace(/[:()^]/g,"").trim()}).filter(Boolean);if(!queryParts.length){WatchList._renderSmartTable();return null}this.searchInProgress=true;this.pending=true;this.searchRequest=new PromiseControl(Promise.all(queryParts.map(waves.node.assets.search))).then(function(_ref61){var _ref62=_slicedToArray(_ref61,2),_ref62$=_ref62[0],d1=_ref62$===undefined?[]:_ref62$,_ref62$2=_ref62[1],d2=_ref62$2===undefined?[]:_ref62$2;_this89._searchAssets=R.uniqBy(R.prop("id"),d1.concat(d2));return _this89._poll.restart().then(function(){_this89.searchInProgress=false;_this89.pending=false;_this89.searchRequest=null;_this89.showOnlyFavorite=false;$scope.$apply()})}).catch(function(){_this89.searchInProgress=false;_this89.pending=false;_this89.searchRequest=null;$scope.$apply()})}},{key:"_updateFavoriteHash",value:function _updateFavoriteHash(){this._favoriteHash=this._favourite.reduce(function(acc,pair){acc[WatchList._getKeyByPair(pair)]=pair;return acc},Object.create(null))}},{key:"_updateSearchAssetHash",value:function _updateSearchAssetHash(){this._searchAssetsHash=this._searchAssets.reduce(function(acc,asset){acc[asset.id]=asset;return acc},Object.create(null))}},{key:"_onChangeActiveTab",value:function _onChangeActiveTab(){var _this90=this;this.pending=true;this._poll.restart().then(function(){_this90.pending=false;$scope.$apply()})}},{key:"_getPairList",value:function _getPairList(){var defaultAssets=configService.get("SETTINGS.DEX.WATCH_LIST_PAIRS")||[];var favorite=(this._favourite||[]).map(function(p){return p.sort()});var chosen=[this._assetIdPair.amount,this._assetIdPair.price].sort();var searchIdList=Object.keys(this._searchAssetsHash);var idList=R.uniq(this._assetsIds.concat(searchIdList,defaultAssets));var other=WatchList._getAllCombinations(idList);return R.uniq(favorite.concat(other,[chosen]))}},{key:"_getComparatorByPath",value:function _getComparatorByPath(path){var _this91=this;return function(list,isAsc){var method=isAsc?"asc":"desc";var favorite=[];var other=[];var comparator=utils.comparators.process(R.path(path.split("."))).smart[method];list.forEach(function(item){if(_this91.isFavourite(item)){favorite.push(item)}else{other.push(item)}});favorite.sort(comparator);other.sort(comparator);return favorite.concat(other)}}}],[{key:"_addRateForPair",value:function _addRateForPair(rate){return function(pair){if(!pair.volume){return pair}var currentVolume=pair.volume.getTokens().times(rate).dp(3,BigNumber.ROUND_HALF_UP);return _extends({},pair,{currentVolume:currentVolume})}}},{key:"_renderSmartTable",value:function _renderSmartTable(){stService.render("watchlist")}},{key:"_onRenderTable",value:function _onRenderTable(name){if(name!=="watchlist"){return null}setTimeout(function loop(){var $chosen=$element.find(".chosen");if(!$chosen.length){return null}var $body=$element.find(".smart-table__w-tbody");var scroll=$body.scrollTop();var chosenOffset=$chosen.offset().top;var bodyOffset=$body.offset().top;var top=chosenOffset-bodyOffset+scroll-$body.height()/2+$chosen.height()/2;$element.find(".smart-table__w-tbody").animate({scrollTop:top},300)},300)}},{key:"_isId",value:function _isId(query){return WatchList._getBytes(query)>16||query==="WAVES"}},{key:"_getBytes",value:function _getBytes(str){return new Blob([str],{type:"text/html"}).size}},{key:"_getAssetsFromPairs",value:function _getAssetsFromPairs(pairs){return pairs.reduce(function(acc,item){["amountAsset","priceAsset"].forEach(function(propertyName){if(!acc.hash[item.pair[propertyName].id]){acc.assets.push(item.pair[propertyName]);acc.hash[item.pair[propertyName].id]=true}});return acc},{assets:[],hash:{}}).assets}},{key:"_getKeyByPair",value:function _getKeyByPair(pair){return pair.sort().join()}},{key:"_loadDataByPairs",value:function _loadDataByPairs(pairs){var ids=R.uniq(R.flatten(pairs));return ds.api.assets.get(ids).then(function(){var promiseList=R.uniq(pairs.filter(function(p){return p.length===2})).map(function(_ref63){var _ref64=_slicedToArray(_ref63,2),assetId1=_ref64[0],assetId2=_ref64[1];return ds.api.pairs.get(assetId1,assetId2)});return Promise.all(promiseList)}).then(function(pairs){var promiseList=R.splitEvery(20,R.uniq(pairs)).map(function(pairs){var _ds$api$pairs;return(_ds$api$pairs=ds.api.pairs).info.apply(_ds$api$pairs,_toConsumableArray(pairs)).then(function(infoList){return infoList.map(function(data,i){return _extends({},data,{pairNames:(pairs[i].amountAsset.displayName==="WAVES"?"ACRYL":pairs[i].amountAsset.displayName)+" /\n                                            "+(pairs[i].priceAsset.displayName==="WAVES"?"ACRYL":pairs[i].priceAsset.displayName),pairIdList:[pairs[i].amountAsset.id,pairs[i].priceAsset.id],pairNamesAmount:""+(pairs[i].amountAsset.displayName==="WAVES"?"ACRYL":pairs[i].amountAsset.id),pairNamesPrice:""+(pairs[i].priceAsset.displayName==="WAVES"?"ACRYL":pairs[i].priceAsset.id)})})}).catch(function(){return pairs.map(WatchList._getEmptyPairData)})});return Promise.all(promiseList)}).then(R.flatten)}},{key:"_getEmptyPairData",value:function _getEmptyPairData(pair){return{amountAsset:pair.amountAsset,priceAsset:pair.priceAsset,pairNames:(pair.amountAsset.displayName==="WAVES"?"ACRYL":pair.amountAsset.displayName)+" / "+(pair.priceAsset.displayName==="WAVES"?"ACRYL":pair.priceAsset.displayName),pairIdList:[pair.amountAsset.id,pair.priceAsset.id],pairNamesAmount:""+(pair.amountAsset.displayName==="WAVES"?"ACRYL":pair.amountAsset.id),pairNamesPrice:""+(pair.priceAsset.displayName==="WAVES"?"ACRYL":pair.priceAsset.id),id:[pair.amountAsset.id,pair.priceAsset.id].sort().join(),lastPrice:null,firstPrice:null,volume:null,change24:null}}},{key:"_getAllCombinations",value:function _getAllCombinations(assetIdList){var pairs=[];assetIdList.forEach(function(assetId,index){assetIdList.slice(index+1).forEach(function(anotherAssetId){pairs.push([assetId,anotherAssetId].sort())})});return pairs}}]);return WatchList}(Base);return new WatchList};controller.storage=Object.create(null);controller.$inject=["Base","$scope","utils","waves","stService","PromiseControl","createPoll","$element","modalManager","configService"];angular.module("app.dex").component("wDexWatchlist",{templateUrl:"modules/dex/directives/dexWatchlist/DexWatchlist.html",controller:controller})})();(function(){"use strict";function controller(){var Controller=function(){function Controller(){_classCallCheck(this,Controller);this.handleClick=angular.noop;this.isHovered=false}_createClass(Controller,[{key:"setHovered",value:function setHovered(){this.isHovered=true}},{key:"setNotHovered",value:function setNotHovered(){this.isHovered=false}}]);return Controller}();return new Controller}angular.module("app.dex").component("wDexLayoutSideBarToggle",{bindings:{handleClick:"&",side:"@"},templateUrl:"modules/dex/directives/layout/DexLayoutSideBarToggle.html",controller:controller})})();(function(){"use strict";var controller=function controller(Base,$q,$element,utils,$rootScope){var Layout=function(_Base15){_inherits(Layout,_Base15);function Layout(){_classCallCheck(this,Layout);var _this92=_possibleConstructorReturn(this,(Layout.__proto__||Object.getPrototypeOf(Layout)).call(this));_this92._ready=$q.defer();_this92._dom=null;_this92._children={watchlist:null,candlechart:null,orderbook:null,tradehistory:null,createorder:null,tradevolume:null};_this92._node=null;_this92._watchlistCollapsed=null;_this92._orderbookCollapsed=null;_this92.isPhone=$rootScope.isPhone;_this92.isTablet=$rootScope.isTablet;_this92.isDesktop=$rootScope.isDesktop;_this92.isNotPhone=$rootScope.isNotPhone;_this92.isNotDesktop=$rootScope.isNotDesktop;_this92.syncSettings({_watchlistCollapsed:"dex.layout.watchlist.collapsed",_orderbookCollapsed:"dex.layout.orderbook.collapsed"});_this92.observe(["_watchlistCollapsed","_orderbookCollapsed"],_this92._onChangeCollapsed);return _this92}_createClass(Layout,[{key:"$postLink",value:function $postLink(){this._node=$element.find(".dex-layout");this._dom={watchlist:Layout._getColumn("watchlist"),candlechart:Layout._getColumn("candlechart"),orderbook:Layout._getColumn("orderbook"),tradehistory:Layout._getColumn("tradehistory"),createorder:Layout._getColumn("createorder"),tradevolume:Layout._getColumn("tradevolume")};var watchlistCollapsed=this._watchlistCollapsed;var orderbookCollapsed=this._orderbookCollapsed;var base="dex-layout";this._node.get(0).className="dex-layout";this._node.toggleClass(base+"__watchlist-collapsed",watchlistCollapsed);this._node.toggleClass(base+"__orderbook-collapsed",orderbookCollapsed);this._dom.watchlist.$slider.toggleClass(base+"__sidebar-toggle-open",!watchlistCollapsed);this._dom.orderbook.$slider.toggleClass(base+"__sidebar-toggle-open",!orderbookCollapsed);this._ready.resolve()}},{key:"registerItem",value:function registerItem($element,item){var _this93=this;var block=item.block;if(!block){throw new Error("Wrong item address!")}this._ready.promise.then(function(){if(!_this93._children[block]){_this93._children[block]=item;_this93._dom[block].$container.append($element)}else{throw new Error("Duplicate child block!")}})}},{key:"closeCreateOrder",value:function closeCreateOrder($event){angular.element($event.delegateTarget).parent().removeClass("expanded")}},{key:"collapseBlock",value:function collapseBlock(block,collapsed){this._node.toggleClass("dex-layout__block-"+block+"-collapsed",collapsed)}},{key:"toggleColumn",value:function toggleColumn(column){switch(column){case"watchlist":this._watchlistCollapsed=!this._watchlistCollapsed;break;case"orderbook":this._orderbookCollapsed=!this._orderbookCollapsed;break;default:throw new Error("Wrong column name!")}}},{key:"_onChangeCollapsed",value:function _onChangeCollapsed(){var _this94=this;var watchlist=this._watchlistCollapsed;var orderbook=this._orderbookCollapsed;var base="dex-layout";utils.animateByClass(this._dom.candlechart.$wrapper,"ghost",true,"opacity").then(function(){_this94._dom.candlechart.$wrapper.hide();_this94._dom.watchlist.$slider.toggleClass(base+"__sidebar-toggle-open",!watchlist);_this94._dom.orderbook.$slider.toggleClass(base+"__sidebar-toggle-open",!orderbook);var endCollapseAnimations=utils.whenAll([utils.animateByClass(_this94._node,base+"__watchlist-collapsed",watchlist,"transform"),utils.animateByClass(_this94._node,base+"__orderbook-collapsed",orderbook,"transform")]);var notWorking=new Promise(function(resolve,reject){setTimeout(reject,3e3)});return Promise.race([endCollapseAnimations,notWorking]).catch(function(){console.warn("Not working css animation end event!")})}).then(function(){_this94._dom.candlechart.$wrapper.show();return utils.wait(0)}).then(function(){utils.animateByClass(_this94._dom.candlechart.$wrapper,"ghost",false,"opacity")})}}],[{key:"_getColumn",value:function _getColumn(type){var $container=$element.find('[data-block="'+type+'"]');var $wrapper=$container.parent();var $slider=$wrapper.find("[data-slider]");return{$wrapper:$wrapper,$container:$container,$slider:$slider}}}]);return Layout}(Base);return new Layout};controller.$inject=["Base","$q","$element","utils","$rootScope"];angular.module("app.dex").component("wLayout",{scope:false,bindings:{},templateUrl:"modules/dex/directives/layout/layout.html",transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$scope,createPoll,waves,user,modalManager){var R=require("ramda");var MyBalance=function(_Base16){_inherits(MyBalance,_Base16);function MyBalance(){_classCallCheck(this,MyBalance);var _this95=_possibleConstructorReturn(this,(MyBalance.__proto__||Object.getPrototypeOf(MyBalance)).call(this));_this95.balanceList=null;_this95.isDemo=!user.address;_this95.pending=!_this95.isDemo;_this95.headers=[{id:"asset",search:true,sort:true,placeholder:"directives.filter",valuePath:"item.asset.displayName"},{id:"assetId",sort:false,title:{literal:"directives.balance.assetId"},valuePath:"item.assetId"},{id:"available",sort:true,title:{literal:"directives.balance.available"},valuePath:"item.available"},{id:"inOrders",sort:true,title:{literal:"directives.balance.inOrdersFull"},valuePath:"item.inOrders"},{id:"total",sort:true,title:{literal:"directives.balance.total"},valuePath:"item.regular"}];var isBalance=true;_this95.syncSettings({_assetIdPair:"dex.assetIdPair"});if(!_this95.isDemo){createPoll(_this95,_this95._getBalanceList,"balanceList",1e3,{$scope:$scope,isBalance:isBalance}).ready.then(function(){_this95.pending=false})}return _this95}_createClass(MyBalance,[{key:"showAssetInfo",value:function showAssetInfo(asset){return modalManager.showAssetInfo(asset)}},{key:"isSelected",value:function isSelected(asset){return this._assetIdPair.amount===asset.id||this._assetIdPair.price===asset.id}},{key:"setPair",value:function setPair(assetId){var wavesId=WavesApp.defaultAssets.WAVES;var btcId=WavesApp.defaultAssets.BTC;var assetId2=assetId===wavesId?btcId:wavesId;ds.api.pairs.get(assetId,assetId2).then(function(pair){user.setSetting("dex.assetIdPair",{amount:pair.amountAsset.id,price:pair.priceAsset.id})})}},{key:"_getBalanceList",value:function _getBalanceList(){return waves.node.assets.userBalances().then(R.filter(MyBalance._isNotScam()))}}],[{key:"_isNotScam",value:function _isNotScam(){var spamHash=(user.getSetting("wallet.portfolio.spam")||[]).reduce(function(r,id){r[id]=true;return r},Object.create(null));return function(item){return!WavesApp.scam[item.asset.id]&&!spamHash[item.asset.id]}}}]);return MyBalance}(Base);return new MyBalance};controller.$inject=["Base","$scope","createPoll","waves","user","modalManager"];angular.module("app.dex").component("wDexMyBalance",{bindings:{},templateUrl:"modules/dex/directives/myBalance/myBalance.html",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,createPoll,$element,waves,dexDataService,utils,$scope,$templateRequest,i18n){var SECTIONS={ASKS:".asks",INFO:".info",BIDS:".bids",SCROLLBOX:"w-scroll-box",LAST_PRICE:".last-price",SPREAD:".spread"};var CLASSES={SELL:"sell",BUY:"buy"};var ds=require("data-service");var _require11=require("@waves/data-entities"),AssetPair=_require11.AssetPair;var MIN_LINES=15;var OrderBook=function(_Base17){_inherits(OrderBook,_Base17);function OrderBook(){_classCallCheck(this,OrderBook);var _this96=_possibleConstructorReturn(this,(OrderBook.__proto__||Object.getPrototypeOf(OrderBook)).call(this));_this96.orders=null;_this96.amountAsset=null;_this96.priceAsset=null;_this96.pending=true;_this96.hasOrderBook=false;_this96.loadingError=false;_this96._assetIdPair=null;_this96._lastResponse=null;_this96._showSpread=true;_this96._noRender=false;_this96._orderBookCropRate=null;_this96._template=null;_this96._dom=null;_this96.receive(dexDataService.showSpread,function(){_this96._dom.$box.stop().animate({scrollTop:_this96._getSpreadScrollPosition()},300)});_this96.syncSettings({_assetIdPair:"dex.assetIdPair",_orderBookCropRate:"dex.chartCropRate"});_this96.observe(["hasOrderBook"],_this96._onChangeVisibleElements);_this96._onChangeVisibleElements();_this96._updateAssetData();var filledRow=$templateRequest("modules/dex/directives/orderBook/orderbook.row.hbs");var emptyRow=$templateRequest("modules/dex/directives/orderBook/emptyRow.html");Promise.all([filledRow,emptyRow]).then(function(_ref65){var _ref66=_slicedToArray(_ref65,2),templateString=_ref66[0],stringTemplateEmpty=_ref66[1];_this96._template=Handlebars.compile(templateString);var poll=createPoll(_this96,_this96._getOrders,_this96._setOrders,1e3,{$scope:$scope});_this96.observe("_assetIdPair",function(){_this96._showSpread=true;_this96.pending=true;_this96.hasOrderBook=false;_this96.loadingError=false;_this96._updateAssetData();poll.restart()});$element.on("mousedown touchstart","w-scroll-box w-row",function(){_this96._noRender=true});$element.on("mouseup touchend","w-scroll-box w-row",function(){_this96._noRender=false;if(_this96._lastResponse){_this96._render(_this96._lastResponse);_this96._lastResponse=null}});$element.on("click","w-scroll-box w-row",function(e){var amount=e.currentTarget.getAttribute("data-amount");var price=e.currentTarget.getAttribute("data-price");var type=e.currentTarget.getAttribute("data-type");if(amount&&price&&type){dexDataService.chooseOrderBook.dispatch({amount:amount,price:price,type:type})}});_this96.emptyRowTemplate=stringTemplateEmpty});return _this96}_createClass(OrderBook,[{key:"$postLink",value:function $postLink(){var _this97=this;this._dom=Object.create(null);Object.defineProperties(this._dom,{$box:{get:function get(){return $element.find(SECTIONS.SCROLLBOX)}},$bids:{get:function get(){return _this97._dom.$box.find(SECTIONS.BIDS)}},$asks:{get:function get(){return _this97._dom.$box.find(SECTIONS.ASKS)}},$info:{get:function get(){return _this97._dom.$box.find(SECTIONS.INFO)}},$lastPrice:{get:function get(){return _this97._dom.$info.find(SECTIONS.LAST_PRICE)}},$spread:{get:function get(){return _this97._dom.$info.find(SECTIONS.SPREAD)}}})}},{key:"nothingFound",value:function nothingFound(){return!(this.hasOrderBook||this.pending||this.loadingError)}},{key:"_updateAssetData",value:function _updateAssetData(){var _this98=this;ds.api.assets.get([this._assetIdPair.price,this._assetIdPair.amount]).then(function(_ref67){var _ref68=_slicedToArray(_ref67,2),priceAsset=_ref68[0],amountAsset=_ref68[1];_this98.priceAsset=priceAsset;_this98.amountAsset=amountAsset;_this98.pair=new AssetPair(amountAsset,priceAsset)})}},{key:"_getOrders",value:function _getOrders(){var _this99=this;var amountAsset=this._assetIdPair.amount;var priceAsset=this._assetIdPair.price;var limit=1;return Promise.all([waves.matcher.getOrderBook(amountAsset,priceAsset),waves.matcher.getOrders().catch(function(){return null}),ds.api.pairs.get(amountAsset,priceAsset).then(waves.matcher.getLastPrice).then(function(lastPrice){var tokens=lastPrice.price.getTokens();if(tokens.isNaN()){return ds.api.transactions.getExchangeTxList({amountAsset:amountAsset,priceAsset:priceAsset,limit:limit}).then(function(_ref69){var _ref70=_slicedToArray(_ref69,1),tx=_ref70[0];return{price:tx.price,lastSide:tx.exchangeType}}).catch(function(){return null})}return lastPrice}).then(function(lastPrice){return lastPrice}).catch(function(){return null})]).then(function(_ref71){var _ref72=_slicedToArray(_ref71,3),orderbook=_ref72[0],orders=_ref72[1],lastPrice=_ref72[2];_this99.loadingError=false;return _this99._remapOrderBook(orderbook,orders,lastPrice)}).catch(function(){_this99.loadingError=true;_this99.hasOrderBook=false;$scope.$digest()})}},{key:"_onChangeVisibleElements",value:function _onChangeVisibleElements(){$element.toggleClass("has-order-book",this.hasOrderBook)}},{key:"_setOrders",value:function _setOrders(data){this.pending=false;this._render(data)}},{key:"_remapOrderBook",value:function _remapOrderBook(orderbook){var orders=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var lastPrice=arguments[2];var crop=utils.getOrderBookRangeByCropRate({bids:orderbook.bids,asks:orderbook.asks,chartCropRate:this._orderBookCropRate});var priceHash=orders.reduce(function(result,item){if(item.isActive){if(item.amount.asset.id===orderbook.pair.amountAsset.id&&item.price.asset.id===orderbook.pair.priceAsset.id){result[item.price.getTokens().toFixed(item.price.asset.precision)]=true}}return result},Object.create(null));var lastTrade=lastPrice;var bids=OrderBook._sumAllOrders(orderbook.bids,"sell");var asks=OrderBook._sumAllOrders(orderbook.asks,"buy").reverse();var maxAmount=OrderBook._getMaxAmount(bids,asks,crop);return{bids:this._toTemplate(bids,crop,priceHash,maxAmount).join(""),lastTrade:lastTrade,spread:orderbook.spread&&orderbook.spread.percent,asks:this._toTemplate(asks,crop,priceHash,maxAmount).join("")}}},{key:"_render",value:function _render(data){if(!data){return null}if(this._noRender){this._lastResponse=data;return null}this.hasOrderBook=Boolean(data.bids||data.asks);this._dom.$asks.html(data.asks);if(data.lastTrade){var isBuy=data.lastTrade.lastSide==="buy";var isSell=data.lastTrade.lastSide==="sell";this._dom.$lastPrice.toggleClass(CLASSES.BUY,isBuy).toggleClass(CLASSES.SELL,isSell).text(data.lastTrade.price.toFormat())}else{this._dom.$lastPrice.removeClass(CLASSES.BUY).removeClass(CLASSES.SELL).text(0)}this._dom.$spread.text(data.spread&&data.lastTrade?data.spread.toFixed(2):"");this._dom.$bids.html(data.bids);if(this._showSpread){this._showSpread=false;var box=this._dom.$box.get(0);box.scrollTop=this._getSpreadScrollPosition()}}},{key:"_getSpreadScrollPosition",value:function _getSpreadScrollPosition(){var box=this._dom.$box.get(0);var info=this._dom.$info.get(0);return info.offsetTop-box.offsetTop-box.clientHeight/2+info.clientHeight/2}},{key:"_toTemplate",value:function _toTemplate(list,crop,priceHash,maxAmount){var _this100=this;var mappedList=list.map(function(order){var hasOrder=!!priceHash[order.price.toFixed(_this100.priceAsset.precision)];var inRange=order.price.gte(crop.min)&&order.price.lte(crop.max);var type=order.type;var totalAmount=order.totalAmount&&order.totalAmount.toFixed();var width=order.amount.div(maxAmount).times(100).toFixed(2);var amount=utils.getNiceNumberTemplate(order.amount,_this100.amountAsset.precision,true);var price=utils.getNiceNumberTemplate(order.price,_this100.priceAsset.precision,true);var total=utils.getNiceNumberTemplate(order.total,_this100.priceAsset.precision,true);var priceNum=order.price.toFixed();var totalAmountNum=order.totalAmount&&order.totalAmount.toFixed();var amountAsset=_this100.amountAsset.displayName;var priceAsset=_this100.priceAsset.displayName;var buyTooltip=i18n.translate("orderbook.ask.tooltipText","app.dex",{amountAsset:amountAsset,priceAsset:priceAsset,price:order.price.toFormat(_this100.priceAsset.precision)});var sellTooltip=i18n.translate("orderbook.bid.tooltipText","app.dex",{amountAsset:amountAsset,priceAsset:priceAsset,price:order.price.toFormat(_this100.priceAsset.precision)});return _this100._template({hasOrder:hasOrder,inRange:inRange,type:type,totalAmount:totalAmount,amount:amount,price:price,total:total,width:width,priceNum:priceNum,totalAmountNum:totalAmountNum,buyTooltip:buyTooltip,sellTooltip:sellTooltip})});var diff=MIN_LINES-mappedList.length;var type=list.length?list[0].type:"sell";for(var i=0;i<diff;i++){if(type==="buy"){mappedList.unshift(this.emptyRowTemplate)}else{mappedList.push(this.emptyRowTemplate)}}return mappedList}}],[{key:"_sumAllOrders",value:function _sumAllOrders(list,type){var total=new BigNumber(0);var amountTotal=new BigNumber(0);return list.map(function(item){total=total.plus(item.total);amountTotal=amountTotal.plus(item.amount);return{type:type,amount:new BigNumber(item.amount),price:new BigNumber(item.price),total:total,totalAmount:amountTotal}})}},{key:"_getMaxAmount",value:function _getMaxAmount(bids,asks,crop){var croppedBids=OrderBook._cropFilterOrders(bids,crop);var croppedAsks=OrderBook._cropFilterOrders(asks,crop);var orders=[].concat(_toConsumableArray(croppedBids),_toConsumableArray(croppedAsks)).sort(function(a,b){return a.amount.gt(b.amount)?1:-1});if(!orders.length){return new BigNumber(0)}else{var percentile=.9;return orders[Math.floor(orders.length*percentile)].amount}}},{key:"_cropFilterOrders",value:function _cropFilterOrders(list,crop){return list.filter(function(o){return o.price.gte(crop.min)&&o.price.lte(crop.max)})}}]);return OrderBook}(Base);return new OrderBook};controller.$inject=["Base","createPoll","$element","waves","dexDataService","utils","$scope","$templateRequest","i18n"];angular.module("app.dex").component("wDexOrderBook",{templateUrl:"modules/dex/directives/orderBook/orderBook.html",controller:controller})})();(function(){"use strict";var ORDERS_TYPES={asks:"asks",bids:"bids"};var SERIES_SETTINGS={asks:{dataset:ORDERS_TYPES.asks,key:"amount",label:"Asks",color:"#e5494d",type:["line","area"]},bids:{dataset:ORDERS_TYPES.bids,key:"amount",label:"Bids",color:"#f6bd6c",type:["line","area"]}};var ORDER_LIST_STUB=[{amount:0,price:0}];var THRESHOLD_VALUES={asks:2,bids:2};var tsUtils=require("ts-utils");var controller=function controller(Base,utils,waves,createPoll,$scope){var TradeGraph=function(_Base18){_inherits(TradeGraph,_Base18);function TradeGraph(){_classCallCheck(this,TradeGraph);var _this101=_possibleConstructorReturn(this,(TradeGraph.__proto__||Object.getPrototypeOf(TradeGraph)).call(this));_this101.loadingError=false;_this101._assetIdPair=null;_this101._chartCropRate=null;_this101._setDataSignal=new tsUtils.Signal;_this101.canShowGraph=false;_this101.pending=true;_this101.options={margin:{top:0,left:0,right:0,bottom:0},grid:{x:false,y:false},series:[SERIES_SETTINGS.asks,SERIES_SETTINGS.bids],axes:{x:{key:"price",type:"linear",ticks:2},y:{key:"amount",ticks:4}}};_this101.data={asks:ORDER_LIST_STUB,bids:ORDER_LIST_STUB};_this101.syncSettings({_assetIdPair:"dex.assetIdPair",_chartCropRate:"dex.chartCropRate"});_this101.observe(["_assetIdPair","_chartCropRate"],_this101._onChangeAssets);_this101._poll=createPoll(_this101,_this101._getOrderBook,_this101._setOrderBook,1e3,{$scope:$scope});_this101._resetPending();return _this101}_createClass(TradeGraph,[{key:"_onChangeAssets",value:function _onChangeAssets(noRestart){if(!noRestart){this._poll.restart();this._resetPending()}}},{key:"_resetPending",value:function _resetPending(){var _this102=this;this.pending=true;this.receiveOnce(this._setDataSignal,function(){_this102.pending=false})}},{key:"_getOrderBook",value:function _getOrderBook(){var _this103=this;return waves.matcher.getOrderBook(this._assetIdPair.amount,this._assetIdPair.price).then(function(orderBook){return _this103._cutOffOutlyingOrdersIfNecessary(orderBook)}).then(TradeGraph._buildCumulativeOrderBook).then(function(data){_this103.loadingError=false;return data}).catch(function(){_this103.loadingError=true;_this103.pending=false;$scope.$apply()})}},{key:"_setOrderBook",value:function _setOrderBook(orderBook){this._updateGraphAccordingToOrderBook(orderBook);this.data.asks=orderBook.asks;this.data.bids=orderBook.bids;this._setDataSignal.dispatch();$scope.$digest()}},{key:"_cutOffOutlyingOrdersIfNecessary",value:function _cutOffOutlyingOrdersIfNecessary(orderBook){if(TradeGraph._isLackOfAsks(orderBook)||TradeGraph._isLackOfBids(orderBook)){return orderBook}var filteredOrderBook=utils.filterOrderBookByCharCropRate({chartCropRate:this._chartCropRate,asks:orderBook.asks,bids:orderBook.bids});if(TradeGraph._areEitherAsksOrBids(filteredOrderBook)){return filteredOrderBook}return orderBook}},{key:"_updateGraphAccordingToOrderBook",value:function _updateGraphAccordingToOrderBook(orderBook){if(TradeGraph._areEitherAsksOrBids(orderBook)){this._prepareGraphForOrders(orderBook)}else{this._hideGraphAndShowStub()}return orderBook}},{key:"_prepareGraphForOrders",value:function _prepareGraphForOrders(orderBook){this._showGraphAndHideStub();if(TradeGraph._areEnoughAsks(orderBook)&&TradeGraph._areEnoughBids(orderBook)){this._setGraphToShowAsksAndBids()}if(TradeGraph._isLackOfAsks(orderBook)){this._setGraphToShowOnly(ORDERS_TYPES.bids)}if(TradeGraph._isLackOfBids(orderBook)){this._setGraphToShowOnly(ORDERS_TYPES.asks)}}},{key:"_showGraphAndHideStub",value:function _showGraphAndHideStub(){this.canShowGraph=true}},{key:"_setGraphToShowAsksAndBids",value:function _setGraphToShowAsksAndBids(){this._updateGraphSeriesOptions([SERIES_SETTINGS.asks,SERIES_SETTINGS.bids])}},{key:"_setGraphToShowOnly",value:function _setGraphToShowOnly(orderType){this._updateGraphSeriesOptions([SERIES_SETTINGS[orderType]])}},{key:"_hideGraphAndShowStub",value:function _hideGraphAndShowStub(){this._updateGraphSeriesOptions([]);this.canShowGraph=false}},{key:"_updateGraphSeriesOptions",value:function _updateGraphSeriesOptions(seriesOptions){this.options.series=seriesOptions}}],[{key:"_areEitherAsksOrBids",value:function _areEitherAsksOrBids(orderBook){return TradeGraph._areEnoughAsks(orderBook)||TradeGraph._areEnoughBids(orderBook)}},{key:"_areEnoughAsks",value:function _areEnoughAsks(orderBook){return!TradeGraph._isLackOfAsks(orderBook)}},{key:"_areEnoughBids",value:function _areEnoughBids(orderBook){return!TradeGraph._isLackOfBids(orderBook)}},{key:"_isLackOfAsks",value:function _isLackOfAsks(orderBook){return TradeGraph._isLackOf(orderBook,ORDERS_TYPES.asks)}},{key:"_isLackOfBids",value:function _isLackOfBids(orderBook){return TradeGraph._isLackOf(orderBook,ORDERS_TYPES.bids)}},{key:"_isLackOf",value:function _isLackOf(orderBook,ordersType){return orderBook[ordersType].length<THRESHOLD_VALUES[ordersType]}},{key:"_buildCumulativeOrderBook",value:function _buildCumulativeOrderBook(_ref73){var asks=_ref73.asks,bids=_ref73.bids;return{asks:TradeGraph._buildCumulativeOrderList(asks),bids:TradeGraph._buildCumulativeOrderList(bids)}}},{key:"_buildCumulativeOrderList",value:function _buildCumulativeOrderList(list){var _this104=this;var amount=new BigNumber(0);return list.reduce(function(result,item){amount=amount.plus(new BigNumber(item.amount));result.push({amount:Number(amount.toFixed(_this104._chartCropRate)),price:Number(item.price)});return result},[])}}]);return TradeGraph}(Base);return new TradeGraph};controller.$inject=["Base","utils","waves","createPoll","$scope"];angular.module("app.dex").component("wDexTradeGraph",{templateUrl:"modules/dex/directives/tradeGraph/tradeGraph.html",controller:controller})})();(function(){"use strict";var entities=require("@waves/data-entities");var R=require("ramda");var controller=function controller(Base,$scope,createPoll,user){var PAIR_COLUMN_DATA={id:"pair",valuePath:"item.pair",search:true,placeholder:"directives.filter"};var FEE_COLUMN_DATA={id:"fee",title:{literal:"directives.tradeHistory.tableTitle.fee"},valuePath:"item.userFee",sort:true};var HEADER_COLUMNS=[{id:"type",title:{literal:"directives.tradeHistory.tableTitle.type"},valuePath:"item.exchangeType",sort:true},{id:"time",title:{literal:"directives.tradeHistory.tableTitle.date"},valuePath:"item.timestamp",sort:true,sortActive:true,isAsc:false},{id:"price",title:{literal:"directives.tradeHistory.tableTitle.price"},valuePath:"item.price",sort:true},{id:"amount",title:{literal:"directives.tradeHistory.tableTitle.size"},valuePath:"item.amount",sort:true},{id:"total",title:{literal:"directives.tradeHistory.tableTitle.total"},valuePath:"item.total",sort:true}];var TradeHistory=function(_Base19){_inherits(TradeHistory,_Base19);function TradeHistory(){_classCallCheck(this,TradeHistory);var _this105=_possibleConstructorReturn(this,(TradeHistory.__proto__||Object.getPrototypeOf(TradeHistory)).call(this));_this105._assetIdPair=null;_this105.isMy=false;_this105.history=[];_this105.remapTransactions=TradeHistory._remapTxList();_this105.pending=true;_this105.isDemo=false;_this105.headers=[];_this105.syncSettings({_assetIdPair:"dex.assetIdPair"});return _this105}_createClass(TradeHistory,[{key:"$postLink",value:function $postLink(){this.headers=this.isMy?[PAIR_COLUMN_DATA].concat(HEADER_COLUMNS,FEE_COLUMN_DATA):HEADER_COLUMNS;this.isDemo=this.isMy&&!user.address;this._initializePoll();this.observe("_assetIdPair",this._onChangeAssets)}},{key:"isSelected",value:function isSelected(tx){return this._assetIdPair.amount===tx.amount.asset.id&&this._assetIdPair.price===tx.price.asset.id}},{key:"setPair",value:function setPair(tx){user.setSetting("dex.assetIdPair",{amount:tx.amount.asset.id,price:tx.price.asset.id})}},{key:"_initializePoll",value:function _initializePoll(){if(this.isMy&&this.isDemo){return null}this.poll=createPoll(this,this._getTradeHistory,this._setTradeHistory,1e3,{$scope:$scope})}},{key:"_onChangeAssets",value:function _onChangeAssets(){if(!this.isMy){this.pending=true;this.history=[];this.poll.restart()}}},{key:"_getTradeHistory",value:function _getTradeHistory(){return ds.api.transactions.getExchangeTxList(this._getTransactionsFilter()).then(this.remapTransactions)}},{key:"_setTradeHistory",value:function _setTradeHistory(history){this.pending=false;this.history=history}},{key:"_getTransactionsFilter",value:function _getTransactionsFilter(){if(this.isMy){return{sender:user.address}}return{amountAsset:this._assetIdPair.amount,priceAsset:this._assetIdPair.price}}}],[{key:"_remapTxList",value:function _remapTxList(){var filter=R.uniqBy(R.prop("id"));var map=R.map(TradeHistory._remapTx);return R.pipe(filter,map)}},{key:"_remapTx",value:function _remapTx(tx){var amount=function amount(tx){return tx.amount.asset.displayName};var price=function price(tx){return tx.price.asset.displayName};var fee=function fee(tx,order){return order.orderType==="sell"?tx.sellMatcherFee:tx.buyMatcherFee};var pair=amount(tx)+" / "+price(tx);var emptyFee=new entities.Money(0,tx.fee.asset);var userFee=[tx.order1,tx.order2].filter(function(order){return order.sender===user.address}).reduce(function(acc,order){return acc.add(fee(tx,order))},emptyFee);return _extends({},tx,{pair:pair,userFee:userFee})}}]);return TradeHistory}(Base);return new TradeHistory};controller.$inject=["Base","$scope","createPoll","user"];angular.module("app.dex").component("wDexTradeHistory",{bindings:{isMy:"<"},templateUrl:"modules/dex/directives/tradeHistory/tradeHistory.html",controller:controller})})();(function(){"use strict";var POLL_DELAY=400;var factory=function factory(utils,timeLine,symbolInfoService,waves){var CandlesService=function(){function CandlesService(){_classCallCheck(this,CandlesService);this._lastTime=0;this._subscriber=null}_createClass(CandlesService,[{key:"onReady",value:function onReady(callback){setTimeout(function(){return callback({supported_resolutions:WavesApp.dex.resolutions,supports_time:true,supports_marks:false,supports_timescale_marks:false})},0)}},{key:"resolveSymbol",value:function resolveSymbol(symbolName,resolve,reject){if(symbolName.match(/^DEX:/)){return}symbolInfoService.get(symbolName).then(resolve).catch(reject)}},{key:"getBars",value:function getBars(symbolInfo,resolution,from){var to=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Date.now()/1e3;var _this106=this;var onHistoryCallback=arguments[4];var onErrorCallback=arguments[5];console.log("symbolInfo :",symbolInfo);from=CandlesService.convertToMilliseconds(from);to=CandlesService.convertToMilliseconds(to);var handleCandles=function handleCandles(candles){candles=CandlesService.filterCandlesByTime(candles,from,to);if(candles.length){_this106._updateLastTime(candles);onHistoryCallback(candles)}else{onHistoryCallback([],{noData:true})}};CandlesService._getAndHandleCandles(symbolInfo,from,to,resolution,handleCandles,onErrorCallback)}},{key:"subscribeBars",value:function subscribeBars(symbolInfo,resolution,onRealtimeCallback,subscriberUID,onResetCacheNeededCallback){var _this107=this;this._subscriber=subscriberUID;var from=this._lastTime;var to=Date.now();var handleCandles=function handleCandles(candles){if(_this107._subscriber!==subscriberUID){return}_this107.subscribeBars(symbolInfo,resolution,onRealtimeCallback,subscriberUID,onResetCacheNeededCallback);if(candles.length){_this107._updateLastTime(candles);CandlesService.filterCandlesByTime(candles,from,to).forEach(onRealtimeCallback)}};timeLine.timeout(function(){CandlesService._getAndHandleCandles(symbolInfo,from,to,resolution,handleCandles)},POLL_DELAY)}},{key:"unsubscribeBars",value:function unsubscribeBars(subscriberUID){if(this._subscriber===subscriberUID){this._subscriber=null}}},{key:"_updateLastTime",value:function _updateLastTime(candles){var lastTime=candles[candles.length-1].time;if(this._lastTime>=lastTime){return false}this._lastTime=lastTime}}],[{key:"filterCandlesByTime",value:function filterCandlesByTime(){var candles=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var from=arguments[1];var to=arguments[2];return candles.filter(function(_ref74){var time=_ref74.time;return time<=to&&time>=from})}},{key:"_getAndHandleCandles",value:function _getAndHandleCandles(symbolInfo,from,to,resolution,handleCandles){var handleError=arguments.length>5&&arguments[5]!==undefined?arguments[5]:angular.noop;CandlesService._getCandles(symbolInfo,from,to,resolution).then(handleCandles).catch(handleError)}},{key:"_getCandles",value:function _getCandles(symbolInfo,from,to,resolution){from=from===0?1543656307e3:from;var amountId=symbolInfo._wavesData.amountAsset.id;var priceId=symbolInfo._wavesData.priceAsset.id;var priceIdAcryl=priceId.includes("DxTmLjoVh5Eos7VrX8JxzAFhDXLzo8pp7ugSxbWJATfy")?priceId.replace("DxTmLjoVh5Eos7VrX8JxzAFhDXLzo8pp7ugSxbWJATfy","8LQW8f7P5d5PZM7GtZEBgaqRPGSzS3DfPuiXrURJ4AJS"):priceId;var interval="3h";if(resolution){resolution=0}var path=WavesApp.network.api+"/"+WavesApp.network.apiVersion+"/candles/"+amountId+"/"+priceIdAcryl;var reqParams=path+"?timeStart="+from+"&timeEnd="+to+"&interval="+interval+"&oldVersion=true";return Promise.all([ds.fetch(reqParams),ds.api.pairs.get(amountId,priceId).then(function(pair){return waves.matcher.getLastPrice(pair)})]).then(function(_ref75){var _ref76=_slicedToArray(_ref75,2),res=_ref76[0],price=_ref76[1].price;var candles=res.candles;if(candles.length){candles[candles.length-1].close=Number(price.toTokens())}return candles})}},{key:"_normalizeInterval",value:function _normalizeInterval(interval){var char=interval.charAt(interval.length-1);return interval+(isNaN(+char)?"":"m")}},{key:"convertToMilliseconds",value:function convertToMilliseconds(seconds){return seconds*1e3}}]);return CandlesService}();return new CandlesService};factory.$inject=["utils","timeLine","symbolInfoService","waves"];angular.module("app.dex").factory("candlesService",factory)})();(function(){"use strict";var tsUtils=require("ts-utils");var factory=function factory(Base){var DexDataService=function(_Base20){_inherits(DexDataService,_Base20);function DexDataService(){_classCallCheck(this,DexDataService);var _this108=_possibleConstructorReturn(this,(DexDataService.__proto__||Object.getPrototypeOf(DexDataService)).call(this));_this108.chooseOrderBook=new tsUtils.Signal;_this108.showSpread=new tsUtils.Signal;_this108.createOrder=new tsUtils.Signal;return _this108}return DexDataService}(Base);return new DexDataService};factory.$inject=["Base"];angular.module("app.dex").factory("dexDataService",factory)})();(function(){"use strict";var DEFAULT_SYMBOL_INFO={session:"24x7",exchange:"DEX",listed_exchange:"DEX",timezone:"Europe/London",minmov:1,has_intraday:true,supported_resolutions:WavesApp.dex.resolutions,has_seconds:false,has_daily:false,has_weekly_and_monthly:false,has_empty_bars:true,force_session_rebuild:false,has_no_volume:false,data_status:"pulsed"};var factory=function factory(waves,decorators){var _dec12,_desc6,_value6,_class10;var SymbolInfoService=(_dec12=decorators.cachable(1440),_class10=function(){function SymbolInfoService(){_classCallCheck(this,SymbolInfoService)}_createClass(SymbolInfoService,[{key:"get",value:function get(symbolName){var _symbolName$split=symbolName.split("/"),_symbolName$split2=_slicedToArray(_symbolName$split,2),partOne=_symbolName$split2[0],partTwo=_symbolName$split2[1];if(!partOne||!partTwo){return Promise.reject()}else{return this._createSymbolInfo(partOne,partTwo)}}},{key:"_createSymbolInfo",value:function _createSymbolInfo(assetOneId,assetTwoId){return ds.api.pairs.get(assetOneId,assetTwoId).then(function(pair){var amount=pair.amountAsset;var price=pair.priceAsset;return Promise.all([waves.node.assets.getAsset(amount.id),waves.node.assets.getAsset(price.id)]).then(function(_ref77){var _ref78=_slicedToArray(_ref77,2),amountInfo=_ref78[0],priceInfo=_ref78[1];var amountName=amountInfo.ticker?amountInfo.ticker:amountInfo.name;var priceName=priceInfo.ticker?priceInfo.ticker:priceInfo.name;amountName=amountName==="WAVES"?"ACRYL":amountName;var ticker=amountInfo.id+"/"+priceInfo.id;var symbolName=amountName+"/"+priceName;return _extends({},DEFAULT_SYMBOL_INFO,{pricescale:Math.pow(10,price.precision),volume_precision:amount.precision,description:symbolName,name:symbolName,ticker:ticker,_wavesData:{amountAsset:amountInfo,priceAsset:priceInfo}})})})}}]);return SymbolInfoService}(),_applyDecoratedDescriptor(_class10.prototype,"_createSymbolInfo",[_dec12],Object.getOwnPropertyDescriptor(_class10.prototype,"_createSymbolInfo"),_class10.prototype),_class10);return new SymbolInfoService};factory.$inject=["waves","decorators"];angular.module("app.dex").factory("symbolInfoService",factory)})();(function(){"use strict";angular.module("app.import",[])})();(function(){"use strict";var controller=function controller(Base,$scope,modalManager,user){var ImportCtrl=function(_Base21){_inherits(ImportCtrl,_Base21);function ImportCtrl(){_classCallCheck(this,ImportCtrl);return _possibleConstructorReturn(this,(ImportCtrl.__proto__||Object.getPrototypeOf(ImportCtrl)).call(this,$scope))}_createClass(ImportCtrl,[{key:"importFromOld",value:function importFromOld(){modalManager.showImportAccountsModal()}},{key:"backState",value:function backState(){return user.getLastState()}}]);return ImportCtrl}(Base);return new ImportCtrl};controller.$inject=["Base","$scope","modalManager","user"];angular.module("app.import").controller("ImportCtrl",controller)})();(function(){"use strict";angular.module("app.keeper",[])})();(function(){"use strict";var controller=function controller(Base,$scope,user){var signatureAdapter=require("@waves/signature-adapter");var KeeperCtrl=function(_Base22){_inherits(KeeperCtrl,_Base22);function KeeperCtrl(){_classCallCheck(this,KeeperCtrl);var _this110=_possibleConstructorReturn(this,(KeeperCtrl.__proto__||Object.getPrototypeOf(KeeperCtrl)).call(this,$scope));_this110.isInit=false;_this110.noKeeper=false;_this110.noKeeperPermission=false;_this110.noKeeperAccounts=false;_this110.incorrectKeeperNetwork=false;_this110.lockedKeeper=false;_this110.adapter=signatureAdapter.WavesKeeperAdapter;_this110.loading=false;_this110.error=false;_this110.selectedUser=null;_this110.saveUserData=true;_this110.name="";_this110.getUsers();_this110.adapter.onUpdate(function(){_this110.getUsers()});return _this110}_createClass(KeeperCtrl,[{key:"isAvilableAdapter",value:function isAvilableAdapter(){return this.adapter.isAvailable()}},{key:"onError",value:function onError(error){var code=error.code;switch(code){case 0:this.noKeeper=true;break;case 1:this.noKeeperPermission=true;break;case 2:this.noKeeperAccounts=true;break;case 3:this.incorrectKeeperNetwork=true;break;case"locked":this.lockedKeeper=true;break;default:}this.error=true}},{key:"getUsers",value:function getUsers(){var _this111=this;this.loading=true;this.error=false;this.noKeeper=false;this.noKeeperPermission=false;this.noKeeperAccounts=false;this.incorrectKeeperNetwork=false;this.lockedKeeper=false;this.isAvilableAdapter().then(function(){return _this111.adapter.getUserList()}).then(function(_ref79){var _ref80=_slicedToArray(_ref79,1),user=_ref80[0];if(!user){return Promise.reject({code:"locked"})}_this111.selectedUser=user;delete _this111.selectedUser.type}).catch(function(e){return _this111.onError(e)}).finally(function(){_this111.isInit=true;_this111.loading=false;$scope.$apply()})}},{key:"login",value:function login(){var _this112=this;var userSettings=user.getDefaultUserSettings({termsAccepted:false});var newUser=_extends({},this.selectedUser,{userType:this.adapter.type,settings:userSettings,saveToStorage:this.saveUserData});var api=ds.signature.getDefaultSignatureApi(newUser);return user.create(_extends({},newUser,{settings:userSettings.getSettings(),api:api}),true,true).catch(function(){_this112.error=true;$scope.$digest()})}}]);return KeeperCtrl}(Base);return new KeeperCtrl};controller.$inject=["Base","$scope","user"];angular.module("app.keeper").controller("KeeperCtrl",controller)})();(function(){"use strict";angular.module("app.ledger",[])})();(function(){"use strict";var signatureAdapter=require("@waves/signature-adapter");var USERS_COUNT=5;var PRELOAD_USERS_COUNT=5;var controller=function controller(Base,$scope,user,modalManager){var LedgerCtrl=function(_Base23){_inherits(LedgerCtrl,_Base23);function LedgerCtrl(){_classCallCheck(this,LedgerCtrl);var _this113=_possibleConstructorReturn(this,(LedgerCtrl.__proto__||Object.getPrototypeOf(LedgerCtrl)).call(this,$scope));_this113.adapter=signatureAdapter.LedgerAdapter;_this113.loading=false;_this113.error=false;_this113.users=[];_this113.visibleUsers=[];_this113.selectedUser=null;_this113.currentStep=0;_this113.isInit=false;_this113.disabledLogin=true;_this113.disabledRight=true;_this113.disabledLeft=true;_this113.selectDefault=false;_this113.saveUserData=true;_this113.name="";_this113._runLedgerCommand="";_this113.observe("selectDefault",_this113._onChangeSelectDefault);_this113.getUsers(PRELOAD_USERS_COUNT);return _this113}_createClass(LedgerCtrl,[{key:"getUsers",value:function getUsers(count){var _this114=this;this._runLedgerCommand="getUsers";this.loading=true;this.error=false;var start=this.users.length;var end=start+(count||USERS_COUNT)-1;var promise=this.adapter.getUserList(start,end);var modalPromise=this.isInit?Promise.resolve():modalManager.showSignByDevice({promise:promise,mode:"connect-ledger",userType:this.adapter.type});Promise.all([promise,modalPromise]).then(function(_ref81){var _ref82=_slicedToArray(_ref81,1),users=_ref82[0];_this114.isInit=true;_this114.users=[].concat(_toConsumableArray(_this114.users),_toConsumableArray(users));_this114.loading=false;_this114.error=false;_this114.showVisibleUsers();_this114.selectUser();$scope.$digest()},function(){var err=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var error=_extends({},err,{count:count});_this114.loading=false;_this114.error=error;$scope.$digest();throw error})}},{key:"retryGetUsers",value:function retryGetUsers(){this[this._runLedgerCommand](this.error&&this.error.count)}},{key:"selectUser",value:function selectUser(user){if(this.selectDefault){return null}if(!user&&!this.selectedUser&&this.users.length){this.selectedUser=this.users[0]}else if(user){this.selectedUser=user}this._calculateDisabled()}},{key:"stepLeft",value:function stepLeft(){if(this.selectDefault){return}this.currentStep--;this.currentStep=this.currentStep>=0?this.currentStep:0;this.showVisibleUsers();this._calculateDisabled()}},{key:"stepRight",value:function stepRight(){if(this.selectDefault){return}if(this.users.length<=this.currentStep+USERS_COUNT){if(this.loading){return}this.currentStep++;this.getUsers();this._calculateDisabled()}else{this.currentStep++;this.showVisibleUsers();this._calculateDisabled()}}},{key:"showVisibleUsers",value:function showVisibleUsers(){this.visibleUsers=this.users.slice(this.currentStep,this.currentStep+USERS_COUNT)}},{key:"login",value:function login(){var _this115=this;this._runLedgerCommand="login";var userSettings=user.getDefaultUserSettings({termsAccepted:false});var newUser=_extends({},this.selectedUser,{userType:this.adapter.type,name:this.name,settings:userSettings,saveToStorage:this.saveUserData});this._calculateDisabled(true);var api=ds.signature.getDefaultSignatureApi(newUser);return user.create(_extends({},newUser,{settings:userSettings.getSettings(),api:api}),true,true).catch(function(){_this115.error=true;$scope.$digest()})}},{key:"isUserDisable",value:function isUserDisable(index){return index!==0&&this.selectDefault}},{key:"_calculateDisabled",value:function _calculateDisabled(disable){this.disabledLogin=disable||this.loading||!this.selectedUser;this.disabledRight=disable||this.selectDefault||this.loading;this.disabledLeft=disable||this.selectDefault||this.currentStep===0}},{key:"_onChangeSelectDefault",value:function _onChangeSelectDefault(){if(this.selectDefault){this.currentStep=0;this.selectedUser=this.users[0]}this._calculateDisabled();this.showVisibleUsers()}}]);return LedgerCtrl}(Base);return new LedgerCtrl};controller.$inject=["Base","$scope","user","modalManager"];angular.module("app.ledger").controller("LedgerCtrl",controller)})();(function(){"use strict";angular.module("app.restore",[])})();(function(){"use strict";var controller=function controller(Base,$scope,user,utils,modalManager){var RestoreCtrl=function(_Base24){_inherits(RestoreCtrl,_Base24);function RestoreCtrl(){_classCallCheck(this,RestoreCtrl);var _this116=_possibleConstructorReturn(this,(RestoreCtrl.__proto__||Object.getPrototypeOf(RestoreCtrl)).call(this,$scope));_this116.seedForm=null;_this116.address="";_this116.seed="";_this116.name="";_this116.encryptedSeed="";_this116.password="";_this116.restoreType="";_this116.saveUserData=true;_this116.activeStep=0;_this116.observe("seed",_this116._onChangeSeed);_this116.observeOnce("seedForm",function(){_this116.receive(utils.observe(_this116.seedForm,"$valid"),_this116._onChangeSeed,_this116)});return _this116}_createClass(RestoreCtrl,[{key:"showTutorialModals",value:function showTutorialModals(){return modalManager.showTutorialModals()}},{key:"restore",value:function restore(){if(!this.saveUserData){this.password=Date.now().toString()}var encryptedSeed=new ds.Seed(this.seed).encrypt(this.password);var userSettings=user.getDefaultUserSettings({termsAccepted:false});var newUser={userType:this.restoreType,address:this.address,name:this.name,password:this.password,id:this.userId,path:this.userPath,settings:userSettings,saveToStorage:this.saveUserData,encryptedSeed:encryptedSeed};var api=ds.signature.getDefaultSignatureApi(newUser);return user.create(_extends({},newUser,{settings:userSettings.getSettings(),api:api}),true,true)}},{key:"resetNameAndPassword",value:function resetNameAndPassword(){this.name="";this.password=""}},{key:"nextStep",value:function nextStep(){if(!this.saveUserData){return this.restore()}this.activeStep++}},{key:"importAccounts",value:function importAccounts(){return modalManager.showImportAccountsModal()}},{key:"_onChangeSeed",value:function _onChangeSeed(){if(this.seedForm.$valid){this.address=new ds.Seed(this.seed).address}else{this.address=""}}}]);return RestoreCtrl}(Base);return new RestoreCtrl};controller.$inject=["Base","$scope","user","utils","modalManager"];angular.module("app.restore").controller("RestoreCtrl",controller)})();(function(){"use strict";angular.module("app.sessions",[])})();(function(){"use strict";var controller=function controller(Base,$scope,sessionBridge){var SessionsCtrl=function(_Base25){_inherits(SessionsCtrl,_Base25);function SessionsCtrl(){_classCallCheck(this,SessionsCtrl);var _this117=_possibleConstructorReturn(this,(SessionsCtrl.__proto__||Object.getPrototypeOf(SessionsCtrl)).call(this,$scope));_this117.sessions=sessionBridge.getSessionsData();_this117.receive(sessionBridge.signals.changeSessions,function(sessions){_this117.sessions=sessions;$scope.$digest()});return _this117}_createClass(SessionsCtrl,[{key:"chooseSession",value:function chooseSession(session){sessionBridge.login(session.id)}}]);return SessionsCtrl}(Base);return new SessionsCtrl};controller.$inject=["Base","$scope","sessionBridge"];angular.module("app.sessions").controller("SessionsCtrl",controller)})();(function(){"use strict";angular.module("app.templates",[])})();(function(){"use strict";angular.module("app.tokens",[])})();(function(){"use strict";var controller=function controller(Base,$scope,modalManager,createPoll,waves){var _require12=require("@waves/signature-adapter"),SIGN_TYPE=_require12.SIGN_TYPE;var ds=require("data-service");var TokensCtrl=function(_Base26){_inherits(TokensCtrl,_Base26);function TokensCtrl(){_classCallCheck(this,TokensCtrl);var _this118=_possibleConstructorReturn(this,(TokensCtrl.__proto__||Object.getPrototypeOf(TokensCtrl)).call(this,$scope));_this118.createForm=null;_this118.name="";_this118.description="";_this118.issue=true;_this118.count=null;_this118.precision=null;_this118.maxCoinsCount=null;_this118.invalid=false;_this118._balance=null;_this118._fee=null;var poll=createPoll(_this118,_this118._getBalance,"_balance",5e3,{isBalance:true,$scope:$scope});_this118.observe("precision",_this118._onChangePrecision);Promise.all([waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.ISSUE}),poll.ready]).then(function(_ref83){var _ref84=_slicedToArray(_ref83,1),money=_ref84[0];_this118._fee=money;_this118.observe(["_balance","_fee"],_this118._onChangeBalance);_this118._onChangeBalance();$scope.$digest()});return _this118}_createClass(TokensCtrl,[{key:"generate",value:function generate(signable){var _this119=this;return modalManager.showConfirmTx(signable).then(function(){return _this119._reset()})}},{key:"createSignable",value:function createSignable(){var precision=Number(this.precision.toString());var quantity=this.count.times(Math.pow(10,precision));var tx=waves.node.transactions.createTransaction({type:SIGN_TYPE.ISSUE,name:this.name,description:this.description,reissuable:this.issue,quantity:quantity,precision:precision,fee:this._fee,createToken:true});return ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx})}},{key:"_getBalance",value:function _getBalance(){return waves.node.assets.balance(WavesApp.defaultAssets.WAVES)}},{key:"_onChangePrecision",value:function _onChangePrecision(_ref85){var value=_ref85.value;if(value&&value.lte(8)){this.maxCoinsCount=WavesApp.maxCoinsCount.div(Math.pow(10,Number(value)))}}},{key:"_onChangeBalance",value:function _onChangeBalance(){this.invalid=!this._fee||!this._balance||this._balance.available.getTokens().lt(this._fee.getTokens())}},{key:"_reset",value:function _reset(){this.name="";this.description="";this.issue=true;this.count=null;this.precision=null;this.maxCoinsCount=null;this.createForm.$setPristine();this.createForm.$setUntouched()}}]);return TokensCtrl}(Base);return new TokensCtrl};controller.$inject=["Base","$scope","modalManager","createPoll","waves"];angular.module("app.tokens").controller("TokensCtrl",controller)})();(function(){"use strict";angular.module("app.ui",[])})();(function(){"use strict";angular.module("app.ui").component("wAction",{require:{parent:"^wActions"},scope:false,template:'<div class="action disabled-900 body-2" ng-click="$ctrl.parent.onClick()" ng-transclude></div>',transclude:true})})();(function(){"use strict";var COLLAPSE_DELAY=900;var controller=function controller(Base,$timeout,$element,$scope){var Actions=function(_Base27){_inherits(Actions,_Base27);function Actions(){_classCallCheck(this,Actions);var _this120=_possibleConstructorReturn(this,(Actions.__proto__||Object.getPrototypeOf(Actions)).call(this));_this120.expanded=false;_this120.collapseTimer=null;_this120.DROP_DOWN_CLASS="actions-container";_this120.openUp=false;_this120._handler=function(e){if($(e.target).closest($element).length===0){_this120.close()}};_this120.observe("expanded",function(){if(_this120.expanded){$(document).on("mousedown",_this120._handler)}else{$(document).off("mousedown",_this120._handler)}});return _this120}_createClass(Actions,[{key:"$onDestroy",value:function $onDestroy(){_get(Actions.prototype.__proto__||Object.getPrototypeOf(Actions.prototype),"$onDestroy",this).call(this);$(document).off("mousedown",this._handler)}},{key:"toggleActions",value:function toggleActions(){var _this121=this;this.expanded=!this.expanded;if(!this.expanded){this.openUp=false;return}requestAnimationFrame(function(){var dropDown=$element[0].querySelector("."+_this121.DROP_DOWN_CLASS)||{getBoundingClientRect:function getBoundingClientRect(){return{bottom:0}}};_this121.setActionsOpeningStyle(dropDown);_this121.preventBlink(dropDown)})}},{key:"setActionsOpeningStyle",value:function setActionsOpeningStyle(dropDown){var _this122=this;setTimeout(function(){var dropDownPosition=dropDown.getBoundingClientRect();var bodyPosition=document.body.getBoundingClientRect();if(dropDownPosition.bottom>bodyPosition.bottom){_this122.openUp=true;$scope.$digest()}},0)}},{key:"preventBlink",value:function preventBlink(dropDown){dropDown.style.visibility="hidden";setTimeout(function(){dropDown.style.visibility=""},0)}},{key:"onClick",value:function onClick(){var _this123=this;$timeout(function(){_this123.close()},0)}},{key:"onMouseLeave",value:function onMouseLeave(){var _this124=this;this.collapseTimer=$timeout(function(){_this124.close()},COLLAPSE_DELAY)}},{key:"onMouseEnter",value:function onMouseEnter(){$timeout.cancel(this.collapseTimer)}},{key:"close",value:function close(){this.expanded=false;this.openUp=false}}]);return Actions}(Base);return new Actions};controller.$inject=["Base","$timeout","$element","$scope"];angular.module("app.ui").component("wActions",{bindings:{},templateUrl:"modules/ui/directives/actions/actions.html",transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$scope,waves){var _class13,_temp;var _require13=require("ramda"),head=_require13.head;var _require14=require("@waves/signature-adapter"),SIGN_TYPE=_require14.SIGN_TYPE;var _require15=require("@waves/data-entities"),Money=_require15.Money;var ds=require("data-service");var AnyTransactionForm=(_temp=_class13=function(_Base28){_inherits(AnyTransactionForm,_Base28);function AnyTransactionForm(){_classCallCheck(this,AnyTransactionForm);var _this125=_possibleConstructorReturn(this,(AnyTransactionForm.__proto__||Object.getPrototypeOf(AnyTransactionForm)).call(this));_this125.state=Object.create(null);_this125.json="";_this125.onSuccess=null;_this125.isValidJSON=true;_this125.signable=null;_this125.observe("json",_this125._onChangeJSON);_this125.observe("state",_this125._onChangeState);return _this125}_createClass(AnyTransactionForm,[{key:"next",value:function next(){this.onSuccess({signable:this.signable})}},{key:"_onChangeState",value:function _onChangeState(){var state=this.state;if(!state.tx){state.tx=Object.create(null)}else if(state.tx){try{this.json=WavesApp.stringifyJSON(this.state.tx,null,4)}catch(e){this.json=""}}}},{key:"_onChangeJSON",value:function _onChangeJSON(){var _this126=this;this.isValidJSON=false;var json=this.json;this.fee=null;if(!this.json){this.isValidJSON=true;return null}WavesApp.parseJSON(json).then(function(data){return _this126._updateSignable(data).then(function(){_this126.state.tx=data;_this126.isValidJSON=true})}).catch(function(){_this126.state.tx=null;_this126.isValidJSON=false}).then(function(){$scope.$apply()})}},{key:"_updateSignable",value:function _updateSignable(data){var _this127=this;if(!data){return Promise.resolve(null)}var clone=Object.keys(data).reduce(function(acc,name){var value=AnyTransactionForm._normalizeValue(data[name]);acc[name]=value;return acc},Object.create(null));return Promise.all([ds.api.transactions.parseTx([clone]).then(head),AnyTransactionForm._loadTxData(clone)]).then(function(_ref86){var _ref87=_slicedToArray(_ref86,2),data=_ref87[0],lease=_ref87[1];_this127.fee=data.fee;if(data.type===SIGN_TYPE.SET_SCRIPT&&!data.script){data.script=""}try{_this127.signable=ds.signature.getSignatureApi().makeSignable({type:data.type,data:_extends({},data,lease)})}catch(e){return Promise.reject(e)}})}}],[{key:"_loadTxData",value:function _loadTxData(tx){switch(tx.type){case SIGN_TYPE.CANCEL_LEASING:return waves.node.transactions.get(tx.leaseId).then(function(lease){return{lease:lease}});case SIGN_TYPE.BURN:return waves.node.assets.getAsset(tx.assetId).then(function(asset){return{amount:new Money(tx.quantity,asset)}});default:return Promise.resolve(Object.create(null))}}}]);return AnyTransactionForm}(Base),_class13._normalizeValue=function(value){if(value==="true"){return true}if(value==="false"){return false}var num=Number(value);return String(num)===value?num:value},_temp);return new AnyTransactionForm};controller.$inject=["Base","$scope","waves"];angular.module("app.ui").component("wAnyTransactionForm",{controller:controller,scope:false,bindings:{state:"=",onSuccess:"&"},templateUrl:"modules/ui/directives/anyTransactionForm/any-tx-form.html"})})();(function(){"use strict";var _ASSET_IMAGES_MAP;var ASSET_IMAGES_MAP=(_ASSET_IMAGES_MAP={},_defineProperty(_ASSET_IMAGES_MAP,WavesApp.defaultAssets.WAVES,"img/assets/waves.svg"),_defineProperty(_ASSET_IMAGES_MAP,WavesApp.defaultAssets.BTC,"img/assets/bitcoin.svg"),_ASSET_IMAGES_MAP);var ds=require("data-service");var COLORS_MAP={A:"#39a12c",B:"#6a737b",C:"#e49616",D:"#008ca7",E:"#ff5b38",F:"#ff6a00",G:"#c74124",H:"#00a78e",I:"#b01e53",J:"#e0c61b",K:"#f6bd6c",L:"#72b7d2",M:"#a5b5c3",N:"#81c926",O:"#86a3bd",P:"#c1d82f",Q:"#5c84a8",R:"#267e1b",S:"#fbb034",T:"#ff846a",U:"#47c1ff",V:"#00a0af",W:"#85d7c6",X:"#8a7967",Y:"#26c1c9",Z:"#72d28b"};var DEFAULT_COLOR="#96bca0";var controller=function controller(Base,$element,utils,waves){var AssetLogo=function(_Base29){_inherits(AssetLogo,_Base29);function AssetLogo(){_classCallCheck(this,AssetLogo);var _this128=_possibleConstructorReturn(this,(AssetLogo.__proto__||Object.getPrototypeOf(AssetLogo)).call(this));_this128.assetId=null;_this128.assetName=null;_this128.size=null;return _this128}_createClass(AssetLogo,[{key:"$postLink",value:function $postLink(){var _this129=this;if(!this.size||!(this.assetName||this.assetId)){throw new Error("Wrong params!")}var canPayFee=!!ds.utils.getTransferFeeList().find(function(money){return money.asset.id===_this129.assetId});$element.toggleClass("sponsored-asset",this.assetId!=="WAVES"&&canPayFee);$element.find(".asset__logo").css({width:this.size+"px",height:this.size+"px"});this._addLogo()}},{key:"_addLogo",value:function _addLogo(){var _this130=this;if(this.assetId){var data=ds.dataManager.getOracleAssetData(this.assetId);if(data&&data.logo){$element.find(".asset__logo").addClass("custom").css("backgroundImage","url("+data.logo+")");return null}waves.node.assets.getAsset(this.assetId).then(function(asset){if(ASSET_IMAGES_MAP[asset.id]){utils.loadImage(ASSET_IMAGES_MAP[asset.id]).then(function(){$element.find(".asset__logo").css("backgroundImage","url("+ASSET_IMAGES_MAP[asset.id]+")")}).catch(function(){return _this130._addLetter(asset.name)})}else{_this130._addLetter(asset.name)}})}else{this.observe("assetName",function(){return _this130._addLetter(_this130.assetName)});this._addLetter(this.assetName)}}},{key:"_addLetter",value:function _addLetter(name){var letter=name.charAt(0).toUpperCase();var color=COLORS_MAP[letter]||DEFAULT_COLOR;var fontSize=Math.round((Number(this.size)||0)*.43);$element.find(".asset__logo").css({"background-color":color});$element.find(".asset__logo .letter").text(letter).css({"font-size":fontSize+"px"});$element.find(".asset__logo .marker").css({"background-color":color})}}]);return AssetLogo}(Base);return new AssetLogo};controller.$inject=["Base","$element","utils","waves"];angular.module("app.ui").component("wAssetLogo",{template:'<div class="asset__logo footnote-3"><div class="letter"></div><div class="marker"></div></div>',controller:controller,bindings:{assetId:"@",assetName:"<",size:"@"}})})();(function(){"use strict";var controller=function controller(Base,createPoll,waves,utils,user){var AssetRateChart=function(_Base30){_inherits(AssetRateChart,_Base30);function AssetRateChart(){_classCallCheck(this,AssetRateChart);var _this131=_possibleConstructorReturn(this,(AssetRateChart.__proto__||Object.getPrototypeOf(AssetRateChart)).call(this));_this131.options={grid:{x:false,y:false},margin:{top:0,right:0,left:0,bottom:0},series:[{dataset:"values",key:"rate",label:"Rate",color:"#f6bd6c",type:["line","area"]}],axes:{x:{key:"timestamp",type:"date",ticks:4}}};_this131.startFrom=null;_this131.assetId=null;_this131.chartToId=null;_this131.noUpdate=null;_this131._poll=null;_this131._setThemSettings();return _this131}_createClass(AssetRateChart,[{key:"$postLink",value:function $postLink(){this.observe("noUpdate",this._onChangeNoUpdate);this.observe(["assetId","chartToId","startFrom"],this._onChangeMainParams);this.observe("theme",this._setThemSettings);this.syncSettings({theme:"theme"});var noUpdate=this.noUpdate;if(noUpdate){this._onChangeMainParams()}else{this._poll=this._createPoll()}}},{key:"_setThemSettings",value:function _setThemSettings(){var _user$getThemeSetting=user.getThemeSettings(),wAssetRateChart=_user$getThemeSetting.wAssetRateChart;this.options=_extends({},this.options);this.options.series[0]=_extends({},this.options.series[0],{color:wAssetRateChart.seriesColor})}},{key:"_onChangeNoUpdate",value:function _onChangeNoUpdate(){var noUpdate=this.noUpdate;if(noUpdate&&!this._poll){this._poll=this._createPoll()}if(!noUpdate&&this._poll){this._poll.destroy();this._poll=null}}},{key:"_onChangeMainParams",value:function _onChangeMainParams(){var _this132=this;if(this._poll){this._poll.restart()}else{this._getGraphData().then(function(values){_this132.chartData=values})}}},{key:"_getGraphData",value:function _getGraphData(){var startDate=this.startFrom||utils.moment().add().day(-100);var assetId=this.assetId;var baseAssetId=this.chartToId||user.getSetting("baseAssetId");if(!assetId||baseAssetId===assetId){return Promise.resolve(null)}return waves.utils.getRateHistory(assetId,baseAssetId,startDate).then(function(values){return{values:values}})}},{key:"_createPoll",value:function _createPoll(){return createPoll(this,this._getGraphData,"chartData",15e3)}}]);return AssetRateChart}(Base);return new AssetRateChart};controller.$inject=["Base","createPoll","waves","utils","user"];angular.module("app.ui").component("wAssetRateChart",{bindings:{startFrom:"<",assetId:"<",noUpdate:"<",chartToId:"<"},template:'<linechart ng-if="$ctrl.chartData" options="$ctrl.options" data="$ctrl.chartData"></linechart>',transclude:false,controller:controller})})();(function(){"use strict";angular.module("app.ui").directive("wAutofocus",function(){return{restrict:"A",link:function link($scope,$element){var tagName=$element.get(0).tagName.toLowerCase();if(tagName==="input"||tagName==="textarea"){setTimeout(function(){$element.focus()},100)}}}})})();(function(){"use strict";var ds=require("data-service");var controller=function controller(Base,$q,$scope,user){var Avatar=function(_Base31){_inherits(Avatar,_Base31);function Avatar(){var _ref88;var _temp2,_this133,_ret;_classCallCheck(this,Avatar);for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}return _ret=(_temp2=(_this133=_possibleConstructorReturn(this,(_ref88=Avatar.__proto__||Object.getPrototypeOf(Avatar)).call.apply(_ref88,[this].concat(args))),_this133),_this133.hasScript=false,_this133.size=null,_this133.address=null,_this133.src=null,_temp2),_possibleConstructorReturn(_this133,_ret)}_createClass(Avatar,[{key:"$postLink",value:function $postLink(){var _this134=this;this.style={width:this.size+"px",height:this.size+"px"};this.receive(user.changeScript,function(){_this134.hasScript=user.hasScript();$scope.$apply()})}},{key:"$onChanges",value:function $onChanges(){var _this135=this;if(!this.size){this.size=67}if(this.address){ds.fetch(ds.config.get("node")+"/addresses/scriptInfo/"+this.address).then(function(data){_this135.hasScript=!!data.script;$scope.$apply()});$q(function(resolve){resolve(identityImg.create(_this135.address,{size:_this135.size*3}))}).then(function(data){_this135.src=data})}else{this.hasScript=false}}}]);return Avatar}(Base);return new Avatar};controller.$inject=["Base","$q","$scope","user"];angular.module("app.ui").component("wAvatar",{bindings:{size:"@",address:"<"},controller:controller,templateUrl:"modules/ui/directives/avatar/avatar.html"})})();(function(){"use strict";var controller=function controller(Base){var Balance=function(_Base32){_inherits(Balance,_Base32);function Balance(){_classCallCheck(this,Balance);var _this136=_possibleConstructorReturn(this,(Balance.__proto__||Object.getPrototypeOf(Balance)).call(this));_this136.money=null;_this136.tokens=null;_this136.observe("money",_this136._onChangeMoney,{set:function set(val){return val||null}});return _this136}_createClass(Balance,[{key:"_onChangeMoney",value:function _onChangeMoney(_ref89){var value=_ref89.value;if(value){this.tokens=value.getTokens()}else{this.tokens=null}}}]);return Balance}(Base);return new Balance};controller.$inject=["Base"];var attrs=['w-nice-number="$ctrl.tokens"','short-mode="$ctrl.shortMode"','precision="$ctrl.money.asset.precision"'];angular.module("app.ui").component("wBalance",{template:"<span "+attrs.join(" ")+"></span>",bindings:{money:"<",shortMode:"<"},controller:controller})})();(function(){"use strict";var controller=function controller(Base,waves,$attrs,utils){var BalanceInput=function(_Base33){_inherits(BalanceInput,_Base33);function BalanceInput(){_classCallCheck(this,BalanceInput);var _this137=_possibleConstructorReturn(this,(BalanceInput.__proto__||Object.getPrototypeOf(BalanceInput)).call(this));_this137.name=null;_this137.focus=false;_this137.amount=null;_this137.assetId=null;_this137.maxBalance=null;_this137.fee=null;_this137.realMaxBalance=null;_this137.fillMax=null;_this137.observe("assetId",_this137._onChangeAssetId);_this137.observe(["fee","maxBalance"],_this137._setMaxBalance);_this137.observe("focus",function(){if(_this137.focus){_this137.onFocus()}else{_this137.onBlur()}});return _this137}_createClass(BalanceInput,[{key:"$postLink",value:function $postLink(){if(!this.name){throw new Error("Has no name for input!")}}},{key:"fillMaxClick",value:function fillMaxClick(){if($attrs.fillMax){this.fillMax();return null}if(this.maxBalance){var feeHash=utils.groupMoney(utils.toArray(this.fee));var amount=null;if(feeHash[this.assetId]){amount=this.maxBalance.sub(feeHash[this.assetId])}else{amount=this.maxBalance}if(amount.getTokens().lt(0)){this.amount=this.maxBalance.cloneWithTokens("0")}else{this.amount=amount}}}},{key:"_setMaxBalance",value:function _setMaxBalance(){if(this.fee&&this.maxBalance){var feeList=utils.toArray(this.fee);var feeHash=utils.groupMoney(feeList);if(feeHash[this.maxBalance.asset.id]){var max=this.maxBalance.sub(feeHash[this.maxBalance.asset.id]);if(max.getTokens().lt(0)){this.realMaxBalance=this.maxBalance.cloneWithTokens("0")}else{this.realMaxBalance=max}}else{this.realMaxBalance=this.maxBalance}}else{this.realMaxBalance=this.maxBalance}}},{key:"_onChangeAssetId",value:function _onChangeAssetId(){var _this138=this;if(!this.assetId){return null}ds.moneyFromTokens("0",this.assetId).then(function(money){_this138.asset=money.asset==="WAVES"?"ACRYL":money.asset;if(!_this138.amount){_this138.amount=money}})}}]);return BalanceInput}(Base);return new BalanceInput};controller.$inject=["Base","waves","$attrs","utils"];angular.module("app.ui").component("wBalanceInput",{bindings:{name:"@",inputClasses:"@",fillMax:"&",onFocus:"&",onBlur:"&",amount:"=",assetId:"<",maxBalance:"<",fee:"<",min:"<",disabled:"<"},scope:false,templateUrl:"modules/ui/directives/balanceInput/balanceInput.html",controller:controller})})();(function(){"use strict";var DEFAULT_PENDING_TIME=700;var module=angular.module("app.ui");var controller=function controller(Base,$element,$attrs,utils,createPromise,$scope){var SYNC_ATTRS=["type","class"];var Button=function(_Base34){_inherits(Button,_Base34);function Button(){_classCallCheck(this,Button);var _this139=_possibleConstructorReturn(this,(Button.__proto__||Object.getPrototypeOf(Button)).call(this));_this139._disabled=false;_this139._pending=false;_this139._canClick=true;_this139._$button=null;if($element.attr("ng-click")){throw new Error("Wrong use w-button component! Use on-click!")}_this139.observe(["_disabled","_pending"],_this139._currentCanClick);_this139.observe("_pending",_this139._togglePendingClass);_this139.observe("_canClick",utils.debounceRequestAnimationFrame(_this139._onChangeDisabled));return _this139}_createClass(Button,[{key:"$postLink",value:function $postLink(){var _this140=this;this._$button=$element.find("button:first");SYNC_ATTRS.forEach(function(name){if(name in $attrs){_this140._$button.attr(name,$attrs[name])}});$element.get(0).addEventListener("click",function(e){if(!_this140._canClick){e.stopPropagation();e.preventDefault();e.stopImmediatePropagation()}else{var result=_this140.onClick({$event:e});_this140._applyClick(result);$scope.$apply()}},false)}},{key:"_currentCanClick",value:function _currentCanClick(){this._canClick=!(this._disabled||this._pending)}},{key:"_applyClick",value:function _applyClick(result){var _this141=this;this._pending=true;var onEnd=function onEnd(){if(_this141._pending){_this141._pending=false}else{throw new Error("Already drop pending state!")}};if(result&&typeof result.then==="function"){createPromise(this,result).then(onEnd,onEnd)}else{createPromise(this,utils.wait(DEFAULT_PENDING_TIME)).then(onEnd)}}},{key:"_togglePendingClass",value:function _togglePendingClass(){this._$button.toggleClass("pending",this._pending)}},{key:"_onChangeDisabled",value:function _onChangeDisabled(){this._$button.prop("disabled",!this._canClick)}}]);return Button}(Base);return new Button};controller.$inject=["Base","$element","$attrs","utils","createPromise","$scope"];module.component("wButton",{templateUrl:"modules/ui/directives/button/button.html",transclude:true,bindings:{_disabled:"<disabled",onClick:"&"},controller:controller})})();(function(){"use strict";var controller=function controller($element,$timeout,carouselManager){var Carousel=function(){function Carousel(){_classCallCheck(this,Carousel);this.length=null;this.id=null;this.interval=null;this.startFrom=null;this.timer=null;this.node=null;this.content=null}_createClass(Carousel,[{key:"$postLink",value:function $postLink(){var _this142=this;carouselManager.registerSlider(this.id,this);var start=Number(this.startFrom);this.interval=Number(this.interval)||0;this.node=$element.find(".slide-window:first");this.content=$element.find(".slider-content:first").children();this.length=this.content.length;if(start&&start>0&&start<this.length){this.active=start}else{this.active=0}$element.hover(function(){_this142.stopInterval()},function(){_this142.initializeInterval()});this.initializeInterval();this.content.eq(this.active).appendTo(this.node)}},{key:"$onDestroy",value:function $onDestroy(){carouselManager.removeSlider(this.id)}},{key:"getActive",value:function getActive(){return this.active}},{key:"goTo",value:function goTo(index){var _this143=this;if(index>=0&&index<this.length&&index!==this.active){var old=this.active;this.active=index;this.stopInterval();this._move(this.active,old).then(function(){_this143.initializeInterval()})}}},{key:"next",value:function next(){this.goTo(this.active+1)}},{key:"prev",value:function prev(){this.goTo(this.active-1)}},{key:"initializeInterval",value:function initializeInterval(){var _this144=this;if(this.interval){if(this.timer){this.stopInterval()}this.timer=$timeout(function(){return _this144._step()},this.interval)}}},{key:"stopInterval",value:function stopInterval(){if(this.interval&&this.timer){$timeout.cancel(this.timer);this.timer=null}}},{key:"_move",value:function _move(active,old){var direction=active>old;var $active=this.content.eq(active);var $old=this.content.eq(old);var collection=void 0;var targetLeft=void 0;if(direction){$active.css("left","100%");$old.css("left","0");this.node.append($active);collection=$old.add($active);targetLeft="-=100%"}else{$old.css("left","0");this.node.prepend($active);$active.css("left","-100%");collection=$active.add($old);targetLeft="+=100%"}return new Promise(function(resolve){collection.stop().animate({left:targetLeft},function(){$old.remove();$active.css("left","");resolve()})})}},{key:"_step",value:function _step(){if(this.active===this.length-1){this.goTo(0)}else{this.next()}}},{key:"_getLeft",value:function _getLeft(){return{left:100*this.active+"%"}}}]);return Carousel}();return new Carousel};controller.$inject=["$element","$timeout","carouselManager"];angular.module("app.ui").component("wCarousel",{transclude:true,bindings:{id:"@",interval:"@",startFrom:"@"},controller:controller,templateUrl:"modules/ui/directives/carousel/carousel.html"})})();(function(){"use strict";function controller(carouselManager){var CarouselDots=function(){function CarouselDots(){var _this145=this;_classCallCheck(this,CarouselDots);this.sliderId=null;this.dots=[];this.slider=null;this.$postLink=function(){_this145.slider=carouselManager.getSlider(_this145.sliderId).then(function(slider){_this145.slider=slider;_this145.initialize()})}}_createClass(CarouselDots,[{key:"initialize",value:function initialize(){var _this146=this;var loop=function loop(i){var dot=Object.create(null);dot.index=i;Object.defineProperty(dot,"active",{get:function get(){return _this146.slider.getActive()===i}});_this146.dots.push(dot)};for(var i=0;i<this.slider.length;i++){loop(i)}}},{key:"getClass",value:function getClass(dot){return dot.active?"active":""}},{key:"onClick",value:function onClick(dot){if(!dot.active){this.slider.goTo(dot.index)}}}]);return CarouselDots}();return new CarouselDots}controller.$inject=["carouselManager"];angular.module("app.ui").component("wCarouselDots",{transclude:true,bindings:{sliderId:"@"},controller:controller,templateUrl:"modules/ui/directives/carouselDots/dots.html"})})();(function(){"use strict";var controller=function controller(Base,$attrs,createPoll,$element,waves){var Change24=function(_Base35){_inherits(Change24,_Base35);function Change24(){_classCallCheck(this,Change24);var _this147=_possibleConstructorReturn(this,(Change24.__proto__||Object.getPrototypeOf(Change24)).call(this));_this147.assetFrom=null;_this147.assetTo=null;_this147.precision=null;_this147.interval=null;_this147.directionByPair=null;return _this147}_createClass(Change24,[{key:"$postLink",value:function $postLink(){var _this148=this;this.precision=Number(this.precision)||2;this.interval=Number(this.interval)||5e3;var handler=null;if($attrs.noUpdate){var apply=function apply(){var onFulfilled=_this148._setChange.bind(_this148);_this148._getChange().then(onFulfilled,onFulfilled)};apply();handler=apply}else{var poll=createPoll(this,this._getChange,this._setChange,this.interval);handler=function handler(){poll.restart()}}this.observe(["assetFrom","assetTo"],handler)}},{key:"_getChange",value:function _getChange(){if(this.assetFrom&&this.assetTo){if(this.directionByPair){return ds.api.pairs.get(this.assetFrom,this.assetTo).then(function(pair){return waves.utils.getChange(pair.amountAsset.id,pair.priceAsset.id)})}return waves.utils.getChange(this.assetFrom,this.assetTo)}else{return Promise.resolve(null)}}},{key:"_setChange",value:function _setChange(data){if(typeof data==="number"){$element.toggleClass("green",data>0);$element.toggleClass("red",data<0);$element.html(data.toFixed(this.precision))}else{$element.html("")}}}]);return Change24}(Base);return new Change24};controller.$inject=["Base","$attrs","createPoll","$element","waves","i18n"];angular.module("app.ui").component("wChange24",{bindings:{assetFrom:"<",assetTo:"<",directionByPair:"<",precision:"@",noUpdate:"@",interval:"@",ns:"@"},transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base){var ChangeLanguage=function(_Base36){_inherits(ChangeLanguage,_Base36);function ChangeLanguage(){_classCallCheck(this,ChangeLanguage);var _this149=_possibleConstructorReturn(this,(ChangeLanguage.__proto__||Object.getPrototypeOf(ChangeLanguage)).call(this));_this149.onChange=null;_this149.list=Object.keys(WavesApp.localize).map(function(key){return{code:key,name:WavesApp.localize[key].name}});if(i18next.language){_this149.active=i18next.language;_this149.observe("active",_this149._onChangeLanguage)}else{var handler=function handler(){_this149.active=i18next.language;_this149.observe("active",_this149._onChangeLanguage);i18next.off("initialized",handler)};i18next.on("initialized",handler)}return _this149}_createClass(ChangeLanguage,[{key:"_onChangeLanguage",value:function _onChangeLanguage(){var active=this.active;if(active){i18next.changeLanguage(active);this.onChange({language:active})}}}]);return ChangeLanguage}(Base);return new ChangeLanguage};controller.$inject=["Base"];angular.module("app.ui").component("wChangeLanguage",{bindings:{onChange:"&"},templateUrl:"modules/ui/directives/changeLanguage/changeLanguage.html",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,waves,user,createPoll,$scope){var ChangeRate=function(_Base37){_inherits(ChangeRate,_Base37);function ChangeRate(){_classCallCheck(this,ChangeRate);var _this150=_possibleConstructorReturn(this,(ChangeRate.__proto__||Object.getPrototypeOf(ChangeRate)).call(this));_this150.rate=null;_this150.assetId=null;_this150.mirror=null;_this150.date=null;_this150.poll=null;_this150.observe("assetId",_this150._onChangeAssetId);return _this150}_createClass(ChangeRate,[{key:"$postLink",value:function $postLink(){var _this151=this;this.interval=Number(this.interval)||5e3;waves.node.assets.getAsset(user.getSetting("baseAssetId")).then(function(mirror){_this151.mirror=mirror;if(!_this151.noUpdate){_this151.poll=createPoll(_this151,_this151._getRate,"rate",_this151.interval,{$scope:$scope})}else{_this151._onChangeAssetId()}})}},{key:"_onChangeAssetId",value:function _onChangeAssetId(){var _this152=this;if(this.assetId){if(this.poll){this.poll.restart()}else{this._getRate().then(function(rate){_this152.rate=rate;$scope.$digest()})}}}},{key:"_getRate",value:function _getRate(){return this.assetId&&this.mirror&&waves.utils.getRate(this.assetId,this.mirror.id).then(function(rate){return rate})||Promise.resolve(new BigNumber(0))}}]);return ChangeRate}(Base);return new ChangeRate};controller.$inject=["Base","waves","user","createPoll","$scope"];angular.module("app.ui").component("wChangeRate",{bindings:{assetId:"<",noUpdate:"@",interval:"@",date:"@"},template:'<span w-nice-number="$ctrl.rate" precision="$ctrl.mirror.precision" class="z-top"></span>',transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,ChartFactory,$element){var Chart=function(_Base38){_inherits(Chart,_Base38);function Chart(){_classCallCheck(this,Chart);return _possibleConstructorReturn(this,(Chart.__proto__||Object.getPrototypeOf(Chart)).apply(this,arguments))}_createClass(Chart,[{key:"$postLink",value:function $postLink(){this.chart=new ChartFactory($element);this.observe(["options","data"],this._render)}},{key:"_render",value:function _render(){}}]);return Chart}(Base);return new Chart};controller.$inject=["Base","ChartFactory","$element"];angular.module("app.ui").component("wChart",{bindings:{options:"<",data:"<"},scope:false,controller:controller})})();(function(){"use strict";var factory=function factory(Base){var _require16=require("@waves/data-entities"),Money=_require16.Money;var tsUtils=require("ts-utils");var ChartFactory=function(_Base39){_inherits(ChartFactory,_Base39);function ChartFactory($element,options,data){_classCallCheck(this,ChartFactory);var _this154=_possibleConstructorReturn(this,(ChartFactory.__proto__||Object.getPrototypeOf(ChartFactory)).call(this));_this154.$parent=$element;_this154.options=options;_this154.data=data;_this154.canvas=_this154._initializeCanvasElement($element);_this154.ctx=_this154.canvas.getContext("2d");_this154._render();return _this154}_createClass(ChartFactory,[{key:"setOptions",value:function setOptions(options){this.options=options;this._render()}},{key:"setData",value:function setData(data){this.data=data;this._render()}},{key:"_initializeCanvasElement",value:function _initializeCanvasElement($element){var canvas=document.createElement("canvas");canvas.style.position="absolute";canvas.style.left="0";canvas.style.top="0";if($element.css("position")==="static"){$element.css("position","relative")}$element.append(canvas);canvas.width=$element.width();canvas.height=$element.height();return canvas}},{key:"_clear",value:function _clear(){this._clearCanvas()}},{key:"_clearCanvas",value:function _clearCanvas(){this.canvas.width=this.canvas.width}},{key:"_render",value:function _render(){var _this155=this;this._clear();if(!this.data||!this.data.length){return null}if(!this.options.charts||!this.options.charts.length){return null}var data=this._getChartData();data.forEach(function(item){_this155._drawChart(item)})}},{key:"_drawChart",value:function _drawChart(data){var _this156=this;this.ctx.strokeStyle=data.lineColor;var first=data.coordinates[0];this.ctx.moveTo(first.x,first.y);data.coordinates.forEach(function(_ref90){var x=_ref90.x,y=_ref90.y;_this156.ctx.lineTo(x,y)});this.ctx.stroke();if(data.fillColor){this.ctx.fillStyle=data.fillColor;var last=data.coordinates[data.coordinates.length-1];this.ctx.lineTo(last.x,data.height.toNumber());this.ctx.lineTo(first.x,data.height.toNumber());this.ctx.lineTo(first.x,first.y);this.ctx.fill()}}},{key:"_getChartData",value:function _getChartData(){var _this157=this;var height=new BigNumber(this.canvas.height);var width=new BigNumber(this.canvas.width);var maxChartHeight=height.times(.9);return this.options.charts.map(function(chartOptions){var _BigNumber,_BigNumber2,_BigNumber3,_BigNumber4;var xValues=[];var yValues=[];_this157.data.forEach(function(item){var x=ChartFactory._getValues(item[chartOptions.axisX]);var y=ChartFactory._getValues(item[chartOptions.axisY]);if(tsUtils.isNotEmpty(x)&&tsUtils.isNotEmpty(y)){xValues.push(x);yValues.push(y)}});var xMin=(_BigNumber=BigNumber).min.apply(_BigNumber,xValues);var xMax=(_BigNumber2=BigNumber).max.apply(_BigNumber2,xValues);var yMin=(_BigNumber3=BigNumber).min.apply(_BigNumber3,yValues);var yMax=(_BigNumber4=BigNumber).max.apply(_BigNumber4,yValues);var xDelta=xMax.minus(xMin);var yDelta=yMax.minus(yMin);var xFactor=width.div(xDelta);var yFactor=maxChartHeight.div(yDelta);var coordinates=[];for(var i=0;i<xValues.length;i++){var xValue=xValues[i];var yValue=yValues[i];var x=xValue.minus(xMin).times(xFactor).toNumber();var y=height.minus(yValue.minus(yMin).times(yFactor)).toNumber();coordinates.push({x:x,y:y})}return _extends({height:height,maxChartHeight:maxChartHeight,width:width,xValues:xValues,yValues:yValues,xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax,xDelta:xDelta,yDelta:yDelta,xFactor:xFactor,yFactor:yFactor,coordinates:coordinates,length:coordinates.length},chartOptions)})}}],[{key:"_getValues",value:function _getValues(item){switch(true){case item instanceof Date:return new BigNumber(item.getTime());case item instanceof Money:return item.getTokens();case item instanceof BigNumber:return item;case typeof item==="number":return new BigNumber(item);default:throw new Error("Wrong value type!")}}}]);return ChartFactory}(Base);return ChartFactory};factory.$inject=["Base","utils"];angular.module("app.ui").factory("ChartFactory",factory)})();(function(){"use strict";var controller=function controller(Base,$element){var Checkbox=function(_Base40){_inherits(Checkbox,_Base40);function Checkbox(){_classCallCheck(this,Checkbox);var _this158=_possibleConstructorReturn(this,(Checkbox.__proto__||Object.getPrototypeOf(Checkbox)).call(this));_this158.mode="";_this158.disabled=false;return _this158}_createClass(Checkbox,[{key:"$postLink",value:function $postLink(){$element.removeAttr("id")}}]);return Checkbox}(Base);return new Checkbox};controller.$inject=["Base","$element"];var getComponentData=function getComponentData(type){var template=function template(attrs){return'<input type="checkbox" id="{{::$ctrl.id}}" '+attrs.join(" ")+' class="'+type+'">'};return{bindings:{mode:"@",id:"@",disabled:"<",ngModel:"="},template:template(['ng-model="$ctrl.ngModel"','ng-class="$ctrl.mode"','ng-disabled="$ctrl.disabled"']),transclude:false,controller:controller}};angular.module("app.ui").component("wCheckboxSubmit",getComponentData("submit"));angular.module("app.ui").component("wCheckboxSuccess",getComponentData("success"));angular.module("app.ui").component("wCheckboxSwitcher",getComponentData("switcher"))})();(function(){"use strict";var DEFAULT_OPTIONS={direction:false,startFrom:0,center:0};var controller=function controller(Base,$element){var CircleChart=function(_Base41){_inherits(CircleChart,_Base41);function CircleChart(){_classCallCheck(this,CircleChart);var _this159=_possibleConstructorReturn(this,(CircleChart.__proto__||Object.getPrototypeOf(CircleChart)).call(this));_this159._canvas=null;_this159._ctx=null;_this159._options=null;_this159._data=null;_this159.observe(["_options","_data"],_this159._redrawGraph);return _this159}_createClass(CircleChart,[{key:"$postLink",value:function $postLink(){this._canvas=$element.find("canvas").get(0);this._ctx=this._canvas.getContext("2d");this._redrawGraph()}},{key:"_resetCanvasSize",value:function _resetCanvasSize(){var _this160=this;var reducer=function reducer(result,item){return Math.max(result,_this160._options.items[item.id].radius)};var size=this._data.reduce(reducer,0)*2+2;this._canvas.width=size;this._canvas.height=size}},{key:"_getBalances",value:function _getBalances(){var Money=ds.wavesDataEntities.Money;return this._data.map(function(item){var value=item.value instanceof Money?item.value.getTokens():item.value;return{id:item.id,value:value}})}},{key:"_redrawGraph",value:function _redrawGraph(){if(!this._canvas){return null}if(!this._data||!this._data.length){return null}if(!this._options||!this._options.items){return null}this._resetCanvasSize();this._draw()}},{key:"_draw",value:function _draw(){var _this161=this;var balances=this._getBalances();var total=balances.reduce(function(result,item){return result.plus(item.value)},new BigNumber(0));var center=this._canvas.height/2+.5;var insightRadius=this._options.center||DEFAULT_OPTIONS.center;var empty=total.eq(0);$element.toggleClass("empty-chart",empty);if(empty){return false}var startFrom=this._options.startFrom;balances.forEach(function(item){var options=_this161._options.items[item.id];var progress=item.value.div(total);var end=startFrom+2*Math.PI*progress;var startInsight={x:center+insightRadius*Math.cos(startFrom),y:center+insightRadius*Math.cos(Math.PI/2-startFrom)};var startOut={x:center+options.radius*Math.cos(startFrom),y:center+options.radius*Math.cos(Math.PI/2-startFrom)};var endInsight={x:center+insightRadius*Math.cos(end),y:center+insightRadius*Math.cos(Math.PI/2-end)};_this161._ctx.beginPath();_this161._ctx.fillStyle=options.color;_this161._ctx.strokeStyle=options.color;_this161._ctx.lineWidth=1;_this161._ctx.moveTo(startInsight.x,startInsight.y);_this161._ctx.lineTo(startOut.x,startOut.y);_this161._ctx.arc(center,center,options.radius,startFrom,end);_this161._ctx.lineTo(endInsight.x,endInsight.y);_this161._ctx.moveTo(startInsight.x,startInsight.y);_this161._ctx.arc(center,center,insightRadius,startFrom,end);_this161._ctx.fill();_this161._ctx.closePath();startFrom=end});if(insightRadius){this._ctx.save();this._ctx.globalCompositeOperation="destination-out";this._ctx.beginPath();this._ctx.fillStyle="rgba(255,255,255,1)";this._ctx.arc(center,center,insightRadius,0,2*Math.PI);this._ctx.fill();this._ctx.closePath();this._ctx.restore()}}}]);return CircleChart}(Base);return new CircleChart};controller.$inject=["Base","$element","utils"];angular.module("app.ui").component("wCircleChart",{bindings:{_options:"<options",_data:"<data"},template:"<canvas></canvas>",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$element,$document,$scope){var ClickOutSide=function(_Base42){_inherits(ClickOutSide,_Base42);function ClickOutSide(){_classCallCheck(this,ClickOutSide);return _possibleConstructorReturn(this,(ClickOutSide.__proto__||Object.getPrototypeOf(ClickOutSide)).apply(this,arguments))}_createClass(ClickOutSide,[{key:"$postLink",value:function $postLink(){var _this163=this;requestAnimationFrame(function(){_this163.listenEventEmitter($document,"click",function(e){var $target=$(e.target);if($target.closest($element).length===0){_this163.onClickOutside({event:e});$scope.$apply()}})})}}]);return ClickOutSide}(Base);return new ClickOutSide};controller.$inject=["Base","$element","$document","$scope"];angular.module("app.ui").component("wClickOutside",{bindings:{onClickOutside:"&"},template:"<ng-transclude></ng-transclude>",transclude:true,controller:controller})})();(function(){"use strict";var ds=require("data-service");var _require17=require("@waves/signature-adapter"),SIGN_TYPE=_require17.SIGN_TYPE;var controller=function controller(Base,$scope,user,coinomatService){var CoinomatTerms=function(_Base43){_inherits(CoinomatTerms,_Base43);function CoinomatTerms(){_classCallCheck(this,CoinomatTerms);var _this164=_possibleConstructorReturn(this,(CoinomatTerms.__proto__||Object.getPrototypeOf(CoinomatTerms)).call(this));_this164.termsAccepted=false;_this164.termsAcceptedFreeze=false;_this164.canShowTerms=false;_this164.canShowCheckBox=false;_this164.isVerified=false;_this164.userModelTerms=false;_this164.signPending=false;_this164.signable=null;_this164.forceShowTerms=false;_this164.showAcceptedCheckbox=false;_this164.onSignStart=null;_this164.onSignEnd=null;_this164.termsPending=false;_this164.loadError=null;_this164._ts=0;_this164.observe(["forceShowTerms","termsAcceptedFreeze"],_this164._currentCanShowTerms);_this164.observe(["showAcceptedCheckbox","termsAcceptedFreeze"],_this164._currentCanShowCheckbox);return _this164}_createClass(CoinomatTerms,[{key:"$postLink",value:function $postLink(){var _this165=this;this.termsPending=true;Promise.all([coinomatService.hasConfirmation(user.address),coinomatService.isVerified(user.address)]).then(function(_ref91){var _ref92=_slicedToArray(_ref91,2),terms=_ref92[0],verified=_ref92[1];_this165.termsAccepted=terms;_this165.userModelTerms=terms;_this165.termsAcceptedFreeze=terms;_this165.isVerified=verified;_this165.termsPending=false;_this165.observe("userModelTerms",_this165._onChangeTerms);_this165._currentCanShowTerms();_this165._currentCanShowCheckbox();$scope.$apply()}).catch(function(e){_this165.loadError=e;_this165.termsPending=false;_this165._currentCanShowTerms();_this165._currentCanShowCheckbox();$scope.$apply()})}},{key:"onSignCancel",value:function onSignCancel(){this.signPending=false;this.userModelTerms=this.termsAccepted;this.signable=null;this.onSignEnd()}},{key:"onSignSuccess",value:function onSignSuccess(signature){var _this166=this;return coinomatService.setCoinomatTermsAccepted(signature,this._ts,this.userModelTerms).catch(function(){_this166.userModelTerms=_this166.termsAccepted}).then(function(){_this166.signPending=false;_this166.signable=null;_this166._ts=0;_this166.termsAccepted=_this166.userModelTerms;_this166.onSignEnd();$scope.$apply()})}},{key:"_currentCanShowTerms",value:function _currentCanShowTerms(){this.canShowTerms=this.forceShowTerms||!this.termsAcceptedFreeze}},{key:"_currentCanShowCheckbox",value:function _currentCanShowCheckbox(){this.canShowCheckBox=this.showAcceptedCheckbox||this.isVerified&&!this.termsAcceptedFreeze}},{key:"_onChangeTerms",value:function _onChangeTerms(){var _this167=this;if(this.termsAccepted===this.userModelTerms){return null}this.signPending=true;this.onSignStart();return coinomatService.getCoinomatTimestamp().then(function(ts){_this167._ts=ts;return ts}).then(CoinomatTerms._createSignable).then(function(signable){_this167.signable=signable;$scope.$apply()})}}],[{key:"_createSignable",value:function _createSignable(timestamp){return ds.signature.getSignatureApi().makeSignable({type:SIGN_TYPE.COINOMAT_CONFIRMATION,data:{timestamp:timestamp}})}}]);return CoinomatTerms}(Base);return new CoinomatTerms};controller.$inject=["Base","$scope","user","coinomatService"];angular.module("app.ui").component("wCoinomatTerms",{controller:controller,scope:false,templateUrl:"modules/ui/directives/coinomatTerms/coinomat-terms.html",bindings:{onSignStart:"&",onSignEnd:"&",isVerified:"=",termsAccepted:"=",termsPending:"=",loadError:"=",forceShowTerms:"<",showAcceptedCheckbox:"<"}})})();(function(){"use strict";var controller=function controller(Base,$element){var ComplexityMessage=function(_Base44){_inherits(ComplexityMessage,_Base44);function ComplexityMessage(){_classCallCheck(this,ComplexityMessage);var _this168=_possibleConstructorReturn(this,(ComplexityMessage.__proto__||Object.getPrototypeOf(ComplexityMessage)).call(this));_this168.message=null;_this168.type=null;_this168.validators=null;_this168.parent=null;_this168.show=false;_this168.observe("show",_this168._onChangeShow);_this168._onChangeShow();return _this168}_createClass(ComplexityMessage,[{key:"$postLink",value:function $postLink(){if(this.type){switch(this.type){case"warn":this.parent.addWarn(this);break;case"success":this.parent.addSuccess(this);break;default:throw new Error("Wrong message type!")}return null}this.validators=(this.message||"").split(",").map(function(item){return item.trim()}).filter(Boolean);if(!this.validators.length){throw new Error("Has no message")}this.parent.addMessage(this)}},{key:"_onChangeShow",value:function _onChangeShow(){$element.toggleClass("hidden",!this.show)}}]);return ComplexityMessage}(Base);return new ComplexityMessage};controller.$inject=["Base","$element"];angular.module("app.ui").component("complexityMessage",{controller:controller,require:{parent:"^wComplexityMeter"},bindings:{message:"@",type:"@"}})})();(function(){"use strict";var controller=function controller(Base,$element,$scope,utils,i18n){var ComplexityMeter=function(_Base45){_inherits(ComplexityMeter,_Base45);_createClass(ComplexityMeter,[{key:"value",get:function get(){return this.$input.val()}},{key:"valid",get:function get(){return this._form&&this._form[this.field]&&this._form[this.field].$valid||false}}]);function ComplexityMeter(){_classCallCheck(this,ComplexityMeter);var _this169=_possibleConstructorReturn(this,(ComplexityMeter.__proto__||Object.getPrototypeOf(ComplexityMeter)).call(this));_this169.$input=null;_this169.field=null;_this169.steps=[];_this169.touched=false;_this169._form=null;_this169._messages=[];_this169._messageWarn=null;_this169._messageSuccess=null;_this169._addSteps();return _this169}_createClass(ComplexityMeter,[{key:"$postLink",value:function $postLink(){var _this170=this;var form=$element.closest("form");this._form=$scope.$parent.$eval(form.attr("name"));this.$input=form.find('input[name="'+this.field+'"]');this.$input.on("input",function(){_this170._onChangeValue();$scope.$apply()});this.receive(utils.observe(this._form[this.field],"$viewValue"),this._onChangeValue,this);this.receive(utils.observe(this._form[this.field],"$valid"),this._onChangeValue,this);this._onChangeValue()}},{key:"addMessage",value:function addMessage(message){this._messages.push(message)}},{key:"addWarn",value:function addWarn(warn){this._messageWarn=warn}},{key:"addSuccess",value:function addSuccess(success){this._messageSuccess=success}},{key:"_applyMessage",value:function _applyMessage(message){var _this171=this;message.show=message.validators.some(function(name){return _this171._form[_this171.field].$error[name]})}},{key:"_onChangeValue",value:function _onChangeValue(){var value=this.value;var complexity=this._getComplexy([this._getLengthComplexy(value),this._getComplexyByReg(value,/[A-Z]/g,30),this._getComplexyByReg(value,/[a-z]/g,30),this._getComplexyByReg(value,/[0-9]/g,30),this._getComplexyByReg(value,/\W/g,20)]);this._activateSteps(Math.round(complexity/10));this._initializeMessage()}},{key:"_initializeMessage",value:function _initializeMessage(){this._hideAllMessages();switch(this.state){case"not-secure":this._messages.forEach(this._applyMessage,this);break;case"warn":this._messageWarn.show=true;break;case"success":this._messageSuccess.show=true;break;default:throw new Error("Wrong status")}}},{key:"_hideAllMessages",value:function _hideAllMessages(){this._messages.forEach(function(message){message.show=false});this._messageWarn.show=false;this._messageSuccess.show=false}},{key:"_activateSteps",value:function _activateSteps(activeStep){activeStep=this.valid?Math.max(activeStep,3):Math.min(activeStep,2);for(var i=0;i<this.steps.length;i++){this.steps[i].active=i<activeStep}if(activeStep<=2){var minLength=Number(this.$input.attr("min-length"))||8;this.state="not-secure";this.helpText=i18n.translate("createAccount.inputHelpError","app.create",{minLength:minLength})}else if(activeStep<7){this.state="warn";this.helpText=i18n.translate("createAccount.inputHelpWarn","app.create")}else{this.state="success"}}},{key:"_getComplexy",value:function _getComplexy(complexityList){return complexityList.reduce(function(result,item){return result+item})/complexityList.length*100}},{key:"_getLengthComplexy",value:function _getLengthComplexy(value){var minLength=Number(this.$input.attr("min-length"))||8;var targetLength=Math.round(minLength*1.8);var complexity=Math.min(value.length/targetLength,1);return value.length<minLength?complexity/2:complexity}},{key:"_getComplexyByReg",value:function _getComplexyByReg(value,reg,targetScore){var parts=value.match(reg);if(!parts){return 0}var score=0;var charHash=Object.create(null);parts.forEach(function(char){if(charHash[char]){score+=2}else{score+=10;charHash[char]=char}});return Math.min(score/targetScore,1)}},{key:"_addSteps",value:function _addSteps(){for(var i=0;i<10;i++){this.steps.push({active:false})}}}]);return ComplexityMeter}(Base);return new ComplexityMeter};controller.$inject=["Base","$element","$scope","utils","i18n"];angular.module("app.ui").component("wComplexityMeter",{bindings:{field:"@"},templateUrl:"modules/ui/directives/complexityMeter/complexityMeter.html",transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base){var ConfirmAction=function(_Base46){_inherits(ConfirmAction,_Base46);function ConfirmAction(){_classCallCheck(this,ConfirmAction);return _possibleConstructorReturn(this,(ConfirmAction.__proto__||Object.getPrototypeOf(ConfirmAction)).apply(this,arguments))}_createClass(ConfirmAction,[{key:"$postLink",value:function $postLink(){this.clicked=false}},{key:"onClickAction",value:function onClickAction(){this.clicked=true}},{key:"runAction",value:function runAction(){this.action();this.clicked=false}},{key:"removeClicked",value:function removeClicked(){this.clicked=false}}]);return ConfirmAction}(Base);return new ConfirmAction};controller.$inject=["Base"];angular.module("app.ui").component("wConfirmAction",{bindings:{literalText:"<",literalConfirm:"<",literalBack:"<",literalHeader:"<",literalDescription:"<",action:"&"},templateUrl:"modules/ui/directives/confirmAction/confirmAction.html",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(ConfirmTxService,$scope){var ConfirmGatewayTransaction=function(_ConfirmTxService){_inherits(ConfirmGatewayTransaction,_ConfirmTxService);function ConfirmGatewayTransaction(props){_classCallCheck(this,ConfirmGatewayTransaction);var _this173=_possibleConstructorReturn(this,(ConfirmGatewayTransaction.__proto__||Object.getPrototypeOf(ConfirmGatewayTransaction)).call(this,props));_this173.targetRecipient="";_this173.gatewayDetails=null;_this173.observe(["gatewayDetails","tx"],function(){if(!_this173.gatewayDetails||!_this173.tx){return null}var fee=_this173.tx.amount.cloneWithTokens(_this173.gatewayDetails.gatewayFee);_this173.tx.amount=_this173.tx.amount.minus(fee)});return _this173}_createClass(ConfirmGatewayTransaction,[{key:"getEventName",value:function getEventName(){return"Gateway"}}]);return ConfirmGatewayTransaction}(ConfirmTxService);return new ConfirmGatewayTransaction($scope)};controller.$inject=["ConfirmTxService","$scope"];angular.module("app.ui").component("wConfirmGatewayTransaction",{bindings:{signable:"<",gatewayDetails:"<",targetRecipient:"<",onClickBack:"&"},templateUrl:"modules/ui/directives/confirmGatewayTransaction/confirmGatewayTransaction.html",scope:false,transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(ConfirmTxService,$scope,validateService,utils,waves,$attrs){var _require18=require("@waves/signature-adapter"),TRANSACTION_TYPE_NUMBER=_require18.TRANSACTION_TYPE_NUMBER,SIGN_TYPE=_require18.SIGN_TYPE;var ConfirmTransaction=function(_ConfirmTxService2){_inherits(ConfirmTransaction,_ConfirmTxService2);function ConfirmTransaction(){_classCallCheck(this,ConfirmTransaction);var _this174=_possibleConstructorReturn(this,(ConfirmTransaction.__proto__||Object.getPrototypeOf(ConfirmTransaction)).call(this,$scope));_this174.locale=$attrs.ns||"app.ui";_this174.step=0;_this174.isSetScript=false;_this174.observe(["showValidationErrors","signable"],_this174._showErrors);return _this174}_createClass(ConfirmTransaction,[{key:"$postLink",value:function $postLink(){var _this175=this;var tx=this.signable.getTxData();var type=tx.type;this.isSetScript=type===SIGN_TYPE.SET_SCRIPT&&tx.script;this.isTockenIssue=type===SIGN_TYPE.ISSUE;this.signable.hasMySignature().then(function(state){_this175.step=state?1:0;$scope.$apply()})}},{key:"onChangeSignable",value:function onChangeSignable(){_get(ConfirmTransaction.prototype.__proto__||Object.getPrototypeOf(ConfirmTransaction.prototype),"onChangeSignable",this).call(this);if(this.tx){this.permissionName=ConfirmTransaction._getPermissionNameByTx(this.tx)}}},{key:"getSignable",value:function getSignable(){return this.signable}},{key:"nextStep",value:function nextStep(){this.step++;this.initExportLink()}},{key:"_showErrors",value:function _showErrors(){var _this176=this;if(!this.signable){return null}var promise=void 0;var _signable$getTxData=this.signable.getTxData(),type=_signable$getTxData.type,amount=_signable$getTxData.amount,fee=_signable$getTxData.fee;switch(true){case type===TRANSACTION_TYPE_NUMBER.SPONSORSHIP:promise=this._validateAmount(fee);break;case type===TRANSACTION_TYPE_NUMBER.TRANSFER&&this.showValidationErrors:promise=Promise.all([this._validateAmount(amount),this._validateAddress()]).then(function(_ref93){var _ref94=_slicedToArray(_ref93,2),errors1=_ref94[0],errors2=_ref94[1];return[].concat(_toConsumableArray(errors1),_toConsumableArray(errors2))});break;default:promise=Promise.resolve([])}return promise.then(function(errors){_this176.errors=errors;$scope.$apply()})}},{key:"_validateAddress",value:function _validateAddress(){var _signable$getTxData2=this.signable.getTxData(),recipient=_signable$getTxData2.recipient;var errors=[];return utils.resolve(utils.when(validateService.wavesAddress(recipient))).then(function(_ref95){var state=_ref95.state;if(!state){errors.push({literal:"confirmTransaction.send.errors.recipient.invalid"})}return errors})}},{key:"_validateAmount",value:function _validateAmount(amount){var errors=[];var _signable$getTxData3=this.signable.getTxData(),type=_signable$getTxData3.type;if(type===TRANSACTION_TYPE_NUMBER.SPONSORSHIP){return waves.node.assets.userBalances().then(function(list){return list.map(function(_ref96){var available=_ref96.available;return available})}).then(function(list){var hash=utils.toHash(list,"asset.id");if(!hash[amount.asset.id]||hash[amount.asset.id].lt(amount)||amount.getTokens().lte(0)){errors.push({literal:"confirmTransaction.send.errors.balance.invalid"})}return errors})}else{return Promise.resolve([])}}}],[{key:"_getPermissionNameByTx",value:function _getPermissionNameByTx(tx){switch(tx.type){case SIGN_TYPE.ISSUE:return"CAN_ISSUE_TRANSACTION";case SIGN_TYPE.TRANSFER:return"CAN_TRANSFER_TRANSACTION";case SIGN_TYPE.REISSUE:return"CAN_REISSUE_TRANSACTION";case SIGN_TYPE.BURN:return"CAN_BURN_TRANSACTION";case 7:throw new Error("Can' confirm exchange transaction!");case SIGN_TYPE.LEASE:return"CAN_LEASE_TRANSACTION";case SIGN_TYPE.CANCEL_LEASING:return"CAN_CANCEL_LEASE_TRANSACTION";case SIGN_TYPE.CREATE_ALIAS:return"CAN_CREATE_ALIAS_TRANSACTION";case SIGN_TYPE.MASS_TRANSFER:return"CAN_MASS_TRANSFER_TRANSACTION";case SIGN_TYPE.DATA:return"CAN_DATA_TRANSACTION";case SIGN_TYPE.SET_SCRIPT:return"CAN_SET_SCRIPT_TRANSACTION";case SIGN_TYPE.SPONSORSHIP:return"CAN_SPONSORSHIP_TRANSACTION";default:return""}}}]);return ConfirmTransaction}(ConfirmTxService);return new ConfirmTransaction};controller.$inject=["ConfirmTxService","$scope","validateService","utils","waves","$attrs"];angular.module("app.ui").component("wConfirmTransaction",{bindings:{signable:"<",onClickBack:"&",onTxSent:"&",noBackButton:"<",warning:"<",showValidationErrors:"<",referrer:"<"},templateUrl:"modules/ui/directives/confirmTransaction/confirmTransaction.html",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$scope,utils,notification,$element){var Copy=function(_Base47){_inherits(Copy,_Base47);function Copy(){_classCallCheck(this,Copy);var _this177=_possibleConstructorReturn(this,(Copy.__proto__||Object.getPrototypeOf(Copy)).call(this,$scope));var element=$element.get(0);var clipboard=new Clipboard(element,{text:function text(){return $scope.wCopy},container:element});clipboard.on("success",function(){notification.info({ns:"app.ui",title:{literal:"copySuccess"}})});clipboard.on("error",function(){notification.error({ns:"app.ui",title:{literal:"copyError"}})});_this177.signals.destroy.once(function(){clipboard.destroy()});return _this177}return Copy}(Base);return new Copy};controller.$inject=["Base","$scope","utils","notification","$element"];var directive=function directive(){return{restrict:"A",priority:100,scope:{wCopy:"<"},controller:controller}};directive.$inject=[];angular.module("app.ui").directive("wCopy",directive)})();(function(){"use strict";var container='<div class="container" ng-transclude></div>';var copyButton='<div ng-click="$ctrl.onCopy()" w-copy="$ctrl.info" class="copy-icon"></div>';angular.module("app.ui").component("wCopyWrap",{bindings:{info:"<",onCopy:"&"},template:""+container+copyButton,transclude:true})})();(function(){"use strict";var PATTERNS={default:{en:"DD/MM/YYYY",ru:"DD.MM.YYYY"},short:{en:"DD/MM",ru:"DD.MM"}};var TIMES={sec:1e3,min:1e3*60,hour:1e3*60*60,day:1e3*60*60*24,week:1e3*60*60*24*7,month:1e3*60*60*24*30,year:1e3*60*60*24*365};var AVAILABLE_MODES=["default","short","time-ago"];var controller=function controller($scope,$element){var WDate=function(){_createClass(WDate,[{key:"date",get:function get(){if($scope.date instanceof Date){return $scope.date}else if(typeof $scope.date==="string"){return new Date(Number($scope.date))}else{return new Date($scope.date)}}}]);function WDate(){_classCallCheck(this,WDate);this._date=null;this.handlerType=null;this.timerCallback=null}_createClass(WDate,[{key:"$postLink",value:function $postLink(){var _this178=this;this.mode=$scope.mode||AVAILABLE_MODES[0];if(!AVAILABLE_MODES.includes(this.mode)){throw new Error("Wrong date mode!")}if(this.mode==="time-ago"){this.listener=function(){return _this178._initTimeAgoMode()};$scope.$watch("date",function(){return _this178._initTimeAgoMode()});this._initTimeAgoMode()}else{this.filter=tsUtils.date(PATTERNS[this.mode][i18next.language]);this.listener=function(){_this178.filter=tsUtils.date(PATTERNS[_this178.mode][i18next.language]);_this178._initSimpleMode()};$scope.$watch("date",function(){return _this178._initSimpleMode()});this._initSimpleMode()}i18next.on("languageChanged",this.listener)}},{key:"_initTimeAgoMode",value:function _initTimeAgoMode(){var _this179=this;if($scope.date==null){return $element.html("")}if(this.handlerType&&this.timerCallback){controller.off(this.handlerType,this.timerCallback)}var date=this.date;var delta=Date.now()-date;this.timerCallback=function(){return _this179._initTimeAgoMode()};if(delta<TIMES.min){$element.html(Math.round(delta/TIMES.sec)+" sec ago");this.handlerType="sec";controller.once(this.handlerType,this.timerCallback)}else if(delta<TIMES.hour){$element.html(Math.round(delta/TIMES.min)+" min ago");this.handlerType="min";controller.once(this.handlerType,this.timerCallback)}else if(delta<TIMES.day){$element.html(Math.round(delta/TIMES.hour)+" hours ago");this.handlerType="hour";controller.once(this.handlerType,this.timerCallback)}else if(delta<TIMES.week){$element.html(Math.round(delta/TIMES.day)+" days ago")}else if(delta<TIMES.month){$element.html(Math.round(delta/TIMES.week)+" weeks ago")}else if(delta<TIMES.year){$element.html(Math.round(delta/TIMES.month)+" months ago")}else{$element.html("A lot of time ago")}}},{key:"_initSimpleMode",value:function _initSimpleMode(){if($scope.date==null){return $element.html("")}$element.text(this.filter(this.date))}},{key:"$onDestroy",value:function $onDestroy(){i18next.off("languageChanged",this.listener);if(this.handlerType&&this.timerCallback){controller.off(this.handlerType,this.timerCallback)}}}]);return WDate}();return new WDate};controller.$inject=["$scope","$element"];controller.handlers={sec:[],min:[],hour:[]};controller.timers={sec:null,min:null,hour:null};controller.once=function(type,handler){controller.handlers[type].push(handler);if(controller.isNeedStart(type)){controller.startTimer(type)}};controller.off=function(type,handler){controller.handlers[type]=controller.handlers[type].filter(tsUtils.notContains(handler))};controller.trigger=function(type){var handlers=controller.handlers[type].slice();controller.handlers[type]=[];handlers.forEach(function(cb){return cb()})};controller.isNeedStart=function(type){return!!controller.handlers[type].length&&!controller.timers[type]};controller.startTimer=function(type){controller.timers[type]=setTimeout(function(){controller.timers[type]=null;controller.trigger(type)},TIMES[type])};angular.module("app").directive("wDate",function(){return{restrict:"A",scope:{mode:"@",date:"<wDate"},controller:controller}})})();(function(){"use strict";angular.module("app.ui").component("wDesktopOnly",{scope:false,transclude:true,template:'<div ng-if="::'+WavesApp.isDesktop()+'" ng-transclude></div>'})})();(function(){"use strict";var MOUSE_EVENTS={DOWN:"mousedown",MOVE:"mousemove",UP:"mouseup"};var TOUCH_EVENTS={START:"touchstart",MOVE:"touchmove",END:"touchend"};var POINTER_EVENTS={START:MOUSE_EVENTS.DOWN+" "+TOUCH_EVENTS.START,MOVE:MOUSE_EVENTS.MOVE+" "+TOUCH_EVENTS.MOVE,END:MOUSE_EVENTS.UP+" "+TOUCH_EVENTS.END};var MAIN_MOUSE_BUTTON=0;var directive=function directive(utils,$document,Base){return{scope:false,link:function link($scope,$element){var Draggable=function(_Base48){_inherits(Draggable,_Base48);function Draggable(){_classCallCheck(this,Draggable);var _this180=_possibleConstructorReturn(this,(Draggable.__proto__||Object.getPrototypeOf(Draggable)).call(this,$scope));var element=$element.get(0);var startRect=element.getBoundingClientRect();_this180.x=startRect.left;_this180.y=startRect.top;_this180.delta={x:0,y:0};_this180.touchId=0;_this180.element=element;_this180.$overlay=$('<div class="drag-overlay">');_this180.moveHandler=_this180._getMoveHandler();_this180.resizeHandler=utils.debounceRequestAnimationFrame(function(){return _this180._onResize()});_this180._initializeElementPosition();_this180._setHandlers();_this180._draw();return _this180}_createClass(Draggable,[{key:"$onDestroy",value:function $onDestroy(){_get(Draggable.prototype.__proto__||Object.getPrototypeOf(Draggable.prototype),"$onDestroy",this).call(this);$element.remove()}},{key:"_initializeElementPosition",value:function _initializeElementPosition(){var position=$element.css("position");if(position==="static"||position==="relative"){$element.css("position","absolute")}$element.addClass("drag-element");document.body.appendChild(this.element)}},{key:"_setHandlers",value:function _setHandlers(){var _this181=this;this.listenEventEmitter($element,POINTER_EVENTS.START,function(e){return _this181._onStart(e)});this.listenEventEmitter($(window),"resize",this.resizeHandler);$scope.$watch(function(){return _this181._getElementSize()},this.resizeHandler)}},{key:"_onStart",value:function _onStart(e){var _this182=this;var event=this._getDistilledEvent(e);if(event.type!==TOUCH_EVENTS.START){event.preventDefault()}if(event.button!==MAIN_MOUSE_BUTTON){return false}this.$overlay.insertBefore($element);var rect=this.element.getBoundingClientRect();this.delta.x=event.pageX-rect.left;this.delta.y=event.pageY-rect.top;this.listenEventEmitter($document,POINTER_EVENTS.MOVE,this.moveHandler);this.listenEventEmitter($document,POINTER_EVENTS.END,function(){return _this182._onEnd()})}},{key:"_onMove",value:function _onMove(e){var rect=this.element.getBoundingClientRect();var x=e.pageX-this.delta.x;var y=e.pageY-this.delta.y;this._updateTranslation(rect,{x:x,y:y});this._draw()}},{key:"_onResize",value:function _onResize(){var rect=this.element.getBoundingClientRect();this._updateTranslation(rect);this._draw()}},{key:"_onEnd",value:function _onEnd(){this.$overlay.detach();this.stopListenEventEmitter(POINTER_EVENTS.MOVE,$document);this.stopListenEventEmitter(POINTER_EVENTS.END,$document)}},{key:"_updateTranslation",value:function _updateTranslation(rect){var coordinates=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{x:rect.left,y:rect.top};var min=0;this.x=Draggable._getValueInRange({min:min,max:innerWidth-rect.width,value:coordinates.x});this.y=Draggable._getValueInRange({min:min,max:innerHeight-rect.height,value:coordinates.y})}},{key:"_getDistilledEvent",value:function _getDistilledEvent(e){var touch=this._getTouch(e.originalEvent);return{preventDefault:function preventDefault(){return e.originalEvent.preventDefault()},button:e.button||MAIN_MOUSE_BUTTON,pageX:Draggable._getCoordinateValue(e,touch,"pageX"),pageY:Draggable._getCoordinateValue(e,touch,"pageY"),type:e.type}}},{key:"_getMoveHandler",value:function _getMoveHandler(){var _this183=this;return utils.debounceRequestAnimationFrame(function(e){return _this183._onMove(_this183._getDistilledEvent(e))})}},{key:"_getTouch",value:function _getTouch(event){switch(event.type){case TOUCH_EVENTS.START:this.touchId=event.targetTouches[0].identifier;return this._getTouchEventById(event);case TOUCH_EVENTS.MOVE:return this._getTouchEventById(event);case TOUCH_EVENTS.END:this.touchId=0;return event.changedTouches[0];default:return{}}}},{key:"_getTouchEventById",value:function _getTouchEventById(event){var _this184=this;return Array.prototype.filter.call(event.targetTouches,function(_ref97){var identifier=_ref97.identifier;return identifier===_this184.touchId})[0]}},{key:"_draw",value:function _draw(){$element.css("transform","translate("+this.x+"px, "+this.y+"px)")}},{key:"_getElementSize",value:function _getElementSize(){return this.element.clientWidth+" / "+this.element.clientHeight}}],[{key:"_getValueInRange",value:function _getValueInRange(parameters){var min=parameters.min,max=parameters.max,value=parameters.value;return Math.min(Math.max(value,min),max)}},{key:"_getCoordinateValue",value:function _getCoordinateValue(event,touch,coordinate){if(typeof event[coordinate]!=="number"){return touch[coordinate]}return event[coordinate]}}]);return Draggable}(Base);new Draggable}}};directive.$inject=["utils","$document","Base"];angular.module("app.ui").directive("wDraggable",directive)})();(function(){"use strict";angular.module("app.ui").component("wEmptyBlock",{templateUrl:"modules/ui/directives/emptyBlock/emptyBlock.html"})})();(function(){"use strict";angular.module("app.ui").component("wErrorBlock",{templateUrl:"modules/ui/directives/errorBlock/errorBlock.html"})})();(function(){"use strict";var controller=function controller(Base,createPoll,user,waves,utils,$element,$scope){var Exchange=function(_Base49){_inherits(Exchange,_Base49);function Exchange(){_classCallCheck(this,Exchange);var _this185=_possibleConstructorReturn(this,(Exchange.__proto__||Object.getPrototypeOf(Exchange)).call(this));_this185.balance=null;_this185.mirrorBalance=null;_this185.interval=null;_this185.mirror=null;_this185.targetAssetId=null;_this185.noUpdate=null;_this185.rateDate=null;_this185.poll=null;return _this185}_createClass(Exchange,[{key:"$postLink",value:function $postLink(){var _this186=this;this.interval=Number(this.interval)||5e3;this.noUpdate=this.noUpdate==null;waves.node.assets.getAsset(this.targetAssetId||user.getSetting("baseAssetId")).then(function(mirror){_this186.mirror=mirror;if(_this186.noUpdate){_this186._getMirrorBalance().then(function(balance){_this186.mirrorBalance=balance;$scope.$digest()})}else{_this186.poll=createPoll(_this186,_this186._getMirrorBalance,"mirrorBalance",_this186.interval,{$scope:$scope})}_this186.observe("balance",_this186._onChangeBalance);_this186.observe("mirrorBalance",_this186._onChangeMirrorBalance);_this186._onChangeBalance()})}},{key:"_onChangeBalance",value:function _onChangeBalance(){var _this187=this;if(this.balance){if(this.noUpdate){this._getMirrorBalance().then(function(balance){_this187.mirrorBalance=balance})}else{this.poll.restart()}}}},{key:"_getMirrorBalance",value:function _getMirrorBalance(){var _this188=this;if(!this.balance){return Promise.resolve(null)}return waves.utils.getRateApi(this.balance.asset.id,this.mirror.id).then(function(api){return _this188.balance&&api.exchange(_this188.balance.getTokens())||0})}},{key:"_onChangeMirrorBalance",value:function _onChangeMirrorBalance(){$element.html(this.mirrorBalance?this.mirrorBalance.toFormat():"")}}]);return Exchange}(Base);return new Exchange};controller.$inject=["Base","createPoll","user","waves","utils","$element","$scope"];angular.module("app.ui").component("wExchange",{bindings:{balance:"<",interval:"@",rateDate:"@",noUpdate:"@",targetAssetId:"@"},transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,waves,$scope){var _require19=require("ts-utils"),find=_require19.find;var FeeList=function(_Base50){_inherits(FeeList,_Base50);function FeeList(){_classCallCheck(this,FeeList);var _this189=_possibleConstructorReturn(this,(FeeList.__proto__||Object.getPrototypeOf(FeeList)).call(this));_this189.type=null;_this189.fee=null;_this189.feeList=[];_this189.balanceHash=null;_this189.observe("type",_this189._onChangeTxType);_this189.observe("balanceHash",_this189._onChangeBalanceHash);return _this189}_createClass(FeeList,[{key:"_onChangeTxType",value:function _onChangeTxType(){var _this190=this;if(!this.type){return null}waves.node.getFeeList({type:this.type}).then(function(list){_this190.originalFeeList=list;_this190._setActualFeeList();if(!(_this190.fee&&find(_this190.feeList,function(item){return item.asset.id===_this190.fee.asset.id}))){var fee=_this190.balanceHash&&Object.keys(_this190.balanceHash).length&&list.find(function(item){var balance=_this190.balanceHash[item.asset.id];item.asset.displayName="ACRYL";return balance&&balance.gte(item)});_this190.fee=fee||_this190.feeList[0]}$scope.$apply()})}},{key:"_onChangeBalanceHash",value:function _onChangeBalanceHash(){var _this191=this;if(!this.fee){return null}this._setActualFeeList();if(this.feeList.length===1){return null}var feeBalance=this.balanceHash[this.fee.asset.id];if(!feeBalance||feeBalance.lt(this.fee)){this.fee=this.balanceHash&&Object.keys(this.balanceHash).length&&this.feeList.find(function(item){var balance=_this191.balanceHash[item.asset.id];return balance&&balance.gte(item)})||this.fee}}},{key:"_setActualFeeList",value:function _setActualFeeList(){var _this192=this;var list=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.originalFeeList;var hasBalances=this.balanceHash&&Object.keys(this.balanceHash).length;if(!list||list.length<2||!hasBalances){this.feeList=[].concat(_toConsumableArray(list||[]));return null}var wavesFee=list.find(function(item){return item.asset.id==="WAVES"});var filteredList=list.filter(function(fee){var feeBalance=_this192.balanceHash[fee.asset.id];return!(!hasBalances||!feeBalance||feeBalance.lt(fee))});if(!filteredList.length){filteredList.push(wavesFee)}this.feeList=filteredList}}]);return FeeList}(Base);return new FeeList};controller.$inject=["Base","waves","$scope"];angular.module("app.ui").component("wFeeList",{bindings:{type:"<",balanceHash:"<",disabled:"<",fee:"="},scope:false,transclude:false,templateUrl:"modules/ui/directives/feeList/feeList.html",controller:controller})})();(function(){"use strict";var controller=function controller(Base,stateManager){var Header=function(_Base51){_inherits(Header,_Base51);function Header(){_classCallCheck(this,Header);var _this193=_possibleConstructorReturn(this,(Header.__proto__||Object.getPrototypeOf(Header)).call(this));_this193.receive(stateManager.changeRouteState,function(){_this193.stateList=stateManager.subStateList});_this193.stateList=stateManager.subStateList;return _this193}return Header}(Base);return new Header};controller.$inject=["Base","stateManager"];angular.module("app.ui").component("wHeader",{controller:controller,templateUrl:"modules/ui/directives/header/header.html"})})();(function(){"use strict";var controller=function controller(Base,$scope,$element){var HelpIconController=function(_Base52){_inherits(HelpIconController,_Base52);function HelpIconController(){_classCallCheck(this,HelpIconController);var _this194=_possibleConstructorReturn(this,(HelpIconController.__proto__||Object.getPrototypeOf(HelpIconController)).call(this));_this194.hovered=false;return _this194}_createClass(HelpIconController,[{key:"hoverIn",value:function hoverIn(){this.hovered=true;clearTimeout(this.timer);$scope.$apply()}},{key:"hoverOut",value:function hoverOut(){var _this195=this;clearTimeout(this.timer);this.timer=setTimeout(function(){_this195.hovered=false;$scope.$apply()},Number(this.delay)||1e3)}},{key:"$postLink",value:function $postLink(){var _this196=this;$element.on("mouseover",function(){return _this196.hoverIn()});$element.on("mouseout",function(){return _this196.hoverOut()})}}]);return HelpIconController}(Base);return new HelpIconController};controller.$inject=["Base","$scope","$element"];angular.module("app.ui").component("wHelpIcon",{templateUrl:"modules/ui/directives/helpIcon/helpIcon.html",transclude:true,bindings:{delay:"="},controller:controller})})();(function(){"use strict";var controller=function controller(Base,$element,utils){var tsUtils=require("ts-utils");var ImportFile=function(_Base53){_inherits(ImportFile,_Base53);function ImportFile(){_classCallCheck(this,ImportFile);var _this197=_possibleConstructorReturn(this,(ImportFile.__proto__||Object.getPrototypeOf(ImportFile)).call(this));_this197.extensionList=null;_this197.onChange=null;_this197._input=ImportFile._createInput();_this197._setHandlers();return _this197}_createClass(ImportFile,[{key:"$onDestroy",value:function $onDestroy(){document.body.removeChild(this._input);_get(ImportFile.prototype.__proto__||Object.getPrototypeOf(ImportFile.prototype),"$onDestroy",this).call(this)}},{key:"_setHandlers",value:function _setHandlers(){var _this198=this;this.listenEventEmitter($element,"click",function(){return _this198._onClick()});this.listenEventEmitter(this._input,"change",function(){return _this198._onChange()},{on:"addEventListener",off:"removeEventListener"})}},{key:"_onChange",value:function _onChange(){var _input$files=_slicedToArray(this._input.files,1),file=_input$files[0];if(file){if(!this._isFileValid(file)){this.onChange({data:{status:"error",type:"extension",message:"Wrong extension",file:file}});return null}this.onChange({data:{status:"ok",file:file}})}this._input.value=""}},{key:"_onClick",value:function _onClick(){this._input.click()}},{key:"_isFileValid",value:function _isFileValid(file){if(tsUtils.isNotEmpty(this.extensionList)){var extensionList=utils.toArray(this.extensionList);var fileExtension=file.name.split(".")[1];return fileExtension&&extensionList.some(function(ext){return ext===fileExtension})}else{return true}}}],[{key:"_createInput",value:function _createInput(){var input=document.createElement("input");input.type="file";input.style.position="absolute";input.style.left="-100px";input.style.top="-100px";document.body.appendChild(input);return input}}]);return ImportFile}(Base);return new ImportFile};controller.$inject=["Base","$element","utils"];angular.module("app.ui").component("wImportFile",{bindings:{extensionList:"<",onChange:"&"},template:"<ng-transclude></ng-transclude>",transclude:true,controller:controller})})();(function(){"use strict";var EXCLUDE_ATRIBUTES=["tabindex"];var directive=function directive(Base,utils){return{result:"E",require:null,transclude:false,template:function template($element,$data){var attrs=Object.keys($data.$attr).reduce(function(result,name){result.push($data.$attr[name]+'="'+$data[name]+'"');return result},[]);var typeClass=$data.type?"input-type-"+$data.type:"";var element=$element[0];EXCLUDE_ATRIBUTES.forEach(function(attr){element.removeAttribute(attr)});if("textarea"in $data){return'<div class="w-input-wrap '+typeClass+'"><textarea '+attrs.join(" ")+"></textarea></div>"}else{return'<div class="w-input-wrap '+typeClass+'"><input '+attrs.join(" ")+"></div>"}},link:function link($scope,$element,$attrs){var Input=function(_Base54){_inherits(Input,_Base54);function Input(){_classCallCheck(this,Input);var _this199=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,$scope));_this199._$input=null;_this199._$inputWrap=null;_this199._$form=null;_this199._stopScopeHandlers=[];_this199._name=null;_this199._initialize();return _this199}_createClass(Input,[{key:"$onDestroy",value:function $onDestroy(){_get(Input.prototype.__proto__||Object.getPrototypeOf(Input.prototype),"$onDestroy",this).call(this);this._stopScopeHandlers.forEach(function(cb){return cb()})}},{key:"_initialize",value:function _initialize(){this._$input=$element.find("input,textarea");this._$inputWrap=$element.find(".w-input-wrap");var name=this._name=this._getName();var formName=$element.closest("form").attr("name");this._setHandlers();if(this._name&&formName){var form=this._$form=this._getForm(formName);this.receive(utils.observe(form[name],"$valid"),this._onChangeValid,this);this.receive(utils.observe(form[name],"$touched"),this._onChangeTouched,this);this._onChangeValid();this._onChangeTouched()}if($attrs.autoFocus){this._$input.focus()}}},{key:"_setHandlers",value:function _setHandlers(){var _this200=this;this._$input.on("focus",function(){_this200._$inputWrap.addClass("focused")});this._$input.on("blur",function(){_this200._$inputWrap.removeClass("focused")})}},{key:"_getName",value:function _getName(){var name=this._$input.attr("name");if(!name){return null}if(name.indexOf("{{")===-1){return name}else{return $scope.$eval(name.replace("{{","").replace("}}","").replace("::",""))}}},{key:"_getForm",value:function _getForm(name){var $localScope=$scope;var form=null;do{form=$localScope.$eval(name);if(form){break}else{$localScope=$localScope.$parent}}while($localScope.$parent);if(!form){throw new Error("Cant find parent form data!")}return form}},{key:"_onChangeValid",value:function _onChangeValid(){this._$inputWrap.toggleClass("valid",this._$form[this._name].$valid);this._$inputWrap.toggleClass("invalid",!this._$form[this._name].$valid)}},{key:"_onChangeTouched",value:function _onChangeTouched(){this._$inputWrap.toggleClass("touched",this._$form[this._name].$touched)}}]);return Input}(Base);return new Input}}};directive.$inject=["Base","utils"];angular.module("app.ui").directive("wInput",directive)})();(function(){"use strict";var controller=function controller(Base,$element,$scope,createPoll,utils,decorators){var _dec13,_desc7,_value7,_class19;var tsUtisl=require("ts-utils");var InputContainer=(_dec13=decorators.async(),_class19=function(_Base55){_inherits(InputContainer,_Base55);function InputContainer(){_classCallCheck(this,InputContainer);var _this201=_possibleConstructorReturn(this,(InputContainer.__proto__||Object.getPrototypeOf(InputContainer)).call(this));_this201.form=null;_this201.tik=new tsUtisl.Signal;return _this201}_createClass(InputContainer,[{key:"$postLink",value:function $postLink(){var _this202=this;var name=$element.closest("form").attr("name");this.form=name&&$scope.$parent.$eval(name);if(!this.form){throw new Error("Can't get form!")}this.receive(utils.observe(this.form,"$valid"),this._runApply,this);createPoll(this,function(){return null},function(){_this202.tik.dispatch(_this202._getElements())},250)}},{key:"_getElements",value:function _getElements(){return $element.find("input,textarea").toArray()}},{key:"_runApply",value:function _runApply(){$scope.$apply()}}]);return InputContainer}(Base),_applyDecoratedDescriptor(_class19.prototype,"_runApply",[_dec13],Object.getOwnPropertyDescriptor(_class19.prototype,"_runApply"),_class19.prototype),_class19);return new InputContainer};controller.$inject=["Base","$element","$scope","createPoll","utils","decorators"];angular.module("app.ui").component("wInputContainer",{transclude:true,template:"<ng-transclude></ng-transclude>",controller:controller})})();(function(){"use strict";var controller=function controller(Base,$scope,$element){var InputError=function(_Base56){_inherits(InputError,_Base56);function InputError(){_classCallCheck(this,InputError);var _this203=_possibleConstructorReturn(this,(InputError.__proto__||Object.getPrototypeOf(InputError)).call(this));_this203.model=null;_this203.inputContainer=null;_this203.message=null;_this203.name=null;_this203.canShow=false;_this203.hiddenByTimeout=false;_this203.timer=null;_this203.hideWithin=0;return _this203}_createClass(InputError,[{key:"$postLink",value:function $postLink(){this.receive(this.inputContainer.tik,this._onTick,this);this.observe("canShow",this._onChangeCanShow);this.observe("hiddenByTimeout",this._onChangeCanShowByTimeout);this._onChangeCanShow()}},{key:"_onChangeCanShow",value:function _onChangeCanShow(){var _this204=this;this.hiddenByTimeout=false;if(this.timer){clearTimeout(this.timer)}$element.toggleClass("hidden",!this.canShow);if(this.hideWithin&&this.canShow){this.timer=setTimeout(function(){_this204.timer=null;_this204.hiddenByTimeout=true},this.hideWithin*1e3)}}},{key:"_onChangeCanShowByTimeout",value:function _onChangeCanShowByTimeout(){$element.toggleClass("hidden",this.canShow&&this.hiddenByTimeout)}},{key:"_onTick",value:function _onTick(elements){var _this205=this;elements.forEach(function(element){var name=element.getAttribute("name");if(!name){return null}if(_this205.name&&_this205.name!==name){return null}var model=_this205.inputContainer.form[name];if(!model){return null}if(!_this205.model){_this205.model=model}var isFocused=element===document.activeElement;var pending=_this205.inputContainer.form.$pending||model.$pending;var isTouchedOrSubmited=_this205.inputContainer.form.$submitted||model.$touched;_this205.canShow=!!(!pending&&!isFocused&&isTouchedOrSubmited&&model.$error[_this205.message])})}}]);return InputError}(Base);return new InputError};controller.$inject=["Base","$scope","$element"];angular.module("app.ui").component("wInputError",{transclude:true,require:{inputContainer:"^wInputContainer"},bindings:{message:"@",name:"@",hideWithin:"<?"},template:'<span class="error active" ng-transclude></span>',controller:controller})})();(function(){"use strict";var controller=function controller(Base,stateManager,modalManager,user,$state){var LeftMenu=function(_Base57){_inherits(LeftMenu,_Base57);function LeftMenu(){_classCallCheck(this,LeftMenu);var _this206=_possibleConstructorReturn(this,(LeftMenu.__proto__||Object.getPrototypeOf(LeftMenu)).call(this));_this206.address=user.address||"3PHBX4uXhCyaANUxccLHNXw3sqyksV7YnDz";_this206.isLogined=!!user.address;_this206.receive(stateManager.changeRouteState,function(){_this206.subStateList=stateManager.subStateList;_this206.rootStateList=stateManager.rootStateList});_this206.rootStateList=stateManager.rootStateList;_this206.subStateList=stateManager.subStateList;_this206.menuList=stateManager.getStateTree();_this206.activeState=$state.$current.name.slice($state.$current.name.lastIndexOf(".")+1);_this206.userType=user.userType;if(!_this206.isLogined){_this206.activeState=_this206.activeState.replace("-demo","")}_this206.isScript=user.hasScript();_this206.isKeeper=user.userType==="wavesKeeper";_this206.isLedger=user.userType==="ledger";_this206.hasTypeHelp=_this206.isScript&&(_this206.isLedger||_this206.isKeeper);return _this206}_createClass(LeftMenu,[{key:"open",value:function open(sref){if(this.isLogined){$state.go(sref)}else{this._getDialogModal("open-"+sref,function(){return $state.go("welcome")},function(){return $state.go("create")})}}},{key:"logout",value:function logout(){user.logout()}},{key:"avatarClick",value:function avatarClick(){if(this.isLogined){modalManager.showAccountInfo()}else{this._getDialogModal("account",function(){return $state.go("welcome")},function(){return $state.go("create")})}}},{key:"settings",value:function settings(){if(this.isLogined){modalManager.showSettings()}else{this._getDialogModal("settings",function(){return $state.go("welcome")},function(){return $state.go("create")})}}},{key:"_getDialogModal",value:function _getDialogModal(type,success,error){return modalManager.showDialogModal({iconClass:type.replace(/\./g,"-")+"-account-info",message:{literal:"modal."+type+".message"},buttons:[{success:false,classes:"big",text:{literal:"modal."+type+".cancel"},click:error},{success:true,classes:"big submit",text:{literal:"modal."+type+".ok"},click:success}]})}}]);return LeftMenu}(Base);return new LeftMenu};controller.$inject=["Base","stateManager","modalManager","user","$state"];angular.module("app.ui").component("wLeftMenu",{bindings:{},templateUrl:"modules/ui/directives/leftMenu/leftMenu.html",transclude:false,controller:controller})})();(function(){"use strict";angular.module("app.ui").component("wLoader",{templateUrl:"modules/ui/directives/loader/loader.html"})})();(function(){"use strict";angular.module("app.ui").component("wNavigation",{transclude:true,bindings:{type:"@type"},template:'<div class="navigation {{$ctrl.type}}" ng-transclude></div>'})})();(function(){"use strict";var controller=function controller(Base,$scope,$element,utils,decorators){var _dec14,_desc8,_value8,_class20;var NiceNumber=(_dec14=decorators.async(),_class20=function(_Base58){_inherits(NiceNumber,_Base58);function NiceNumber(){_classCallCheck(this,NiceNumber);var _this207=_possibleConstructorReturn(this,(NiceNumber.__proto__||Object.getPrototypeOf(NiceNumber)).call(this,$scope));_this207.listenEventEmitter(i18next,"languageChanged",function(){return _this207.$onChanges()});_this207.receive(utils.observe($scope,"number"),_this207.$onChanges,_this207);_this207.receive(utils.observe($scope,"precision"),_this207.$onChanges,_this207);return _this207}_createClass(NiceNumber,[{key:"$onChanges",value:function $onChanges(){if($scope.number==null){return $element.html("")}$element.html(utils.getNiceNumberTemplate($scope.number,$scope.precision,$scope.shortMode))}}]);return NiceNumber}(Base),_applyDecoratedDescriptor(_class20.prototype,"$onChanges",[_dec14],Object.getOwnPropertyDescriptor(_class20.prototype,"$onChanges"),_class20.prototype),_class20);return new NiceNumber};controller.$inject=["Base","$scope","$element","utils","decorators"];angular.module("app").directive("wNiceNumber",function(){return{restrict:"A",scope:{number:"<wNiceNumber",precision:"<",shortMode:"<"},controller:controller}})})();(function(){"use strict";var controller=function controller(Base,utils){var Password=function(_Base59){_inherits(Password,_Base59);function Password(){_classCallCheck(this,Password);var _this208=_possibleConstructorReturn(this,(Password.__proto__||Object.getPrototypeOf(Password)).call(this));_this208.create=null;_this208.valid=false;_this208.confirmPassword="";return _this208}_createClass(Password,[{key:"$postLink",value:function $postLink(){this.receive(utils.observe(this.create,"$valid"),this._onChangeFormValid,this)}},{key:"_onChangeFormValid",value:function _onChangeFormValid(){this.valid=this.create.$valid}}]);return Password}(Base);return new Password};controller.$inject=["Base","utils"];angular.module("app.ui").component("wPassword",{bindings:{onSubmit:"&",password:"=",name:"="},templateUrl:"modules/ui/directives/password/password.html",transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base,permissionManager){var Permit=function(_Base60){_inherits(Permit,_Base60);function Permit(){_classCallCheck(this,Permit);return _possibleConstructorReturn(this,(Permit.__proto__||Object.getPrototypeOf(Permit)).apply(this,arguments))}_createClass(Permit,[{key:"$postLink",value:function $postLink(){this.receive(permissionManager.change,this._onChange,this);this._onChange()}},{key:"_onChange",value:function _onChange(){var isPermitted=permissionManager.isPermitted(this.name);this.isVisible=!isPermitted&&this.mode==="off"||isPermitted&&this.mode==="on"}}]);return Permit}(Base);return new Permit};controller.$inject=["Base","permissionManager"];angular.module("app.ui").component("wPermit",{bindings:{name:"@",mode:"@"},template:'<div ng-transclude class="w-permit" ng-if="$ctrl.isVisible"></div>',transclude:true,controller:controller})})();(function(){"use strict";angular.module("app.ui").component("wPermitMessage",{require:{parent:"^wPermit"},bindings:{literal:"@"},template:'<div class="w-permit-message" w-i18n="{{::$ctrl.literal}}"></div>'})})();(function(){"use strict";var controller=function controller($element){var QrCode=function(){function QrCode(){_classCallCheck(this,QrCode);this.url=null;this.size=null;this.qrNode=document.createElement("DIV");$element.append(this.qrNode)}_createClass(QrCode,[{key:"$onChanges",value:function $onChanges(){var _this210=this;if(!this.url){return null}else{QRCode.toDataURL(this.url,function(error,encrypted){_this210.qrNode.classList.add("qr-code-wrap");_this210.qrNode.style.width=_this210.size+"px";_this210.qrNode.style.height=_this210.size+"px";_this210.qrNode.innerHTML='<img style="display: block" src="'+encrypted+'">'})}}}]);return QrCode}();return new QrCode};controller.$inject=["$element"];angular.module("app.ui").component("wQrCode",{bindings:{size:"@",url:"<"},controller:controller})})();(function(){"use strict";var MODULE_PATH="modules/ui/directives/qrCodeRead";var controller=function controller(Base,$element,QrCodeReadService,$templateRequest,utils,$compile,$scope,decorators){var _dec15,_dec16,_dec17,_desc9,_value9,_class21;var VIDEO_WRAPPER_SELECTOR=".js-camera-wrapper";var QrCodeRead=(_dec15=decorators.async(),_dec16=decorators.async(),_dec17=decorators.async(),_class21=function(_Base61){_inherits(QrCodeRead,_Base61);_createClass(QrCodeRead,[{key:"videoPending",get:function get(){return!this.isWatched||!this.videoSize&&!this.videoError}}]);function QrCodeRead(){_classCallCheck(this,QrCodeRead);var _this211=_possibleConstructorReturn(this,(QrCodeRead.__proto__||Object.getPrototypeOf(QrCodeRead)).call(this));_this211.maxWidth=null;_this211.maxHeight=null;_this211.isWatched=false;_this211.popupNode=null;_this211.onRead=null;_this211.readService=null;_this211.videoSize=null;_this211.templatePromise=$templateRequest(MODULE_PATH+"/cameraPopup.html");_this211.videoError=false;_this211.observe("isWatched",_this211._dropLastVideoSize);_this211.observe(["isWatched","videoSize"],_this211._onChangeWatched);_this211.observe("videoSize",_this211._onChangeVideoSize);var positionHandler=utils.debounceRequestAnimationFrame(function(){return _this211._onChangePosition()});_this211.listenEventEmitter(window,"resize",positionHandler,{on:"addEventListener",off:"removeEventListener"});_this211.listenEventEmitter(document,"scroll",positionHandler,{on:"addEventListener",off:"removeEventListener",capture:true});return _this211}_createClass(QrCodeRead,[{key:"$onDestroy",value:function $onDestroy(){_get(QrCodeRead.prototype.__proto__||Object.getPrototypeOf(QrCodeRead.prototype),"$onDestroy",this).call(this);this._removeReadQrService();this._removePopup()}},{key:"toggleWatchQrCode",value:function toggleWatchQrCode(){var _this212=this;if(this.isWatched){this.stopWatchQrCode();return null}this.videoError=false;this.isWatched=true;this.webCamError=false;this._createPopup().then(function(){return _this212._createReadQrService()})}},{key:"stopWatchQrCode",value:function stopWatchQrCode(){this.isWatched=false;this._removeReadQrService()}},{key:"_onChangePosition",value:function _onChangePosition(){if(this.isWatched){this._setPopupPosition()}}},{key:"_createReadQrService",value:function _createReadQrService(){if(!this.readService){var _$element=$(this.popupNode).find(VIDEO_WRAPPER_SELECTOR);var maxSize=void 0;if(WavesApp.device.phone()){maxSize={width:window.innerWidth,height:window.innerHeight}}else{maxSize={width:this.maxWidth,height:this.maxHeight}}this.readService=new QrCodeReadService({$element:_$element,maxSize:maxSize});this.receiveOnce(this.readService.onRead,this._onSuccessReadQrCode,this);this.receiveOnce(this.readService.onError,this._onErrorRead,this);this.receiveOnce(this.readService.onHasSize,this._onAddVideoSize,this)}return this}},{key:"_onErrorRead",value:function _onErrorRead(){this.videoError=true;this._setPopupPosition();$scope.$apply()}},{key:"_onAddVideoSize",value:function _onAddVideoSize(size){this.videoSize=size;$scope.$apply()}},{key:"_onSuccessReadQrCode",value:function _onSuccessReadQrCode(text){this.onRead({text:text});this.isWatched=false}},{key:"_removeReadQrService",value:function _removeReadQrService(){if(this.readService){this.stopReceive(this.readService.onRead);this.stopReceive(this.readService.onError);this.stopReceive(this.readService.onHasSize);this.readService.destroy();this.readService=null;this.videoSize=null}return this}},{key:"_onChangeVideoSize",value:function _onChangeVideoSize(){this._addPopupSize();this._setPopupPosition()}},{key:"_createPopup",value:function _createPopup(){var _this213=this;if(this.popupNode){return Promise.resolve()}return this.templatePromise.then(function(template){var $node=$compile(template)($scope);_this213.popupNode=$node.get(0);document.body.appendChild(_this213.popupNode);_this213._onChangeWatched();_this213._setPopupPosition()})}},{key:"_removePopup",value:function _removePopup(){if(this.popupNode){document.body.removeChild(this.popupNode)}}},{key:"_onChangeWatched",value:function _onChangeWatched(){if(this.popupNode){this.popupNode.classList.toggle("active",this.isWatched);if(this.isWatched){this._setPopupPosition()}}}},{key:"_dropLastVideoSize",value:function _dropLastVideoSize(){if(!this.isWatched){this.stopWatchQrCode()}}},{key:"_setPopupPosition",value:function _setPopupPosition(){var $btn=$element.find(".btn");var offset=$btn.offset();var videoWrapper=this.popupNode.querySelector(VIDEO_WRAPPER_SELECTOR);var width=videoWrapper.clientWidth;var height=videoWrapper.clientHeight;var top=offset.top-height/2+$btn.height()/2;var left=offset.left-(width+10);$(this.popupNode).find(VIDEO_WRAPPER_SELECTOR).offset({top:top,left:left})}},{key:"_addPopupSize",value:function _addPopupSize(){if(!this.videoSize){return null}var videoWrapper=this.popupNode.querySelector(VIDEO_WRAPPER_SELECTOR);var factor=Math.min(this.maxWidth/this.videoSize.width,this.maxHeight/this.videoSize.height);var width=Math.round(this.videoSize.width*factor);var height=Math.round(this.videoSize.height*factor);videoWrapper.style.width=width+"px";videoWrapper.style.height=height+"px"}}]);return QrCodeRead}(Base),_applyDecoratedDescriptor(_class21.prototype,"_onErrorRead",[_dec15],Object.getOwnPropertyDescriptor(_class21.prototype,"_onErrorRead"),_class21.prototype),_applyDecoratedDescriptor(_class21.prototype,"_onAddVideoSize",[_dec16],Object.getOwnPropertyDescriptor(_class21.prototype,"_onAddVideoSize"),_class21.prototype),_applyDecoratedDescriptor(_class21.prototype,"_onSuccessReadQrCode",[_dec17],Object.getOwnPropertyDescriptor(_class21.prototype,"_onSuccessReadQrCode"),_class21.prototype),_class21);return new QrCodeRead};controller.$inject=["Base","$element","QrCodeReadService","$templateRequest","utils","$compile","$scope","decorators"];angular.module("app.ui").component("wQrCodeRead",{bindings:{maxWidth:"<",maxHeight:"<",onRead:"&"},templateUrl:MODULE_PATH+"/qrCodeRead.html",controller:controller})})();(function(){"use strict";var DEFAULT_READ_COUNT=4;var factory=function factory(mediaStream,Poll){var _require20=require("ts-utils"),Signal=_require20.Signal;var wrapper=require("worker-wrapper");var QrCodeReadService=function(){function QrCodeReadService(options){var _this214=this;_classCallCheck(this,QrCodeReadService);this.onRead=new Signal;this.onError=new Signal;this.onHasSize=new Signal;this.size=null;this._canvas=document.createElement("CANVAS");this._ctx=null;this._stream=null;this._video=document.createElement("VIDEO");this._worker=null;this._poll=null;this._readQrHash=Object.create(null);this._readCount=DEFAULT_READ_COUNT;this._maxSize=null;this._factor=1;if(options.readCount){this._readCount=options.readCount}this._maxSize=options.maxSize;this._initializeDom(options);requestAnimationFrame(function(){_this214._createWorker()._createStream().then(function(){return _this214._loadVideoSize()}).then(function(){return _this214._createPoll()}).catch(function(e){return _this214._dispatchError(e)})})}_createClass(QrCodeReadService,[{key:"destroy",value:function destroy(){this._removeWorker()._clearSignalHandlers()._stopStream()._removePoll()._removeVideoElement()}},{key:"_initializeDom",value:function _initializeDom(options){this._createContext()._addVideoAttrs();options.$element.append(this._video);return this}},{key:"_removeVideoElement",value:function _removeVideoElement(){if(this._video.parentNode){this._video.parentNode.removeChild(this._video)}return this}},{key:"_createContext",value:function _createContext(){this._ctx=this._canvas.getContext("2d");return this}},{key:"_addVideoAttrs",value:function _addVideoAttrs(){this._video.setAttribute("autoplay","true");this._video.setAttribute("preload","auto");this._video.setAttribute("muted","true");this._video.setAttribute("playsinline","true");return this}},{key:"_clearSignalHandlers",value:function _clearSignalHandlers(){this.onRead.off();this.onError.off();return this}},{key:"_removeWorker",value:function _removeWorker(){if(this._worker){this._worker.terminate();this._worker=null}return this}},{key:"_stopStream",value:function _stopStream(){if(this._stream){this._stream.stop();this._stream=null}return this}},{key:"_createWorker",value:function _createWorker(){if(this._worker){return this}this._worker=wrapper.create(function(){return new QrCode},{libs:["/node_modules/qrcode-reader/dist/index.min.js?"+WavesApp.version]});return this}},{key:"_createPoll",value:function _createPoll(){var _this215=this;if(this._poll){return this}this._poll=new Poll(function(){return _this215._decodeImage()},function(result){return _this215._checkStop(result)},1e3/24);return this}},{key:"_removePoll",value:function _removePoll(){if(!this._poll){return this}this._poll.destroy();this._poll=null;return this}},{key:"_createStream",value:function _createStream(){var _this216=this;return mediaStream.create().then(function(stream){_this216._stream=stream;_this216._video.srcObject=stream.stream})}},{key:"_loadVideoSize",value:function _loadVideoSize(){var _this217=this;return new Promise(function(resolve){var handler=function handler(){_this217.size={width:_this217._video.videoWidth,height:_this217._video.videoHeight};var factor=_this217._maxSize&&Math.min(_this217._maxSize.width/_this217.size.width,_this217._maxSize.height/_this217.size.height)||1;_this217._factor=factor;_this217._video.style.transform="scale("+factor+") translate(-50%, -50%)";_this217._video.style.transformOrigin="0 0";_this217._canvas.width=_this217.size.width*(1/factor);_this217._canvas.height=_this217.size.height*(1/factor);_this217.onHasSize.dispatch(_extends({},_this217.size));_this217._video.removeEventListener("loadedmetadata",handler,false);resolve()};_this217._video.addEventListener("loadedmetadata",handler,false)})}},{key:"_decodeImage",value:function _decodeImage(){var _this218=this;if(!this.size||!this.size.width||!this.size.height){return null}var frame=this._getFrame();return this._worker.process(function(qr,_ref98){var frame=_ref98.frame;return new Promise(function(resolve){qr.callback=function(error,response){if(error){resolve(null)}else{resolve(response.result)}};qr.decode(frame)})},{frame:frame}).catch(function(e){return _this218._dispatchError(e)})}},{key:"_checkStop",value:function _checkStop(parsedQr){if(!parsedQr){return null}if(!this._readQrHash[parsedQr]){this._readQrHash[parsedQr]=1}else{this._readQrHash[parsedQr]++}if(this._readQrHash[parsedQr]>=this._readCount){this.onRead.dispatch(parsedQr);this.destroy()}}},{key:"_getFrame",value:function _getFrame(){var _ctx;var factor=1/this._factor;var size=170*factor;var width=this.size.width;var height=this.size.height;var deltaX=(width-size)/2;var deltaY=(height-size)/2;var args=[deltaX,deltaY,size,size,0,0,size,size];(_ctx=this._ctx).drawImage.apply(_ctx,[this._video].concat(args));return this._ctx.getImageData(0,0,size,size)}},{key:"_dispatchError",value:function _dispatchError(error){this.onError.dispatch(error);this.destroy()}}]);return QrCodeReadService}();return QrCodeReadService};factory.$inject=["mediaStream","Poll"];angular.module("app.ui").factory("QrCodeReadService",factory)})();(function(){"use strict";var controller=function controller($element,$scope,Base){var Radio=function(_Base62){_inherits(Radio,_Base62);_createClass(Radio,[{key:"checked",get:function get(){return this.radioWrap.getValue()===this.value}}]);function Radio(){_classCallCheck(this,Radio);var _this219=_possibleConstructorReturn(this,(Radio.__proto__||Object.getPrototypeOf(Radio)).call(this));_this219.radioWrap=null;_this219.input=null;_this219.name=null;_this219.value=null;_this219.class=null;return _this219}_createClass(Radio,[{key:"$postLink",value:function $postLink(){this.class=this.class||"btn btn-radio";this.input=$element.find("input");this.radioWrap.addRadio(this);this._setHandlers();this.observe("value",this._onChangeValueAttr);this._onChangeValueAttr()}},{key:"init",value:function init(){this._setChecked()}},{key:"_setHandlers",value:function _setHandlers(){var _this220=this;this.input.on("change",function(){_this220.radioWrap.setValue(_this220.value);$scope.$apply()})}},{key:"_onChangeValueAttr",value:function _onChangeValueAttr(){this._setChecked()}},{key:"_setChecked",value:function _setChecked(){this.input.prop("checked",this.checked)}}]);return Radio}(Base);return new Radio};controller.$inject=["$element","$scope","Base"];angular.module("app.ui").component("wRadio",{bindings:{value:"<",class:"@"},transclude:true,templateUrl:"modules/ui/directives/radio/radio.html",require:{radioWrap:"^wRadioWrap"},controller:controller})})();(function(){"use strict";var controller=function controller(Base){var RadioWrap=function(_Base63){_inherits(RadioWrap,_Base63);function RadioWrap(){_classCallCheck(this,RadioWrap);var _this221=_possibleConstructorReturn(this,(RadioWrap.__proto__||Object.getPrototypeOf(RadioWrap)).call(this));_this221.children=[];_this221.name="name-"+Math.random()+"-"+Date.now();_this221.observe("value",function(){_this221.children.forEach(function(item){return item.init()})});return _this221}_createClass(RadioWrap,[{key:"addRadio",value:function addRadio(item){item.name=this.name;this.children.push(item)}},{key:"getValue",value:function getValue(){return this.value}},{key:"setValue",value:function setValue(newValue){this.value=newValue}}]);return RadioWrap}(Base);return new RadioWrap};controller.$inject=["Base"];angular.module("app.ui").component("wRadioWrap",{bindings:{value:"=ngModel"},transclude:true,template:'<div ng-transclude class="btn-wrap btn-group"></div>',controller:controller})})();(function(){"use strict";var controller=function controller(Base,$element){var ResponsiveMenu=function(_Base64){_inherits(ResponsiveMenu,_Base64);function ResponsiveMenu(){_classCallCheck(this,ResponsiveMenu);var _this222=_possibleConstructorReturn(this,(ResponsiveMenu.__proto__||Object.getPrototypeOf(ResponsiveMenu)).call(this));_this222.menuList=[];return _this222}_createClass(ResponsiveMenu,[{key:"registerItem",value:function registerItem(item){this.menuList.push(item)}},{key:"menuToggle",value:function menuToggle(){$element.find(".navigation-menu").toggleClass("active");$element.find(".navigation-menu-overlay").toggleClass("active")}},{key:"clickItem",value:function clickItem(){$element.find(".navigation-menu").removeClass("active")}},{key:"setActive",value:function setActive(item){this.activeMenu=item.value;this.clickItem()}}]);return ResponsiveMenu}(Base);return new ResponsiveMenu};controller.$inject=["Base","$element"];angular.module("app.ui").component("wResponsiveMenu",{templateUrl:"modules/ui/directives/responsiveMenu/responsiveMenu.html",bindings:{activeMenu:"="},transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$element,$attrs,$scope,utils,$state,state){var ResponsiveMenuItem=function(_Base65){_inherits(ResponsiveMenuItem,_Base65);function ResponsiveMenuItem(){_classCallCheck(this,ResponsiveMenuItem);var _this223=_possibleConstructorReturn(this,(ResponsiveMenuItem.__proto__||Object.getPrototypeOf(ResponsiveMenuItem)).call(this));_this223.parent=null;_this223.value=null;$element.on("click",function(e){e.stopPropagation();if(_this223.value!=null){_this223.parent.setActive(_this223);$scope.$apply()}});return _this223}_createClass(ResponsiveMenuItem,[{key:"$postLink",value:function $postLink(){var _this224=this;this.parent.registerItem(this);if(this.value!=null&&$attrs.activeByState){this.receive(state.signals.changeRouterStateSuccess,this._onChangeState,this);this._onChangeState()}else if(this.value!=null){this.receive(utils.observe(this.parent,"activeMenu"),function(){$element.toggleClass("active",_this224.parent.activeMenu===_this224.value)});$element.toggleClass("active",this.parent.activeMenu===this.value)}}},{key:"_onChangeState",value:function _onChangeState(){var id=$state.$current.name.slice($state.$current.name.lastIndexOf(".")+1).replace("-demo","");var path=WavesApp.stateTree.getPath(id);if(path){var active=this.value===path[path.length-1];$element.toggleClass("active",active);$element.toggleClass("has-active",path.indexOf(this.value)!==-1&&!active)}}}]);return ResponsiveMenuItem}(Base);return new ResponsiveMenuItem};controller.$inject=["Base","$element","$attrs","$scope","utils","$state","state"];angular.module("app.ui").component("wResponsiveMenuItem",{template:'<div class="responsive-menu-item-content" ng-transclude></div>',require:{parent:"^wResponsiveMenu"},bindings:{value:"@"},transclude:true,controller:controller})})();(function(){"use strict";var _require21=require("@waves/signature-adapter"),SIGN_TYPE=_require21.SIGN_TYPE;var BASE_64_PREFIX="base64:";var _require22=require("ts-utils"),uniqueId=_require22.uniqueId;var _require23=require("data-service"),fetch=_require23.fetch;var controller=function controller(Base,waves,$scope,user,balanceWatcher){var ScriptTxForm=function(_Base66){_inherits(ScriptTxForm,_Base66);function ScriptTxForm(){_classCallCheck(this,ScriptTxForm);var _this225=_possibleConstructorReturn(this,(ScriptTxForm.__proto__||Object.getPrototypeOf(ScriptTxForm)).call(this));_this225.state=Object.create(null);_this225.script="";_this225.isValid=true;_this225.onSuccess=null;_this225.hasScript=user.hasScript();_this225.requiredError=false;_this225.validationError=false;_this225.placeHolderLiteral=user.hasScript()?"change":"create";_this225.validationPending=false;_this225.hasFee=false;_this225._validateXHR=null;_this225._activeXHR_Id=null;_this225.observe("state",_this225._onChangeState);_this225.observe("script",_this225._onChangeScript);_this225.receive(balanceWatcher.change,function(){_this225._currentHasFee();$scope.$apply()});if(!user.hasScript()){_this225.observe("script",_this225._updateRequiredErrorState);_this225._updateRequiredErrorState()}_this225.observe(["requiredError","validationError"],_this225._updateValidationState);_this225._updateValidationState();_this225._currentHasFee();return _this225}_createClass(ScriptTxForm,[{key:"$postLink",value:function $postLink(){this._initScript()}},{key:"getSignable",value:function getSignable(){var tx=waves.node.transactions.createTransaction(_extends({},this.state.tx,{type:SIGN_TYPE.SET_SCRIPT}));var signable=ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx});return signable}},{key:"next",value:function next(signable){this.onSuccess({signable:signable})}},{key:"_currentHasFee",value:function _currentHasFee(){if(!this.state||!this.state.tx||!this.state.tx.fee){return null}var balanceHash=balanceWatcher.getBalance();var fee=this.state.tx.fee;this.hasFee=balanceHash[fee.asset.id]&&balanceHash[fee.asset.id].gte(fee)}},{key:"_updateRequiredErrorState",value:function _updateRequiredErrorState(){this.requiredError=!this.script.replace(BASE_64_PREFIX,"")}},{key:"_updateValidationState",value:function _updateValidationState(){this.isValid=!this.validationError&&!this.requiredError}},{key:"_initScript",value:function _initScript(){var script=(this.state&&this.state.tx&&this.state.tx.script||BASE_64_PREFIX).replace(BASE_64_PREFIX,"");if(this.script!==script){this.script=script}else{this._onChangeScript()}this.state.tx.script=script}},{key:"_onChangeState",value:function _onChangeState(){var _this226=this;var state=this.state;if(!state.tx){state.tx=Object.create(null)}if(!state.tx.fee){waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.SET_SCRIPT}).then(function(fee){state.tx.fee=fee;_this226._currentHasFee();$scope.$apply()})}}},{key:"_onChangeScript",value:function _onChangeScript(){var script=this.script.replace(BASE_64_PREFIX,"");this._clearActiveValidationXHR();this._createActiveValidationXHR(script)}},{key:"_clearActiveValidationXHR",value:function _clearActiveValidationXHR(){this._activeXHR_Id=null;this._validateXHR=null;this.validationPending=false}},{key:"_createActiveValidationXHR",value:function _createActiveValidationXHR(code){var _this227=this;if(code===""){this.validationError=false;this.state.tx.script="";return null}this.validationPending=true;var id=uniqueId("script-form-validate");this._activeXHR_Id=id;this._validateXHR=fetch(user.getSetting("network.node")+"/utils/script/estimate",{method:"POST",body:code}).then(function(){if(_this227._activeXHR_Id!==id){return null}_this227._clearActiveValidationXHR();_this227.validationError=false;_this227.state.tx.script=""+BASE_64_PREFIX+code}).catch(function(){if(_this227._activeXHR_Id!==id){return null}_this227._clearActiveValidationXHR();_this227.validationError=true;_this227.state.tx.script=BASE_64_PREFIX}).then(function(){$scope.$apply()})}}]);return ScriptTxForm}(Base);return new ScriptTxForm};controller.$inject=["Base","waves","$scope","user","balanceWatcher"];angular.module("app.ui").component("wScriptTxForm",{controller:controller,scope:false,bindings:{state:"<",onSuccess:"&"},templateUrl:"modules/ui/directives/scriptTxForm/script-form.html"})})();(function(){"use strict";var directive=function directive(Base){return{scope:{value:"<"},require:{select:"^wSelect"},transclude:true,template:'<div class="option" ng-transclude></div>',link:function link($scope,$element,$attrs,_ref99,$transclude){var select=_ref99.select;var tsUtils=require("ts-utils");var Option=function(_Base67){_inherits(Option,_Base67);function Option(){_classCallCheck(this,Option);var _this228=_possibleConstructorReturn(this,(Option.__proto__||Object.getPrototypeOf(Option)).call(this));_this228.wSelect=select;_this228.value=$scope.value;_this228.changeValue=new tsUtils.Signal;_this228._setHandlers();_this228.wSelect.registerOption(_this228);return _this228}_createClass(Option,[{key:"getContent",value:function getContent(){var $element=$(Option._getContentHTML());$transclude($scope.$parent,function($clone){$element.append($clone)});return $element}},{key:"onClick",value:function onClick(){this.wSelect.setActive(this);$scope.$apply()}},{key:"setActive",value:function setActive(active){var index=this.wSelect.getOptionIndex(this);$element.css("order",active?-index:0).toggleClass("active",active)}},{key:"_setHandlers",value:function _setHandlers(){var _this229=this;this.observe("value",function(){var value=_this229.value;if(tsUtils.isEmpty(value)){throw new Error("Value is empty!")}_this229.changeValue.dispatch(_this229)});$element.on("click",this.onClick.bind(this))}}],[{key:"_getContentHTML",value:function _getContentHTML(){return'<div class="title-content"></div>'}}]);return Option}(Base);return new Option}}};directive.$inject=["Base"];angular.module("app.ui").directive("wOption",directive)})();(function(){"use strict";var controller=function controller(Base,ComponentList,$element,utils,$scope){var tsUtils=require("ts-utils");var $_DOCUMENT=$(document);var Select=function(_Base68){_inherits(Select,_Base68);function Select(){_classCallCheck(this,Select);var _this230=_possibleConstructorReturn(this,(Select.__proto__||Object.getPrototypeOf(Select)).call(this));_this230._options=new ComponentList;_this230._activeNode=null;_this230._selectList=null;_this230._select=null;_this230.isOpend=false;_this230.disabled=false;_this230._render=utils.debounce(function(){_this230._initializeSelected();$scope.$digest()},100);_this230.observe("disabled",function(){$element.toggleClass("disabled",!!_this230.disabled)});return _this230}_createClass(Select,[{key:"$postLink",value:function $postLink(){this._select=$element.find(".select:first");this._activeNode=this._select.find(".title:first");this._selectList=this._select.find(".select-list:first");this._render();this._setHandlers()}},{key:"registerOption",value:function registerOption(option){this._options.add(option);this._render()}},{key:"getOptionIndex",value:function getOptionIndex(option){return this._options.components.indexOf(option)}},{key:"setActive",value:function setActive(option){this._activateTransactionMode=true;this._options.forEach(function(item){if(item!==option){item.setActive(false)}});this._activeNode.empty();this.ngModel=option.value;this._activeNode.append(option.getContent());option.setActive(true);this._toggleList(false);this._activateTransactionMode=false}},{key:"_setHandlers",value:function _setHandlers(){var _this231=this;this.listenEventEmitter(this._activeNode,"click",function(){return _this231._onClick()});this.observe("disabled",this._onChangeDisabled);this.receive(this._options.signals.remove,this._render,this);this.receive(this._options.signals.add,this._render,this);this.observe("ngModel",this._render)}},{key:"_initializeSelected",value:function _initializeSelected(){if(!this._options.length){return null}if(tsUtils.isEmpty(this.ngModel)){this.setActive(this._options.first());return null}var _options$where$compon=_slicedToArray(this._options.where({value:this.ngModel}).components,1),active=_options$where$compon[0];if(active){this.setActive(active)}else{this.setActive(this._options.first());$scope.$apply()}}},{key:"_onClick",value:function _onClick(){if(!this.disabled){this._toggleList()}}},{key:"_checkOutClick",value:function _checkOutClick(event){if($(event.target).closest($element).length===0){this._toggleList(false)}}},{key:"_onChangeDisabled",value:function _onChangeDisabled(){this._select.toggleClass("disabled",this.disabled);this._toggleList(false)}},{key:"_toggleList",value:function _toggleList(state){var _this232=this;var targetState=tsUtils.isEmpty(state)?!this.isOpend:state;if(targetState!==this.isOpend){this.isOpend=targetState;this._select.toggleClass("expanded",this.isOpend);this._animate();if(this.isOpend){this.listenEventEmitter($_DOCUMENT,"click",function(e){return _this232._checkOutClick(e)})}else{this.stopListenEventEmitter("click",$_DOCUMENT)}}}},{key:"_animate",value:function _animate(){var _this233=this;var fromCss={height:0,top:this.upDirection?0:undefined};if(this.isOpend){this._selectList.css({display:"flex",height:"auto"});var height=this._selectList.outerHeight();var _top=this.upDirection?-height:undefined;var toCss={height:height,top:_top};this._selectList.css(fromCss);return utils.animate(this._selectList,toCss,{duration:100})}else{return utils.animate(this._selectList,fromCss,{duration:100}).then(function(){_this233._selectList.css("display","none")})}}}]);return Select}(Base);return new Select};controller.$inject=["Base","ComponentList","$element","utils","$scope"];angular.module("app.ui").component("wSelect",{bindings:{ngModel:"=",disabled:"<",upDirection:"<"},templateUrl:"modules/ui/directives/select/select.html",transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base,user,$scope){var Sign=function(_Base69){_inherits(Sign,_Base69);_createClass(Sign,[{key:"isShown",get:function get(){return user.userType&&user.userType!=="seed"&&this.signable}}]);function Sign(){_classCallCheck(this,Sign);var _this234=_possibleConstructorReturn(this,(Sign.__proto__||Object.getPrototypeOf(Sign)).call(this));_this234.userType=user.userType;_this234.isLedger=user.userType==="ledger";_this234.isKeeper=user.userType==="wavesKeeper";_this234.signPending=false;_this234.signable=null;_this234.signError=false;_this234.id="";_this234.observe("signable",_this234._onChangeSignable);return _this234}_createClass(Sign,[{key:"trySign",value:function trySign(){var _this235=this;this.signError=false;this.signPending=true;return this.signable.addMyProof().then(function(signature){_this235.signPending=false;_this235.onSuccess({signature:signature})}).catch(function(){_this235.signPending=false;_this235.signError=true}).then(function(){$scope.$apply()})}},{key:"cancel",value:function cancel(){this.signError=false;this.signPending=false;this.onCancel()}},{key:"_onChangeSignable",value:function _onChangeSignable(){var _this236=this;var signable=this.signable;if(signable){signable.getId().then(function(id){_this236.id=id;$scope.$apply()});this.trySign()}else{this.signPending=false;this.id=""}}}]);return Sign}(Base);return new Sign};controller.$inject=["Base","user","$scope"];angular.module("app.ui").component("wSign",{scope:false,bindings:{signable:"<",onSuccess:"&",onCancel:"&"},templateUrl:"modules/ui/directives/sign/sign.html",controller:controller})})();(function(){"use strict";var controller=function controller(Base,$scope,$element){var SignButton=function(_Base70){_inherits(SignButton,_Base70);function SignButton(){_classCallCheck(this,SignButton);var _this237=_possibleConstructorReturn(this,(SignButton.__proto__||Object.getPrototypeOf(SignButton)).call(this));_this237.disabled=false;_this237.signable=null;_this237.onSuccess=null;_this237.onCancel=null;_this237.onClick=null;_this237.signPending=false;_this237.ns=null;_this237.observe("ns",_this237._updateNs);_this237._updateNs();return _this237}_createClass(SignButton,[{key:"onSignSuccess",value:function onSignSuccess(){this.signPending=false;var signable=this.signable;this.signable=null;this.onSuccess({signable:signable})}},{key:"onSignCancel",value:function onSignCancel(){this.signPending=false;this.signable=null;this.onCancel()}},{key:"onClickButton",value:function onClickButton(){var _this238=this;var some=this.onClick();if(!some){throw new Error("Has no signable!")}if(SignButton.isPromiseLike(some)){some.then(function(signable){_this238.signable=signable;$scope.$apply()})}else{this.signable=some}this.signPending=true}},{key:"_getNs",value:function _getNs(){return this.ns||"app.ui"}},{key:"_updateNs",value:function _updateNs(){$element.attr("w-i18n-ns",this._getNs())}}],[{key:"isPromiseLike",value:function isPromiseLike(some){return some&&some.then&&typeof some.then==="function"}}]);return SignButton}(Base);return new SignButton};controller.$inject=["Base","$scope","$element"];angular.module("app.ui").component("wSignButton",{controller:controller,scope:false,bindings:{ns:"<",disabled:"<",onClick:"&",onSuccess:"&",onCancel:"&"},transclude:true,templateUrl:"modules/ui/directives/signButton/sign-button.html"})})();(function(){"use strict";var PATH="modules/ui/directives/smartTable/templates";var SEARCH_KEY="searchQuery";var controller=function controller(Base,$scope,$element,decorators,$templateRequest,$compile,utils,stService,i18n){var _dec18,_dec19,_dec20,_desc10,_value10,_class27;var tsUtils=require("ts-utils");var SmartTable=(_dec18=decorators.async(),_dec19=decorators.async(),_dec20=decorators.async(),_class27=function(_Base71){_inherits(SmartTable,_Base71);function SmartTable(){_classCallCheck(this,SmartTable);var _this239=_possibleConstructorReturn(this,(SmartTable.__proto__||Object.getPrototypeOf(SmartTable)).call(this));_this239.data=null;_this239.headerInfo=null;_this239._filterList=[];_this239.options=null;_this239._headerData=null;_this239._header=null;_this239._visibleList=[];_this239._filtredList=[];_this239._headerCellPromise=$templateRequest(PATH+"/headerCell.html");_this239.observe("headerInfo",_this239._onChangeHeader);_this239.observe("options",_this239._onChangeOptions);_this239.observeOnce("_headerData",function(){_this239.observe(["_headerData","data","filterList","options"],_this239.render);_this239.render()});stService.register(_this239);return _this239}_createClass(SmartTable,[{key:"$postLink",value:function $postLink(){this._header=$element.find(".smart-table__w-thead")}},{key:"$onDestroy",value:function $onDestroy(){stService.unregister(this);_get(SmartTable.prototype.__proto__||Object.getPrototypeOf(SmartTable.prototype),"$onDestroy",this).call(this)}},{key:"getIdByIndex",value:function getIdByIndex(index){return this.headerInfo[index].id}},{key:"_onChangeOptions",value:function _onChangeOptions(_ref100){var _this240=this;var value=_ref100.value,prev=_ref100.prev;this._dropOldOptions(prev);utils.toArray(value&&value.filter||[]).forEach(function(item){_this240._filterList.push(item)})}},{key:"_dropOldOptions",value:function _dropOldOptions(oldOptions){var _this241=this;if(!oldOptions){return null}utils.toArray(oldOptions.filter).forEach(function(filter){_this241._filterList=_this241._filterList.filter(function(f){return f!==filter})})}},{key:"_applySort",value:function _applySort(){this._sort();this._draw()}},{key:"render",value:function render(){this._visibleList=[];this._filtredList=[];if(this.data&&this.data.length){this._filter();this._sort()}this._draw()}},{key:"_onChangeHeader",value:function _onChangeHeader(){var _this242=this;var headers=this.headerInfo;var defaultNs=i18n.getNs($element);if(!headers||!headers.length){return null}var $tr=this._header.find(".smart-table__row");$tr.empty();this._clearHeader();Promise.all(this.headerInfo.map(this._remapHeaders,this)).then(function(headerDataList){headerDataList.forEach(function(data){var descriptorHash=Object.create(null);if(data.sort){data.$element.on("click",".sort-by",_this242._getClickHeaderHandler(data));Object.assign(descriptorHash,{sorting:{get:function get(){return data.sorting},enumerable:false,configurable:false},isAsc:{get:function get(){return data.isAsc},enumerable:false,configurable:false}})}if(data.search){_this242._filterList.push(data.search);descriptorHash[SEARCH_KEY]={get:function get(){return data.searchQuery},set:function set(value){if(value!==data.searchQuery){data.searchQuery=value;_this242.render()}}}}data.$scope.title=data.title||Object.create(null);data.$scope.title.ns=data.$scope.title&&data.$scope.title.ns||defaultNs;data.$scope.sort=!!data.sort;data.$scope.search=!!data.search;data.$scope.placeholder=data.placeholder;Object.defineProperties(data.$scope,descriptorHash);$tr.append(data.$element)});_this242._headerData=headerDataList;$scope.$digest()})}},{key:"_clearHeader",value:function _clearHeader(){var headerData=this._headerData;if(headerData&&headerData.length){headerData.forEach(function(item){item.$scope.$destroy()})}this._headerData=[]}},{key:"_remapHeaders",value:function _remapHeaders(header){var id=header.id,title=header.title;var valuePath=header.valuePath||id;var $headerScope=$scope.$new(true);var xhr=header.templatePath?$templateRequest(header.templatePath):this._headerCellPromise;var sorting=header.sortActive||false;Object.assign($headerScope,_extends({},header.scopeData||Object.create(null)),{id:id});return xhr.then(function(template){var $element=$compile(template)($headerScope);return{id:id,title:title,valuePath:valuePath,sort:SmartTable._getSortFunction(header.sort,valuePath),search:SmartTable._getSearchFunction($headerScope,header.search,valuePath),sorting:sorting,isAsc:tsUtils.isEmpty(header.isAsc)?true:header.isAsc,searchQuery:"",$scope:$headerScope,$element:$element,placeholder:header.placeholder||"filter"}})}},{key:"_getClickHeaderHandler",value:function _getClickHeaderHandler(headerData){var _this243=this;return function(){if(headerData.sorting){headerData.isAsc=!headerData.isAsc}else{_this243._headerData.forEach(function(item){item.sorting=false});headerData.sorting=true;headerData.isAsc=false}if(_this243.name){stService.draw.once(function(){stService.sort.dispatch({name:_this243.name,isAsc:headerData.isAsc})})}_this243._applySort()}}},{key:"_sort",value:function _sort(){var header=tsUtils.find(this._headerData||[],{sorting:true});if(header){this._visibleList=header.sort(this._filtredList.slice(),header.isAsc)}else{this._visibleList=this._filtredList.slice()}}},{key:"_filter",value:function _filter(){var filters=this._getFilterList();if(!filters||!filters.length){this._filtredList=this.data.slice();return null}this._filtredList=filters.reduce(function(result,filter){return filter(result)},this.data.slice())}},{key:"_getFilterList",value:function _getFilterList(){return utils.toArray(this._filterList||[])}},{key:"_draw",value:function _draw(){var _this244=this;$scope.$parent.$data=this._visibleList;$scope.$parent.$digest();$scope.$parent.$$postDigest(function(){if(_this244.name){stService.draw.dispatch(_this244.name)}})}}],[{key:"_getSortFunction",value:function _getSortFunction(sort,valuePath){if(typeof sort==="function"){return sort}return sort&&function(list,isAsc){var method=isAsc?"asc":"desc";var getValue=function getValue(item){return tsUtils.get({item:item},valuePath)};return list.sort(utils.comparators.process(getValue).smart[method])}||null}},{key:"_getSearchFunction",value:function _getSearchFunction($scope,search,valuePath){var defaultSearchFunction=function defaultSearchFunction($scope,key,list){var query=$scope[key];if(!query){return list}return list.filter(function(item){var value=tsUtils.get({item:item},valuePath);return String(value).toLowerCase().indexOf(query.toLowerCase())!==-1})};if(typeof search==="function"){return function(list){return search($scope,SEARCH_KEY,list)}}else{return search&&function(list){return defaultSearchFunction($scope,SEARCH_KEY,list)}||null}}}]);return SmartTable}(Base),_applyDecoratedDescriptor(_class27.prototype,"render",[_dec18],Object.getOwnPropertyDescriptor(_class27.prototype,"render"),_class27.prototype),_applyDecoratedDescriptor(_class27.prototype,"_onChangeHeader",[_dec19],Object.getOwnPropertyDescriptor(_class27.prototype,"_onChangeHeader"),_class27.prototype),_applyDecoratedDescriptor(_class27.prototype,"_draw",[_dec20],Object.getOwnPropertyDescriptor(_class27.prototype,"_draw"),_class27.prototype),_class27);return new SmartTable};controller.$inject=["Base","$scope","$element","decorators","$templateRequest","$compile","utils","stService","i18n"];angular.module("app.ui").component("wSmartTable",{bindings:{name:"@",data:"<",options:"<",headerInfo:"<"},templateUrl:PATH+"/table.html",transclude:true,controller:controller})})();(function(){"use strict";var directive=function directive(){return{require:{parent:"?^wTableRow"},replace:true,template:'<div class="smart-table__cell" ng-transclude></div>',transclude:true,link:{post:function post($scope,$element,_,_ref101){var parent=_ref101.parent;var idAttrName="data-column-id";if(parent){parent.registerCell($element,$scope.id)}else{$element.attr(idAttrName,$scope.id)}}}}};angular.module("app.ui").directive("wTableCell",directive)})();(function(){"use strict";var Row=function(){function Row($element,stService){_classCallCheck(this,Row);this.stService=stService;this._children=[];this.parentCid=$element.closest("[data-cid]").attr("data-cid")}_createClass(Row,[{key:"registerCell",value:function registerCell($element,id){this._children.push({$element:$element,id:id});this._children.forEach(this._updateId,this)}},{key:"_updateId",value:function _updateId(_ref102){var $element=_ref102.$element,id=_ref102.id;var index=$element.index();var idAttrName="data-column-id";var element=$element.get(0);if(element.parentElement){$element.attr(idAttrName,this.stService.getTableByCid(this.parentCid).getIdByIndex(index))}else{$element.attr(idAttrName,id)}}}]);return Row}();Row.$inject=["$element","stService"];angular.module("app.ui").directive("wTableRow",function(){return{bindings:{},replace:true,template:'<div class="smart-table__row" ng-transclude></div>',transclude:true,controller:Row}})})();(function(){"use strict";var factory=function factory(){var tsUtils=require("ts-utils");var STService=function(){function STService(){_classCallCheck(this,STService);this._hash=Object.create(null);this.draw=new tsUtils.Signal;this.sort=new tsUtils.Signal}_createClass(STService,[{key:"render",value:function render(name){var _this245=this;Object.keys(this._hash).forEach(function(cid){if(!name||_this245._hash[cid].name===name){_this245._hash[cid].render()}})}},{key:"register",value:function register(table){this._hash[table.cid]=table}},{key:"getTableByCid",value:function getTableByCid(cid){return this._hash[cid]}},{key:"unregister",value:function unregister(table){delete this._hash[table.cid]}}]);return STService}();return new STService};factory.$inject=[];angular.module("app.ui").factory("stService",factory)})();(function(){"use strict";var controller=function controller(Base,$element){var Step=function(_Base72){_inherits(Step,_Base72);function Step(){_classCallCheck(this,Step);var _this246=_possibleConstructorReturn(this,(Step.__proto__||Object.getPrototypeOf(Step)).call(this));_this246.id=null;_this246.list=null;_this246.state=false;return _this246}_createClass(Step,[{key:"$postLink",value:function $postLink(){this.list.registerStep(this);$element.attr("step",this.id)}},{key:"displayToggle",value:function displayToggle(state){this.state=state}}]);return Step}(Base);return new Step};controller.$inject=["Base","$element"];angular.module("app.ui").component("wStep",{bindings:{id:"@stepId"},require:{list:"^wStepByStep"},template:'<div ng-if="$ctrl.state" ng-transclude></div>',transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller(Base,$element,ComponentList,$scope){var StepByStep=function(_Base73){_inherits(StepByStep,_Base73);function StepByStep(){_classCallCheck(this,StepByStep);var _this247=_possibleConstructorReturn(this,(StepByStep.__proto__||Object.getPrototypeOf(StepByStep)).call(this));_this247._steps=new ComponentList;_this247.activeStep=null;_this247.observe("activeStep",_this247._onChangeStep);$element.on("click","[w-step-next]",function(){_this247._setStep(_this247._getStepIndex()+1);$scope.$apply()});$element.on("click","[w-step-prev]",function(){_this247._setStep(_this247._getStepIndex()-1);$scope.$apply()});return _this247}_createClass(StepByStep,[{key:"registerStep",value:function registerStep(step){var id=step.id||this._steps.length;step.id=id;this._steps.push(step);if(this.activeStep==null){this.activeStep=step.id}this._onChangeStep()}},{key:"_onChangeStep",value:function _onChangeStep(){var _this248=this;this._steps.forEach(function(step){step.displayToggle(_this248.activeStep===step.id)})}},{key:"_getStepIndex",value:function _getStepIndex(){return this._steps.index(this.activeStep,"id")}},{key:"_setStep",value:function _setStep(index){if(this._steps.components[index]){this.activeStep=this._steps.components[index].id}}}]);return StepByStep}(Base);return new StepByStep};controller.$inject=["Base","$element","ComponentList","$scope"];angular.module("app.ui").component("wStepByStep",{bindings:{activeStep:"="},template:'<div class="step-list" ng-transclude></div>',transclude:true,controller:controller})})();(function(){"use strict";var controller=function controller($element){var Cell=function(){function Cell(){_classCallCheck(this,Cell);this.row=null}_createClass(Cell,[{key:"$postLink",value:function $postLink(){this.row.registerCell(this)}},{key:"setIndex",value:function setIndex(index){$element.addClass("cell-"+index)}},{key:"getWidth",value:function getWidth(){return $element.width()}}]);return Cell}();return new Cell};controller.$inject=["$element"];angular.module("app.ui").component("wCell",{require:{row:"^wRow"},transclude:true,template:'<div ng-transclude class="table-cell"></div>',controller:controller})})();(function(){"use strict";var controller=function controller(){var Row=function(){function Row(){_classCallCheck(this,Row);this.table=null;this.selectValue=null;this.selected=false;this.cells=[]}_createClass(Row,[{key:"$postLink",value:function $postLink(){this.table.registerRow(this)}},{key:"registerCell",value:function registerCell(cell){var index=this.cells.length;cell.setIndex(index);this.cells.push(cell)}},{key:"select",value:function select(){if(this.selectValue!=null){this.table.selected=this.selectValue}}}]);return Row}();return new Row};controller.$inject=[];angular.module("app.ui").component("wRow",{bindings:{selectValue:"@"},require:{table:"^wTable"},transclude:true,template:'<div ng-click="$ctrl.select()" ng-transclude ng-class="{selected: $ctrl.selected}"'+' class="table-row"></div>',controller:controller})})();(function(){"use strict";angular.module("app.ui").component("wTHead",{require:{table:"^wTable"},transclude:true,template:'<div ng-transclude class="table-thead"></div>'})})();(function(){"use strict";var controller=function controller($element,Base,StyleManager){var Table=function(_Base74){_inherits(Table,_Base74);function Table(){_classCallCheck(this,Table);var _this249=_possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).call(this));_this249._children=[];_this249.selected=null;_this249.cid=tsUtils.uniqueId("tableView");$element.addClass(_this249.cid);_this249.styleManager=new StyleManager(_this249.cid);_this249.observe("selected",_this249._onChangeSelected);return _this249}_createClass(Table,[{key:"$postLink",value:function $postLink(){this._onChangeSelected();this._initColumnWidths()}},{key:"$onDestroy",value:function $onDestroy(){this.styleManager.destroy()}},{key:"registerRow",value:function registerRow(row){this._children.push(row);this._setRowSelected(row)}},{key:"_onChangeSelected",value:function _onChangeSelected(){this._children.forEach(this._setRowSelected,this)}},{key:"_initColumnWidths",value:function _initColumnWidths(){var columnsCount=this._children[0].cells.length;var width=100/columnsCount;for(var i=0;i<columnsCount;i++){this.styleManager.addStyle(".cell-"+i,{width:width+"%"})}}},{key:"_setRowSelected",value:function _setRowSelected(row){row.selected=row.selectValue!=null&&row.selectValue===this.selected}}]);return Table}(Base);return new Table};controller.$inject=["$element","Base","StyleManager"];angular.module("app.ui").component("wTable",{bindings:{selected:"="},transclude:true,template:'<div class="table" ng-transclude></div>',controller:controller})})();(function(){"use strict";var controller=function controller(Base){var tsUtils=require("ts-utils");var Tab=function(_Base75){_inherits(Tab,_Base75);function Tab(){_classCallCheck(this,Tab);var _this250=_possibleConstructorReturn(this,(Tab.__proto__||Object.getPrototypeOf(Tab)).call(this));_this250.selected=false;_this250.wTabs=null;_this250.title="";_this250.id="";_this250.changeId=new tsUtils.Signal;_this250.observe("id",function(){var id=_this250.id;if(!id){throw new Error("Tab without id!")}_this250.changeId.dispatch(_this250)});return _this250}_createClass(Tab,[{key:"$onInit",value:function $onInit(){this.wTabs.addTab(this)}}]);return Tab}(Base);return new Tab};controller.$inject=["Base"];angular.module("app.ui").component("wTab",{transclude:true,template:'<div ng-if="$ctrl.selected" class="tab-tem" ng-transclude></div>',controller:controller,require:{wTabs:"^wTabs"},bindings:{title:"<titleName",id:"<"}})})();(function(){"use strict";var controller=function controller(Base,ComponentList){var Tabs=function(_Base76){_inherits(Tabs,_Base76);function Tabs(){_classCallCheck(this,Tabs);var _this251=_possibleConstructorReturn(this,(Tabs.__proto__||Object.getPrototypeOf(Tabs)).call(this));_this251.tabs=new ComponentList;_this251.ngModel=null;return _this251}_createClass(Tabs,[{key:"addTab",value:function addTab(tab){this.tabs.push(tab)}},{key:"$postLink",value:function $postLink(){this._initializeSelected();this.receive(this.tabs.signals.remove,this._initializeSelected,this);this.receive(this.tabs.signals.add,this._initializeSelected,this);this.observe("ngModel",this._initializeSelected)}},{key:"select",value:function select(tab){this.tabs.forEach(function(myTab){myTab.selected=false});tab.selected=true;this.ngModel=tab.id}},{key:"_initializeSelected",value:function _initializeSelected(){if(!this.tabs.length){return null}if(this.ngModel==null){this.select(this.tabs.first());return null}var _tabs$where$component=_slicedToArray(this.tabs.where({id:this.ngModel}).components,1),active=_tabs$where$component[0];if(active){this.select(active)}else{this.select(this.tabs.first())}}}]);return Tabs}(Base);return new Tabs};controller.$inject=["Base","ComponentList"];angular.module("app.ui").component("wTabs",{transclude:true,templateUrl:"modules/ui/directives/tabs/tabs.html",controller:controller,bindings:{ngModel:"="}})})();(function(){"use strict";var directive=function directive(){return{scope:false,require:"^^wToggleClassContainer",restrict:"A",link:function link($scope,$element,$attrs,$container){$element.on("click",function(){$container.addClass($element.attr("w-toggle-class")||"active")})}}};angular.module("app.ui").directive("wAddClass",directive)})();(function(){"use strict";var directive=function directive(){return{scope:false,require:"^^wToggleClassContainer",restrict:"A",link:function link($scope,$element,$attrs,$container){$element.on("click",function(){$container.toggleClass($element.attr("w-toggle-class")||"active")})}}};angular.module("app.ui").directive("wToggleClass",directive)})();(function(){"use strict";var controller=function controller($element){var ToggleClassContainer=function(){function ToggleClassContainer(){_classCallCheck(this,ToggleClassContainer)}_createClass(ToggleClassContainer,[{key:"toggleClass",value:function toggleClass(className){$element.toggleClass(className)}},{key:"addClass",value:function addClass(className){$element.addClass(className)}}]);return ToggleClassContainer}();return new ToggleClassContainer};controller.$inject=["$element"];var directive=function directive(){return{scope:false,restrict:"A",controller:controller}};angular.module("app.ui").directive("wToggleClassContainer",directive)})();(function(){"use strict";var PATH="modules/ui/directives/transaction/types";var tsUtils=require("ts-utils");var _require24=require("@waves/data-entities"),Money=_require24.Money;var controller=function controller(Base,$filter,modalManager,notification,waves,user,baseAssetService,dexService,$scope){var _require25=require("@waves/signature-adapter"),SIGN_TYPE=_require25.SIGN_TYPE;var Transaction=function(_Base77){_inherits(Transaction,_Base77);function Transaction(){_classCallCheck(this,Transaction);return _possibleConstructorReturn(this,(Transaction.__proto__||Object.getPrototypeOf(Transaction)).apply(this,arguments))}_createClass(Transaction,[{key:"$postLink",value:function $postLink(){var _this253=this;this.templateUrl=PATH+"/"+this.transaction.templateType+".html";this.time=$filter("date")(this.transaction.timestamp,this.datePattern||"HH:mm");this.shownAddress=this.transaction.shownAddress;this.typeName=this.transaction.typeName;this.isScam=!!WavesApp.scam[this.transaction.assetId];if(this.transaction.amount&&this.transaction.amount instanceof ds.wavesDataEntities.Money){baseAssetService.convertToBaseAsset(this.transaction.amount).then(function(baseMoney){_this253.mirrorBalance=baseMoney;$scope.$digest()})}var TYPES=waves.node.transactions.TYPES;switch(this.typeName){case TYPES.BURN:case TYPES.ISSUE:case TYPES.REISSUE:this.tokens();break;case TYPES.EXCHANGE_BUY:case TYPES.EXCHANGE_SELL:this.exchange();break;case TYPES.SPONSORSHIP_START:case TYPES.SPONSORSHIP_STOP:this.sponsored();break;case TYPES.SPONSORSHIP_FEE:this.sponsoredFee();break;default:}}},{key:"sponsoredFee",value:function sponsoredFee(){this.isScam=false}},{key:"sponsored",value:function sponsored(){this.sponsorshipFee=this.transaction.minSponsoredAssetFee;this.titleAssetName=this.getAssetName(tsUtils.get(this.transaction,"minSponsoredAssetFee.asset"))}},{key:"exchange",value:function exchange(){this.totalPrice=dexService.getTotalPrice(this.transaction.amount,this.transaction.price)}},{key:"tokens",value:function tokens(){this.titleAssetName=this.getAssetName(tsUtils.get(this.transaction,"amount.asset")||tsUtils.get(this.transaction,"quantity.asset")||this.transaction);this.name=tsUtils.get(this.transaction,"amount.asset.name")||tsUtils.get(this.transaction,"quantity.asset.name");var amount=tsUtils.get(this.transaction,"amount")||tsUtils.get(this.transaction,"quantity");if(amount instanceof Money){this.amount=amount.toFormat()}else{this.amount=amount.div(Math.pow(10,this.transaction.precision))}}},{key:"getAssetName",value:function getAssetName(asset){try{return!WavesApp.scam[asset.id]?asset.name:""}catch(e){return""}}},{key:"cancelLeasing",value:function cancelLeasing(){var lease=this.transaction;var leaseId=lease.id;return waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.CANCEL_LEASING}).then(function(fee){var tx=waves.node.transactions.createTransaction({fee:fee,type:SIGN_TYPE.CANCEL_LEASING,lease:lease,leaseId:leaseId});var signable=ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx});return modalManager.showConfirmTx(signable)})}},{key:"showTransaction",value:function showTransaction(){modalManager.showTransactionInfo(this.transaction.id)}},{key:"getCopyAllData",value:function getCopyAllData(){var tx=this.transaction;var id="Transaction ID: "+tx.id;var type="Type: "+tx.type+" ("+this.typeName+")";var timestamp=$filter("date")(tx.timestamp,"MM/dd/yyyy HH:mm");var datetime="Date: "+timestamp;var sender="Sender: "+tx.sender;if(tx.typeName===WavesApp.TRANSACTION_TYPES.NODE.EXCHANGE){sender+=" (matcher address)"}var message=id+"\n"+type+"\n"+datetime+"\n"+sender;if(tx.typeName===WavesApp.TRANSACTION_TYPES.EXTENDED.UNKNOWN){message+="\n\nRAW TX DATA BELOW\n\n";message+=JSON.stringify(tx,null,2);return message}if(tx.recipient){var recipient="Recipient: "+tx.recipient;message+="\n"+recipient}if(tx.amount&&tx.amount instanceof ds.wavesDataEntities.Money){var asset=tx.amount.asset;var assetId=asset.id==="WAVES"?"ACRYL":asset.id;var amount="Amount: "+tx.amount.toFormat()+" "+asset.name+" ("+assetId+")";message+="\n"+amount}if(this.typeName===WavesApp.TRANSACTION_TYPES.EXTENDED.EXCHANGE_BUY||this.typeName===WavesApp.TRANSACTION_TYPES.EXTENDED.EXCHANGE_SELL){var _asset=tx.price.asset;var price="Price: "+tx.price.toFormat()+" "+_asset.name+" ("+_asset.id+")";var totalPrice="Total price: "+this.totalPrice+" "+_asset.name;message+="\n"+price+"\n"+totalPrice}if(this.typeName===WavesApp.TRANSACTION_TYPES.EXTENDED.DATA){message+="\n\n\nDATA START";message+="\n\n"+tx.stringifiedData;message+="\n\nDATA END\n\n"}var feeCurrency=tx.fee.asset.id==="WAVES"?"ACRYL":tx.fee.asset.id;var fee="Fee: "+tx.fee.toFormat()+" "+tx.fee.asset.name+" ("+feeCurrency+")";message+="\n"+fee;return message}}]);return Transaction}(Base);return new Transaction};controller.$inject=["Base","$filter","modalManager","notification","waves","user","baseAssetService","dexService","$scope"];angular.module("app.ui").component("wTransaction",{bindings:{datePattern:"@",transaction:"<"},require:{parent:"^wTransactionList"},templateUrl:"modules/ui/directives/transaction/transaction.html",transclude:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base){var TransactionExport=function(_Base78){_inherits(TransactionExport,_Base78);function TransactionExport(){_classCallCheck(this,TransactionExport);return _possibleConstructorReturn(this,(TransactionExport.__proto__||Object.getPrototypeOf(TransactionExport)).apply(this,arguments))}_createClass(TransactionExport,[{key:"copyLink",value:function copyLink(){analytics.push("ExportTransaction","ExportTransaction.CopyTransactionLink")}}]);return TransactionExport}(Base);return new TransactionExport};controller.$inject=["Base"];angular.module("app.ui").component("wTransactionExport",{controller:controller,scope:false,bindings:{link:"<"},templateUrl:"modules/ui/directives/transactionExport/transaction-export.html"})})();(function(){"use strict";var PATH="modules/ui/directives/transactionInfo/types";var _require26=require("@waves/data-entities"),Money=_require26.Money,BigNumber=_require26.BigNumber;var _require27=require("ts-utils"),get=_require27.get;var factory=function factory(Base,$filter,explorerLinks,baseAssetService,dexService,waves){var BaseTxInfo=function(_Base79){_inherits(BaseTxInfo,_Base79);function BaseTxInfo($scope){_classCallCheck(this,BaseTxInfo);var _this255=_possibleConstructorReturn(this,(BaseTxInfo.__proto__||Object.getPrototypeOf(BaseTxInfo)).call(this));_this255.transaction=null;_this255.$scope=null;_this255.txId=null;_this255.templatePostfix="";_this255.needShowMirror=true;_this255.$scope=$scope;return _this255}_createClass(BaseTxInfo,[{key:"$postLink",value:function $postLink(){var _this256=this;if(!this.signable){throw new Error("Has no signable!")}var $scope=this.$scope;var transaction=waves.node.transactions.createTransaction(this.signable.getTxData());this.transaction=transaction;this.signable.getId().then(function(id){_this256.txId=id;_this256.$scope.$apply()});this.templateUrl=PATH+"/"+transaction.templateType+this.templatePostfix+".html";this.datetime=$filter("date")(transaction.timestamp,"dd.MM.yyyy, HH:mm");this.shownAddress=transaction.shownAddress;this.typeName=transaction.typeName;this.numberOfRecipients=transaction.numberOfRecipients;this.isScam=!!WavesApp.scam[this.transaction.assetId];this.explorerLink=explorerLinks.getTxLink(transaction.id);if(transaction.amount||transaction.lease&&transaction.lease.amount){var amount=transaction.amount||transaction.lease.amount;this.needShowMirror=amount.asset.id!==baseAssetService.getBaseAssetId();baseAssetService.convertToBaseAsset(amount).then(function(baseMoney){_this256.mirrorBalance=baseMoney;$scope.$digest()})}var TYPES=waves.node.transactions.TYPES;if(this.typeName===TYPES.BURN||this.typeName===TYPES.ISSUE||this.typeName===TYPES.REISSUE){this.tokens()}if(this.typeName===TYPES.EXCHANGE_BUY||this.typeName===TYPES.EXCHANGE_SELL){this.totalPrice=dexService.getTotalPrice(this.transaction.amount,this.transaction.price);if(this.typeName===TYPES.EXCHANGE_BUY){this.calculatedFee=this.transaction.buyMatcherFee}else{this.calculatedFee=this.transaction.sellMatcherFee}}else{this.calculatedFee=this.transaction.fee}}},{key:"tokens",value:function tokens(){if(this.transaction.typeName==="reissue"){this.isReissueModal=true}this.name=get(this.transaction,"amount.asset.name")||get(this.transaction,"quantity.asset.name")||this.transaction.name;this.amount=(get(this.transaction,"amount")||get(this.transaction,"quantity")).toFormat();var quantity=this.transaction.quantity||this.transaction.amount;if(quantity instanceof Money){this.quantity=quantity}else if(quantity instanceof BigNumber){this.quantity=quantity.div(Math.pow(10,this.transaction.precision))}else{this.quantity=this.transaction.amount}this.precision=this.transaction.precision||(this.quantity.asset?this.quantity.asset.precision:0)}}]);return BaseTxInfo}(Base);return BaseTxInfo};factory.$input=["Base","$filter","explorerLinks","baseAssetService","dexService","waves"];angular.module("app.ui").factory("BaseTxInfo",factory)})();(function(){"use strict";var controller=function controller(Base,$scope){var _require28=require("@waves/signature-adapter"),SIGN_TYPE=_require28.SIGN_TYPE;var TransactionInfoCtrl=function(_Base80){_inherits(TransactionInfoCtrl,_Base80);function TransactionInfoCtrl(){_classCallCheck(this,TransactionInfoCtrl);var _this257=_possibleConstructorReturn(this,(TransactionInfoCtrl.__proto__||Object.getPrototypeOf(TransactionInfoCtrl)).call(this,$scope));_this257.isTockenIssue=false;_this257.signable=null;return _this257}_createClass(TransactionInfoCtrl,[{key:"$postLink",value:function $postLink(){if(!this.signable){throw new Error("Has no signable!")}var _signable$getTxData4=this.signable.getTxData(),type=_signable$getTxData4.type;this.isTockenIssue=type===SIGN_TYPE.ISSUE}}]);return TransactionInfoCtrl}(Base);return new TransactionInfoCtrl};controller.$inject=["Base","$scope"];angular.module("app.ui").component("wTransactionInfo",{bindings:{signable:"<",isConfirm:"<"},templateUrl:"modules/ui/directives/transactionInfo/transaction-info.html",scope:false,controller:controller})})();(function(){"use strict";var controller=function controller(BaseTxInfo,$scope,balanceWatcher){var TransactionInfoContent=function(_BaseTxInfo){_inherits(TransactionInfoContent,_BaseTxInfo);function TransactionInfoContent(){_classCallCheck(this,TransactionInfoContent);var _this258=_possibleConstructorReturn(this,(TransactionInfoContent.__proto__||Object.getPrototypeOf(TransactionInfoContent)).call(this,$scope));_this258.isConfirm=false;_this258.transaction=null;_this258.txId=null;_this258.toReissue=null;_this258.toRemainOnBalance=null;return _this258}_createClass(TransactionInfoContent,[{key:"_updateBalance",value:function _updateBalance(options){var noApply=options&&options.noApply||false;var tokenID=this.transaction.quantity.asset.id;var myBalance=balanceWatcher.getBalance()[tokenID];if(!myBalance){return null}this.toReissue=this.transaction.quantity;this.toRemainOnBalance=myBalance.add(this.toReissue);if(!noApply){$scope.$apply()}}},{key:"tokens",value:function tokens(){_get(TransactionInfoContent.prototype.__proto__||Object.getPrototypeOf(TransactionInfoContent.prototype),"tokens",this).call(this);if(this.transaction.typeName!=="reissue"){return null}var all=this.transaction.quantity.asset.quantity;var cloned=this.transaction.quantity.cloneWithCoins(all);this.totalAfterIssueTokens=this.transaction.quantity.add(cloned);if(this.isConfirm){this.receive(balanceWatcher.change,this._updateBalance,this);this._updateBalance({noApply:true})}}}]);return TransactionInfoContent}(BaseTxInfo);return new TransactionInfoContent};controller.$inject=["BaseTxInfo","$scope","balanceWatcher"];angular.module("app.ui").component("wTransactionInfoContent",{bindings:{signable:"<",isConfirm:"<"},templateUrl:"modules/ui/directives/transactionInfo/transaction-info-content.html",controller:controller})})();(function(){"use strict";var controller=function controller(BaseTxInfo,$scope){var TransactionInfoHeader=function(_BaseTxInfo2){_inherits(TransactionInfoHeader,_BaseTxInfo2);function TransactionInfoHeader(){_classCallCheck(this,TransactionInfoHeader);var _this259=_possibleConstructorReturn(this,(TransactionInfoHeader.__proto__||Object.getPrototypeOf(TransactionInfoHeader)).call(this,$scope));_this259.transaction=null;_this259.txId=null;_this259.templatePostfix="-header";return _this259}return TransactionInfoHeader}(BaseTxInfo);return new TransactionInfoHeader};controller.$inject=["BaseTxInfo","$scope"];angular.module("app.ui").component("wTransactionInfoHeader",{bindings:{signable:"<"},templateUrl:"modules/ui/directives/transactionInfo/transaction-info-header.html",scope:false,controller:controller})})();(function(){"use strict";var controller=function controller($scope){var TransactionInfoJson=function(){function TransactionInfoJson(){_classCallCheck(this,TransactionInfoJson);this.json="";this.signable=null}_createClass(TransactionInfoJson,[{key:"$postLink",value:function $postLink(){var _this260=this;if(!this.signable){throw new Error("Has no signable!")}this.signable.getDataForApi().then(function(json){_this260.json=WavesApp.stringifyJSON(json,null,4);$scope.$apply()})}},{key:"addAnalytic",value:function addAnalytic(){analytics.push("ConfirmTransaction","ConfirmTransaction.CopyTransactionJSON")}}]);return TransactionInfoJson}();return new TransactionInfoJson};controller.$inject=["$scope"];angular.module("app.ui").component("wTransactionInfoJson",{bindings:{signable:"<"},templateUrl:"modules/ui/directives/transactionInfo/transaction-info-json.html",scope:false,controller:controller})})();(function(){"use strict";var controller=function controller(Base,user,i18n,waves,utils){var TransactionList=function(_Base81){_inherits(TransactionList,_Base81);function TransactionList(){_classCallCheck(this,TransactionList);var _this261=_possibleConstructorReturn(this,(TransactionList.__proto__||Object.getPrototypeOf(TransactionList)).call(this));_this261._transactions=null;_this261.transactions=null;_this261.pending=false;_this261.observe("_transactions",_this261._onChangeTransactions);return _this261}_createClass(TransactionList,[{key:"$postLink",value:function $postLink(){this.parentSelector=this.parentSelector||"ul"}},{key:"_onChangeTransactions",value:function _onChangeTransactions(){var transactions=this._transactions||[];var hash=Object.create(null);var toDate=tsUtils.date("DD.MM.YYYY");transactions.forEach(function(transaction){var date=toDate(transaction.timestamp);if(!hash[date]){hash[date]={timestamp:transaction.timestamp,transactions:[]}}hash[date].transactions.push(transaction)});var dates=Object.keys(hash).sort(utils.comparators.process(function(name){return hash[name].timestamp}).desc);this.transactions=dates.map(function(date){return{transactions:hash[date].transactions,timestamp:hash[date].timestamp,date:date}})}}]);return TransactionList}(Base);return new TransactionList};controller.$inject=["Base","user","i18n","waves","utils"];angular.module("app.ui").component("wTransactionList",{bindings:{transactionDatePattern:"@",parentSelector:"@",pending:"<",_transactions:"<transactions"},templateUrl:"modules/ui/directives/transactionList/transactionList.html",transclude:false,controller:controller})})();(function(){"use strict";var directive=function directive(Base,visibleService){return{restrict:"E",replace:true,template:'<div class="w-visible"></div>',transclude:true,scope:false,link:function link($scope,$element,$attrs,$ctrl,$transclude){var once=$attrs.once===""||$attrs.once==="true";var root=$attrs.scrollRootSelector;var Visible=function(_Base82){_inherits(Visible,_Base82);function Visible(){_classCallCheck(this,Visible);var _this262=_possibleConstructorReturn(this,(Visible.__proto__||Object.getPrototypeOf(Visible)).call(this,$scope));_this262.$node=$element;_this262.content=null;_this262.node=$element.get(0);_this262.visible=false;_this262._appendPromise=null;var $scrollRootElement=root?$element.closest(root):$element.parent();visibleService.registerVisibleComponent(_this262,$scrollRootElement);_this262.observe("visible",_this262._onChangeVisible);_this262.signals.destroy.once(function(){if(_this262.content){_this262.content.$scope.$destroy();_this262.content.$element.remove();_this262.content=null}_this262.$node.remove()});return _this262}_createClass(Visible,[{key:"currentVisibleState",value:function currentVisibleState(){var rect=this.node.getBoundingClientRect();var visible=rect.top>0&&rect.top<innerHeight;this.visible=visible;return visible}},{key:"_onChangeVisible",value:function _onChangeVisible(){var _this263=this;if(this._appendPromise){this._appendPromise.then(function(){return _this263._onChangeVisible()});return null}if(this.visible){this._appendPromise=this._append().then(function(){_this263._appendPromise=null});if(once){visibleService.unregisterVisibleComponent(this)}}else{this.content.$element.remove();this.content.$scope.$destroy()}}},{key:"_append",value:function _append(){var _this264=this;return new Promise(function(resolve){$transclude(function($element,$scope){_this264.$node.append($element);_this264.content={$element:$element,$scope:$scope};resolve()})})}}]);return Visible}(Base);new Visible}}};directive.$inject=["Base","visibleService"];angular.module("app.ui").directive("wVisible",directive)})();(function(){"use strict";var tsUtils=require("ts-utils");var factory=function factory(Base,utils){var VisibleService=function(_Base83){_inherits(VisibleService,_Base83);function VisibleService(){_classCallCheck(this,VisibleService);var _this265=_possibleConstructorReturn(this,(VisibleService.__proto__||Object.getPrototypeOf(VisibleService)).call(this));_this265.children=Object.create(null);_this265._handlerdebounce=utils.debounceRequestAnimationFrame(function(e){return _this265._onScroll(e)});_this265._initHandlerDebounce=utils.debounce(function(){return _this265._onScroll()},50);_this265._updateSortDebounce=utils.debounce(function(){return _this265.updateSort()},50);return _this265}_createClass(VisibleService,[{key:"checkVisibleContent",value:function checkVisibleContent(){this._handlerdebounce()}},{key:"registerVisibleComponent",value:function registerVisibleComponent(visible,$parent){var _this266=this;if(!$parent.length){throw new Error("Element visible has no parent!")}var id=VisibleService._getParentId($parent);if(!this.children[id]){this.children[id]={scrollTop:$parent.scrollTop(),visible:Object.create(null),list:[]}}this.children[id].list.push(visible);this.receiveOnce(visible.signals.destroy,function(){_this266.children[id].list=_this266.children[id].list.filter(function(i){return i!==visible});if(!_this266.children[id].list.length){delete _this266.children[id]}if(Object.keys(_this266.children).length===0){_this266._removeHandlers()}_this266._updateSortDebounce()});if(Object.keys(this.children).length===1&&this.children[id].list.length===1){this._addHandlers()}this._updateSortDebounce()}},{key:"updateSort",value:function updateSort(){var _this267=this;Object.keys(this.children).forEach(function(id){var visibleElements=$("#"+id+" .w-visible").toArray();var childrenHash=utils.toHash(_this267.children[id].list,"cid");var sortList=_this267.children[id].list.map(function(item){return{cid:item.cid,index:visibleElements.indexOf(item.node)}});sortList.sort(utils.comparators.process(function(i){return i.index}).asc);_this267.children[id].list=sortList.map(function(item){return childrenHash[item.cid]});_this267.children[id].visible=Object.create(null)});this._onScroll()}},{key:"unregisterVisibleComponent",value:function unregisterVisibleComponent(visible){Object.values(this.children).forEach(function(info){info.list=info.list.filter(function(i){return i!==visible});delete info.visible[visible.cid]});this.stopReceive(visible.signals.destroy)}},{key:"_onScroll",value:function _onScroll(e){var _this268=this;var target=e&&e.target;var id=target&&target.getAttribute&&target.getAttribute("id");if(id&&this.children[id]){this._scrollById(target.scrollTop,id)}else{Object.keys(this.children).forEach(function(id){var element=document.querySelector("#"+id);if(!element){delete _this268.children[id]}else{_this268.children[id].visible=Object.create(null);_this268._scrollById(element.scrollTop,id)}})}}},{key:"_scrollById",value:function _scrollById(activeScrollTop,id){var _this269=this;var lastScrollTop=this.children[id].scrollTop;var direction=activeScrollTop>lastScrollTop;var visibleHash=this.children[id].visible;this.children[id].visible=Object.create(null);if(!Object.keys(visibleHash).length){this.children[id].list.forEach(function(item){var isVisible=item.currentVisibleState();if(isVisible){_this269.children[id].visible[item.cid]=item}});return null}var wasVisible=false;var wasChangeVisible=false;var loop=function loop(i){var item=_this269.children[id].list[i];wasVisible=wasVisible||visibleHash[item.cid];if(!wasVisible){return null}var isVisible=item.currentVisibleState();if(isVisible){_this269.children[id].visible[item.cid]=item;wasChangeVisible=true}else if(wasChangeVisible){return false}};if(direction){for(var i=0;i<this.children[id].list.length;i++){if(loop(i)===false){break}}}else{for(var _i=this.children[id].list.length-1;_i>=0;_i--){if(loop(_i)===false){break}}}this.children[id].scrollTop=activeScrollTop}},{key:"_addHandlers",value:function _addHandlers(){document.addEventListener("scroll",this._handlerdebounce,true);window.addEventListener("resize",this._initHandlerDebounce,false)}},{key:"_removeHandlers",value:function _removeHandlers(){document.removeEventListener("scroll",this._handlerdebounce,true);window.removeEventListener("resize",this._initHandlerDebounce,false)}}],[{key:"_getParentId",value:function _getParentId($parent){var nodeId=$parent.attr("id");if(nodeId){return nodeId}var id=tsUtils.uniqueId("visible-parent-id");$parent.attr("id",id);return id}}]);return VisibleService}(Base);return new VisibleService};factory.$inject=["Base","utils"];angular.module("app.ui").factory("visibleService",factory)})();(function(){"use strict";angular.module("app.ui").component("wWebOnly",{scope:false,transclude:true,template:'<div ng-if="::'+WavesApp.isWeb()+'" ng-transclude></div>'})})();(function(){"use strict";angular.module("app.ui").directive("wWebOnlyClass",function(){return{restrict:"A",scope:false,link:function link($scope,$element,$attr){if(WavesApp.isWeb()){$element.addClass($attr.wWebOnlyClass)}}}})})();(function(){"use strict";var factory=function factory($q){var CarouselManager=function(){function CarouselManager(){_classCallCheck(this,CarouselManager);this.slidersHash=Object.create(null);this.promiseHash=Object.create(null);this.defersHash=Object.create(null)}_createClass(CarouselManager,[{key:"registerSlider",value:function registerSlider(id,slider){this.slidersHash[id]=slider;if(this.defersHash[id]){this.defersHash[id].resolve(slider);delete this.promiseHash[id]}if(this.promiseHash[id]){delete this.promiseHash[id]}}},{key:"removeSlider",value:function removeSlider(id){if(this.slidersHash[id]){delete this.slidersHash[id]}if(this.promiseHash[id]){delete this.promiseHash[id]}if(this.defersHash[id]){delete this.defersHash[id]}}},{key:"getSlider",value:function getSlider(id){if(this.slidersHash[id]){return $q.when(this.slidersHash[id])}else if(this.promiseHash[id]){return this.promiseHash[id]}else{var defer=$q.defer();this.promiseHash[id]=defer.promise;this.defersHash[id]=defer;return this.promiseHash[id]}}}]);return CarouselManager}();return new CarouselManager};factory.$inject=["$q"];angular.module("app.ui").factory("carouselManager",factory)})();(function(){"use strict";var ds=require("data-service");var _require29=require("@waves/data-entities"),Asset=_require29.Asset;var _require30=require("@waves/signature-adapter"),SIGN_TYPE=_require30.SIGN_TYPE;var factory=function factory(Base,waves,utils,$mdDialog,modalManager){var ConfirmTxService=function(_Base84){_inherits(ConfirmTxService,_Base84);function ConfirmTxService($scope){_classCallCheck(this,ConfirmTxService);var _this270=_possibleConstructorReturn(this,(ConfirmTxService.__proto__||Object.getPrototypeOf(ConfirmTxService)).call(this,$scope));_this270.onTxSent=null;_this270.step=0;_this270.txId="";_this270.signable=null;_this270.advancedMode=false;_this270.activeTab="details";_this270.canCreateLink=false;_this270.exportLink=WavesApp.origin;_this270.errorMessage=null;_this270.__$scope=null;_this270.__$scope=$scope;_this270.syncSettings({advancedMode:"advancedMode"});_this270.observe("signable",_this270.onChangeSignable);return _this270}_createClass(ConfirmTxService,[{key:"sendTransaction",value:function sendTransaction(){var _this271=this;return this.signable.getDataForApi().then(ds.broadcast).then(function(data){var _analytics;(_analytics=analytics).push.apply(_analytics,_toConsumableArray(_this271.getAnalytics(true)));return data},function(error){var _analytics2;(_analytics2=analytics).push.apply(_analytics2,_toConsumableArray(_this271.getAnalytics(false)));return Promise.reject(error)})}},{key:"getEventName",value:function getEventName(){return"Transaction"}},{key:"getAnalytics",value:function getAnalytics(success){var NAME=this.getEventName();var amount=ConfirmTxService.toBigNumber(this.tx.amount);if(success){return[NAME,NAME+"."+this.tx.type+"."+WavesApp.type,NAME+"."+this.tx.type+"."+WavesApp.type+".Success",amount]}else{return[NAME,NAME+"."+this.tx.type+"."+WavesApp.type,NAME+"."+this.tx.type+"."+WavesApp.type+".Error",amount]}}},{key:"confirm",value:function confirm(){var _this272=this;return this.sendTransaction().then(function(tx){if(ConfirmTxService._isIssueTx(tx)){_this272._saveIssueAsset(tx)}_this272.step++;_this272.onTxSent({id:tx.id});_this272.__$scope.$apply()}).catch(function(e){_this272.errorMessage=utils.parseError(e);_this272.__$scope.$apply()})}},{key:"showTxInfo",value:function showTxInfo(){this.signable.getId().then(function(id){$mdDialog.hide();setTimeout(function(){modalManager.showTransactionInfo(id)},1e3)})}},{key:"_saveIssueAsset",value:function _saveIssueAsset(tx){waves.node.height().then(function(height){ds.assetStorage.save(tx.id,new Asset(_extends({},tx,{ticker:null,precision:tx.decimals,height:height})))})}},{key:"initExportLink",value:function initExportLink(){var _this273=this;this.signable.getDataForApi().then(function(data){_this273.exportLink=WavesApp.origin+"/#tx"+utils.createQS(data);_this273.canCreateLink=data.type!==SIGN_TYPE.MASS_TRANSFER&&_this273.exportLink.length<=WavesApp.MAX_URL_LENGTH;_this273.__$scope.$apply()})}},{key:"onChangeSignable",value:function onChangeSignable(){var _this274=this;if(this.signable){if(this.advancedMode){this.signable.hasMySignature().then(function(state){if(state){_this274.initExportLink()}})}this.tx=waves.node.transactions.createTransaction(this.signable.getTxData());this.signable.getId().then(function(id){_this274.txId=id;_this274.__$scope.$digest()})}else{this.txId="";this.tx=null}}}],[{key:"_isIssueTx",value:function _isIssueTx(tx){return tx.type===SIGN_TYPE.ISSUE}},{key:"toBigNumber",value:function toBigNumber(amount){return amount&&amount.getTokens().toFixed()||undefined}}]);return ConfirmTxService}(Base);return ConfirmTxService};factory.$inject=["Base","waves","utils","$mdDialog","modalManager"];angular.module("app.ui").factory("ConfirmTxService",factory)})();(function(){"use strict";var factory=function factory(configService){var _require31=require("ts-utils"),Signal=_require31.Signal;var PermissionManager=function(){function PermissionManager(){_classCallCheck(this,PermissionManager);this.change=new Signal;this._permissions=Object.create(null);this._permissions=configService.get("PERMISSIONS")||Object.create(null);configService.change.on(this._onChangeConfig,this)}_createClass(PermissionManager,[{key:"isPermitted",value:function isPermitted(name){var permission=this._permissions[name];return permission==null||permission}},{key:"_onChangeConfig",value:function _onChangeConfig(path){if(!path.includes("PERMISSIONS")){return null}var permissions=configService.get("PERMISSIONS")||Object.create(null);this._permissions=PermissionManager._parsePermissions(permissions);this.change.dispatch()}}],[{key:"_parsePermissions",value:function _parsePermissions(raw){return Object.keys(raw).reduce(function(acc,key){if(typeof raw[key]==="boolean"){acc[key]=raw[key]}else if(raw[key]instanceof Array){raw[key].forEach(function(item){acc[key+"."+item]=true})}return acc},{})}}]);return PermissionManager}();return new PermissionManager};factory.$inject=["configService"];angular.module("app.ui").factory("permissionManager",factory)})();(function(){"use strict";angular.module("app.utils",[])})();(function(){"use strict";var controller=function controller(Base,$element){var Delegate=function(_Base85){_inherits(Delegate,_Base85);function Delegate(){_classCallCheck(this,Delegate);var _this275=_possibleConstructorReturn(this,(Delegate.__proto__||Object.getPrototypeOf(Delegate)).call(this));_this275.event=null;_this275.selector=null;_this275.handler=null;_this275.observe(["event","selector","handler"],_this275._onChangeParams);return _this275}_createClass(Delegate,[{key:"_onChangeParams",value:function _onChangeParams(){var _this276=this;$element.off();if(!this.selector||!this.handler){return null}$element.on(this.event||"click",this.selector,function(e){_this276.handler({$event:e})})}}]);return Delegate}(Base);return new Delegate};controller.$inject=["Base","$element"];angular.module("app.ui").component("wDelegate",{bindings:{event:"<",selector:"<",handler:"&"},template:"<ng-transclude></ng-transclude>",transclude:true,controller:controller})})();(function(){"use strict";var AVAILABLE_VALIDATORS=["gt","gte","lt","lte","length","integer","precision","byteLt","byteLte","byteGt","byteGte","number","asset","compare","alias","address","wavesAddress","outerBlockchains","anyAddress","pattern","custom"];var PATTERNS={get NUMBER(){var decimal=WavesApp.getLocaleData().separators.decimal;return"\\d*\\"+decimal+"?\\d*"},INTEGER:"\\d*"};var directive=function directive(utils,validateService,decorators,$rootScope,$compile,Base){return{require:"ngModel",priority:1e4,compile:function compile($input,$attrs){if($input.get(0).tagName!=="INPUT"&&$input.get(0).tagName!=="TEXTAREA"){return null}return function($scope,$input,$compiledAttrs,$ngModel){var _dec21,_desc11,_value11,_class33;var Validate=(_dec21=decorators.async(),_class33=function(_Base86){_inherits(Validate,_Base86);function Validate(){_classCallCheck(this,Validate);var _this277=_possibleConstructorReturn(this,(Validate.__proto__||Object.getPrototypeOf(Validate)).call(this,$scope));_this277._validators=Object.create(null);_this277._validatorsReady=new tsUtils.Signal;_this277._ready=false;_this277._validatorsReady.once(function(){_this277._ready=true});_this277._createValidatorList();$scope.$watch($attrs.ngModel,function(){return _this277._validate()});return _this277}_createClass(Validate,[{key:"_addInputPattern",value:function _addInputPattern(pattern){var _this278=this;return new Promise(function(resolve){var create=function create(){var validatorName="pattern";var patternName=Validate._getAttrName(validatorName);if(!$attrs[patternName]){$attrs[patternName]=pattern;resolve(_this278._createValidator(validatorName))}};if(_this278._ready){create()}else{_this278.receiveOnce(_this278._validatorsReady,create)}})}},{key:"_applyValidators",value:function _applyValidators(validators){validators.forEach(function(_ref103){var name=_ref103.name,handler=_ref103.handler;var result=handler($ngModel.$modelValue,$ngModel.$viewValue);switch(typeof result==="undefined"?"undefined":_typeof(result)){case"boolean":$ngModel.$setValidity(name,result);break;case"object":if(result&&typeof result.then==="function"){$ngModel.$setValidity("pending-"+name,false);var onEnd=function onEnd(){$ngModel.$setValidity("pending-"+name,true);$scope.$digest()};utils.when(result).then(function(){$ngModel.$setValidity(name,true);onEnd()},function(){$ngModel.$setValidity(name,false);onEnd()})}else{throw new Error("Wrong validation result!")}break;default:throw new Error("Wrong validation result!")}})}},{key:"_validate",value:function _validate(){var _this279=this;this._applyValidators(Object.keys(this._validators).map(function(name){return _this279._validators[name]}));$scope.$digest()}},{key:"_validateByName",value:function _validateByName(targetName){this._applyValidators([this._validators[targetName]].filter(Boolean))}},{key:"_createValidatorList",value:function _createValidatorList(){var _this280=this;AVAILABLE_VALIDATORS.filter(Validate._hasValidator).forEach(function(name){_this280._createValidator(name)});this._validatorsReady.dispatch()}},{key:"_createValidator",value:function _createValidator(name){if(this._validators[name]){throw new Error("Duplicate validator! "+name)}switch(name){case"asset":this._validators[name]=this._createAssetValidator(name);break;case"compare":this._validators[name]=this._createCompareValidator(name);break;case"custom":this._validators[name]=this._createCustomValidator(name);break;case"number":this._validators[name]=this._createBigNumberValidator(name);break;case"alias":case"address":case"wavesAddress":this._validators[name]=this._createAddressValidator(name);break;case"integer":this._validators[name]=this._createIntegerValidator(name);break;case"anyAddress":this._validators[name]=this._createAnyAddressValidator(name);break;case"outerBlockchains":this._validators[name]=this._createOuterBlockchainsValidator(name);break;case"pattern":this._validators[name]=this._createPatternValidator(name);break;case"byteLt":case"byteLte":this._validators[name]=this._createByteValidator(name);break;default:this._validators[name]=this._createSimpleValidator(name)}if(this._validators[name].parser){$ngModel.$parsers.unshift(this._validators[name].parser)}if(this._validators[name].formatter){$ngModel.$formatters.push(this._validators[name].formatter)}return this._validators[name]}},{key:"_createCustomValidator",value:function _createCustomValidator(name){var validator={name:name,value:null,handler:function handler(){if(validator.value==null){return true}else if(typeof validator.value==="function"){return validator.value()}else{return!!validator.value}}};this._listenValidatorChanges(name,validator);return validator}},{key:"_createIntegerValidator",value:function _createIntegerValidator(name){this._addInputPattern(PATTERNS.INTEGER);return{name:name,value:null,handler:function handler(modelValue){try{var num=Validate._toBigNumber(modelValue);return!modelValue||num.dp(0).eq(Validate._toBigNumber(modelValue))}catch(e){return false}}}}},{key:"_createOuterBlockchainsValidator",value:function _createOuterBlockchainsValidator(name){var value=null;var validator={name:name,value:null,handler:function handler(address){return validateService.outerBlockchains(address,validator.value)}};Object.defineProperty(validator,"value",{get:function get(){return value},set:function set(data){value=Validate._toAssetId(data)}});this._listenValidatorChanges(name,validator);return validator}},{key:"_createAnyAddressValidator",value:function _createAnyAddressValidator(name){var value=null;var validator={name:name,value:null,handler:function handler(address){return validateService.anyAddress(address,validator.value)}};Object.defineProperty(validator,"value",{get:function get(){return value},set:function set(data){value=Validate._toAssetId(data)}});this._listenValidatorChanges(name,validator);return validator}},{key:"_createCompareValidator",value:function _createCompareValidator(name){var _this281=this;var value=null;var validator={name:name,value:null,$compare:null,$compareHandler:function $compareHandler(){_this281._validateByName(name);$scope.$apply()},handler:function handler(value){return value===validator.$compare.val()},destroy:function destroy(){this.$compare.off("input",this.$compareHandler)}};Object.defineProperty(validator,"value",{get:function get(){return value},set:function set(val){if(utils.isNotEqualValue(value,val)){if(validator.$compare){validator.$compare.off("input",validator.$compareHandler)}validator.$compare=$input.closest("form").find('input[name="'+val+'"]');validator.$compare.on("input",validator.$compareHandler);value=val}}});this._listenValidatorChanges(name,validator);return validator}},{key:"_createPatternValidator",value:function _createPatternValidator(name){var value=void 0;var parserWorkedBeforeInputEvent=false;function getCorrespondingToPatternPartOf(value){var inputWithoutGroup=Validate._replaceGroupSeparator(value);var correspondingParts=validator.value.exec(inputWithoutGroup)||[];return correspondingParts[0]||""}var validator={name:name,value:null,handler:function handler(){return true},parser:function parser(value){var correspondingToPatternPartOfInput=getCorrespondingToPatternPartOf(value);if(correspondingToPatternPartOfInput!==value){Validate._replaceInputValue(correspondingToPatternPartOfInput)}parserWorkedBeforeInputEvent=true;return correspondingToPatternPartOfInput}};Object.defineProperty(validator,"value",{get:function get(){return value},set:function set(val){value=new RegExp(val)}});$input.on("input",function(){if(parserWorkedBeforeInputEvent){parserWorkedBeforeInputEvent=false}else{Validate._replaceInputValue(getCorrespondingToPatternPartOf($input.val()))}});this._listenValidatorChanges(name,validator);return validator}},{key:"_createAssetValidator",value:function _createAssetValidator(name){var _this282=this;var precisionValidator=this._createValidator("precision");this._addInputPattern(PATTERNS.NUMBER).then(function(validator){_this282.listenEventEmitter(i18next,"languageChanged",function(){validator.value=PATTERNS.NUMBER})});var value=null;var validator={name:name,money:null,value:null,apply:function apply(){precisionValidator.value=validator.money.asset.precision;_this282._validateByName(name);_this282._validateByName(precisionValidator.name)},handler:function handler(){return true},parser:function parser(value){if(value&&precisionValidator.handler($ngModel.$modelValue,value)){var money=Validate._toMoney(value,validator.money);if(money){return money}else{_this282._validateByName("asset");return null}}else{return null}},formatter:function formatter(value){var viewValue=$input.val();var money=precisionValidator.handler($ngModel.$modelValue,viewValue)&&Validate._toMoney(viewValue,validator.money);if(Validate._isFocused()&&(!value||money&&money.eq(value))){return $input.val()}else{return Validate._toString(value)}}};$input.on("input",function(){_this282._validateByName(precisionValidator.name);$scope.$apply()});Object.defineProperty(validator,"value",{get:function get(){return value},set:function set(assetData){validator.money=null;if(!assetData){return null}value=Validate._toAssetId(assetData);if(value){ds.moneyFromTokens("0",value).then(function(money){if(utils.isNotEqualValue(validator.money,money)){validator.money=money;validator.apply();$ngModel.$modelValue=validator.parser($ngModel.$viewValue)}})}}});this._listenValidatorChanges(name,validator);return validator}},{key:"_createAddressValidator",value:function _createAddressValidator(name){var validator={name:name,value:null,handler:function handler(value){return validateService[name](value,validator.value)}};this._listenValidatorChanges(name,validator);return validator}},{key:"_createByteValidator",value:function _createByteValidator(name){var validator=this._createSimpleValidator(name);var $byteScope=$rootScope.$new(true);var attrs=['w-i18n-ns="app.utils"','class="byte-validator__help"','w-i18n="validators.byte.help"','params="{bytes: bytes}"'];var $element=$compile("<div "+attrs.join(" ")+"></div>")($byteScope);$input.after($element);$scope.$on("$destroy",function(){$byteScope.$destroy()});var origin=validator.handler;validator.handler=function(modelValue){var stringBytes=validateService.getByteFromString(modelValue||"");$byteScope.bytes=Number(validator.value)-stringBytes;$byteScope.$digest();return origin(modelValue)};return validator}},{key:"_createSimpleValidator",value:function _createSimpleValidator(name){var handler=void 0;switch(name){case"precision":handler=function handler(modelValue,viewValue){var value=void 0;try{if(viewValue){value=utils.parseNiceNumber(viewValue)}else{value=null}}catch(e){value=null}return validateService[name](value,validator.value)};break;default:handler=function handler(modelValue){return validateService[name](modelValue,validator.value)}}var validator={name:name,value:null,handler:handler};this._listenValidatorChanges(name,validator);return validator}},{key:"_createBigNumberValidator",value:function _createBigNumberValidator(name){this._addInputPattern(PATTERNS.NUMBER);return{name:name,handler:function handler(){return true},parser:function parser(value){if(value===""){return}return Validate._toBigNumber(value)},formatter:Validate._toString}}},{key:"_listenValidatorChanges",value:function _listenValidatorChanges(name,validator){var _this283=this;var attrValue=$attrs[Validate._getAttrName(name)];if(Validate._hasExp(attrValue)){var exp=attrValue.replace(/{{(.*)?}}/g,"$1");if(exp.indexOf("::")!==-1){validator.value=$scope.$eval(exp.replace("::",""))}else{$scope.$watch(exp,function(value){validator.value=value;_this283._validateByName(validator.name)})}}else{validator.value=attrValue}}}],[{key:"_isFocused",value:function _isFocused(){return document.activeElement===$input.get(0)}},{key:"_toAssetId",value:function _toAssetId(data){if(typeof data==="string"){return data}else if(data instanceof ds.wavesDataEntities.Money){return data.asset.id}else if(data instanceof ds.wavesDataEntities.Asset){return data.id}else{return null}}},{key:"_toString",value:function _toString(value){if(value instanceof BigNumber){return value.toFixed()}else if(value instanceof ds.wavesDataEntities.Money){return value.getTokens().toFormat()}else if(!value){return""}else{return String(value)}}},{key:"_toMoney",value:function _toMoney(value,target){if(!target){return null}else{try{return target.cloneWithTokens(utils.parseNiceNumber(value))}catch(e){return null}}}},{key:"_toBigNumber",value:function _toBigNumber(value){try{return new BigNumber(utils.parseNiceNumber(value))}catch(e){return null}}},{key:"_hasExp",value:function _hasExp(value){if(!value){return false}var openIndex=value.indexOf("{{");var closeIndex=value.indexOf("}}");return openIndex!==-1&&closeIndex!==-1&&openIndex<closeIndex}},{key:"_getAttrName",value:function _getAttrName(validatorName){return"wValidator"+validatorName.charAt(0).toUpperCase()+validatorName.slice(1)}},{key:"_hasValidator",value:function _hasValidator(name){return Validate._getAttrName(name)in $attrs}},{key:"_replaceInputValue",value:function _replaceInputValue(newValue){$ngModel.$viewValue=newValue;$ngModel.$render()}},{key:"_replaceGroupSeparator",value:function _replaceGroupSeparator(value){var separator=WavesApp.localize[i18next.language].separators.group;var reg=new RegExp("\\"+separator,"g");return value.replace(reg,"")}}]);return Validate}(Base),_applyDecoratedDescriptor(_class33.prototype,"_validate",[_dec21],Object.getOwnPropertyDescriptor(_class33.prototype,"_validate"),_class33.prototype),_class33);return new Validate}}}};directive.$inject=["utils","validateService","decorators","$rootScope","$compile","Base"];angular.module("app.utils").directive("wValidate",directive)})();(function(){"use strict";var factory=function factory(waves,$q,_outerBlockchains,utils,user){var _desc12,_value12,_class34;var ValidateService=(_class34=function(){function ValidateService(){_classCallCheck(this,ValidateService)}_createClass(ValidateService,[{key:"gt",value:function gt(inputValue,validateValue){return inputValue.gt(validateValue)}},{key:"gte",value:function gte(inputValue,validateValue){return inputValue.gte(validateValue)}},{key:"lt",value:function lt(inputValue,validateValue){return inputValue.lt(validateValue)}},{key:"lte",value:function lte(inputValue,validateValue){return inputValue.lte(validateValue)}},{key:"length",value:function length(inputValue,_length){return String(inputValue).length<=_length}},{key:"precision",value:function precision(inputValue,_precision){var _inputValue$toFixed$s=inputValue.toFixed().split("."),_inputValue$toFixed$s2=_slicedToArray(_inputValue$toFixed$s,2),int=_inputValue$toFixed$s2[0],dec=_inputValue$toFixed$s2[1];return dec?dec.length<=_precision:true}},{key:"byteLt",value:function byteLt(inputValue,bytes){return this.getByteFromString(inputValue)<Number(bytes)}},{key:"byteLte",value:function byteLte(inputValue,bytes){return this.getByteFromString(inputValue)<=Number(bytes)}},{key:"byteGt",value:function byteGt(inputValue,bytes){return this.getByteFromString(inputValue)>Number(bytes)}},{key:"byteGte",value:function byteGte(inputValue,bytes){return this.getByteFromString(inputValue)>=Number(bytes)}},{key:"integer",value:function integer(inputValue){return inputValue.round().eq(inputValue)}},{key:"anyAddress",value:function anyAddress(address,assetId){return this.outerBlockchains(address,assetId)?true:this.wavesAddress(address)}},{key:"wavesAddress",value:function wavesAddress(address,value){return utils.whenAll([this.alias(address,value),this.address(address,value)]).then(function(_ref104){var _ref105=_slicedToArray(_ref104,2),_ref105$=_ref105[0],alias=_ref105$===undefined?true:_ref105$,_ref105$2=_ref105[1],address=_ref105$2===undefined?true:_ref105$2;return alias||address?$q.resolve():$q.reject()})}},{key:"outerBlockchains",value:function outerBlockchains(address,assetId){if(!address||!assetId){return true}var outerChain=_outerBlockchains[assetId];if(!outerChain){return false}return outerChain.isValidAddress(address)}},{key:"alias",value:function alias(address){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;if(!address){return true}if(address.length<WavesApp.minAliasLength){return false}if(address.length>WavesApp.maxAliasLength){return false}if(!waves.node.aliases.validate(address)){return false}else if(value&&value==="no-self"){return!waves.node.aliases.getAliasList().includes(address)&&waves.node.aliases.getAddress(address)}else{return waves.node.aliases.getAddress(address)}}},{key:"address",value:function address(_address){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(!_address){return true}if(_address.length<=WavesApp.maxAliasLength){return false}if(_address.length>WavesApp.maxAddressLength){return false}if(!waves.node.isValidAddress(_address)){return false}if(value&&value==="no-self"&&_address===user.address){return false}return true}},{key:"getByteFromString",value:function getByteFromString(str){return new Blob([str],{type:"text/html"}).size}}],[{key:"toBigNumber",value:function toBigNumber(item){switch(typeof item==="undefined"?"undefined":_typeof(item)){case"string":case"number":try{return new BigNumber(item)}catch(e){return null}case"object":if(item instanceof BigNumber){return item}else if(item instanceof ds.wavesDataEntities.Money){return item.getTokens()}else{return null}}}}]);return ValidateService}(),_applyDecoratedDescriptor(_class34.prototype,"gt",[toBigNumberArgs,notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"gt"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"gte",[toBigNumberArgs,notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"gte"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"lt",[toBigNumberArgs,notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"lt"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"lte",[toBigNumberArgs,notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"lte"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"length",[notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"length"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"precision",[toBigNumberArgs,notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"precision"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"byteLt",[notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"byteLt"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"byteLte",[notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"byteLte"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"byteGt",[notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"byteGt"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"byteGte",[notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"byteGte"),_class34.prototype),_applyDecoratedDescriptor(_class34.prototype,"integer",[notNullArgs],Object.getOwnPropertyDescriptor(_class34.prototype,"integer"),_class34.prototype),_class34);function notNullArgs(target,key,descriptor){var origin=descriptor.value;descriptor.value=function(){for(var _len5=arguments.length,args=Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5]}if(args.some(function(value){return value==null||value===""})){return true}else{return origin.call.apply(origin,[this].concat(args))}}}function toBigNumberArgs(target,key,descriptor){var origin=descriptor.value;descriptor.value=function(){for(var _len6=arguments.length,args=Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6]}return origin.call.apply(origin,[this].concat(_toConsumableArray(args.map(ValidateService.toBigNumber))))}}return utils.bind(new ValidateService)};factory.$inject=["waves","$q","outerBlockchains","utils","user"];angular.module("app.utils").factory("validateService",factory)})();(function(){"use strict";var factory=function factory($mdDialog,utils,decorators,$templateRequest,$rootScope,$injector,state){var tsUtils=require("ts-utils");var ds=require("data-service");var _require32=require("@waves/data-entities"),Money=_require32.Money;var _require33=require("@waves/signature-adapter"),SIGN_TYPE=_require33.SIGN_TYPE;var DEFAULT_OPTIONS={clickOutsideToClose:true,escapeToClose:true,autoWrap:false,multiple:true,skipHide:true,controllerAs:"$ctrl",ns:"app.utils"};var DEFAULT_TEMPLATES_URLS={HEADER:"modules/utils/modals/templates/header.modal.html"};var ModalManager=function(){function ModalManager(){var _this284=this;_classCallCheck(this,ModalManager);this.openModal=new tsUtils.Signal;this._counter=0;state.signals.changeRouterStateStart.on(function(event){if(event.defaultPrevented){return null}var counter=_this284._counter;for(var i=0;i<counter;i++){$mdDialog.cancel()}})}_createClass(ModalManager,[{key:"showScriptModal",value:function showScriptModal(){return this._getModal({id:"script-modal",contentUrl:"modules/utils/modals/script/script.html",controller:"ScriptModalCtrl",title:"modal.script.setScript"})}},{key:"showTryDesktopModal",value:function showTryDesktopModal(){return this._getModal({id:"try-desktop",title:"",contentUrl:"modules/utils/modals/tryDesktop/tryDesktop.html",controller:"TryDesktopCtrl",clickOutsideToClose:false,escapeToClose:false,mod:"try-desktop-modal"})}},{key:"showPairingWithMobile",value:function showPairingWithMobile(){return this._getModal({id:"pairing-with-mobile",title:"",contentUrl:"modules/utils/modals/pairingWithMobile/pairingWithMobile.html",controller:"PairingWithMobileCtrl",mod:"pairing-with-mobile"})}},{key:"showConfirmOrder",value:function showConfirmOrder(options){return this._getModal({id:"confirm-correct-order",contentUrl:"modules/utils/modals/confirmOrder/confirmOrder.html",controller:"ConfirmOrderCtrl",locals:options})}},{key:"showSignByDevice",value:function showSignByDevice(options){return this._getModal({id:"sign-by-device",contentUrl:"modules/utils/modals/signByDevice/signByDevice.html",controller:"SignByDeviceCtrl",locals:{devicePromise:function devicePromise(){return options.promise},userType:options.userType,address:options.address,mode:options.mode,id:options.id,data:options.data},clickOutsideToClose:false,escapeToClose:false})}},{key:"showSignDeviceError",value:function showSignDeviceError(locals){return this._getModal({id:"error-sign-device",contentUrl:"modules/utils/modals/signDeviceError/signDeviceError.html",controller:"SignDeviceError",locals:_extends({},locals),clickOutsideToClose:false,escapeToClose:false})}},{key:"showGatewaySign",value:function showGatewaySign(search){return this._getModal({id:"gateway-sign-in",title:"{{$ctrl.titleLiteral}}",contentUrl:"modules/utils/modals/gateway/gatewaySign.html",controller:"GatewaySignCtrl",locals:{search:search},clickOutsideToClose:false,escapeToClose:false})}},{key:"showPinAsset",value:function showPinAsset(){return this._getModal({id:"pin-asset",title:"modal.pinAsset.title",templateUrl:"modules/utils/modals/pinAsset/pinAsset.html",controller:"PinAssetCtrl",mod:"pin-asset-modal"})}},{key:"showAssetInfo",value:function showAssetInfo(asset){return this._getModal({id:"asset-info",title:"modal.assetInfo.title",contentUrl:"modules/utils/modals/assetInfo/assetInfo.html",locals:asset,controller:"AssetInfoCtrl",mod:"asset-info-modal"})}},{key:"showSettings",value:function showSettings(){return this._getModal({id:"user-settings",ns:"app.utils",title:"modal.settings.title",contentUrl:"modules/utils/modals/settings/settings.html",controller:"SettingsCtrl",mod:"settings-modal"})}},{key:"showTermsAccept",value:function showTermsAccept(){var user=$injector.get("user");return this._getModal({id:"terms-accept",templateUrl:"modules/utils/modals/termsAccept/terms-accept.html",controller:"TermsAcceptCtrl",clickOutsideToClose:false,escapeToClose:false}).then(function(){return user.setSetting("termsAccepted",true)})}},{key:"showTutorialModals",value:function showTutorialModals(){return this._getModal({id:"tutorial-modals",templateUrl:"modules/utils/modals/tutorialModals/tutorialModals.html",controller:"TutorialModalsCtrl"})}},{key:"showSeedBackupModal",value:function showSeedBackupModal(){var _this285=this;var api=ds.signature.getSignatureApi();return api.getSeed().then(function(phrase){var seed=new ds.Seed(phrase);return _this285._getModal({id:"seed-backup",title:"modal.backup.title.{{$ctrl.titleLiteral}}",contentUrl:"modules/utils/modals/seedBackup/seedBackupModals.html",controller:"SeedBackupModalsCtrl",locals:{seed:seed}})})}},{key:"showConfirmDeleteUser",value:function showConfirmDeleteUser(user){return this._getModal({id:"delete-user-confirm",templateUrl:"modules/utils/modals/confirmDeleteUser/confirmDeleteUser.modal.html",controller:"confirmDeleteUserCtrl",locals:{user:user}})}},{key:"showAccountInfo",value:function showAccountInfo(){var user=$injector.get("user");return this._getModal({id:"account-info",controller:"AccountInfoCtrl",title:"modal.account.title",titleParams:{name:user.name||$injector.get("i18n").translate("modal.account.title_default_name","app.utils")},contentUrl:"modules/utils/modals/accountInfo/account-info.modal.html",mod:"account-info"})}},{key:"showSendAsset",value:function showSendAsset(data){data=data||Object.create(null);return this._getModal({id:"send-asset",controller:"AssetSendCtrl",templateUrl:"modules/utils/modals/sendAsset/send.modal.html",mod:"modal-send",locals:{assetId:data.assetId,canChooseAsset:!data.assetId,mode:data.mode,amount:data.amount,recipient:data.recipient,strict:data.strict,referrer:data.referrer,attachment:data.attachment}})}},{key:"showReceiveModal",value:function showReceiveModal(user,asset){var _this286=this;return user.onLogin().then(function(){return _this286._getModal({id:"receive-popup",locals:{address:user.address,asset:asset},templateUrl:"modules/utils/modals/receive/Receive.html",controller:"ReceiveCtrl"})})}},{key:"showDepositAsset",value:function showDepositAsset(user,asset){var _this287=this;return user.onLogin().then(function(){return _this287._getModal({id:"deposit-asset",locals:{address:user.address,asset:asset},title:"modal.deposit.title",titleParams:{assetName:asset.name},contentUrl:"modules/utils/modals/depositAsset/deposit-asset.modal.html",controller:"DepositAsset",mod:"modal-deposit-asset"})})}},{key:"showSepaAsset",value:function showSepaAsset(user,asset){var _this288=this;return user.onLogin().then(function(){return _this288._getModal({id:"sepa-asset",locals:{address:user.address,asset:asset},title:"modal.sepa.title",titleParams:{assetName:asset.name},contentUrl:"modules/utils/modals/sepaAsset/sepa-asset.modal.html",controller:"SepaAsset",mod:"modal-sepa-asset"})})}},{key:"showAddressQrCode",value:function showAddressQrCode(user){var _this289=this;return user.onLogin().then(function(){return _this289._getModal({id:"user-address-qr-code",locals:{address:user.address},title:"modal.qr.title",contentUrl:"modules/utils/modals/addressQrCode/address-qr-code.modal.html",controller:"AddressQrCode",mod:"modal-address-qr-code"})})}},{key:"showTransactionInfo",value:function showTransactionInfo(transactionId){return this._getModal({id:"transaction-info",ns:"app.ui",controller:"TransactionInfoCtrl",templateUrl:"modules/utils/modals/transactionInfo/transaction-info.modal.html",mod:"transaction-info",locals:{transactionId:transactionId}})}},{key:"showAnyTx",value:function showAnyTx(tx){return this._getModal({id:"any-tx-modal",controller:"AnyTxModalCtrl",contentUrl:"modules/utils/modals/anyTxModal/any-tx-modal.html",title:"modals.anyTx.title",locals:tx})}},{key:"showStartLeasing",value:function showStartLeasing(){return this._getModal({id:"start-leasing",ns:"app.utils",controller:"StartLeasingCtrl",titleContent:"{{$ctrl.title}}",mod:"start-leasing",contentUrl:"modules/utils/modals/startLeasing/startLeasing.html"})}},{key:"showConfirmTx",value:function showConfirmTx(signable,showValidationErrors){return this._getModal({id:"confirm-tx",mod:"confirm-tx",ns:"app.ui",locals:{signable:signable,showValidationErrors:showValidationErrors},controller:"ConfirmTxCtrl",contentUrl:"modules/utils/modals/confirmTx/confirmTx.modal.html"})}},{key:"showBurnModal",value:function showBurnModal(assetId){var _this290=this;return $injector.get("waves").node.assets.balance(assetId).then(function(_ref106){var available=_ref106.available;return _this290._getModal({id:"token-burn",mod:"change-token",locals:{money:available,txType:"burn"},titleContent:'<span w-i18n="modal.token.burn.title" params="{name: $ctrl.asset.name}"></span>',contentUrl:"modules/utils/modals/changeToken/change-token-modal.html",controller:"TokenChangeModalCtrl"})})}},{key:"showReissueModal",value:function showReissueModal(assetId){var _this291=this;return $injector.get("waves").node.assets.balance(assetId).then(function(_ref107){var available=_ref107.available;return _this291._getModal({id:"token-burn",mod:"change-token",locals:{money:available,txType:"reissue"},titleContent:'<span w-i18n="modal.token.reissue.title" params="{name: $ctrl.asset.name}"></span>',contentUrl:"modules/utils/modals/changeToken/change-token-modal.html",controller:"TokenChangeModalCtrl"})})}},{key:"showSponsorshipModal",value:function showSponsorshipModal(assetId,isEdit){var _this292=this;var title=isEdit?"modal.sponsorship_edit.title":"modal.sponsorship.title";return ds.api.assets.get(assetId).then(function(asset){return _this292._getModal({id:"sponsorship",mod:"sponsorship",locals:{asset:asset,assetId:assetId,isCreateSponsored:!isEdit},titleContent:'<span w-i18n="'+title+'"></span>',controller:"SponsoredModalCtrl",contentUrl:"modules/utils/modals/sponsored/sponsored.html"})})}},{key:"showSponsorshipStopModal",value:function showSponsorshipStopModal(assetId){var _this293=this;var waves=$injector.get("waves");return Promise.all([ds.api.assets.get(assetId),waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.SPONSORSHIP})]).then(function(_ref108){var _ref109=_slicedToArray(_ref108,2),asset=_ref109[0],fee=_ref109[1];var money=new Money(0,asset);var tx=waves.node.transactions.createTransaction({type:SIGN_TYPE.SPONSORSHIP,assetId:assetId,asset:asset,minSponsoredAssetFee:money,fee:fee});var signable=ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx});return _this293.showConfirmTx(signable,true)})}},{key:"showImportAccountsModal",value:function showImportAccountsModal(){return this._getModal({id:"import-accounts",mod:"import-accounts",controller:"ImportAccountsCtrl",contentUrl:"modules/utils/modals/importAccounts/importAccounts.html"})}},{key:"showDialogModal",value:function showDialogModal(options){var contentUrl="modules/utils/modals/templates/dialog-content.html";var ns=options.ns||DEFAULT_OPTIONS.ns;options.message.ns=options.message.ns||ns;options.buttons.forEach(function(button){button.text.ns=button.text.ns||ns});var controller=function controller($scope,$mdDialog){Object.assign($scope,options);this.applyClick=function(button){var method=button.success?"hide":"cancel";if(button.click){button.click()}$mdDialog[method](button.data)}};controller.$inject=["$scope","$mdDialog"];return this._getModal(tsUtils.merge({},DEFAULT_OPTIONS,options,{contentUrl:contentUrl,controller:controller}))}},{key:"showCustomModal",value:function showCustomModal(options){return this._getModal(tsUtils.merge({},DEFAULT_OPTIONS,options))}},{key:"_getUser",value:function _getUser(){return $injector.get("user")}},{key:"_getModal",value:function _getModal(options){var _this294=this;var target=_extends({},DEFAULT_OPTIONS,options);if(target.locals){target.bindToController=true}return ModalManager._getTemplate(target).then(function(template){var _ModalManager$_getCon=ModalManager._getController(options),controller=_ModalManager$_getCon.controller,controllerAs=_ModalManager$_getCon.controllerAs;var changeCounter=function changeCounter(){_this294._counter--;if(options.id){analytics.push("Modal","Modal.Close."+WavesApp.type,options.id)}};target.controller=controller;target.controllerAs=controllerAs;target.template=template;_this294._counter++;var modal=$mdDialog.show(target);if(options.id){analytics.push("Modal","Modal.Open."+WavesApp.type,options.id)}modal.then(changeCounter,changeCounter);_this294.openModal.dispatch(modal);return modal})}}],[{key:"_getTemplate",value:function _getTemplate(options){if(options.template){return Promise.resolve(options.template)}if(options.templateUrl){return ModalManager._loadTemplate(options.templateUrl)}return ModalManager._createTemplate(options)}},{key:"_getController",value:function _getController(options){if(!options.controller){return{controller:ModalManager._wrapController(function(){return{}}),controllerAs:null}}var controller=null;var controllerAs=void 0;if(typeof options.controller==="function"){controller=ModalManager._wrapController(options.controller)}else{var parts=options.controller.split(" as ");controller=ModalManager._wrapController(WavesApp.getController(parts[0]));controllerAs=parts[1]}if(!controllerAs){controllerAs=DEFAULT_OPTIONS.controllerAs}return{controller:controller,controllerAs:controllerAs}}},{key:"_wrapController",value:function _wrapController(controller){var $ctrl=function $ctrl($element,$mdDialog){$element.on("click","[w-modal-close]",function(){$mdDialog.cancel()});$element.on("click","[w-modal-hide]",function(){$mdDialog.hide()});for(var _len7=arguments.length,args=Array(_len7>2?_len7-2:0),_key7=2;_key7<_len7;_key7++){args[_key7-2]=arguments[_key7]}return controller.call.apply(controller,[this].concat(args))};$ctrl.$inject=["$element","$mdDialog"].concat(_toConsumableArray(controller.$inject||[]));return $ctrl}},{key:"_createTemplate",value:function _createTemplate(options){return Promise.all([ModalManager._getHeader(options).then(ModalManager._wrapTemplate("md-toolbar")),ModalManager._getContent(options).then(ModalManager._wrapTemplate("md-dialog-content")),ModalManager._getFooter(options)]).then(function(templateParts){var mod=options.mod,ns=options.ns;var content=templateParts.filter(Boolean).join("");return ModalManager._getWrapTemplate({ns:ns,mod:mod,content:content})})}},{key:"_getHeader",value:function _getHeader(options){if(options.title){var params=options.titleParams?JSON.stringify(options.titleParams):"";var title='<div class="headline-2" params=\''+params+"' w-i18n=\""+options.title+'"></div>';return ModalManager._loadTemplate(DEFAULT_TEMPLATES_URLS.HEADER).then(function(template){return template.replace("{{title}}",title)})}else if(options.titleContent||options.titleContentUrl){return Promise.all([ModalManager._getTemplateOption(options,"titleContent"),ModalManager._loadTemplate(DEFAULT_TEMPLATES_URLS.HEADER)]).then(function(_ref110){var _ref111=_slicedToArray(_ref110,2),titleContent=_ref111[0],header=_ref111[1];return header.replace("{{title}}",titleContent)})}else{return ModalManager._getTemplateOption(options,"header")}}},{key:"_getContent",value:function _getContent(options){return ModalManager._getTemplateOption(options,"content")}},{key:"_getFooter",value:function _getFooter(options){return ModalManager._getTemplateOption(options,"footer")}},{key:"_getTemplateOption",value:function _getTemplateOption(options,name){if(options[name]){return Promise.resolve(options[name])}else if(options[name+"Url"]){return ModalManager._loadTemplate(options[name+"Url"])}else{return Promise.resolve(null)}}},{key:"_wrapTemplate",value:function _wrapTemplate(tagName){return function(template){if(template){template="<"+tagName+">"+template+"</"+tagName+">"}return template}}},{key:"_getWrapTemplate",value:function _getWrapTemplate(_ref112){var ns=_ref112.ns,mod=_ref112.mod,content=_ref112.content;var namespace=ns?'w-i18n-ns="'+ns+'"':"";var classes=mod?'class="'+mod+'"':"";return"<md-dialog "+namespace+" "+classes+' aria-label="modal">'+content+"</md-dialog>"}},{key:"_loadTemplate",value:function _loadTemplate(url){return $templateRequest(url)}}]);return ModalManager}();return utils.bind(new ModalManager)};factory.$inject=["$mdDialog","utils","decorators","$templateRequest","$rootScope","$injector","state"];angular.module("app.utils").factory("modalManager",factory)})();(function(){"use strict";var factory=function factory(user,modalManager,waves,Router,utils){var ModalRouter=function(){function ModalRouter(){var _this295=this;_classCallCheck(this,ModalRouter);this._sleep=false;this._firstUrl=ModalRouter._getUrlData();this._router=new Router;this._router.registerRouteHash(this._wrapClose(this._getRoutes()));if(WavesApp.isDesktop()){window.listenMainProcessEvent(function(eventType,urlString){user.onLogin().then(function(){var _utils$parseElectronU=utils.parseElectronUrl(urlString),hash=_utils$parseElectronU.hash;if(hash){_this295._apply(ModalRouter._getUrlData(hash.replace("#","")))}})})}}_createClass(ModalRouter,[{key:"initialize",value:function initialize(){var _this296=this;window.addEventListener("hashchange",function(){if(!_this296._sleep){_this296._apply(ModalRouter._getUrlData())}},false);waves.node.assets.userBalances().then(function(){_this296._apply(_this296._firstUrl)})}},{key:"_apply",value:function _apply(url){return this._router.apply(url)}},{key:"_getRoutes",value:function _getRoutes(){var _ref115;return _ref115={},_defineProperty(_ref115,Router.ROUTES.SEND,function(){return modalManager.showSendAsset()}),_defineProperty(_ref115,Router.ROUTES.SEND_ASSET,function(_ref113,search){var assetId=_ref113.assetId;return modalManager.showSendAsset(_extends({},search,{assetId:assetId}))}),_defineProperty(_ref115,Router.ROUTES.ASSET_INFO,function(_ref114){var assetId=_ref114.assetId;return waves.node.assets.getAsset(assetId).then(function(asset){return modalManager.showAssetInfo(asset)})}),_defineProperty(_ref115,Router.ROUTES.ACCOUNT,function(){return modalManager.showAccountInfo()}),_defineProperty(_ref115,Router.ROUTES.GATEWAY_AUTH,function(params,search){return modalManager.showGatewaySign(search)}),_defineProperty(_ref115,Router.ROUTES.ANY_TX,function(params,search){return modalManager.showAnyTx(search)}),_ref115}},{key:"_wrapClose",value:function _wrapClose(hash){var _this297=this;Object.keys(hash).forEach(function(key){var handler=hash[key];hash[key]=function(){for(var _len8=arguments.length,args=Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8]}_this297._sleep=true;return user.onLogin().then(function(){var result=handler.apply(undefined,args);if(!result||!result.then||typeof result.then!=="function"){throw new Error("Modal result mast be a promise!")}var cb=function cb(){_this297._sleep=false;location.hash=""};result.then(cb,cb);return result})}});return hash}}],[{key:"_getUrlData",value:function _getUrlData(fromUrl){return"/"+decodeURIComponent(fromUrl||ModalRouter._getLocation())}},{key:"_getLocation",value:function _getLocation(){if(WavesApp.isDesktop()){var lastIndex=location.hash.lastIndexOf("#");var firstIndex=location.hash.indexOf("#");return lastIndex>firstIndex?location.hash.slice(lastIndex+1):""}else{return location.hash.replace("#","")}}}]);return ModalRouter}();return ModalRouter};factory.$inject=["user","modalManager","waves","Router","utils"];angular.module("app.ui").factory("ModalRouter",factory)})();(function(){"use strict";var MIN_ALIAS_LENGTH=4;var MAX_ALIAS_LENGTH=30;var ALIAS_PATTERN=/^[a-z0-9-@_.]*$/;var controller=function controller(Base,$scope,user,waves,notification,createPoll,utils){var AccountInfoCtrl=function(_Base87){_inherits(AccountInfoCtrl,_Base87);function AccountInfoCtrl(){_classCallCheck(this,AccountInfoCtrl);var _this298=_possibleConstructorReturn(this,(AccountInfoCtrl.__proto__||Object.getPrototypeOf(AccountInfoCtrl)).call(this,$scope));_this298.address=user.address;_this298.createAliasStep=0;_this298.aliases=null;_this298.newAlias="";_this298.fee=null;_this298.noMoneyForFee=true;_this298.invalid=false;_this298.invalidMinLength=false;_this298.invalidMaxLength=false;_this298.invalidPattern=false;_this298.transactionId="";_this298.signLoader=false;_this298.signDeviceFail=false;_this298.invalidExist=false;_this298._balance=null;_this298.userType=user.userType;_this298.isLedger=user.userType==="ledger";_this298.isKeeper=user.userType==="wavesKeeper";_this298.errorCreateAliasMsg="";var poll=createPoll(_this298,_this298._getBalance,"_balance",5e3,{isBalance:true,$scope:$scope});var feePromise=waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.CREATE_ALIAS});Promise.all([feePromise,poll.ready]).then(function(_ref116){var _ref117=_slicedToArray(_ref116,1),fee=_ref117[0];_this298.fee=fee;_this298.observe(["_balance","fee"],_this298._onChangeBalance);_this298._onChangeBalance();$scope.$digest()});_this298.aliases=waves.node.aliases.getAliasList();_this298.observe(["newAlias"],_this298._validateNewAlias);return _this298}_createClass(AccountInfoCtrl,[{key:"getSignableTx",value:function getSignableTx(){var type=10;var timestamp=ds.utils.normalizeTime(Date.now());var data={alias:this.newAlias,fee:this.fee,timestamp:timestamp};return ds.signature.getSignatureApi().makeSignable({type:type,data:data})}},{key:"createAlias",value:function createAlias(){var _this299=this;var signable=this.getSignableTx();return signable.getId().then(function(id){_this299.signDeviceFail=false;_this299.transactionId=id;_this299.signLoader=user.userType&&user.userType!=="seed";$scope.$digest()}).then(function(){return signable.getDataForApi()}).then(function(preparedTx){if(_this299.wasDestroed){return Promise.reject()}_this299.signLoader=false;return ds.broadcast(preparedTx).then(function(){analytics.push("User","User.CreateAlias.Success."+WavesApp.type);_this299.aliases.push(_this299.newAlias);_this299.newAlias="";_this299.createAliasStep=0;notification.info({ns:"app.utils",title:{literal:"modal.account.notifications.aliasCreated"}});$scope.$digest()})},function(){_this299.signDeviceFail=true;_this299.signLoader=false;$scope.$digest()}).catch(function(error){_this299.errorCreateAliasMsg=utils.parseError(error)})}},{key:"onCopyAddress",value:function onCopyAddress(){analytics.push("User","User.CopyAddress."+WavesApp.type)}},{key:"onCopyAlias",value:function onCopyAlias(){analytics.push("User","User.CopyAlias."+WavesApp.type)}},{key:"reset",value:function reset(){this.newAlias=""}},{key:"_onChangeBalance",value:function _onChangeBalance(){this.noMoneyForFee=!this.fee||!this._balance||this._balance.available.getTokens().lt(this.fee.getTokens());this.invalid=this.invalid||this.noMoneyForFee;$scope.$digest()}},{key:"_getBalance",value:function _getBalance(){return waves.node.assets.balance(WavesApp.defaultAssets.WAVES)}},{key:"_validateNewAlias",value:async function _validateNewAlias(){this.invalidMinLength=this.newAlias&&this.newAlias.length<MIN_ALIAS_LENGTH;this.invalidMaxLength=this.newAlias&&this.newAlias.length>MAX_ALIAS_LENGTH;this.invalidPattern=this.newAlias&&!ALIAS_PATTERN.test(this.newAlias);var invalid=this.noMoneyForFee||this.invalidMinLength||this.invalidMaxLength||this.invalidPattern;if(this.newAlias&&!invalid){this.pendingAlias=true;this.invalid=true;try{await ds.api.aliases.getAddressByAlias(this.newAlias);this.invalidExist=true}catch(e){this.invalidExist=false}this.pendingAlias=false;this.invalid=invalid||this.invalidExist;$scope.$digest()}else{this.invalidExist=false;this.invalid=invalid}}}]);return AccountInfoCtrl}(Base);return new AccountInfoCtrl};controller.$inject=["Base","$scope","user","waves","notification","createPoll","utils"];angular.module("app.utils").controller("AccountInfoCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope){var AnyTxModalCtrl=function(_Base88){_inherits(AnyTxModalCtrl,_Base88);function AnyTxModalCtrl(tx){_classCallCheck(this,AnyTxModalCtrl);var _this300=_possibleConstructorReturn(this,(AnyTxModalCtrl.__proto__||Object.getPrototypeOf(AnyTxModalCtrl)).call(this,$scope));_this300.state=null;_this300.signable=null;_this300.step=0;_this300.state={tx:tx};return _this300}_createClass(AnyTxModalCtrl,[{key:"onFillTxForm",value:function onFillTxForm(signable){this.signable=signable;this.step++}},{key:"onConfirmBack",value:function onConfirmBack(){this.step--}}]);return AnyTxModalCtrl}(Base);return new AnyTxModalCtrl(this.locals)};controller.$inject=["Base","$scope"];angular.module("app.utils").controller("AnyTxModalCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,user,createPoll,utils,waves){var ds=require("data-service");var _require34=require("ramda"),path=_require34.path;var _require35=require("@waves/oracle-data"),STATUS_LIST=_require35.STATUS_LIST;var AssetInfoCtrl=function(_Base89){_inherits(AssetInfoCtrl,_Base89);function AssetInfoCtrl(asset){_classCallCheck(this,AssetInfoCtrl);var _this301=_possibleConstructorReturn(this,(AssetInfoCtrl.__proto__||Object.getPrototypeOf(AssetInfoCtrl)).call(this,$scope));_this301.asset=asset;_this301.wavesId=WavesApp.defaultAssets.WAVES;_this301.isDemo=!user.address;_this301.quantity=_this301.asset.quantity.div(new BigNumber(10).pow(_this301.asset.precision)).toFormat();_this301.minFee=ds.utils.getTransferFeeList().find(function(money){return money.asset.id===_this301.asset.id});var assetList=user.getSetting("pinnedAssetIdList");_this301.assetList=assetList;_this301.pinned=assetList.indexOf(asset.id)!==-1;_this301.chartData=null;_this301.circleChartData=null;_this301.totalBalance=null;_this301.transactions=[];_this301.transactionsPending=true;var data=ds.dataManager.getOracleAssetData(asset.id);_this301.isVerified=path(["status"],data)===STATUS_LIST.VERIFIED;_this301.isGateway=path(["status"],data)===3;_this301.ticker=asset.ticker==="WAVES"?"ACRYL":asset.ticker;_this301.idName=asset.id==="WAVES"?"ACRYL":asset.id;_this301.link=path(["link"],data);_this301.email=path(["email"],data);_this301.provider=_this301.isVerified&&path(["provider"],data)||null;_this301.description=path(["description","en"],data)||asset.description;_this301.tab="info";_this301.chartOptions={items:{available:{color:"#66bf00",radius:66},leased:{color:"#ffebc0",radius:50},inOrders:{color:"#bacaf5",radius:58}},center:27,direction:true,startFrom:Math.PI/2};createPoll(_this301,_this301._getGraphData,"chartData",15e3);if(!_this301.isDemo){var isBalance=true;createPoll(_this301,_this301._getCircleGraphData,_this301._setCircleGraphData,15e3);createPoll(_this301,AssetInfoCtrl._getTxList,_this301._setTxList,4e3,{isBalance:isBalance,$scope:$scope})}return _this301}_createClass(AssetInfoCtrl,[{key:"togglePin",value:function togglePin(){this.assetList=this.assetList.filter(tsUtils.notContains(this.asset.id));if(!this.pinned){this.assetList=this.assetList.concat(this.asset.id)}this.pinned=!this.pinned;user.setSetting("pinnedAssetIdList",this.assetList)}},{key:"_setTxList",value:function _setTxList(transactions){var _this302=this;this.transactionsPending=false;this.transactions=transactions.filter(function(tx){var TYPES=waves.node.transactions.TYPES;switch(tx.typeName){case TYPES.SEND:case TYPES.RECEIVE:case TYPES.MASS_RECEIVE:case TYPES.MASS_SEND:case TYPES.CIRCULAR:return tx.amount.asset.id===_this302.asset.id;case TYPES.EXCHANGE_BUY:case TYPES.EXCHANGE_SELL:return tx.amount.asset.id===_this302.asset.id||tx.price.asset.id===_this302.asset.id;case TYPES.LEASE_IN:case TYPES.LEASE_OUT:case TYPES.CANCEL_LEASING:return _this302.asset.id===WavesApp.defaultAssets.WAVES;case TYPES.ISSUE:case TYPES.REISSUE:case TYPES.BURN:return(tx.assetId||tx.amount&&tx.amount.asset.id)===_this302.asset.id;case TYPES.SPONSORSHIP_START:case TYPES.SPONSORSHIP_STOP:return tx.assetId===_this302.asset.id;case TYPES.SPONSORSHIP_FEE:return _this302.asset.id===tx.feeAssetId;default:return false}})}},{key:"_getGraphData",value:function _getGraphData(){var startDate=utils.moment().add().day(-100);return waves.utils.getRateHistory(this.asset.id,user.getSetting("baseAssetId"),startDate).then(function(values){return{values:values}}).catch(function(){return{values:null}})}},{key:"_getCircleGraphData",value:function _getCircleGraphData(){return waves.node.assets.balance(this.asset.id)}},{key:"_setCircleGraphData",value:function _setCircleGraphData(_ref118){var available=_ref118.available,leasedOut=_ref118.leasedOut,inOrders=_ref118.inOrders;this.circleChartData=[{id:"available",value:available},{id:"leased",value:leasedOut},{id:"inOrders",value:inOrders}];this.totalBalance=available.add(leasedOut).add(inOrders);$scope.$digest()}}],[{key:"_getTxList",value:function _getTxList(){return waves.node.transactions.list(100)}}]);return AssetInfoCtrl}(Base);return new AssetInfoCtrl(this.locals)};controller.$inject=["Base","$scope","user","createPoll","utils","waves"];angular.module("app.ui").controller("AssetInfoCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,createPoll,utils,waves,user){var entities=require("@waves/data-entities");var _require36=require("@waves/signature-adapter"),SIGN_TYPE=_require36.SIGN_TYPE;var ds=require("data-service");var _require37=require("ramda"),path=_require37.path;var _require38=require("@waves/oracle-data"),STATUS_LIST=_require38.STATUS_LIST;var TokenChangeModalCtrl=function(_Base90){_inherits(TokenChangeModalCtrl,_Base90);function TokenChangeModalCtrl(_ref119){var money=_ref119.money,txType=_ref119.txType;_classCallCheck(this,TokenChangeModalCtrl);var _this303=_possibleConstructorReturn(this,(TokenChangeModalCtrl.__proto__||Object.getPrototypeOf(TokenChangeModalCtrl)).call(this,$scope));_this303.step=0;_this303.noFee=false;_this303.txType=txType;_this303.asset=money.asset;_this303.issue=money.asset.reissuable;_this303.maxCoinsCount=WavesApp.maxCoinsCount.minus(money.asset.quantity);_this303.balance=money;_this303.precision=money.asset.precision;_this303.input=null;_this303.quantity=new entities.Money(_this303.asset.quantity,_this303.asset);_this303._waves=null;var data=ds.dataManager.getOracleAssetData(money.asset.id);_this303.isVerified=path(["status"],data)===STATUS_LIST.VERIFIED;_this303.isGateway=path(["status"],data)===3;_this303.ticker=money.asset.ticker;_this303.description=path(["description","en"],data)||money.asset.description;var _user$getThemeSetting2=user.getThemeSettings(),_user$getThemeSetting3=_user$getThemeSetting2.TokenChangeModalCtrl,_TokenChangeModalCtrl=_user$getThemeSetting3===undefined?{}:_user$getThemeSetting3;_this303.options={grid:{x:false,y:false},margin:{top:0,right:0,left:0,bottom:0},series:[{dataset:"values",key:"rate",label:"Rate",color:_TokenChangeModalCtrl.seriesColor||"#f6bd6c",type:["line","area"]}],axes:{x:{key:"timestamp",type:"date",ticks:4}}};waves.node.getFee({type:_this303.txType}).then(function(fee){_this303.fee=fee;$scope.$digest()});createPoll(_this303,_this303._getGraphData,"chartData",15e3);createPoll(_this303,_this303._getWavesBalance,"_waves",1e3);_this303.observe(["input","issue"],_this303._createTx);_this303.observe(["_waves","fee"],_this303._changeHasFee);return _this303}_createClass(TokenChangeModalCtrl,[{key:"getSignable",value:function getSignable(){return this.signable}},{key:"next",value:function next(){this.step++}},{key:"_getWavesBalance",value:function _getWavesBalance(){return waves.node.assets.balance(WavesApp.defaultAssets.WAVES).then(function(_ref120){var available=_ref120.available;return available})}},{key:"_changeHasFee",value:function _changeHasFee(){if(!this._waves||!this.fee){return null}this.noFee=this._waves.lt(this.fee)}},{key:"_createTx",value:function _createTx(){var input=this.input;var type=this.txType==="burn"?SIGN_TYPE.BURN:SIGN_TYPE.REISSUE;var quantityField=this.txType==="burn"?"amount":"quantity";if(input){var _waves$node$transacti;var tx=waves.node.transactions.createTransaction((_waves$node$transacti={type:type,assetId:input.asset.id,description:input.asset.description,fee:this.fee},_defineProperty(_waves$node$transacti,quantityField,input),_defineProperty(_waves$node$transacti,"precision",input.asset.precision),_defineProperty(_waves$node$transacti,"reissuable",this.issue),_waves$node$transacti));this.signable=ds.signature.getSignatureApi().makeSignable({type:type,data:tx})}else{this.tx=null;this.signable=null}}},{key:"_getGraphData",value:function _getGraphData(){var startDate=utils.moment().add().day(-100);return waves.utils.getRateHistory(this.asset.id,user.getSetting("baseAssetId"),startDate).then(function(values){return{values:values}})}}]);return TokenChangeModalCtrl}(Base);var money=this.money,txType=this.txType;return new TokenChangeModalCtrl({money:money,txType:txType})};controller.$inject=["Base","$scope","createPoll","utils","waves","user"];angular.module("app.utils").controller("TokenChangeModalCtrl",controller)})();(function(){"use strict";var controller=function controller(){var confirmDeleteUserCtrl=function confirmDeleteUserCtrl(locals){_classCallCheck(this,confirmDeleteUserCtrl);this.hasBackup=locals.user.settings.hasBackup;this.isSeed=!locals.user.userType||locals.user.userType==="seed";this.isLedger=locals.user.userType==="ledger";this.isKeeper=locals.user.userType==="wavesKeeper"};return new confirmDeleteUserCtrl(this.locals)};controller.$inject=[];angular.module("app.ui").controller("confirmDeleteUserCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,$mdDialog){var ConfirmOrderCtrl=function(_Base91){_inherits(ConfirmOrderCtrl,_Base91);function ConfirmOrderCtrl(_ref121){var locals=_ref121.locals;_classCallCheck(this,ConfirmOrderCtrl);var _this304=_possibleConstructorReturn(this,(ConfirmOrderCtrl.__proto__||Object.getPrototypeOf(ConfirmOrderCtrl)).call(this,$scope));_this304.type=locals.orderType;_this304.orderLimit=locals.orderLimit;_this304.isSell=_this304.type==="sell";return _this304}_createClass(ConfirmOrderCtrl,[{key:"agree",value:function agree(){$mdDialog.hide()}},{key:"close",value:function close(){$mdDialog.cancel()}}]);return ConfirmOrderCtrl}(Base);return new ConfirmOrderCtrl(this)};controller.$inject=["Base","$scope","$mdDialog"];angular.module("app.ui").controller("ConfirmOrderCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,$mdDialog){var ConfirmTxCtrl=function(_Base92){_inherits(ConfirmTxCtrl,_Base92);function ConfirmTxCtrl(_ref122){var signable=_ref122.signable,showValidationErrors=_ref122.showValidationErrors;_classCallCheck(this,ConfirmTxCtrl);var _this305=_possibleConstructorReturn(this,(ConfirmTxCtrl.__proto__||Object.getPrototypeOf(ConfirmTxCtrl)).call(this,$scope));_this305.signable=signable;_this305.showValidationErrors=showValidationErrors;return _this305}_createClass(ConfirmTxCtrl,[{key:"back",value:function back(){$mdDialog.cancel()}}]);return ConfirmTxCtrl}(Base);return new ConfirmTxCtrl(this.locals)};controller.$inject=["Base","$scope","$mdDialog"];angular.module("app.utils").controller("ConfirmTxCtrl",controller)})();(function(){"use strict";var LOCALIZATION={title:{normal:"modal.gatewaySign.title",error:"modal.gatewaySign.error.title"}};var controller=function controller(Base,$scope,user,utils,$mdDialog){var isEmpty=function isEmpty(value){return!value};var tsApiValidator=require("ts-api-validator");var _require39=require("@waves/signature-adapter"),SIGN_TYPE=_require39.SIGN_TYPE;var ds=require("data-service");var schema=new tsApiValidator.Schema({type:tsApiValidator.ObjectPart,required:true,content:{referrer:{type:tsApiValidator.StringPart,isEmpty:isEmpty,path:"r",required:true},name:{type:tsApiValidator.StringPart,isEmpty:isEmpty,path:"n",required:true},data:{type:tsApiValidator.StringPart,isEmpty:isEmpty,path:"d",required:true},iconPath:{type:tsApiValidator.StringPart,path:"i",required:false},successPath:{type:tsApiValidator.StringPart,path:"s",required:false},debug:{type:tsApiValidator.BooleanPart,required:false,defaultValue:false}}});var GatewaySignCtrl=function(_Base93){_inherits(GatewaySignCtrl,_Base93);function GatewaySignCtrl(search){_classCallCheck(this,GatewaySignCtrl);var _this306=_possibleConstructorReturn(this,(GatewaySignCtrl.__proto__||Object.getPrototypeOf(GatewaySignCtrl)).call(this,$scope));_this306.isSeed=false;_this306.signAdapterError=false;_this306.signPending=false;_this306.isDesktop=WavesApp.isDesktop();_this306.hasError=false;_this306.imageSrc="";_this306.referrer="";_this306.name="";_this306.successUrl="";_this306.debug=false;_this306.search=null;_this306.userType=null;_this306.titleLiteral=LOCALIZATION.title.normal;_this306.search=search;_this306.userType=user.userType;_this306.debug=!!search.debug;_this306.isSeed=user.userType==="seed";_this306.observe("hasError",function(value){if(value){_this306.titleLiteral=LOCALIZATION.title.error}else{_this306.titleLiteral=LOCALIZATION.title.normal}});schema.parse(search).then(function(params){_this306.urlParams=params;var referrer=params.referrer,name=params.name,iconPath=params.iconPath;_this306.referrer=referrer;_this306.name=name;_this306._setImageUrl(referrer,iconPath);return _this306.createUrl()}).catch(function(e){_this306._sendError(e.message||e);_this306.signPending=false}).finally(function(){return $scope.$apply()});return _this306}_createClass(GatewaySignCtrl,[{key:"sign",value:function sign(){var _this307=this;this.createUrl().catch(function(e){_this307._sendError(e.message||e);_this307.signPending=false}).finally(function(){return $scope.$apply()})}},{key:"signAuth",value:function signAuth(adapter,data){var _this308=this;this.signPending=true;var signable=adapter.makeSignable(data);signable.getId().then(function(id){_this308.id=id;$scope.$apply()});return signable.getSignature()}},{key:"createUrl",value:function createUrl(){var _this309=this;var _urlParams=this.urlParams,referrer=_urlParams.referrer,data=_urlParams.data,successPath=_urlParams.successPath;var prefix="WavesWalletAuthentication";var host=GatewaySignCtrl._getDomain(referrer);var signData={type:SIGN_TYPE.AUTH,data:{prefix:prefix,host:host,data:data}};var adapter=ds.signature.getSignatureApi();var sign=this.signAuth(adapter,signData);return Promise.all([sign,adapter.getPublicKey()]).then(function(_ref123){var _ref124=_slicedToArray(_ref123,2),signature=_ref124[0],publicKey=_ref124[1];var search="?s="+signature+"&p="+publicKey+"&a="+user.address;var path=successPath||"";var url=referrer+"/"+path+search;_this309.signPending=false;_this309.signAdapterError=false;_this309.successUrl=GatewaySignCtrl._normalizeUrl(url);if(!_this309.isSeed){_this309.send();$mdDialog.cancel()}}).catch(function(e){_this309.signPending=false;if(_this309.isSeed){return Promise.reject(e)}_this309.signAdapterError=true})}},{key:"send",value:function send(){utils.redirect(this.successUrl)}},{key:"_setImageUrl",value:function _setImageUrl(referrer,iconPath){var _this310=this;if(!iconPath){return null}var getUrl=function getUrl(){try{return new URL(iconPath).href}catch(e){return GatewaySignCtrl._normalizeUrl(referrer+"/"+iconPath)}};var url=getUrl();utils.loadImage(url).then(function(){_this310.imageSrc=url;$scope.$digest()})}},{key:"_sendError",value:function _sendError(message){this.hasError=true;this.errorMessage=message}}],[{key:"_getDomain",value:function _getDomain(referer){var url=new URL(referer);if(url.protocol!=="https:"){throw new Error('Protocol must be "https:"')}return url.hostname}},{key:"_normalizeUrl",value:function _normalizeUrl(urlString){var url=new URL(urlString);var protocol=url.protocol+"//";return protocol+(url.host+"/"+url.pathname+"/"+url.search+url.hash).replace(/\/+/g,"/").replace(/\/$/,"")}}]);return GatewaySignCtrl}(Base);return new GatewaySignCtrl(this.search)};controller.$inject=["Base","$scope","user","utils","$mdDialog"];angular.module("app.utils").controller("GatewaySignCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,utils,user,storage,$state,$mdDialog){var R=require("ramda");var OLD_ORIGIN="https://waveswallet.io";var ImportAccountsCtrl=function(_Base94){_inherits(ImportAccountsCtrl,_Base94);_createClass(ImportAccountsCtrl,[{key:"hasSelected",get:function get(){return Object.values(this.checkedHash).filter(Boolean).length>0}}]);function ImportAccountsCtrl(){_classCallCheck(this,ImportAccountsCtrl);var _this311=_possibleConstructorReturn(this,(ImportAccountsCtrl.__proto__||Object.getPrototypeOf(ImportAccountsCtrl)).call(this,$scope));_this311.pending=true;_this311.userList=[];_this311.wasImportBeta=true;_this311.wasImportOld=false;_this311.checkedHash=Object.create(null);_this311._myUserList=[];var userListPromise=user.getUserList().catch(function(){return[]});userListPromise.then(function(userList){_this311._myUserList=userList;return _this311.importFromOld()});return _this311}_createClass(ImportAccountsCtrl,[{key:"importAccounts",value:function importAccounts(){var _this312=this;var users=Object.keys(this.checkedHash).map(function(address){return R.find(R.propEq("address",address),_this312.userList)});return user.getUserList().then(function(list){return storage.save("userList",list.concat(users))}).then(function(){$mdDialog.hide();$state.go("welcome")})}},{key:"importFromOld",value:function importFromOld(){this.wasImportOld=true;return this._import(OLD_ORIGIN,"old")}},{key:"_import",value:function _import(origin,name){var _this313=this;this.pending=true;return utils.importAccountByTab(origin,5e3).catch(function(){return[]}).then(function(list){_this313.pending=false;_this313._addAccountList(_defineProperty({},name,list))})}},{key:"_addAccountList",value:function _addAccountList(_ref125){var _this314=this;var beta=_ref125.beta,old=_ref125.old;beta=beta||[];old=old||[];var myUsersHash=utils.toHash(this._myUserList||[],"address");this.userList=R.pipe(R.uniqBy(R.prop("address")),R.filter(function(user){return!myUsersHash[user.address]}))(beta.concat(old));this.checkedHash=Object.create(null);this.userList.forEach(function(user){_this314.checkedHash[user.address]=true});$scope.$apply()}}]);return ImportAccountsCtrl}(Base);return new ImportAccountsCtrl};controller.$inject=["Base","$scope","utils","user","storage","$state","$mdDialog"];angular.module("app.utils").controller("ImportAccountsCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,user){var PairingWithMobileCtrl=function(_Base95){_inherits(PairingWithMobileCtrl,_Base95);function PairingWithMobileCtrl(){_classCallCheck(this,PairingWithMobileCtrl);var _this315=_possibleConstructorReturn(this,(PairingWithMobileCtrl.__proto__||Object.getPrototypeOf(PairingWithMobileCtrl)).call(this,$scope));_this315.exportUrl="";_this315.userType=user.userType;_this315.canShowPairing=true;ds.signature.getSignatureApi().getSeed().then(function(seed){_this315.exportUrl=seed}).catch(function(){_this315.canShowPairing=false}).then(function(){$scope.$apply()});return _this315}return PairingWithMobileCtrl}(Base);return new PairingWithMobileCtrl};controller.$inject=["Base","$scope","user"];angular.module("app.utils").controller("PairingWithMobileCtrl",controller)})();var ds=require("data-service");var R=require("ramda");(function(){"use strict";var HIDDEN_ASSETS=WavesApp.ALWAYS_PINNED_ASSETS;var controller=function controller(Base,$scope,waves,PromiseControl,$mdDialog){var PinAssetCtrl=function(_Base96){_inherits(PinAssetCtrl,_Base96);function PinAssetCtrl(){_classCallCheck(this,PinAssetCtrl);var _this316=_possibleConstructorReturn(this,(PinAssetCtrl.__proto__||Object.getPrototypeOf(PinAssetCtrl)).call(this,$scope));_this316.search="";_this316.withScam=null;_this316.pinnedAssetNewList=[];_this316.pinnedAssetIdList=[];_this316.spam=[];_this316.selectedHash={};_this316.syncSettings({pinnedAssetIdList:"pinnedAssetIdList",spam:"wallet.portfolio.spam",withScam:"withScam"});_this316.observe("search",_this316._fillList);_this316.loadPromise=_this316._getAvilableAssets();_this316._fillList();$scope.$watch("$ctrl.pinnedAssetNewList",function(){return _this316.checkChecked()},true);return _this316}_createClass(PinAssetCtrl,[{key:"checkChecked",value:function checkChecked(){var _this317=this;this.selected=0;this.pinnedAssetNewList.forEach(function(asset){if(asset.pinned){_this317.selectedHash[asset.id]=true}else{delete _this317.selectedHash[asset.id]}});this.selected=Object.keys(this.selectedHash).length}},{key:"onSubmit",value:function onSubmit(){var _this318=this;this.pinnedAssetIdList=R.uniq([].concat(_toConsumableArray(this.pinnedAssetIdList),_toConsumableArray(Object.keys(this.selectedHash))));this.spam=this.spam.filter(function(spamId){return!_this318.pinnedAssetIdList.includes(spamId)});$mdDialog.hide({selected:this.selected.length})}},{key:"_isSpam",value:function _isSpam(asset){return(this.spam||[]).includes(asset.id)}},{key:"_getAvilableAssets",value:async function _getAvilableAssets(){var _this319=this;var myAssets=await ds.dataManager.getBalances();var defaultAssets=await waves.node.assets.getAsset(Object.values(WavesApp.defaultAssets));return R.uniqBy(R.prop("id"),[].concat(_toConsumableArray(defaultAssets),_toConsumableArray(myAssets.map(function(x){return x.asset})))).map(function(asset){var pinned=_this319.pinnedAssetIdList.includes(asset.id);return _extends({},asset,{pinned:pinned})})}},{key:"_fillList",value:async function _fillList(){var assetsList=this._filterAndSort(await this.loadPromise);var searchList=this._filterAndSort(await this._searchByApi());this.pinnedAssetNewList=R.uniqBy(R.prop("id"),[].concat(_toConsumableArray(assetsList),_toConsumableArray(searchList)));$scope.$digest()}},{key:"_filterAndSort",value:function _filterAndSort(assetsList){var filteredList=[];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=assetsList[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var asset=_step3.value;if(this.pinnedAssetIdList.includes(asset.id)){continue}if(HIDDEN_ASSETS.includes(asset.id)){continue}if(!this.withScam&&(PinAssetCtrl._isScam(asset)||this._isSpam(asset))){continue}if(this._isInSearch(asset)){filteredList.push(asset)}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}return filteredList}},{key:"_searchByApi",value:function _searchByApi(){if(!this.search||!this.search.trim().length){return[]}if(this._searchPromise){this._searchPromise.drop()}this._searchPromise=new PromiseControl(waves.node.assets.search(this.search.trim()));return this._searchPromise.then(function(list){return list},function(){return[]})}},{key:"_isInSearch",value:function _isInSearch(asset){var search=this.search.toUpperCase().trim();if(!search||!this.search.length){return true}return(asset.id+" "+asset.name+" "+asset.ticker).toUpperCase().includes(search)}}],[{key:"_isScam",value:function _isScam(asset){return(WavesApp.scam||{})[asset.id]}}]);return PinAssetCtrl}(Base);return new PinAssetCtrl};controller.$inject=["Base","$scope","waves","PromiseControl","$mdDialog"];angular.module("app.utils").controller("PinAssetCtrl",controller)})();(function(){"use strict";var DEFAULT_LINK="#";var FIAT_LIST=[];var controller=function controller(Base,$scope,gatewayService,user,utils,waves){var ReceiveCtrl=function(_Base97){_inherits(ReceiveCtrl,_Base97);function ReceiveCtrl(_ref126){var address=_ref126.address,asset=_ref126.asset;_classCallCheck(this,ReceiveCtrl);var _this320=_possibleConstructorReturn(this,(ReceiveCtrl.__proto__||Object.getPrototypeOf(ReceiveCtrl)).call(this,$scope));_this320.activeTab="cryptocurrency";_this320.address=address;_this320.asset=asset;_this320.chosenAssetId="";_this320.step=0;_this320.assetKeyName=null;_this320.gatewayAddress=null;_this320.listOfEligibleCountries=DEFAULT_LINK;_this320.idNowSiteUrl=DEFAULT_LINK;_this320.idNowUserLink=DEFAULT_LINK;_this320.digiLiraUserLink="https://www.digilira.com/";_this320.indacoinLink=DEFAULT_LINK;_this320.singleAsset=true;_this320.showCryptocurrencyTab=false;_this320.cryptocurrencies=null;_this320.showInvoiceTab=false;_this320.invoicables=null;_this320.addressAndAliases=null;_this320.chosenAlias="";_this320.invoiceAmount=null;_this320.sendLink="";_this320.showCardTab=false;_this320.purchasablesByCards=null;_this320.showBankTab=false;_this320.fiats=null;_this320.showIdNowRedirectionDescription=false;_this320.showIndacoinRedirectionDescription=false;_this320.showDigiliraRedirectionDescription=false;_this320.chosenCurrencyIndex=0;_this320.cardFiatList=FIAT_LIST;_this320.cardPayment=null;_this320.approximateAmount=0;if(_this320.asset){_this320.initForSingleAsset()}else{_this320.singleAsset=false;_this320.initForAllAssets()}return _this320}_createClass(ReceiveCtrl,[{key:"initCryptocurrencyTab",value:function initCryptocurrencyTab(){var _this321=this;this.gatewayServerError=false;var depositDetails=gatewayService.getDepositDetails(this.asset,this.address);if(depositDetails){depositDetails.then(function(details){_this321.gatewayAddress=details.address;$scope.$digest()},function(){_this321.gatewayAddress=null;_this321.gatewayServerError=true;$scope.$digest()});this.assetKeyName=gatewayService.getAssetKeyName(this.asset,"deposit");this.activateCryptocurrencyTab()}}},{key:"initInvoiceTab",value:function initInvoiceTab(){this.addressAndAliases=[this.address].concat(_toConsumableArray(waves.node.aliases.getAliasList()));this.activateInvoiceTab();if(this.showInvoiceTab){this.setInvoiceObserver()}}},{key:"updateGatewayAddress",value:function updateGatewayAddress(){this.initCryptocurrencyTab()}},{key:"setInvoiceObserver",value:function setInvoiceObserver(){var _this322=this;this.observe(["chosenAlias","invoiceAmount"],function(){_this322.updateSendLink()})}},{key:"updateSendLink",value:function updateSendLink(){var assetId=this.asset&&this.asset.id;if(!(assetId&&this.chosenAlias)){this.sendLink="";return}var invoiceAmount=this.invoiceAmount&&this.invoiceAmount.toTokens()||"0";var WAVES_URL=WavesApp.origin;this.sendLink=WAVES_URL+"/#send/"+assetId+"?recipient="+this.chosenAlias+"&amount="+invoiceAmount}},{key:"initCardTab",value:function initCardTab(){var _this323=this;if(gatewayService.hasSupportOf(this.asset,"card")){this.showCardTab=true;this.updateCardDetails().then(function(){gatewayService.getCardFiatWithLimits(_this323.asset,user.address,FIAT_LIST).then(function(fiatList){_this323.cardFiatList=fiatList;_this323.updateCardTab();_this323.setCardObserver()})})}}},{key:"updateCardDetails",value:function updateCardDetails(){var _this324=this;return ds.moneyFromTokens(this.cardFiatList[0].min,this.cardFiatList[0].assetId).then(function(sum){_this324.cardPayment=sum})}},{key:"updateCardTab",value:function updateCardTab(){this.updateApproximateAmount();this.indacoinLink=gatewayService.getCardBuyLink(this.asset,this.cardFiatList[this.chosenCurrencyIndex].fiatCode,user.address,this._tokenizeCardPayment())}},{key:"setCardObserver",value:function setCardObserver(){var _this325=this;this.observe(["chosenCurrencyIndex","cardPayment","asset"],function(){if(!Number(_this325._tokenizeCardPayment())){_this325.approximateAmount=new ds.wavesDataEntities.Money(0,_this325.asset)}_this325.updateCardTab()})}},{key:"updateApproximateAmount",value:function updateApproximateAmount(){var _this326=this;this.approximateAmount=new ds.wavesDataEntities.Money(0,this.asset);gatewayService.getCardApproximateCryptoAmount(this.asset,this.cardFiatList[this.chosenCurrencyIndex].fiatCode,user.address,this._tokenizeCardPayment()).then(function(approximateAmount){var coins=new BigNumber(approximateAmount).times(Math.pow(10,_this326.asset.precision));_this326.approximateAmount=new ds.wavesDataEntities.Money(coins.dp(0),_this326.asset);$scope.$digest()})}},{key:"initBankTab",value:function initBankTab(){var sepaDetails=gatewayService.getSepaDetails(this.asset,this.address);if(sepaDetails){this.activateBankTab()}}},{key:"initForSingleAsset",value:function initForSingleAsset(){this.initCryptocurrencyTab();this.initInvoiceTab();this.initCardTab();this.initBankTab()}},{key:"initForAllAssets",value:function initForAllAssets(){var _this327=this;var cryptocurrenciesRequests=this.getExtendedAssets(gatewayService.getCryptocurrencies());var cryptocurrenciesRequest=Promise.all(cryptocurrenciesRequests).then(function(results){_this327.cryptocurrencies=results});var invoicesRequest=waves.node.assets.userBalances().then(function(results){_this327.invoicables=results.filter(ReceiveCtrl._isNotScam).map(function(balance){return balance.asset})});var cardsRequests=this.getExtendedAssets(gatewayService.getPurchasableWithCards());var cardsRequest=Promise.all(cardsRequests).then(function(results){_this327.purchasablesByCards=results});var fiatsRequests=this.getExtendedAssets(gatewayService.getFiats());var fiatsRequest=Promise.all(fiatsRequests).then(function(results){_this327.fiats=results});Promise.all([cryptocurrenciesRequest,invoicesRequest,cardsRequest,fiatsRequest]).then(function(){_this327.updateAssetAndDataBy(_this327.cryptocurrencies[0].id);_this327.activateCryptocurrencyTab();_this327.activateInvoiceTab();_this327.initForSingleAsset()});this.observe("chosenAssetId",function(_ref127){var id=_ref127.value;return _this327.updateAssetAndDataBy(id)})}},{key:"getExtendedAssets",value:function getExtendedAssets(assetsIds){return Object.keys(assetsIds).map(waves.node.assets.getAsset)}},{key:"updateAssetAndDataBy",value:function updateAssetAndDataBy(id){this.updateAssetBy(id);this.initCryptocurrencyTab();this.updateSendLink();if(this.isPurchasableByCard(this.asset)){if(this.showCardTab===true){this.initCardTab()}this.updateCardTab()}}},{key:"updateAssetBy",value:function updateAssetBy(id){this.asset=this.cryptocurrencies.find(function(cryptocurrency){return cryptocurrency.id===id})||this.invoicables.find(function(invoicable){return invoicable.id===id})||this.purchasablesByCards.find(function(purchasableByCards){return purchasableByCards.id===id})||this.fiats.find(function(fiat){return fiat.id===id})}},{key:"isPurchasableByCard",value:function isPurchasableByCard(asset){return this.purchasablesByCards.find(function(purchasable){return purchasable.id===asset.id})}},{key:"activateCryptocurrencyTab",value:function activateCryptocurrencyTab(){this.showCryptocurrencyTab=true}},{key:"activateInvoiceTab",value:function activateInvoiceTab(){this.showInvoiceTab=true}},{key:"activateCardTab",value:function activateCardTab(){this.showCardTab=true}},{key:"activateBankTab",value:function activateBankTab(){this.showBankTab=true}},{key:"confirmIdNow",value:function confirmIdNow(){this.showIdNowRedirectionDescription=true;this.increaseStep()}},{key:"confirmIndacoin",value:function confirmIndacoin(){this.showIndacoinRedirectionDescription=true;this.increaseStep()}},{key:"confirmDigilira",value:function confirmDigilira(){this.showDigiliraRedirectionDescription=true;this.increaseStep()}},{key:"increaseStep",value:function increaseStep(){this.step++}},{key:"isLira",value:function isLira(){return this.asset.id===WavesApp.defaultAssets.TRY}},{key:"_tokenizeCardPayment",value:function _tokenizeCardPayment(){return this.cardPayment&&this.cardPayment.toTokens()||0}}],[{key:"_isNotScam",value:function _isNotScam(item){return!WavesApp.scam[item.asset.id]}}]);return ReceiveCtrl}(Base);return new ReceiveCtrl(this.locals)};controller.$inject=["Base","$scope","gatewayService","user","utils","waves"];angular.module("app.utils").controller("ReceiveCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,user,$scope,gatewayService){var ReceiveBank=function(_Base98){_inherits(ReceiveBank,_Base98);_createClass(ReceiveBank,[{key:"isLira",get:function get(){return this.asset&&this.asset.id===WavesApp.defaultAssets.TRY}}]);function ReceiveBank(){_classCallCheck(this,ReceiveBank);var _this328=_possibleConstructorReturn(this,(ReceiveBank.__proto__||Object.getPrototypeOf(ReceiveBank)).call(this));_this328.pending=false;_this328.isVerified=false;_this328.isTermsAccepted=false;_this328.singleAsset=true;_this328.asset=null;_this328.verifyLink="https://go.idnow.de/coinomat/userdata/"+user.address;_this328.fiats=[];_this328.signInProgress=false;_this328.digiLiraUserLink="https://www.digilira.com/";_this328.observe("asset",_this328.initBankTab);return _this328}_createClass(ReceiveBank,[{key:"nextStep",value:function nextStep(){this.step+=1}},{key:"onSignStart",value:function onSignStart(){this.signInProgress=true}},{key:"onSignEnd",value:function onSignEnd(){this.signInProgress=false}},{key:"initBankTab",value:function initBankTab(){var _this329=this;var sepaDetails=gatewayService.getSepaDetails(this.asset,user.address);if(sepaDetails){sepaDetails.then(function(details){_this329.listOfEligibleCountries=details.listOfEligibleCountries;_this329.idNowSiteUrl=details.idNowSiteUrl;_this329.idNowUserLink=details.idNowUserLink;$scope.$apply()})}}}]);return ReceiveBank}(Base);return new ReceiveBank};controller.$inject=["Base","user","$scope","gatewayService"];angular.module("app.utils").component("wReceiveBank",{controller:controller,bindings:{fiats:"<",asset:"<",singleAsset:"<",listOfEligibleCountries:"<"},templateUrl:"modules/utils/modals/receive/receiveBank/receive-bank.html",scope:false})})();(function(){"use strict";var controller=function controller(Base,$scope){var ScriptModalCtrl=function(_Base99){_inherits(ScriptModalCtrl,_Base99);_createClass(ScriptModalCtrl,[{key:"activeState",get:function get(){return this.state[this.activeTab]}}]);function ScriptModalCtrl(){_classCallCheck(this,ScriptModalCtrl);var _this330=_possibleConstructorReturn(this,(ScriptModalCtrl.__proto__||Object.getPrototypeOf(ScriptModalCtrl)).call(this,$scope));_this330.tx=null;_this330.state=Object.create(null);_this330.step=0;_this330.observe("activeTab",_this330._onChangeActiveTab);_this330._onChangeActiveTab();return _this330}_createClass(ScriptModalCtrl,[{key:"onClickBack",value:function onClickBack(){this.step--}},{key:"nextStep",value:function nextStep(signable){this.signable=signable;this.step++}},{key:"_onChangeActiveTab",value:function _onChangeActiveTab(){var tab=this.activeTab;if(!this.state[tab]){this.state[tab]=Object.create(null)}}}]);return ScriptModalCtrl}(Base);return new ScriptModalCtrl};controller.$inject=["Base","$scope"];angular.module("app.utils").controller("ScriptModalCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,seedService,user){var SeedBackupModalsCtrl=function(_Base100){_inherits(SeedBackupModalsCtrl,_Base100);function SeedBackupModalsCtrl(seed){_classCallCheck(this,SeedBackupModalsCtrl);var _this331=_possibleConstructorReturn(this,(SeedBackupModalsCtrl.__proto__||Object.getPrototypeOf(SeedBackupModalsCtrl)).call(this,$scope));_this331.titleLiteral="";_this331.step=null;_this331.seed=seed;_this331.seedConfirmWasFilled=false;_this331.seedIsValid=false;_this331.observe("step",_this331._onChangeStep);_this331.step=0;return _this331}_createClass(SeedBackupModalsCtrl,[{key:"onSeedConfirmFulfilled",value:function onSeedConfirmFulfilled(isValid){this.seedIsValid=isValid;this.seedConfirmWasFilled=true}},{key:"seedOnTouch",value:function seedOnTouch(){this.seedConfirmWasFilled=false}},{key:"clear",value:function clear(){this.seedIsValid=false;this.seedConfirmWasFilled=false;seedService.clear.dispatch()}},{key:"_onChangeStep",value:function _onChangeStep(){this.seedIsValid=false;this.seedConfirmWasFilled=false;this.titleLiteral="title_"+this.step;if(this.step===2){user.setSetting("hasBackup",true)}}}]);return SeedBackupModalsCtrl}(Base);return new SeedBackupModalsCtrl(this.seed)};controller.$inject=["Base","$scope","seedService","user"];angular.module("app.utils").controller("SeedBackupModalsCtrl",controller)})();(function(){"use strict";var _require40=require("@waves/signature-adapter"),SIGN_TYPE=_require40.SIGN_TYPE;var controller=function controller($scope,waves,Base,utils,createPoll,user,$mdDialog){var AssetSendCtrl=function(_Base101){_inherits(AssetSendCtrl,_Base101);_createClass(AssetSendCtrl,[{key:"balance",get:function get(){return this.state.moneyHash&&this.state.moneyHash[this.state.assetId]}},{key:"outerSendMode",get:function get(){return this.state.outerSendMode}},{key:"gatewayDetails",get:function get(){return this.state.gatewayDetails}}]);function AssetSendCtrl(options){_classCallCheck(this,AssetSendCtrl);var _this332=_possibleConstructorReturn(this,(AssetSendCtrl.__proto__||Object.getPrototypeOf(AssetSendCtrl)).call(this,$scope));_this332.headerPath="modules/utils/modals/sendAsset/send-header.html";_this332.defaultAssets=WavesApp.defaultAssets;_this332.choosableMoneyList=[];_this332.step=0;_this332.canChooseAsset=!options.assetId||options.canChooseAsset;_this332.moneyHash=null;_this332.state={assetId:options.assetId||WavesApp.defaultAssets.WAVES,mirrorId:user.getSetting("baseAssetId"),outerSendMode:false,gatewayDetails:null,moneyHash:null,singleSend:utils.liteObject({type:SIGN_TYPE.TRANSFER}),massSend:utils.liteObject({type:SIGN_TYPE.MASS_TRANSFER}),toBankMode:false};_this332.poll=createPoll(_this332,_this332._getBalanceList,"state.moneyHash",1e3,{isBalance:true});_this332.txInfo=Object.create(null);_this332.tab=options.mode;_this332.strict=options.amount&&options.recipient&&options.strict;_this332.errorOccured=false;try{_this332.referrer=new URL(options.referrer).href}catch(e){_this332.referrer=null}if(!(options.mode||options.recipient||options.amount)){_this332.syncSettings({tab:"send.defaultTab"})}else{_this332.tab="singleSend";_this332.state.singleSend.recipient=options.recipient;_this332.state.singleSend.attachment=options.attachment;Promise.all([ds.moneyFromTokens(options.amount||"0",_this332.state.assetId),waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.TRANSFER})]).then(function(_ref128){var _ref129=_slicedToArray(_ref128,2),money=_ref129[0],fee=_ref129[1];_this332.state.singleSend.amount=money;_this332.state.singleSend.fee=fee;var tx=waves.node.transactions.createTransaction(_this332.state.singleSend);var signable=ds.signature.getSignatureApi().makeSignable({type:SIGN_TYPE.TRANSFER,data:tx});if(_this332.strict){_this332.nextStep(signable)}}).catch(function(){_this332.errorOccured=true;$scope.$digest()})}_this332.receive(utils.observe(_this332.state,"moneyHash"),_this332._onChangeMoneyHash,_this332);_this332.receive(utils.observe(_this332.state,"assetId"),function(){return _this332.poll.restart()});return _this332}_createClass(AssetSendCtrl,[{key:"back",value:function back(){this.step--}},{key:"nextStep",value:function nextStep(signable){this.signable=signable;this.step++}},{key:"onTxSent",value:function onTxSent(id){if(this.referrer){utils.redirect(this.referrer+"?txId="+id);$mdDialog.hide()}}},{key:"_onChangeMoneyHash",value:function _onChangeMoneyHash(){var hash=this.state.moneyHash;var list=Object.values(hash).filter(function(money){return!money.getTokens().eq(0)&&AssetSendCtrl._isNotScam(money)});if(list.length){var availableBalancesHash=utils.toHash(list,"asset.id");if(!availableBalancesHash[this.state.assetId]&&this.canChooseAsset){this.state.assetId=list[0].asset.id}this.choosableMoneyList=list}else{this.choosableMoneyList=[this.state.moneyHash[this.state.assetId]]}}},{key:"_getBalanceList",value:function _getBalanceList(){return waves.node.assets.userBalances().then(function(list){return list.map(function(_ref130){var available=_ref130.available;return available})}).then(function(list){return list.filter(function(money){return money.getTokens().gt(0)})}).then(function(list){return utils.toHash(list,"asset.id")}).then(AssetSendCtrl._getAddMoneyProcessor(this.state.assetId)).then(AssetSendCtrl._getAddMoneyProcessor(this.state.mirrorId))}}],[{key:"_isNotScam",value:function _isNotScam(item){return!WavesApp.scam[item.asset.id]}},{key:"_getAddMoneyProcessor",value:function _getAddMoneyProcessor(assetId){return function(hash){if(!hash[assetId]){return ds.moneyFromTokens("0",assetId).then(function(money){hash[assetId]=money;return hash})}else{return hash}}}}]);return AssetSendCtrl}(Base);return new AssetSendCtrl(this.locals)};controller.$inject=["$scope","waves","Base","utils","createPoll","user","$mdDialog"];angular.module("app.utils").controller("AssetSendCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,readFile,$scope,utils,validateService,waves,user,decorators){var _dec22,_dec23,_dec24,_dec25,_desc13,_value13,_class40;var Papa=require("papaparse");var TYPE=WavesApp.TRANSACTION_TYPES.NODE.MASS_TRANSFER;var MassSend=(_dec22=decorators.async(),_dec23=decorators.async(),_dec24=decorators.async(),_dec25=decorators.cachable(60),_class40=function(_Base102){_inherits(MassSend,_Base102);_createClass(MassSend,[{key:"tx",get:function get(){return this.state.massSend}},{key:"validTxCount",get:function get(){if(this.tx.transfers.length){var errors=utils.toHash(this.errors,"recipient");return this.tx.transfers.filter(function(data){return!errors[data.recipient]}).length}else{return 0}}}]);function MassSend(){_classCallCheck(this,MassSend);var _this333=_possibleConstructorReturn(this,(MassSend.__proto__||Object.getPrototypeOf(MassSend)).call(this));_this333.state=null;_this333.maxTransfersCount=100;_this333.onContinue=null;_this333.recipientCsv="";_this333.totalAmount=null;_this333.errors=[];_this333.transfers=[];_this333.view=utils.liteObject({errors:utils.liteObject({showAll:false})});_this333.isValidAmounts=true;_this333.massSend=null;_this333.importError=false;_this333.hasFee=false;return _this333}_createClass(MassSend,[{key:"$postLink",value:function $postLink(){var _this334=this;var transfers=this.tx.transfers||[];this.tx.attachment=this.tx.attachment||"";var assetId=this.state.assetId;transfers.forEach(function(item){item.amount=_this334.state.moneyHash[assetId].cloneWithTokens(item.amount.toTokens())});this.tx.transfers=transfers;var onHasMoneyHash=function onHasMoneyHash(){var signal=utils.observe(_this334.state.massSend,"transfers");_this334.receive(utils.observe(_this334.state,"assetId"),_this334._onChangeAssetId,_this334);_this334.observe(["transfers","errors"],_this334._updateTxList);_this334.observe("totalAmount",_this334._validate);_this334.observe("transfers",_this334._updateTextAreaContent);_this334.observe("recipientCsv",_this334._onChangeCSVText);_this334.receive(signal,_this334._calculateTotalAmount,_this334);_this334.receive(signal,_this334._validate,_this334);_this334.receive(signal,_this334._calculateFee,_this334);_this334.receive(utils.observe(_this334.state.massSend,"fee"),_this334._currentHasFee,_this334);_this334.transfers=_this334.tx.transfers.slice();signal.dispatch()};if(this.state.moneyHash){onHasMoneyHash()}else{utils.observe(this.state,"moneyHash").once(function(){onHasMoneyHash();$scope.$digest()})}}},{key:"importFile",value:function importFile(data){var _this335=this;if(data.status==="ok"){this.importError=false;return readFile.read(data.file).then(function(content){_this335.massSend.recipientCsv.$touched=true;_this335._processTextAreaContent(content);$scope.$digest()})}else{this.importError=true;$scope.$digest();setTimeout(function(){_this335.importError=false;$scope.$digest()},3e3)}}},{key:"clear",value:function clear(){this.transfers=[];this.errors=[];this.importError=false}},{key:"nextStep",value:function nextStep(){var tx=waves.node.transactions.createTransaction(this.tx);var signable=ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx});return signable}},{key:"onTxSign",value:function onTxSign(signable){this.onContinue({signable:signable})}},{key:"_onChangeAssetId",value:function _onChangeAssetId(){var _this336=this;var transfers=this.transfers;if(transfers&&transfers.length){var assetId=this.state.assetId;this.clear();this.transfers=transfers.map(function(item){return{recipient:item.recipient,amount:_this336.state.moneyHash[assetId].cloneWithTokens(item.amount.toTokens())}})}}},{key:"_currentHasFee",value:function _currentHasFee(){if(!this.state||!this.state.massSend||!this.state.massSend.fee){return null}var fee=this.state.massSend.fee;var moneyHash=this.state.moneyHash;this.hasFee=moneyHash[fee.asset.id]&&moneyHash[fee.asset.id].gte(fee);$scope.$digest()}},{key:"_updateTxList",value:function _updateTxList(){var list=this.transfers.slice();var errors=utils.toHash(this.errors,"recipient");var validList=list.filter(function(item){return!errors[item.recipient]});var endIndex=Math.min(validList.length,this.maxTransfersCount);var transfers=validList.slice(0,endIndex);if(MassSend._isNotEqual(this.tx.transfers,transfers)){this.tx.transfers=transfers}}},{key:"_calculateTotalAmount",value:function _calculateTotalAmount(){var transfers=this.tx.transfers;if(transfers.length){this.totalAmount=transfers.map(function(_ref131){var amount=_ref131.amount;return amount.getTokens().gte(0)?amount:amount.cloneWithTokens("0")}).reduce(function(result,item){return result.add(item)});return null}this.totalAmount=this.state.moneyHash[this.state.assetId].cloneWithTokens("0")}},{key:"_calculateFee",value:function _calculateFee(){var _this337=this;waves.node.getFee({type:TYPE,tx:this.tx}).then(function(fee){_this337.tx.fee=fee;$scope.$digest()})}},{key:"_processTextAreaContent",value:function _processTextAreaContent(content){var _this338=this;var _Papa$parse=Papa.parse(content||""),data=_Papa$parse.data;var recipientHash=MassSend._getRecipientHashByCSVParseResult(data);var transfers=[];Object.keys(recipientHash).forEach(function(recipient){var amountNum=recipientHash[recipient].map(function(amount){try{return MassSend._parseAmount(amount)}catch(e){return new BigNumber(0)}}).reduce(function(result,item){return result.plus(item)});var amount=_this338.state.moneyHash[_this338.state.assetId].cloneWithTokens(amountNum);transfers.push({recipient:recipient,amount:amount})});if(MassSend._isNotEqual(this.transfers,transfers)){this.transfers=transfers}}},{key:"_validate",value:function _validate(){this._validateAmounts();this._validateRecipients()}},{key:"_validateRecipients",value:function _validateRecipients(){var _this339=this;Promise.all(this.transfers.map(function(item){return MassSend._isValidRecipient(item.recipient)})).then(function(list){var errors=[];list.forEach(function(response,index){var recipient=_this339.transfers[index].recipient;if(!response.state||_this339.transfers[index].amount.getTokens().lte(0)){errors.push({recipient:recipient})}});_this339.errors=errors;$scope.$digest()})}},{key:"_validateAmounts",value:function _validateAmounts(){if(!this.totalAmount){this.isValidAmounts=true;return null}var moneyHash=utils.groupMoney([this.totalAmount,this.tx.fee]);var balance=moneyHash[this.state.assetId];this.isValidAmounts=this.state.moneyHash[this.state.assetId].gte(balance)&&this.totalAmount.getTokens().gt("0")}},{key:"_onChangeCSVText",value:function _onChangeCSVText(){var text=this.recipientCsv;this._processTextAreaContent(text);this._updateTextAreaContent();this._validateRecipients()}},{key:"_updateTextAreaContent",value:function _updateTextAreaContent(){var transfers=this.transfers;var text=Papa.unparse(transfers.map(function(item){return[item.recipient,item.amount.getTokens().toFixed()]}));if(text!==this.recipientCsv){this.recipientCsv=text;$scope.$digest()}}}],[{key:"_getRecipientHashByCSVParseResult",value:function _getRecipientHashByCSVParseResult(data){var recipientHash=Object.create(null);data.forEach(function(item){if(!item.length){return null}var _item$map=item.map(function(text){return text.replace(/\s/g,"").replace(/"/g,"")}),_item$map2=_slicedToArray(_item$map,2),recipient=_item$map2[0],amountString=_item$map2[1];if(!(recipient&&amountString)){return null}if(!recipientHash[recipient]){recipientHash[recipient]=[]}recipientHash[recipient].push(amountString)});return recipientHash}},{key:"_isNotEqual",value:function _isNotEqual(a,b){return!MassSend._isEqual(a,b)}},{key:"_isEqual",value:function _isEqual(a,b){return a.length===b.length&&a.every(function(item,i){return item.recipient===b[i].recipient&&item.amount.eq(b[i].amount)})}},{key:"_isValidRecipient",value:function _isValidRecipient(recipient){return utils.resolve(validateService.wavesAddress(recipient))}},{key:"_parseAmount",value:function _parseAmount(amountString){var data=WavesApp.getLocaleData();var amount=amountString.replace(new RegExp("\\"+data.separators.group,"g"),"").replace(new RegExp("\\"+data.separators.decimal),".").replace(",",".");return new BigNumber(amount)}}]);return MassSend}(Base),_applyDecoratedDescriptor(_class40.prototype,"_calculateFee",[_dec22],Object.getOwnPropertyDescriptor(_class40.prototype,"_calculateFee"),_class40.prototype),_applyDecoratedDescriptor(_class40.prototype,"_validateRecipients",[_dec23],Object.getOwnPropertyDescriptor(_class40.prototype,"_validateRecipients"),_class40.prototype),_applyDecoratedDescriptor(_class40.prototype,"_updateTextAreaContent",[_dec24],Object.getOwnPropertyDescriptor(_class40.prototype,"_updateTextAreaContent"),_class40.prototype),_applyDecoratedDescriptor(_class40,"_isValidRecipient",[_dec25],Object.getOwnPropertyDescriptor(_class40,"_isValidRecipient"),_class40),_class40);return new MassSend};controller.$inject=["Base","readFile","$scope","utils","validateService","waves","user","decorators"];angular.module("app.ui").component("wMassSend",{bindings:{state:"<",onContinue:"&"},templateUrl:"modules/utils/modals/sendAsset/components/massSend/mass-send.html",transclude:true,controller:controller})})();(function(){"use strict";var FIAT_ASSETS={};var _require41=require("@waves/data-entities"),Money=_require41.Money;var ds=require("data-service");var BANK_RECIPIENT=WavesApp.bankRecipient;var MIN_TOKEN_COUNT=100;var MAX_TOKEN_COUNT=5e4;var controller=function controller(Base,$scope,utils,createPoll,waves,outerBlockchains,user,gatewayService){var SingleSend=function(_Base103){_inherits(SingleSend,_Base103);_createClass(SingleSend,[{key:"hasSendToBank",get:function get(){return FIAT_ASSETS[this.assetId]||false}},{key:"isLira",get:function get(){return this.assetId===WavesApp.defaultAssets.TRY}},{key:"tx",get:function get(){return this.state.singleSend}},{key:"assetId",get:function get(){return this.state.assetId},set:function set(id){this.state.assetId=id}},{key:"mirrorId",get:function get(){return this.state.mirrorId}},{key:"moneyHash",get:function get(){return this.state.moneyHash}},{key:"feeHash",get:function get(){return utils.groupMoney(this.feeList||[])}},{key:"balance",get:function get(){return this.moneyHash[this.assetId]}},{key:"outerSendMode",get:function get(){return this.state.outerSendMode},set:function set(value){this.state.outerSendMode=value}},{key:"paymentId",get:function get(){return this.state.paymentId},set:function set(value){this.state.paymentId=value}},{key:"gatewayDetails",get:function get(){return this.state.gatewayDetails},set:function set(value){this.state.gatewayDetails=value}},{key:"isBankPending",get:function get(){return this.toBankMode&&this.termsIsPending}},{key:"isBankError",get:function get(){return this.toBankMode&&this.termsLoadError}},{key:"isBankPendingOrError",get:function get(){return this.isBankError||this.isBankPending}},{key:"hasOuterError",get:function get(){return this.outerSendMode&&this.gatewayDetailsError||this.isBankError}},{key:"minimumAmount",get:function get(){return this.gatewayDetails&&this.gatewayDetails.minimumAmount||this.toBankMode&&new BigNumber(MIN_TOKEN_COUNT)}},{key:"maximumAmount",get:function get(){return this.maxGatewayAmount||this.toBankMode&&this.balance.cloneWithTokens(MAX_TOKEN_COUNT)}},{key:"toBankMode",get:function get(){return this.state.toBankMode},set:function set(value){this.state.toBankMode=value}}]);function SingleSend(){_classCallCheck(this,SingleSend);var _this340=_possibleConstructorReturn(this,(SingleSend.__proto__||Object.getPrototypeOf(SingleSend)).call(this));_this340.txType=WavesApp.TRANSACTION_TYPES.NODE.TRANSFER;_this340.digiLiraUserLink="https://www.digilira.com/";_this340.onContinue=null;_this340.focus=null;_this340.mirror=null;_this340.noMirror=false;_this340.hasComission=true;_this340.feeList=null;_this340.minAmount=null;_this340.maxAmount=null;_this340.state=Object.create(null);_this340.maxGatewayAmount=null;_this340.gatewayDetailsError=false;_this340.termsIsPending=true;_this340.termsLoadError=false;_this340.signInProgress=false;_this340._noCurrentRate=false;$scope.WavesApp=WavesApp;return _this340}_createClass(SingleSend,[{key:"$postLink",value:function $postLink(){var _this341=this;this.receive(utils.observe(this.tx,"fee"),this._currentHasCommission,this);this.receiveOnce(utils.observe(this.state,"moneyHash"),function(){_this341.receive(utils.observe(_this341.state,"toBankMode"),_this341._onChangeBankMode,_this341);_this341.observe("gatewayDetails",_this341._currentHasCommission);_this341.minAmount=_this341.state.moneyHash[_this341.state.assetId].cloneWithTokens("0");_this341.tx.amount=_this341.tx.amount||_this341.moneyHash[_this341.assetId].cloneWithTokens("0");_this341._fillMirror();_this341.receive(utils.observe(_this341.state,"assetId"),_this341._onChangeAssetId,_this341);_this341.receive(utils.observe(_this341.state,"mirrorId"),_this341._onChangeMirrorId,_this341);_this341.receive(utils.observe(_this341.state,"paymentId"),_this341._updateGatewayDetails,_this341);_this341.receive(utils.observe(_this341.tx,"recipient"),_this341._updateGatewayDetails,_this341);_this341.receive(utils.observe(_this341.tx,"amount"),_this341._onChangeAmount,_this341);_this341.observe("mirror",_this341._onChangeAmountMirror);_this341._currentHasCommission();_this341._onChangeBaseAssets();_this341._updateGatewayDetails()})}},{key:"onSignCoinomatStart",value:function onSignCoinomatStart(){this.signInProgress=true}},{key:"onSignCoinomatEnd",value:function onSignCoinomatEnd(){this.signInProgress=false}},{key:"createTx",value:function createTx(){var toGateway=this.outerSendMode&&this.gatewayDetails;var fee=toGateway?this.tx.amount.cloneWithTokens(toGateway.gatewayFee):null;var tx=waves.node.transactions.createTransaction(_extends({},this.tx,{recipient:toGateway?this.gatewayDetails.address:this.tx.recipient,attachment:toGateway?this.gatewayDetails.attachment:this.tx.attachment,amount:toGateway?this.tx.amount.add(fee):this.tx.amount}));var signable=ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx});return signable}},{key:"onSignTx",value:function onSignTx(signable){this.onContinue({signable:signable})}},{key:"fillMax",value:function fillMax(){var _this342=this;var amount=null;var moneyHash=utils.groupMoney(this.feeList);if(moneyHash[this.assetId]){amount=this.balance.sub(moneyHash[this.assetId])}else{amount=this.balance}if(amount.getTokens().lt(0)){amount=this.moneyHash[this.assetId].cloneWithTokens("0")}waves.utils.getRate(this.assetId,this.mirrorId).then(function(rate){_this342._noCurrentRate=true;_this342.mirror=amount.convertTo(_this342.moneyHash[_this342.mirrorId].asset,rate);_this342.tx.amount=amount;_this342._noCurrentRate=false})}},{key:"onBlurMirror",value:function onBlurMirror(){if(!this.mirror){this._fillMirror()}this.focus=""}},{key:"onReadQrCode",value:function onReadQrCode(url){var _this343=this;var routeData=utils.getRouterParams(utils.getUrlForRoute(url));if(!routeData||routeData.name!=="SEND_ASSET"){return null}var result=routeData.data;this.tx.recipient=result.recipient;analytics.push("Send","Send.QrCodeRead."+WavesApp.type,"Send.QrCodeRead."+WavesApp.type+".Success");if(result){var applyAmount=function applyAmount(){if(result.amount){_this343.tx.amount=_this343.moneyHash[_this343.assetId].cloneWithTokens(result.amount);_this343._fillMirror()}$scope.$apply()};result.assetId=result.asset||result.assetId;if(result.assetId){waves.node.assets.balance(result.assetId).then(function(_ref132){var available=_ref132.available;_this343.moneyHash[available.asset.id]=available;if(_this343.assetId!==available.asset.id){var myAssetId=_this343.assetId;_this343.assetId=available.asset.id;_this343.canChooseAsset=true;_this343.choosableMoneyList=[_this343.moneyHash[myAssetId],available]}applyAmount()},applyAmount)}else{applyAmount()}}}},{key:"isMoneroAddress",value:function isMoneroAddress(){return this.state.assetId===WavesApp.defaultAssets.XMR}},{key:"getGatewayDetails",value:function getGatewayDetails(){this._onChangeAssetId()}},{key:"_validateForm",value:function _validateForm(){if(this.tx.amount.getTokens().gt(0)||this.tx.recipient){this.send.$setDirty(true);this.send.$setSubmitted(true)}}},{key:"_onChangeBankMode",value:function _onChangeBankMode(){if(this.toBankMode&&!this.isLira){this.tx.recipient=BANK_RECIPIENT;this.termsIsPending=true}else{this.tx.recipient="";this.termsIsPending=false}this._setMinAmount()}},{key:"_setMinAmount",value:function _setMinAmount(){if(this.toBankMode&&!this.isLira){var maxCoinomatAmount=this.balance.cloneWithTokens(5e4);var minCoinomatAmount=this.balance.cloneWithTokens(100);this.maxAmount=Money.min(maxCoinomatAmount,this.balance);this.minAmount=minCoinomatAmount}else{this.minAmount=this.state.moneyHash[this.assetId].cloneWithTokens("0");this.maxAmount=this.moneyHash[this.assetId]}this._validateForm()}},{key:"_onChangeMirrorId",value:function _onChangeMirrorId(){if(!this.mirrorId){throw new Error("Has no asset id!")}this._onChangeBaseAssets();if(!this.moneyHash[this.mirrorId]){return null}this.mirror=this.moneyHash[this.mirrorId].cloneWithTokens("0");this._onChangeAmount()}},{key:"_onChangeAssetId",value:function _onChangeAssetId(){if(!this.assetId){throw new Error("Has no asset id!")}this._onChangeBaseAssets();if(!this.moneyHash[this.assetId]){return null}this.tx.amount=this.moneyHash[this.assetId].cloneWithTokens("0");this.mirror=this.moneyHash[this.mirrorId].cloneWithTokens("0");this._updateGatewayDetails();analytics.push("Send","Send.ChangeCurrency."+WavesApp.type,this.assetId)}},{key:"_currentHasCommission",value:function _currentHasCommission(){var _this344=this;if(!this.moneyHash){return null}var details=this.gatewayDetails;var check=function check(feeList){var feeHash=utils.groupMoney(feeList);var balanceHash=_this344.moneyHash;_this344.hasComission=Object.keys(feeHash).every(function(feeAssetId){var fee=feeHash[feeAssetId];return balanceHash[fee.asset.id]&&balanceHash[fee.asset.id].gte(fee)})};if(details){var gatewayFee=this.balance.cloneWithTokens(details.gatewayFee);this.feeList=[this.tx.fee,gatewayFee];check(this.feeList.concat(this.balance.cloneWithTokens(details.minimumAmount)))}else{this.feeList=[this.tx.fee];check(this.feeList)}}},{key:"_onChangeBaseAssets",value:function _onChangeBaseAssets(){var _this345=this;if(this.assetId===this.mirrorId){this.noMirror=true}else{waves.utils.getRate(this.assetId,this.mirrorId).then(function(rate){_this345.noMirror=rate.eq(0)})}}},{key:"_onChangeAmount",value:function _onChangeAmount(){if(!this._noCurrentRate&&!this.noMirror&&this.focus==="amount"){this._fillMirror()}}},{key:"_onChangeAmountMirror",value:function _onChangeAmountMirror(){if(!this._noCurrentRate&&this.focus==="mirror"){this._fillAmount()}}},{key:"_fillMirror",value:function _fillMirror(){var _this346=this;if(!this.tx.amount){this.mirror=null;setTimeout(function(){return $scope.$digest()},0);return null}waves.utils.getRate(this.assetId,this.mirrorId).then(function(rate){_this346.mirror=_this346.tx.amount.convertTo(_this346.moneyHash[_this346.mirrorId].asset,rate);$scope.$digest()})}},{key:"_fillAmount",value:function _fillAmount(){var _this347=this;if(!this.mirror){this.tx.amount=null;setTimeout(function(){return $scope.$digest()},0);return null}waves.utils.getRate(this.mirrorId,this.assetId).then(function(rate){_this347.tx.amount=_this347.mirror.convertTo(_this347.moneyHash[_this347.assetId].asset,rate);$scope.$digest()})}},{key:"_updateGatewayDetails",value:function _updateGatewayDetails(){var _this348=this;if(this.toBankMode&&!this.isLira){this._setMinAmount();return}var outerChain=outerBlockchains[this.assetId];var isValidWavesAddress=waves.node.isValidAddress(this.tx.recipient);if(this.gatewayDetailsError){this.outerSendMode=false;this.gatewayDetailsError=false}this.outerSendMode=!isValidWavesAddress&&outerChain&&outerChain.isValidAddress(this.tx.recipient);if(this.outerSendMode){return gatewayService.getWithdrawDetails(this.balance.asset,this.tx.recipient,this.paymentId).then(function(details){var max=BigNumber.min(details.maximumAmount.plus(details.gatewayFee),_this348.moneyHash[_this348.assetId].getTokens());_this348.gatewayDetails=details;_this348.minAmount=_this348.moneyHash[_this348.assetId].cloneWithTokens(details.minimumAmount.minus("0.00000001"));_this348.maxAmount=_this348.moneyHash[_this348.assetId].cloneWithTokens(max);_this348.maxGatewayAmount=Money.fromTokens(details.maximumAmount,_this348.balance.asset)},function(){_this348.gatewayDetails=null;_this348.gatewayDetailsError=true})}else{this.minAmount=this.state.moneyHash[this.assetId].cloneWithTokens("0");this.maxAmount=this.moneyHash[this.assetId];this.gatewayDetails=null;this._validateForm()}return Promise.resolve()}}]);return SingleSend}(Base);return new SingleSend};controller.$inject=["Base","$scope","utils","createPoll","waves","outerBlockchains","user","gatewayService"];angular.module("app.ui").component("wSingleSend",{bindings:{state:"<",onContinue:"&"},templateUrl:"modules/utils/modals/sendAsset/components/singleSend/single-send.html",transclude:true,controller:controller})})();(function(){"use strict";var ds=require("data-service");var _require42=require("ramda"),path=_require42.path;var controller=function controller(Base,$scope,waves,user,createPoll,$templateRequest,utils,storage,modalManager){var SettingsCtrl=function(_Base104){_inherits(SettingsCtrl,_Base104);_createClass(SettingsCtrl,[{key:"openLinkViaWeb",get:function get(){return this.openClientMode==="web"},set:function set(value){if(value){this.openClientMode="web"}else{this.openClientMode=null}storage.save("openClientMode",this.openClientMode)}},{key:"advancedMode",get:function get(){return user.getSetting("advancedMode")},set:function set(mode){analytics.push("Settings","Settings.ChangeAdvancedMode",String(mode));user.setSetting("advancedMode",mode)}}]);function SettingsCtrl(){_classCallCheck(this,SettingsCtrl);var _this349=_possibleConstructorReturn(this,(SettingsCtrl.__proto__||Object.getPrototypeOf(SettingsCtrl)).call(this,$scope));_this349.assetsOracle="";_this349.tab="general";_this349.address=user.address;_this349.publicKey=user.publicKey;_this349.shownSeed=false;_this349.shownKey=false;_this349.node="";_this349.matcher="";_this349.scamListUrl="";_this349.withScam=false;_this349.theme=user.getSetting("theme");_this349.candle=user.getSetting("candle");_this349.shareStat=user.getSetting("shareAnalytics");_this349.templatePromise=$templateRequest("modules/utils/modals/settings/loader.html");_this349.openClientMode=null;_this349.logoutAfterMin=null;_this349.appName=WavesApp.name;_this349.appVersion=WavesApp.version;_this349.supportLink=WavesApp.network.support;_this349.supportLinkName=WavesApp.network.support.replace(/^https?:\/\//,"");_this349.blockHeight=0;_this349.assetsOracleTmp="";_this349.oracleData=path(["oracle"],ds.dataManager.getOracleData());_this349.oracleError=false;_this349.oraclePending=false;_this349.oracleSuccess=false;_this349.isScript=user.hasScript();_this349.syncSettings({node:"network.node",matcher:"network.matcher",logoutAfterMin:"logoutAfterMin",scamListUrl:"scamListUrl",withScam:"withScam",theme:"theme",candle:"candle",assetsOracle:"assetsOracle"});_this349.assetsOracleTmp=_this349.assetsOracle;storage.load("openClientMode").then(function(mode){_this349.openClientMode=mode});_this349.observe("theme",function(){_this349.templatePromise.then(function(template){template=template.replace("{{bgColor}}",user.getThemeSettings().bgColor);_this349.showLoader(template);utils.wait(1e3).then(function(){return user.changeTheme(_this349.theme)})},function(){return user.changeTheme(_this349.theme)})});_this349.observe("assetsOracle",function(){ds.config.set("oracleAddress",_this349.assetsOracle);_this349.assetsOracleTmp=_this349.assetsOracle});_this349.observe("assetsOracleTmp",function(){var address=_this349.assetsOracleTmp;_this349.oraclePending=true;ds.api.data.getOracleData(address).then(function(data){if(data.oracle){_this349.oracleData=data.oracle;ds.config.set("oracleAddress",address);_this349.assetsOracle=_this349.assetsOracleTmp;_this349.oracleError=false;_this349.oracleSuccess=true;setTimeout(function(){_this349.oracleSuccess=false;$scope.$apply()},1500)}}).catch(function(){_this349.oracleError=true}).then(function(){_this349.oraclePending=false;$scope.$apply()})});_this349.observe("withScam",function(){var withScam=_this349.withScam;if(withScam){waves.node.assets.giveMyScamBack()}else{waves.node.assets.stopScam()}});_this349.observe(["node","matcher"],function(){ds.config.setConfig({node:_this349.node,matcher:_this349.matcher})});_this349.observe("shareStat",function(){if(_this349.shareStat){user.setSetting("shareAnalytics",true)}else{user.setSetting("shareAnalytics",false)}});_this349.observe("shownSeed",function(){analytics.push("Settings","Settings.ShowSeed."+WavesApp.type)});_this349.observe("shownKey",function(){analytics.push("Settings","Settings.ShowKeyPair."+WavesApp.type)});createPoll(_this349,waves.node.height,function(height){_this349.blockHeight=height;$scope.$digest()},5e3);var catchProcessor=function catchProcessor(method){try{return method().catch(function(){return null})}catch(e){return Promise.resolve(null)}};Promise.all([catchProcessor(function(){return ds.signature.getSignatureApi().getSeed()}),catchProcessor(function(){return ds.signature.getSignatureApi().getPrivateKey()}),ds.signature.getSignatureApi().getPublicKey()]).then(function(_ref133){var _ref134=_slicedToArray(_ref133,3),seed=_ref134[0],privateKey=_ref134[1],publicKey=_ref134[2];_this349.phrase=seed;_this349.privateKey=privateKey;_this349.publicKey=publicKey;$scope.$digest()});return _this349}_createClass(SettingsCtrl,[{key:"onChangeLanguage",value:function onChangeLanguage(language){user.setSetting("lng",language);analytics.push("Settings","Settings.ChangeLanguage."+WavesApp.type,language)}},{key:"setNetworkDefault",value:function setNetworkDefault(){this.node=WavesApp.network.node;this.matcher=WavesApp.network.matcher;this.withScam=false;this.scamListUrl=WavesApp.network.scamListUrl;this.assetsOracle=WavesApp.oracle}},{key:"showPairingWithMobile",value:function showPairingWithMobile(){return modalManager.showPairingWithMobile()}},{key:"showLoader",value:function showLoader(template){var loaderEl=document.createElement("div");loaderEl.innerHTML=template;document.body.appendChild(loaderEl);setTimeout(function(){document.body.removeChild(loaderEl)},4100)}},{key:"showScriptModal",value:function showScriptModal(){modalManager.showScriptModal()}}]);return SettingsCtrl}(Base);return new SettingsCtrl};controller.$inject=["Base","$scope","waves","user","createPoll","$templateRequest","utils","storage","modalManager"];angular.module("app.utils").controller("SettingsCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,$mdDialog){var SignByDeviceCtrl=function(_Base105){_inherits(SignByDeviceCtrl,_Base105);function SignByDeviceCtrl(_ref135){var locals=_ref135.locals;_classCallCheck(this,SignByDeviceCtrl);var _this350=_possibleConstructorReturn(this,(SignByDeviceCtrl.__proto__||Object.getPrototypeOf(SignByDeviceCtrl)).call(this,$scope));_this350.mode=locals.mode;_this350.loading=true;_this350.txId=locals.id;_this350.txData=locals.data;_this350.userType=locals.userType;_this350.isLedger=_this350.userType==="ledger";_this350.isKeeper=_this350.userType==="wavesKeeper";_this350.deferred={};_this350.deferred.promise=new Promise(function(res,rej){_this350.deferred.resolve=res;_this350.deferred.reject=rej});locals.devicePromise().then(function(){return _this350.deferred.resolve()},function(){return _this350.deferred.reject()});_this350.deferred.promise.then(function(){return _this350.onLoad()},function(){return _this350.onError()});return _this350}_createClass(SignByDeviceCtrl,[{key:"onClose",value:function onClose(){this.deferred.reject()}},{key:"onLoad",value:function onLoad(){$mdDialog.hide();$scope.$destroy()}},{key:"onError",value:function onError(){$mdDialog.cancel();$scope.$destroy()}}]);return SignByDeviceCtrl}(Base);return new SignByDeviceCtrl(this)};controller.$inject=["Base","$scope","$mdDialog"];angular.module("app.ui").controller("SignByDeviceCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope){var SignDeviceErrorCtrl=function(_Base106){_inherits(SignDeviceErrorCtrl,_Base106);function SignDeviceErrorCtrl(_ref136){var locals=_ref136.locals;_classCallCheck(this,SignDeviceErrorCtrl);var _this351=_possibleConstructorReturn(this,(SignDeviceErrorCtrl.__proto__||Object.getPrototypeOf(SignDeviceErrorCtrl)).call(this,$scope));_this351.mode=locals.error;_this351.userType=locals.userType;_this351.userAddress=locals.address;_this351.isLedger=_this351.userType==="ledger";_this351.isKeeper=_this351.userType==="wavesKeeper";_this351.loading=true;return _this351}return SignDeviceErrorCtrl}(Base);return new SignDeviceErrorCtrl(this)};controller.$inject=["Base","$scope","$mdDialog"];angular.module("app.ui").controller("SignDeviceError",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,createPoll,waves){var _require43=require("ts-utils"),isEmpty=_require43.isEmpty;var _require44=require("@waves/signature-adapter"),SIGN_TYPE=_require44.SIGN_TYPE;var _require45=require("@waves/data-entities"),Money=_require45.Money;var ds=require("data-service");var _require46=require("ramda"),path=_require46.path;var SponsoredModalCtrl=function(_Base107){_inherits(SponsoredModalCtrl,_Base107);function SponsoredModalCtrl(_ref137){var asset=_ref137.asset,isCreateSponsored=_ref137.isCreateSponsored;_classCallCheck(this,SponsoredModalCtrl);var _this352=_possibleConstructorReturn(this,(SponsoredModalCtrl.__proto__||Object.getPrototypeOf(SponsoredModalCtrl)).call(this,$scope));_this352.step=0;_this352.isCreateSponsored=null;_this352.assetId=null;_this352.fee=null;_this352.minSponsoredAssetFee=null;_this352.assetBalance=null;_this352.wavesBalance=null;_this352._tx=null;_this352.asset=null;_this352.assetId=asset.id;_this352.asset=asset;_this352.isCreateSponsored=isCreateSponsored;var _require47=require("@waves/oracle-data"),STATUS_LIST=_require47.STATUS_LIST;var data=ds.dataManager.getOracleAssetData(asset.id);_this352.isVerified=path(["status"],data)===STATUS_LIST.VERIFIED;_this352.isGateway=path(["status"],data)===3;_this352.ticker=asset.ticker;_this352.description=path(["description","en"],data)||asset.description;if(isEmpty(_this352.assetId)){throw new Error("Wrong modal params!")}createPoll(_this352,_this352._getBalances,_this352._setBalances,1e3,{$scope:$scope});_this352.observe(["fee","minSponsoredAssetFee"],_this352._createTx);_this352._updateFee();return _this352}_createClass(SponsoredModalCtrl,[{key:"getSignable",value:function getSignable(){return this.signable}},{key:"onConfirm",value:function onConfirm(){this.step++}},{key:"onBack",value:function onBack(){this.step--}},{key:"getSponsoredTx",value:function getSponsoredTx(){return this._tx}},{key:"_createTx",value:function _createTx(){if(!this.fee||!this.minSponsoredAssetFee){this.signable=null;return null}var fee=this.fee,minSponsoredAssetFee=this.minSponsoredAssetFee;var type=SIGN_TYPE.SPONSORSHIP;var tx=waves.node.transactions.createTransaction({fee:fee,type:type,minSponsoredAssetFee:minSponsoredAssetFee});this.signable=ds.signature.getSignatureApi().makeSignable({type:type,data:tx})}},{key:"_getBalances",value:function _getBalances(){return waves.node.assets.balanceList([WavesApp.defaultAssets.WAVES,this.assetId])}},{key:"_setBalances",value:function _setBalances(_ref138){var _ref139=_slicedToArray(_ref138,2),waves=_ref139[0],assetBalance=_ref139[1];this.wavesBalance=waves.available;this.assetBalance=assetBalance;this._updateAvilableFee()}},{key:"_updateFee",value:function _updateFee(){var _this353=this;return this._getTxForFee().then(function(tx){return waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.SPONSORSHIP,tx:tx})}).then(function(fee){_this353.fee=fee;_this353._updateAvilableFee()})}},{key:"_updateAvilableFee",value:function _updateAvilableFee(){if(this.fee&&this.wavesBalance){this.canSendTransaction=this.wavesBalance.gte(this.fee)}}},{key:"_getTxForFee",value:function _getTxForFee(){var _this354=this;return Promise.resolve(function(){return{type:SIGN_TYPE.SPONSORSHIP,minSponsoredAssetFee:new Money(0,_this354.asset)}})}}]);return SponsoredModalCtrl}(Base);return new SponsoredModalCtrl(this.locals)};controller.$inject=["Base","$scope","createPoll","waves"];angular.module("app.utils").controller("SponsoredModalCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,user,utils,waves,i18n){var _require48=require("@waves/signature-adapter"),SIGN_TYPE=_require48.SIGN_TYPE;var ds=require("data-service");var StartLeasingCtrl=function(_Base108){_inherits(StartLeasingCtrl,_Base108);function StartLeasingCtrl(){_classCallCheck(this,StartLeasingCtrl);var _this355=_possibleConstructorReturn(this,(StartLeasingCtrl.__proto__||Object.getPrototypeOf(StartLeasingCtrl)).call(this,$scope));_this355.step=0;_this355.title=i18n.translate("modal.startLease.title","app.utils");_this355.assetId=WavesApp.defaultAssets.WAVES;_this355.recipient="";_this355.amount=null;_this355.nodeListLink=WavesApp.network.nodeList;waves.node.getFee({type:WavesApp.TRANSACTION_TYPES.NODE.LEASE}).then(function(money){_this355.fee=money});waves.node.assets.balance(_this355.assetId).then(function(balance){_this355.balance=balance.available});return _this355}_createClass(StartLeasingCtrl,[{key:"back",value:function back(){this.step--}},{key:"sign",value:function sign(){var tx=waves.node.transactions.createTransaction({recipient:this.recipient,fee:this.fee,amount:this.amount,type:SIGN_TYPE.LEASE});return ds.signature.getSignatureApi().makeSignable({type:tx.type,data:tx})}},{key:"next",value:function next(signable){this.signable=signable;this.step++}}]);return StartLeasingCtrl}(Base);return new StartLeasingCtrl};controller.$inject=["Base","$scope","user","utils","waves","i18n","modalManager","$mdDialog"];angular.module("app.ui").controller("StartLeasingCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,user,$mdDialog){var TermsAcceptCtrl=function(_Base109){_inherits(TermsAcceptCtrl,_Base109);function TermsAcceptCtrl(){_classCallCheck(this,TermsAcceptCtrl);var _this356=_possibleConstructorReturn(this,(TermsAcceptCtrl.__proto__||Object.getPrototypeOf(TermsAcceptCtrl)).call(this,$scope));_this356.security=false;_this356.backup=false;_this356.shareAnalytics=false;return _this356}_createClass(TermsAcceptCtrl,[{key:"confirm",value:function confirm(){user.setSetting("shareAnalytics",this.shareAnalytics);$mdDialog.hide()}}]);return TermsAcceptCtrl}(Base);return new TermsAcceptCtrl};controller.$inject=["Base","$scope","user","$mdDialog"];angular.module("app.utils").controller("TermsAcceptCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope,explorerLinks,waves,createPoll){var TransactionInfoCtrl=function(_Base110){_inherits(TransactionInfoCtrl,_Base110);function TransactionInfoCtrl(_ref140){var transactionId=_ref140.transactionId;_classCallCheck(this,TransactionInfoCtrl);var _this357=_possibleConstructorReturn(this,(TransactionInfoCtrl.__proto__||Object.getPrototypeOf(TransactionInfoCtrl)).call(this,$scope));_this357.timer=null;_this357.id=transactionId;_this357._getData();return _this357}_createClass(TransactionInfoCtrl,[{key:"$onDestroy",value:function $onDestroy(){_get(TransactionInfoCtrl.prototype.__proto__||Object.getPrototypeOf(TransactionInfoCtrl.prototype),"$onDestroy",this).call(this);clearTimeout(this.timer)}},{key:"_getData",value:function _getData(){var _this358=this;waves.node.transactions.getAlways(this.id).then(function(transaction){if(!transaction.isUTX){return waves.node.height().then(function(height){return{confirmations:height-transaction.height,transaction:transaction}})}else{return{confirmations:-1,transaction:transaction}}}).then(function(_ref141){var transaction=_ref141.transaction,confirmations=_ref141.confirmations;_this358.transaction=transaction;_this358.signable=ds.signature.getSignatureApi().makeSignable({type:transaction.type,data:transaction});_this358.confirmations=confirmations;_this358.confirmed=!transaction.isUTX;_this358.explorerLink=explorerLinks.getTxLink(transaction.id);createPoll(_this358,_this358._getHeight,_this358._setHeight,1e3);$scope.$apply()}).catch(function(){clearTimeout(_this358.timer);_this358.timer=setTimeout(function(){return _this358._getData()},2e3);$scope.$apply()})}},{key:"_getHeight",value:function _getHeight(){var promiseList=[waves.node.height()];if(!this.confirmed){promiseList.push(waves.node.transactions.getAlways(this.id))}return Promise.all(promiseList)}},{key:"_setHeight",value:function _setHeight(_ref142){var _ref143=_slicedToArray(_ref142,2),height=_ref143[0],tx=_ref143[1];if(tx){Object.assign(this.transaction,tx);this.confirmed=!tx.isUTX;if(!this.confirmed){this.confirmations=0}else{this.confirmations=height-tx.height}}else{this.confirmations=height-this.transaction.height}$scope.$apply()}}]);return TransactionInfoCtrl}(Base);return new TransactionInfoCtrl(this.locals)};controller.$inject=["Base","$scope","explorerLinks","waves","createPoll"];angular.module("app.utils").controller("TransactionInfoCtrl",controller)})();(function(){"use strict";var locationHref=location.href;var controller=function controller(Base,$scope,storage,$element){var TryDesktopCtrl=function(_Base111){_inherits(TryDesktopCtrl,_Base111);function TryDesktopCtrl(){_classCallCheck(this,TryDesktopCtrl);var _this359=_possibleConstructorReturn(this,(TryDesktopCtrl.__proto__||Object.getPrototypeOf(TryDesktopCtrl)).call(this,$scope));_this359.save=false;var url=new URL(locationHref);var href=("acryl://"+url.pathname+url.search+url.hash).replace("///","//");$element.find("a").attr("href",href);return _this359}_createClass(TryDesktopCtrl,[{key:"tryWeb",value:function tryWeb(){this._saveChoice("web")}},{key:"tryDesktop",value:function tryDesktop(){this._saveChoice("desktop")}},{key:"_saveChoice",value:function _saveChoice(mode){if(this.save){storage.save("openClientMode",mode)}}}]);return TryDesktopCtrl}(Base);return new TryDesktopCtrl};controller.$inject=["Base","$scope","storage","$element"];angular.module("app.utils").controller("TryDesktopCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,$scope){var TutorialModalsCtrl=function(_Base112){_inherits(TutorialModalsCtrl,_Base112);function TutorialModalsCtrl(){_classCallCheck(this,TutorialModalsCtrl);var _this360=_possibleConstructorReturn(this,(TutorialModalsCtrl.__proto__||Object.getPrototypeOf(TutorialModalsCtrl)).call(this,$scope));_this360.isDesktop=WavesApp.isDesktop();_this360.isWeb=WavesApp.isWeb();return _this360}return TutorialModalsCtrl}(Base);return new TutorialModalsCtrl};controller.$inject=["Base","$scope"];angular.module("app.utils").controller("TutorialModalsCtrl",controller)})();(function(){"use strict";var factory=function factory(user,decorators,waves){var BaseAssetService=function(){function BaseAssetService(){_classCallCheck(this,BaseAssetService)}_createClass(BaseAssetService,[{key:"getBaseAssetId",value:function getBaseAssetId(){return user.getSetting("baseAssetId")}},{key:"getBaseAsset",value:function getBaseAsset(){return waves.node.assets.getAsset(user.getSetting("baseAssetId"))}},{key:"convertToBaseAsset",value:function convertToBaseAsset(money){return this.getBaseAsset().then(function(baseAsset){return waves.utils.getRateApi(money.asset.id,baseAsset.id).then(function(api){return api.exchange(money.getTokens())}).then(function(balance){return ds.moneyFromTokens(balance,baseAsset)})})}}]);return BaseAssetService}();return new BaseAssetService};factory.$inject=["user","decorators","waves"];angular.module("app.utils").factory("baseAssetService",factory)})();(function(){"use strict";var factory=function factory(utils){var tsUtils=require("ts-utils");var ComponentList=function(){_createClass(ComponentList,[{key:"length",get:function get(){return this.components.length}}]);function ComponentList(components){_classCallCheck(this,ComponentList);this._hash=Object.create(null);this.signals=utils.liteObject({add:new tsUtils.Signal,remove:new tsUtils.Signal});this.components=[];if(components&&components.length){this.add(components)}}_createClass(ComponentList,[{key:"add",value:function add(components){utils.toArray(components).forEach(this._add,this)}},{key:"remove",value:function remove(components){utils.toArray(components).forEach(this._remove,this)}},{key:"push",value:function push(){for(var _len9=arguments.length,components=Array(_len9),_key9=0;_key9<_len9;_key9++){components[_key9]=arguments[_key9]}this.add(components)}},{key:"forEach",value:function forEach(cb,context){this.components.forEach(cb,context)}},{key:"map",value:function map(cb,context){return this.components.map(cb,context)}},{key:"filter",value:function filter(cb,context){return new ComponentList(this.components.filter(cb,context))}},{key:"where",value:function where(props){var filter=tsUtils.contains(props);return new ComponentList(this.components.filter(filter))}},{key:"some",value:function some(cb,context){if(typeof cb==="function"){return this.components.some(cb,context)}else{return this.components.some(tsUtils.contains(cb))}}},{key:"every",value:function every(cb,context){if(typeof cb==="function"){return this.components.every(cb,context)}else{return this.components.every(tsUtils.contains(cb))}}},{key:"get",value:function get(index){return this.components[index]}},{key:"first",value:function first(){return this.components[0]}},{key:"last",value:function last(){return this.components[this.components.length-1]}},{key:"index",value:function index(id,field){return this.components.indexOf(tsUtils.find(this.components,_defineProperty({},field,id)))}},{key:"_add",value:function _add(component){var _this361=this;this.receiveOnce(component.signals.destroy,function(){return _this361.remove(component)});this._hash[component.cid]=component;this.components.push(component);this.signals.add.dispatch(component)}},{key:"_remove",value:function _remove(component){delete this._hash[component.cid];var index=this.components.indexOf(component);if(index!==-1){this.components.splice(index,1);this.signals.remove.dispatch(component)}}}]);return ComponentList}();ComponentList.prototype.receive=tsUtils.Receiver.prototype.receive;ComponentList.prototype.receiveOnce=tsUtils.Receiver.prototype.receiveOnce;ComponentList.prototype.stopReceive=tsUtils.Receiver.prototype.stopReceive;return ComponentList};factory.$inject=["utils"];angular.module("app.utils").factory("ComponentList",factory)})();(function(){"use strict";var factory=function factory(){var Ease={linear:function linear(t){return t},get:function get(amount){if(amount<-1){amount=-1}if(amount>1){amount=1}return function(t){if(amount===0){return t}if(amount<0){return t*(t*-amount+1+amount)}return t*((2-t)*amount+(1-amount))}},getPowIn:function getPowIn(pow){return function(t){return Math.pow(t,pow)}},getPowOut:function getPowOut(pow){return function(t){return 1-Math.pow(1-t,pow)}},getPowInOut:function getPowInOut(pow){return function(t){if((t*=2)<1)return.5*Math.pow(t,pow);return 1-.5*Math.abs(Math.pow(2-t,pow))}},sineIn:function sineIn(t){return 1-Math.cos(t*Math.PI/2)},sineOut:function sineOut(t){return Math.sin(t*Math.PI/2)},sineInOut:function sineInOut(t){return-.5*(Math.cos(Math.PI*t)-1)},getBackIn:function getBackIn(amount){return function(t){return t*t*((amount+1)*t-amount)}},getBackOut:function getBackOut(amount){return function(t){return--t*t*((amount+1)*t+amount)+1}},getBackInOut:function getBackInOut(amount){amount*=1.525;return function(t){if((t*=2)<1)return.5*(t*t*((amount+1)*t-amount));return.5*((t-=2)*t*((amount+1)*t+amount)+2)}},circIn:function circIn(t){return-(Math.sqrt(1-t*t)-1)},circOut:function circOut(t){return Math.sqrt(1- --t*t)},circInOut:function circInOut(t){if((t*=2)<1)return-.5*(Math.sqrt(1-t*t)-1);return.5*(Math.sqrt(1-(t-=2)*t)+1)},bounceIn:function bounceIn(t){return 1-Ease.bounceOut(1-t)},bounceOut:function bounceOut(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},bounceInOut:function bounceInOut(t){if(t<.5)return Ease.bounceIn(t*2)*.5;return Ease.bounceOut(t*2-1)*.5+.5},getElasticIn:function getElasticIn(amplitude,period){var pi2=Math.PI*2;return function(t){if(t==0||t==1)return t;var s=period/pi2*Math.asin(1/amplitude);return-(amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-s)*pi2/period))}},getElasticOut:function getElasticOut(amplitude,period){var pi2=Math.PI*2;return function(t){if(t==0||t==1)return t;var s=period/pi2*Math.asin(1/amplitude);return amplitude*Math.pow(2,-10*t)*Math.sin((t-s)*pi2/period)+1}},getElasticInOut:function getElasticInOut(amplitude,period){var pi2=Math.PI*2;return function(t){var s=period/pi2*Math.asin(1/amplitude);if((t*=2)<1)return-.5*(amplitude*Math.pow(2,10*(t-=1))*Math.sin((t-s)*pi2/period));return amplitude*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*pi2/period)*.5+1}}};Ease.backOut=Ease.getBackOut(1.7);Ease.backIn=Ease.getBackIn(1.7);Ease.backInOut=Ease.getBackInOut(1.7);Ease.elasticIn=Ease.getElasticIn(1,.3);Ease.elasticInOut=Ease.getElasticInOut(1,.3*1.5);Ease.elasticOut=Ease.getElasticOut(1,.3);Ease.quadIn=Ease.getPowIn(2);Ease.quadOut=Ease.getPowOut(2);Ease.quadInOut=Ease.getPowInOut(2);Ease.cubicIn=Ease.getPowIn(3);Ease.cubicOut=Ease.getPowOut(3);Ease.cubicInOut=Ease.getPowInOut(3);Ease.quartIn=Ease.getPowIn(4);Ease.quartOut=Ease.getPowOut(4);Ease.quartInOut=Ease.getPowInOut(4);Ease.quintIn=Ease.getPowIn(5);Ease.quintOut=Ease.getPowOut(5);Ease.quintInOut=Ease.getPowInOut(5);return Ease};factory.$inject=[];angular.module("app.utils").factory("ease",factory)})();(function(){"use strict";var BASE_URL=WavesApp.network.explorer;var TX_PREFIX="tx";var factory=function factory(){var ExplorerLinks=function(){function ExplorerLinks(){_classCallCheck(this,ExplorerLinks)}_createClass(ExplorerLinks,[{key:"getTxLink",value:function getTxLink(transactionId){return BASE_URL+"/"+TX_PREFIX+"/"+transactionId}}]);return ExplorerLinks}();return new ExplorerLinks};angular.module("app.utils").factory("explorerLinks",factory)})();(function(){"use strict";var RESOLUTIONS={FULL_HD:{width:1920,height:1080},HD:{width:1280,height:720},VGA:{width:640,height:480},QVGA:{width:320,height:240}};var factory=function factory($q){var MediaStream=function(){function MediaStream(stream){_classCallCheck(this,MediaStream);this.stream=stream}_createClass(MediaStream,[{key:"stop",value:function stop(){this.stream.getTracks()[0].stop()}}]);return MediaStream}();function getFacingBackCamera(devices){var facingBackCamera=devices.find(function(device){return device.label.includes("back")});if(!facingBackCamera){var videoInputDevices=devices.filter(function(device){return device.kind==="videoinput"});facingBackCamera=videoInputDevices[videoInputDevices.length-1]}return facingBackCamera||null}function getConstraints(deviceList,resolution){var constraints={video:{width:{exact:resolution.width},height:{exact:resolution.height}}};if(navigator.mediaDevices.getSupportedConstraints().facingMode){constraints.video.facingMode="environment"}else{var deviceInfo=getFacingBackCamera(deviceList);constraints.video.deviceId={exact:deviceInfo.deviceId}}return constraints}return{create:function create(){return $q(function(resolve,reject){var handler=function handler(stream){resolve(new MediaStream(stream))};var getUserMedia=function getUserMedia(deviceList){var mediaDevices=navigator.mediaDevices;var reverse=function reverse(resolution){return{width:resolution.height,height:resolution.width}};var checkResolution=function checkResolution(res){return mediaDevices.getUserMedia(getConstraints(deviceList,res)).catch(function(){return mediaDevices.getUserMedia(getConstraints(deviceList,reverse(res)))})};return checkResolution(RESOLUTIONS.FULL_HD).catch(function(){return checkResolution(RESOLUTIONS.HD)}).catch(function(){return checkResolution(RESOLUTIONS.VGA)}).catch(function(){return checkResolution(RESOLUTIONS.QVGA)})};navigator.mediaDevices.enumerateDevices().then(getUserMedia).then(handler,reject)})}}};factory.$inject=["$q"];angular.module("app.utils").factory("mediaStream",factory)})();(function(){"use strict";var factory=function factory(){var Migration=function(){function Migration(){_classCallCheck(this,Migration)}_createClass(Migration,[{key:"migrateFrom",value:function migrateFrom(version,versionList){return versionList.filter(Migration.getCurrentVersionFilter(version)).sort(Migration._comparator)}},{key:"sort",value:function sort(versionList){return versionList.slice().sort(Migration._comparator)}}],[{key:"lt",value:function lt(v1,v2){var result=Migration._comparator(v1,v2);return result<0}},{key:"lte",value:function lte(v1,v2){var result=Migration._comparator(v1,v2);return result<=0}},{key:"gt",value:function gt(v1,v2){var result=Migration._comparator(v1,v2);return result>0}},{key:"gte",value:function gte(v1,v2){var result=Migration._comparator(v1,v2);return result>=0}},{key:"getCurrentVersionFilter",value:function getCurrentVersionFilter(lastVersion){return function(version){return Migration.gt(version,lastVersion)&&Migration.lte(version,WavesApp.version)}}},{key:"_comparator",value:function _comparator(v1,v2){var v1Beta=v1.includes("beta");var v2Beta=v2.includes("beta");if(v1Beta&&!v2Beta){return-1}else if(!v1Beta&&v2Beta){return 1}v1=Migration._parse(v1);v2=Migration._parse(v2);for(var i=0;i<v1.length;i++){var part1=v1[i];var part2=v2[i]||0;if(part1<part2){return-1}if(part1>part2){return 1}}return 0}},{key:"_parse",value:function _parse(version){return version.replace(/[^0-9.]/g,"").split(".").map(Number)}}]);return Migration}();return new Migration};angular.module("app.utils").factory("migration",factory)})();(function(){"use strict";var factory=function factory(){var tsUtils=require("ts-utils");var Moment=function(){function Moment(date,pattern){_classCallCheck(this,Moment);this._date=Moment._parse(date,pattern);this._formatter=tsUtils.date(pattern||"DD.MM.YYYY")}_createClass(Moment,[{key:"applyPattern",value:function applyPattern(pattern){if(pattern){this._formatter=tsUtils.date(pattern)}}},{key:"add",value:function add(){return this._getBinded("_add")}},{key:"startOf",value:function startOf(){return this._getBinded("_startOf")}},{key:"format",value:function format(pattern){return tsUtils.date(pattern)(this._date)}},{key:"clone",value:function clone(pattern){return new Moment(this._date,pattern)}},{key:"valueOf",value:function valueOf(){return this._date.valueOf()}},{key:"toString",value:function toString(){return this._formatter(this._date)}},{key:"toJSON",value:function toJSON(){return this.toString()}},{key:"getDate",value:function getDate(){return this._date}},{key:"_getBinded",value:function _getBinded(key){var _this362=this;var result=Object.create(null);Object.keys(this[key]).forEach(function(name){result[name]=_this362[key][name].bind(_this362)});return result}},{key:"_getParts",value:function _getParts(){return[this._date.getFullYear(),this._date.getMonth(),this._date.getDate(),this._date.getHours(),this._date.getMinutes(),this._date.getSeconds(),this._date.getMilliseconds()]}}],[{key:"_parse",value:function _parse(date,pattern){if(tsUtils.isEmpty(date)){return new Date}if(date instanceof Date){return date}switch(typeof date==="undefined"?"undefined":_typeof(date)){case"string":return Moment._parseString(date,pattern);case"number":return new Date(date);default:throw new Error("Can' parse date!")}}},{key:"_parseString",value:function _parseString(date,pattern){if(!pattern){throw new Error("Can't parse date from string without pattern!")}var parsedParts=[];var parts=date.match(/\d+/g);pattern.match(Moment._parseReg).forEach(function(patternPart,index){Moment._patterns[patternPart](parsedParts,parts[index])});return new(Function.prototype.bind.apply(Date,[null].concat(parsedParts)))}}]);return Moment}();Moment._patterns=Object.create(null);var PATTERNS=["YYYY","YY","MM","M","DD","D","hh","h","mm","m","ss","s"];Moment._parseReg=new RegExp(PATTERNS.join("|"),"g");var loop=function loop(pattern,index){switch(pattern){case"YYYY":Moment._patterns[pattern]=function(result,part){result[index]=Number(part)};break;case"YY":Moment._patterns[pattern]=function(result,part){var year=Number(part);result[index]=year>40?year+1900:year+2e3};break;case"MM":case"M":Moment._patterns[pattern]=function(result,part){result[index]=Number(part)-1};break;default:Moment._patterns[pattern]=function(result,part){result[index]=Number(part)};break}};for(var i=0,k=0;i<PATTERNS.length;i+=2){for(var j=0;j<2;j++){var pattern=PATTERNS[i+j];loop(pattern,k)}k++}Moment.prototype._add=Object.create(null);Moment.prototype._startOf=Object.create(null);["year","month","day","hour","minute","second"].forEach(function(name,index){Moment.prototype._add[name]=function(count){var params=this._getParts();params[index]+=count;this._date=new(Function.prototype.bind.apply(Date,[null].concat(_toConsumableArray(params))));return this};Moment.prototype._startOf[name]=function(){var params=this._getParts().slice(index);this._date=new(Function.prototype.bind.apply(Date,[null].concat(_toConsumableArray(params))));return this}});Moment.prototype._add.week=function(count){var params=this._getParts();params[2]+=Math.round(count*7);this._date=new(Function.prototype.bind.apply(Date,[null].concat(_toConsumableArray(params))));return this};return Moment};factory.$inject=[];angular.module("app.utils").factory("Moment",factory)})();(function(){"use strict";var factory=function factory(state,PromiseControl,timeLine,utils,$q){var tsUtils=require("ts-utils");var Poll=function(){_createClass(Poll,[{key:"ready",get:function get(){return this._ready.promise}},{key:"_time",get:function get(){return this._sleepStep?this._originTime*this._sleepStep:this._originTime}},{key:"_promise",get:function get(){return this.__promise},set:function set(promise){if(this.__promise){this.__promise.drop()}this.__promise=promise}}]);function Poll(getData,applyData,time,errorRequestTime){_classCallCheck(this,Poll);this.id=tsUtils.uniqueId("poll");this.signals={destroy:new tsUtils.Signal};this._errorRequestTime=errorRequestTime||1e3;this._ready=$q.defer();this._removed=false;this._originTime=time;this._sleepStep=null;this._getData=getData;this._applyData=applyData;this._paused=false;this._timer=null;this._promise=null;this._pausePromise=null;this._initialize()}_createClass(Poll,[{key:"pause",value:function pause(promise){var _this363=this;this._paused=true;this._stopTimers();if(this._pausePromise){this._pausePromise.drop();var pausePromise=utils.resolve(this._pausePromise.promise()).then(function(){return promise});this._pausePromise=new PromiseControl(pausePromise)}else{this._pausePromise=new PromiseControl(promise)}var handler=function handler(){_this363._pausePromise=null;_this363.play()};this._pausePromise.always(handler)}},{key:"stop",value:function stop(){this._paused=true;this._stopTimers()}},{key:"play",value:function play(){this._paused=false;if(this._pausePromise){this._pausePromise.drop();this._pausePromise=null}this._run()}},{key:"destroy",value:function destroy(){this._removed=true;this._stopTimers();this.stopReceive();this.signals.destroy.dispatch()}},{key:"restart",value:function restart(){this._stopTimers();return this._run()}},{key:"_initialize",value:function _initialize(){this._setHandlers();this._run()}},{key:"_sleep",value:function _sleep(step){this._sleepStep=step+2}},{key:"_wakeUp",value:function _wakeUp(){this._sleepStep=null}},{key:"_setHandlers",value:function _setHandlers(){this.receive(state.signals.sleep,this._sleep,this);this.receive(state.signals.wakeUp,this._wakeUp,this)}},{key:"_stopTimers",value:function _stopTimers(){timeLine.cancel(this._timer);this._promise=null}},{key:"_run",value:function _run(){var _this364=this;return new Promise(function(resolve){if(_this364._removed){return null}if(_this364._paused){return null}var result=_this364._getData();if(Poll._isPromise(result)){_this364._promise=new PromiseControl(result);_this364._promise.then(function(data){_this364._addTimeout();_this364._applyData(data);_this364._ready.resolve();resolve()},function(){_this364._timer=timeLine.timeout(function(){return _this364._run()},_this364._errorRequestTime)})}else{_this364._applyData(result);_this364._addTimeout();resolve()}})}},{key:"_addTimeout",value:function _addTimeout(){var _this365=this;this._timer=timeLine.timeout(function(){return _this365._run()},this._time)}}],[{key:"_isPromise",value:function _isPromise(data){return data&&data.then&&typeof data.then==="function"}}]);return Poll}();Poll.prototype.receive=tsUtils.Receiver.prototype.receive;Poll.prototype.receiveOnce=tsUtils.Receiver.prototype.receiveOnce;Poll.prototype.stopReceive=tsUtils.Receiver.prototype.stopReceive;return Poll};factory.$inject=["state","PromiseControl","timeLine","utils","$q"];angular.module("app.utils").factory("Poll",factory)})();(function(){"use strict";var factory=function factory(Poll,eventManager){var PollCache=function(){function PollCache(_ref144){var _this366=this;var getData=_ref144.getData,timeout=_ref144.timeout,isBalance=_ref144.isBalance;_classCallCheck(this,PollCache);this._ready=false;this._data=null;this._isBalance=isBalance;this._poll=new Poll(function(){return getData().then(function(data){_this366._isError=false;return data}).catch(function(e){_this366._isError=true;return e})},this._applyData.bind(this),timeout||5e3);this._isError=false;this._readyDfr=$.Deferred();if(this._isBalance){this._changeBalanceHandler=function(){_this366._poll.restart()};eventManager.signals.changeBalanceEvent.on(this._changeBalanceHandler)}}_createClass(PollCache,[{key:"destroy",value:function destroy(){if(this._isBalance){eventManager.signals.changeBalanceEvent.off(this._changeBalanceHandler)}this._poll.destroy()}},{key:"get",value:function get(){if(this._ready){if(this._isError){return Promise.reject(this.data)}return Promise.resolve(this.data)}else{return this._readyDfr.promise()}}},{key:"_applyData",value:function _applyData(data){if(!this._ready){this._readyDfr.resolve(data);this._ready=true;this._readyDfr=null}this.data=data}}]);return PollCache}();return PollCache};factory.$inject=["Poll","eventManager"];angular.module("app.ui").factory("PollCache",factory)})();(function(){"use strict";var factory=function factory(){var PromiseControl=function(){function PromiseControl(promise){_classCallCheck(this,PromiseControl);this.id=null;this._resolveCallbacks=[];this._rejectCallbacks=[];this._data=null;this._state=null;this._dropped=false;this._promise=promise;promise.then(this._getPromiseCallback(true),this._getPromiseCallback(false))}_createClass(PromiseControl,[{key:"promise",value:function promise(){return this._promise}},{key:"abort",value:function abort(error){this._getPromiseCallback(false)(error)}},{key:"then",value:function then(resolve,reject){var _this367=this;return new PromiseControl(new Promise(function(res,rej){_this367._resolveCallbacks.push(function(data){var result=resolve?resolve(data):data;if(PromiseControl.isPromise(result)){result.then(res,rej)}else{res(result)}});_this367._rejectCallbacks.push(function(data){var result=reject?reject(data):data;if(PromiseControl.isPromise(result)){result.then(res,rej)}else{rej(result)}})}))}},{key:"always",value:function always(cb){this.then(cb,cb);return this}},{key:"catch",value:function _catch(callback){return this.then(null,callback)}},{key:"drop",value:function drop(){this._removeHandlers();this._dropped=true}},{key:"_getPromiseCallback",value:function _getPromiseCallback(state){var _this368=this;return function(data){if(_this368._state===null){_this368._data=data;_this368._state=state;_this368._run()}}}},{key:"_run",value:function _run(){var _this369=this;if(this._dropped||this._state===null){return null}var list=(this._state?this._resolveCallbacks:this._rejectCallbacks).slice();this._removeHandlers();list.forEach(function(cb){return cb(_this369._data)})}},{key:"_removeHandlers",value:function _removeHandlers(){this._rejectCallbacks=[];this._rejectCallbacks=[]}}],[{key:"isPromise",value:function isPromise(some){return some&&some.then&&typeof some.then==="function"}}]);return PromiseControl}();return PromiseControl};factory.$inject=[];angular.module("app.utils").factory("PromiseControl",factory)})();(function(){"use strict";var factory=function factory(){var ReadFile=function(){function ReadFile(){_classCallCheck(this,ReadFile)}_createClass(ReadFile,[{key:"read",value:function read(fileBlob){var deferred=$.Deferred();var reader=new FileReader;reader.addEventListener("error",function(error){deferred.reject(error)});reader.addEventListener("progress",function(event){var percentLoaded=Math.min(Math.round(event.loaded/event.total*100),100);deferred.notify(percentLoaded)});reader.addEventListener("abort",function(event){deferred.reject(event)});reader.addEventListener("load",function(event){deferred.resolve(event.currentTarget.result)},false);reader.readAsBinaryString(fileBlob);return deferred.promise()}}]);return ReadFile}();return new ReadFile};factory.$inject=[];angular.module("app.utils").factory("readFile",factory)})();(function(){"use strict";var factory=function factory(utils){var _class44,_temp3;var _require49=require("ts-utils"),each=_require49.each;var Router=(_temp3=_class44=function(){function Router(){_classCallCheck(this,Router);this._routesHash=Object.create(null)}_createClass(Router,[{key:"apply",value:function apply(fullUrl){var _this370=this;var _fullUrl$split=fullUrl.split("?"),_fullUrl$split2=_slicedToArray(_fullUrl$split,2),url=_fullUrl$split2[0],searchStr=_fullUrl$split2[1];var search=utils.parseSearchParams(searchStr);var parts=url.split("/");var urls=Object.keys(this._routesHash).sort(function(a,b){var reg=/:/g;return(a.match(reg)||{length:0}).length-(b.match(reg)||{length:0}).length}).map(function(url){return url.split("/")}).filter(function(routeParts){return routeParts.length===parts.length});var listener=null;var params=null;urls.some(function(routeParts){var urlParams=Object.create(null);var valid=routeParts.every(function(part,i){if(part.charAt(0)===":"){urlParams[part.substr(1)]=parts[i];return true}else{return part===parts[i]}});if(valid){params=urlParams;listener=_this370._routesHash[routeParts.join("/")]}return valid});if(listener){return listener(params,search)}return null}},{key:"registerRoute",value:function registerRoute(route,listener){this._routesHash[route]=listener}},{key:"registerRouteHash",value:function registerRouteHash(hash){var _this371=this;each(hash,function(listener,url){_this371.registerRoute(url,listener)})}}]);return Router}(),_class44.ROUTES={SEND:"/send",SEND_ASSET:"/send/:assetId",ASSET_INFO:"/asset/:assetId",ACCOUNT:"/account",GATEWAY_AUTH:"/gateway/auth",ANY_TX:"/tx"},_temp3);return Router};factory.$inject=["utils"];angular.module("app.utils").factory("Router",factory)})();(function(){"use strict";var read=void 0;var write=void 0;var _clear2=void 0;var tsUtils=require("ts-utils");if(WavesApp.isWeb()){try{localStorage.setItem("___test",String(Date.now()))}catch(e){var storage={_data:Object.create(null),get length(){return Object.keys(this._data).length},key:function key(n){return Object.keys(this._data)[n]},setItem:function setItem(name,value){this._data[name]=String(value)},removeItem:function removeItem(key){delete this._data[key]},getItem:function getItem(name){if(name in this._data){return this._data[name]}else{return null}},clear:function clear(){this._data=Object.create(null)}};Object.defineProperty(window,"localStorage",{get:function get(){return storage}})}read=function read(key){var data=localStorage.getItem(key);try{return Promise.resolve(JSON.parse(data))}catch(e){return Promise.resolve(data)}};write=function write(key,value){localStorage.setItem(key,value);return Promise.resolve()};_clear2=function clear(){localStorage.clear();return Promise.resolve()}}else{read=function read(key){return WebStorage.readStorage(key).then(function(result){try{return JSON.parse(result)}catch(e){return result}})};write=function write(key,value){return WebStorage.writeStorage(key,value)};_clear2=function clear(){return WebStorage.clearStorage()}}var factory=function factory($q,utils,migration,state){var MIGRATION_MAP={};var Storage=function(){function Storage(){var _this372=this;_classCallCheck(this,Storage);this._isNewDefer=$q.defer();this.load("lastVersion").then(function(version){_this372.save("lastVersion",WavesApp.version);state.lastOpenVersion=version;if(version){var versions=migration.migrateFrom(version,Object.keys(MIGRATION_MAP));return utils.chainCall(versions.map(function(version){return MIGRATION_MAP[version].bind(null,_this372)})).then(function(){_this372._isNewDefer.resolve(version)})}else{_this372._isNewDefer.resolve(version);return Promise.resolve()}})}_createClass(Storage,[{key:"onReady",value:function onReady(){return this._isNewDefer.promise}},{key:"save",value:function save(key,value){return utils.when(write(key,Storage.stringify(value)))}},{key:"load",value:function load(key){return utils.when(read(key)).then(function(data){return Storage.myParse(data)})}},{key:"clear",value:function clear(){return utils.when(_clear2())}}],[{key:"stringify",value:function stringify(data){switch(typeof data==="undefined"?"undefined":_typeof(data)){case"string":return data;case"object":try{return Storage.myStringify(data)}catch(e){return String(data)}default:return String(data)}}},{key:"myStringify",value:function myStringify(data){try{var paths=tsUtils.getPaths(data);return JSON.stringify(paths.reduce(function(result,item){result[String(item)]=tsUtils.get(data,item);return result},Object.create(null)))}catch(e){return JSON.stringify(data)}}},{key:"myParse",value:function myParse(data){if((typeof data==="undefined"?"undefined":_typeof(data))==="object"){var result=void 0;tsUtils.each(data,function(value,path){if(!result){result=tsUtils.Path.parse(path).getItemData(0).container}tsUtils.set(result,path,value)});return result}else{return data}}}]);return Storage}();return new Storage};factory.$inject=["$q","utils","migration","state"];angular.module("app.utils").factory("storage",factory)})();(function(){"use strict";var factory=function factory(){var StyleManager=function(){function StyleManager(root){_classCallCheck(this,StyleManager);this.root=root;this.stylesHash=Object.create(null)}_createClass(StyleManager,[{key:"addStyle",value:function addStyle(path,style){this.removeStyle(path);var content="."+this.root+" "+path+" { "+this._parseStyle(style)+" }";var styleTag=document.createElement("style");styleTag.innerText=content;styleTag.id=path;document.head.appendChild(styleTag);this.stylesHash[path]=styleTag}},{key:"removeStyle",value:function removeStyle(path){if(this.hasStyle(path)){document.head.removeChild(this.stylesHash[path])}}},{key:"realStyleTransaction",value:function realStyleTransaction(path,cb){var element=this.stylesHash[path];if(element){document.head.removeChild(element);cb();document.head.appendChild(element)}else{cb()}}},{key:"destroy",value:function destroy(){Object.keys(this.stylesHash).forEach(this.removeStyle,this)}},{key:"hasStyle",value:function hasStyle(path){return!!this.stylesHash[path]}},{key:"_parseStyle",value:function _parseStyle(style){var template="";tsUtils.each(style,function(value,key){template+=(key+": "+value+";").replace(";;",";")});return template}}]);return StyleManager}();window.StyleManager=StyleManager;return StyleManager};factory.$inject=[];angular.module("app.utils").factory("StyleManager",factory)})();(function(){"use strict";var factory=function factory(PromiseControl){var tsUtils=require("ts-utils");var TimerList=function(){function TimerList(){_classCallCheck(this,TimerList);this.list=[]}_createClass(TimerList,[{key:"add",value:function add(item){this.list.push(item);this.list.sort(TimerList.comparator)}},{key:"remove",value:function remove(id){id=typeof id==="string"?id:id.id;for(var i=this.list.length;i--;){if(this.list[i].id===id){this.list.splice(i,1);break}}}}],[{key:"comparator",value:function comparator(a,b){return b.start+b.timeout-(a.start+a.timeout)}}]);return TimerList}();var TimeLine=function(){function TimeLine(){_classCallCheck(this,TimeLine);this._listeners=new TimerList;this._timer=null}_createClass(TimeLine,[{key:"timeout",value:function timeout(callback,_timeout){var start=Date.now();var id=tsUtils.uniqueId("timeLineItem");var defer=$.Deferred();var promise=new PromiseControl(defer.promise());promise.id=id;promise.start=start;promise.time=_timeout;this._listeners.add({handler:callback,timeout:_timeout,start:start,id:id,defer:defer});if(this._listeners.list.length===1){this._addTimeout()}return promise}},{key:"wait",value:function wait(timeout){return this.timeout(null,timeout)}},{key:"cancel",value:function cancel(promise){if(!promise){return null}promise.drop();this._listeners.remove(promise.id)}},{key:"_run",value:function _run(){if(!this._listeners.list.length){return null}var now=Date.now();for(var i=this._listeners.list.length-1;i>=0;i--){var item=this._listeners.list[i];if(now-item.start>=item.timeout){try{if(item.handler){item.handler()}item.defer.resolve()}catch(e){}this._listeners.remove(item)}else{break}}if(this._listeners.list.length){this._addTimeout()}}},{key:"_addTimeout",value:function _addTimeout(){var _this373=this;if(this._timer){clearTimeout(this._timer)}this._timer=setTimeout(function(){_this373._timer=null;_this373._run()},200)}}]);return TimeLine}();return new TimeLine};factory.$inject=["PromiseControl"];angular.module("app.utils").factory("timeLine",factory)})();(function(){"use strict";var factory=function factory(){var UserRouteState=function(){_createClass(UserRouteState,[{key:"state",get:function get(){var base=this.base+"."+this.name;return this.child?base+"."+this.child:base}}]);function UserRouteState(base,name,child){_classCallCheck(this,UserRouteState);this.base=base;this.name=name;this.child=child}_createClass(UserRouteState,[{key:"applyState",value:function applyState(state,user){if(this._hitTest(state.name)){this.child=state.name.split(".")[2];user.setSetting(this.name+".activeState",this.child);return true}else{return false}}},{key:"_hitTest",value:function _hitTest(stateName){var _stateName$split=stateName.split("."),_stateName$split2=_slicedToArray(_stateName$split,2),base=_stateName$split2[0],name=_stateName$split2[1];return base===this.base&&name===this.name}}]);return UserRouteState}();return UserRouteState};factory.$inject=[];angular.module("app.utils").factory("UserRouteState",factory)})();(function(){"use strict";var tsUtils=require("ts-utils");var factory=function factory(timeLine){return{readonly:function readonly(target,key,descriptor){var origin=descriptor.value;descriptor.value=function(){for(var _len10=arguments.length,args=Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10]}var result=origin.call.apply(origin,[this].concat(args));var paths=tsUtils.getPaths(result);paths.forEach(function(path){Object.freeze(tsUtils.get(result,path))});return result}},scope:function scope(defaults){return function(target,key,descriptor){var cache=defaults||Object.create(null);var origin=descriptor.value;descriptor.value=function(){for(var _len11=arguments.length,args=Array(_len11),_key11=0;_key11<_len11;_key11++){args[_key11]=arguments[_key11]}args.push(cache);return origin.call.apply(origin,[this].concat(args))}}},async:function async(timeout){var addTimeout=void 0,dropTimeout=void 0;if(timeout){addTimeout=function addTimeout(cb){return setTimeout(cb,timeout)};dropTimeout=clearTimeout}else{addTimeout=requestAnimationFrame;dropTimeout=cancelAnimationFrame}return function(target,key,descriptor){var origin=descriptor.value;descriptor.value=function(){var _this374=this;for(var _len12=arguments.length,args=Array(_len12),_key12=0;_key12<_len12;_key12++){args[_key12]=arguments[_key12]}if(this["__"+key+"_timer"]){dropTimeout(this["__"+key+"_timer"])}this["__"+key+"_timer"]=addTimeout(function(){_this374["__"+key+"_timer"]=null;origin.call.apply(origin,[_this374].concat(args))})}}},cachable:function cachable(time,toString){return function(target,key,descriptor){var origin=descriptor.value;var cache=Object.create(null);var timeout=time*1e3;if(time>0){descriptor.value=function(){for(var _len13=arguments.length,args=Array(_len13),_key13=0;_key13<_len13;_key13++){args[_key13]=arguments[_key13]}var key=toString?toString(args):stringify(args);if(cache[key]&&cache[key]){return cache[key].value}else{cache[key]=Object.create(null);cache[key].value=origin.call.apply(origin,[this].concat(args));if(cache[key].value&&cache[key].value.then&&typeof cache[key].value.then==="function"){cache[key].value.catch(function(){timeLine.cancel(cache[key].timer);delete cache[key]});cache[key].value.then(function(){cache[key].timer=timeLine.timeout(function(){delete cache[key]},timeout)})}else{cache[key].timer=timeLine.timeout(function(){delete cache[key]},timeout)}}return cache[key].value}}else{descriptor.value=function(){for(var _len14=arguments.length,args=Array(_len14),_key14=0;_key14<_len14;_key14++){args[_key14]=arguments[_key14]}var key=toString?toString(args):stringify(args);if(cache[key]){return cache[key]}else{cache[key]=origin.call.apply(origin,[this].concat(args))}return cache[key]}}}}}};factory.$inject=["timeLine"];function stringify(some){try{return JSON.stringify(some)}catch(e){return String(some)}}angular.module("app.utils").factory("decorators",factory)})();(function(){"use strict";var REGEX=_defineProperty({},WavesApp.defaultAssets.BTC,/^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/);var factory=function factory(){return Object.keys(REGEX).reduce(function(result,key){result[key]={isValidAddress:function isValidAddress(string){return REGEX[key].test(string)}};return result},Object.create(null))};angular.module("app.utils").factory("outerBlockchains",factory)})();(function(){"use strict";var tsUtils=require("ts-utils");var tsApiValidator=require("ts-api-validator");var _require50=require("@waves/waves-browser-bus"),WindowAdapter=_require50.WindowAdapter,Bus=_require50.Bus;var _require51=require("ramda"),splitEvery=_require51.splitEvery,pipe=_require51.pipe;var _require52=require("@waves/signature-generator"),libs=_require52.libs;var BigNumberPart=function(_tsApiValidator$BaseP){_inherits(BigNumberPart,_tsApiValidator$BaseP);function BigNumberPart(){_classCallCheck(this,BigNumberPart);return _possibleConstructorReturn(this,(BigNumberPart.__proto__||Object.getPrototypeOf(BigNumberPart)).apply(this,arguments))}_createClass(BigNumberPart,[{key:"getValue",value:function getValue(data){switch(typeof data==="undefined"?"undefined":_typeof(data)){case"string":case"number":return new BigNumber(data);default:return null}}}]);return BigNumberPart}(tsApiValidator.BasePart);var dataEntities=require("@waves/data-entities");var factory=function factory($q,Moment,$injector){var utils={apiValidatorParts:{BigNumberPart:BigNumberPart},removeUrlProtocol:function removeUrlProtocol(url){return url.replace(/.+?(:\/\/)/,"")},getUrlForRoute:function getUrlForRoute(url){url=decodeURI(url||location.href);var getHash=function getHash(url){if(url.includes("#")){return url.slice(url.indexOf("#")).replace("#","/")}else{return""}};var processor=pipe(utils.removeUrlProtocol,getHash);return processor(url)},getRouterParams:function getRouterParams(url){var Router=$injector.get("Router");var router=new Router;var makeRouterHandler=function makeRouterHandler(name){return function(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.create(null);var search=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Object.create(null);var url=Router.ROUTES[name];return{name:name,url:url,data:_extends({},params,search)}}};Object.keys(Router.ROUTES).forEach(function(name){var handler=makeRouterHandler(name);router.registerRoute(Router.ROUTES[name],handler)});return router.apply(url)},createQS:function createQS(obj){var customSerialize=function customSerialize(v){switch(true){case v instanceof Date:return v.getTime();default:return v}};var createKeyValue=function createKeyValue(key,v){return key+"="+customSerialize(v)};var createArrayKeyValue=function createArrayKeyValue(key,values){return values.map(function(v){return createKeyValue(key+"[]",v)}).join("&")};var qs=Object.entries(obj).filter(function(_ref145){var _ref146=_slicedToArray(_ref145,2),_=_ref146[0],value=_ref146[1];return value!==undefined}).map(function(_ref147){var _ref148=_slicedToArray(_ref147,2),key=_ref148[0],value=_ref148[1];return Array.isArray(value)?createArrayKeyValue(key,value):createKeyValue(key,value)}).join("&");return qs===""?qs:"?"+qs},observe:function observe(target,keys,options){return _addObserverSignals(target,keys,options)},getPublicKeysFromScript:function getPublicKeysFromScript(script){var toBytes=function toBytes(key){return splitEvery(2,key).map(function(byte16){return parseInt(byte16,16)})};return(script.match(/ByteVector\(\d+\sbytes,\s(.[^)]+)/g)||[]).map(function(res){return res.replace(/ByteVector\(\d+\sbytes,\s0x/,"")}).map(toBytes).map(libs.base58.encode)},debounce:function debounce(callback,timeout){var control={queued:false,args:null};return function(){var _this376=this;for(var _len15=arguments.length,args=Array(_len15),_key15=0;_key15<_len15;_key15++){args[_key15]=arguments[_key15]}control.args=args;if(!control.queued){setTimeout(function(){control.queued=false;callback.call.apply(callback,[_this376].concat(_toConsumableArray(control.args)))},timeout)}control.queued=true}},parseElectronUrl:function parseElectronUrl(url){var _url$split=url.split("#"),_url$split2=_slicedToArray(_url$split,2),pathAndSearch=_url$split2[0],hash=_url$split2[1];var _pathAndSearch$split=pathAndSearch.split("?"),_pathAndSearch$split2=_slicedToArray(_pathAndSearch$split,2),path=_pathAndSearch$split2[0],search=_pathAndSearch$split2[1];return{path:path,search:"?"+(search||""),hash:"#"+(hash||"")}},redirect:function redirect(url){if(WavesApp.isDesktop()){window.openInBrowser(url)}else{location.href=url}},parseSearchParams:function parseSearchParams(){var search=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var hashes=search.slice(search.indexOf("?")+1).split("&").filter(Boolean);var params=Object.create(null);var normalizeValue=function normalizeValue(value){if(value==="null"){return null}var num=Number(value);return String(num)===value?num:value};var add=function add(name,value){if(value==null){params[name]=true}else{params[name]=normalizeValue(decodeURIComponent(value))}};var addArray=function addArray(name,value){var key=name.replace("[]","");if(!params[key]){params[key]=[]}params[key].push(normalizeValue(decodeURIComponent(value)))};hashes.forEach(function(hash){var _hash$split=hash.split("="),_hash$split2=_slicedToArray(_hash$split,2),key=_hash$split2[0],val=_hash$split2[1];if(key.includes("[]")){addArray(key,val)}else{add(key,val)}});return params},debounceRequestAnimationFrame:function debounceRequestAnimationFrame(callback){var control={queued:false,args:null};return function(){var _this377=this;for(var _len16=arguments.length,args=Array(_len16),_key16=0;_key16<_len16;_key16++){args[_key16]=arguments[_key16]}control.args=args;if(!control.queued){requestAnimationFrame(function(){control.queued=false;callback.call.apply(callback,[_this377].concat(_toConsumableArray(control.args)))})}control.queued=true}},animate:function animate($element,properties,options){return new Promise(function(resolve){options=options||Object.create(null);if(options.complete){var origin=options.complete;options.complete=function(){resolve();origin()}}else{options.complete=resolve}$element.stop(true,true).animate(properties,options)})},animateTransform:function animateTransform($element,to){var prefixis=["","-ms-","-moz-","-o-","-webkit-"];return $q(function(resolve){var transform=$element.css("transform");var from=transform==="none"?{x:0,y:0}:{x:0,y:0};$element.stop(true,true).animate({},{progress:function progress(tween,_progress3){var x=(to.x-from.x)*_progress3+from.x;var y=(to.y-from.y)*_progress3+from.y;prefixis.forEach(function(prefix){$element.css(prefix+"transform","translate("+x+"px, "+y+"px)")})},complete:resolve,duration:300})})},animateByClass:function animateByClass($element,className,state,stopProperty){return $q(function(resolve){var element=$element.get(0);var eventList=["transitionend","oTransitionEnd","otransitionend","webkitTransitionEnd"];if(element.classList.contains(className)===state){resolve();return null}var handler=function handler(e){if(e.currentTarget===element&&(!stopProperty||e.propertyName===stopProperty)){resolve();eventList.forEach(function(eventName){element.removeEventListener(eventName,handler,false)})}};eventList.forEach(function(eventName){element.addEventListener(eventName,handler,false)});$element.toggleClass(className,state)})},when:function when(data){if(this.isPromise(data)){return data}else{return Promise.resolve(data)}},isPromise:function isPromise(data){return data.then&&typeof data.then==="function"},whenAll:function whenAll(promises){return utils.when(Promise.all(promises))},getMoneyWithoutFee:function getMoneyWithoutFee(money,fee){if(fee&&money.asset.id===fee.asset.id){return money.sub(fee)}else{return money}},isEqual:function isEqual(a,b){var typeA=typeof a==="undefined"?"undefined":_typeof(a);var typeB=typeof b==="undefined"?"undefined":_typeof(b);if(typeA!==typeB){return false}if(typeA!=="object"){return a===b}var pathsA=tsUtils.getPaths(a);var pathsB=tsUtils.getPaths(b);return pathsA.length===pathsB.length&&pathsA.every(function(path,index){return tsUtils.get(a,path)===tsUtils.get(b,path)&&String(path)===String(pathsB[index])})},bind:function bind(target,keys){if(keys==null){keys=Object.keys(target).filter(function(name){return typeof target[name]==="function"});if(keys.length===0){var proto=Object.getPrototypeOf(target);keys=Object.getOwnPropertyNames(proto).filter(function(method){return method.charAt(0)!=="_"&&method!=="constructor"})}else{keys=keys.filter(function(key){return typeof target[key]==="function"})}}else{keys=Array.isArray(keys)?keys:[keys]}keys.forEach(function(key){target[key]=target[key].bind(target)});return target},resolve:function resolve(promiseLike){var getCallback=function getCallback(state,resolve){return function(data){return resolve({state:state,data:data})}};return new Promise(function(resolve){promiseLike.then(getCallback(true,resolve),getCallback(false,resolve))})},moment:function moment(date,pattern){if(date instanceof Moment){return date.clone(pattern)}return new Moment(date,pattern)},loadImage:function loadImage(url){return new Promise(function(resolve,reject){var img=new Image;img.onload=resolve;img.onerror=reject;img.src=url})},getNiceNumber:function getNiceNumber(num,precision){switch(typeof num==="undefined"?"undefined":_typeof(num)){case"string":case"number":return new BigNumber(num,10).toFormat(precision&&Number(precision));case"object":if(num!=null){return num.toFormat(precision&&Number(precision))}throw new Error("Wrong format!");default:throw new Error("Wrong format!")}},parseNiceNumber:function parseNiceNumber(data){if(data instanceof BigNumber){return data}var num=new BigNumber(String(data).replace(",","").replace(/\s/g,"")||0,10);return num.isNaN()?new BigNumber(0):num},loadOrTimeout:function loadOrTimeout(target,timeout){return new Promise(function(resolve,reject){target.addEventListener("load",resolve,false);target.addEventListener("error",reject,false);setTimeout(function(){reject(new Error("Timeout limit error!"))},timeout)})},importUsersByWindow:function importUsersByWindow(win,origin,timeout){return new Promise(function(resolve,reject){var adapter=new WindowAdapter({win:window,origin:WavesApp.origin},{win:win,origin:origin});var bus=new Bus(adapter);bus.once("export-ready",function(){bus.request("getLocalStorageData").then(utils.onExportUsers(origin,resolve))});setTimeout(function(){reject(new Error("Timeout limit error!"))},timeout)})},importAccountByIframe:function importAccountByIframe(origin,timeout){var iframe=document.createElement("iframe");var remove=function remove(){if(iframe.parentNode){document.body.removeChild(iframe)}};var onError=function onError(error){remove();return Promise.reject(error)};var onSuccess=function onSuccess(data){remove();return Promise.resolve(data)};iframe.src=origin+"/export.html";var result=utils.loadOrTimeout(iframe,timeout).then(function(){return utils.importUsersByWindow(iframe.contentWindow,origin,timeout)}).then(onSuccess).catch(onError);iframe.style.opacity="0";iframe.style.position="absolute";iframe.style.left="0";iframe.style.top="0";document.body.appendChild(iframe);return result},importAccountByTab:function importAccountByTab(origin,timeout){var width="width=100";var height="height=100";var left="left="+Math.floor(screen.width-100/2);var right="top="+Math.floor(screen.height-100/2);var closed=false;var close=function close(d){if(!closed){win.close();closed=true}return d};var win=window.open(origin+"/export.html","export",width+","+height+","+left+","+top+","+right+",no,no,no,no,no,no");var onError=function onError(e){close();return Promise.reject(e)};return utils.importUsersByWindow(win,origin,timeout).then(close).catch(onError)},onExportUsers:function onExportUsers(origin,resolve){return function(response){if(!response){return[]}resolve(response.accounts&&response.accounts.map(utils.remapOldClientAccounts)||[])}},openDex:function openDex(asset1,asset2){var $state=$injector.get("$state");if(asset1&&asset2){if(asset1===asset2){return utils.openDex(asset1)}setTimeout(function(){$state.go("main.dex",{assetId1:asset1,assetId2:asset2})},50);return null}if(asset1===WavesApp.defaultAssets.WAVES){asset2=WavesApp.defaultAssets.BTC}else{asset2=WavesApp.defaultAssets.WAVES}setTimeout(function(){$state.go("main.dex",{assetId1:asset1,assetId2:asset2})},50)},getNiceNumberTemplate:function getNiceNumberTemplate(num,precision,shortMode){var bigNum=this.parseNiceNumber(num);var formatted=this.getNiceNumber(bigNum,precision);if(shortMode&&bigNum.gte(1e4)){return this.getNiceBigNumberTemplate(bigNum)}else{var separatorDecimal=WavesApp.getLocaleData().separators.decimal;var _formatted$split=formatted.split(separatorDecimal),_formatted$split2=_slicedToArray(_formatted$split,2),int=_formatted$split2[0],decimal=_formatted$split2[1];if(decimal){var decimalTpl=_processDecimal(decimal,separatorDecimal);return'<span class="int">'+int+"</span>"+('<span class="decimal">'+decimalTpl+"</span>")}else{return'<span class="int">'+int+"</span>"}}},getNiceBigNumberTemplate:function getNiceBigNumberTemplate(bigNum){var i18n=$injector.get("i18n");var stringNum=void 0;var postfix=void 0;if(bigNum.gte(1e6)){stringNum=bigNum.div(1e6).toFormat(1);postfix=i18n.translate("number.short.million")}else{stringNum=bigNum.div(1e3).toFormat(1);postfix=i18n.translate("number.short.thousand")}return""+stringNum+postfix},toArray:function toArray(some){return Array.isArray(some)?some:[some]},toHash:function toHash(list,key){return list.reduce(function(result,item){result[tsUtils.get(item,key)]=item;return result},Object.create(null))},groupMoney:function groupMoney(moneyList){return moneyList.filter(Boolean).reduce(function(result,money){if(result[money.asset.id]){result[money.asset.id]=result[money.asset.id].add(money)}else{result[money.asset.id]=money}return result},Object.create(null))},wait:function wait(time){return $q(function(resolve){if(!time){requestAnimationFrame(resolve)}else{setTimeout(resolve,time)}})},addUniqueToArray:function addUniqueToArray(list,array){list.forEach(function(item){if(array.indexOf(item)===-1){array.push(item)}})},parseAngularParam:function parseAngularParam(attribute,$scope,destroy){var exp=_hasExp(attribute)&&attribute;var change=new tsUtils.Signal;var result=utils.liteObject({attribute:attribute,exp:exp,change:change,value:null});if(exp){if(exp.indexOf("::")!==-1){result.value=$scope.$eval(exp.replace("::","").replace(/{{(.*)?(}})/,"$1"))}else{var stop=$scope.$watch(exp,function(value){result.value=value;change.dispatch(value)});destroy.once(function(){stop()})}}else{result.value=attribute}return result},liteObject:function liteObject(props){var result=Object.create(null);Object.assign(result,props);return result},filterOrderBookByCharCropRate:function filterOrderBookByCharCropRate(data){var _getOrderBookRangeByC=this.getOrderBookRangeByCropRate(data),min=_getOrderBookRangeByC.min,max=_getOrderBookRangeByC.max;if(!min||!max){return{bids:[],asks:[]}}return{asks:data.asks.filter(function(ask){return new BigNumber(ask.price).lte(max)}),bids:data.bids.filter(function(bid){return new BigNumber(bid.price).gte(min)})}},cache:function cache(storage,fetch,toId,time,fromList){return function(data){var list=utils.toArray(data);var toRequest=[];var promiseList=[];list.forEach(function(item){var id=toId(item);if(storage[id]){promiseList.push(storage[id].then(fromList(item)))}else{toRequest.push(item)}});var promise=void 0;if(toRequest.length){promise=fetch(toRequest);toRequest.forEach(function(item){var id=toId(item);storage[id]=promise;setTimeout(function(){delete storage[id]},time)})}else{return Promise.all(promiseList)}return Promise.all([promise].concat(promiseList)).then(function(){for(var _len17=arguments.length,list=Array(_len17),_key17=0;_key17<_len17;_key17++){list[_key17]=arguments[_key17]}return list.reduce(function(acc,i){return acc.concat.apply(acc,_toConsumableArray(i))},[])})}},getOrderBookRangeByCropRate:function getOrderBookRangeByCropRate(data){if(!data.asks||!data.asks.length||!data.bids||!data.bids.length){return{min:null,max:null}}var spreadPrice=new BigNumber(data.asks[0].price).plus(data.bids[0].price).div(2);var delta=spreadPrice.times(data.chartCropRate).div(2);var max=spreadPrice.plus(delta);var min=BigNumber.max(0,spreadPrice.minus(delta));return{min:min,max:max}},chainCall:function chainCall(functionList){return new Promise(function(resolve,reject){var callList=functionList.slice().reverse();var apply=function apply(){if(callList.length){var func=callList.pop();var result=func();if(result&&result.then&&typeof result.then==="function"){result.then(apply,reject)}else{apply()}}else{resolve()}};apply()})},comparators:{asc:function asc(a,b){if(a==null){if(b==null){return 0}else{return-1}}else if(b==null){if(a==null){return 0}else{return 1}}if(a>b){return 1}if(a===b){return 0}return-1},desc:function desc(a,b){if(a==null){if(b==null){return 0}else{return 1}}else if(b==null){if(a==null){return 0}else{return-1}}if(a>b){return-1}if(a===b){return 0}return 1},bigNumber:{asc:function asc(a,b){if(a.gt(b)){return 1}if(a.eq(b)){return 0}return-1},desc:function desc(a,b){if(a.gt(b)){return-1}if(a.eq(b)){return 0}return 1}},money:{asc:function asc(a,b){return utils.comparators.bigNumber.asc(a.getTokens(),b.getTokens())},desc:function desc(a,b){return utils.comparators.bigNumber.desc(a.getTokens(),b.getTokens())}},smart:{asc:function asc(a,b){if(a instanceof ds.wavesDataEntities.Money&&b instanceof ds.wavesDataEntities.Money){return utils.comparators.money.asc(a,b)}else if(a instanceof BigNumber&&b instanceof BigNumber){return utils.comparators.bigNumber.asc(a,b)}return utils.comparators.asc(a,b)},desc:function desc(a,b){if(a instanceof ds.wavesDataEntities.Money&&b instanceof ds.wavesDataEntities.Money){return utils.comparators.money.desc(a,b)}else if(a instanceof BigNumber&&b instanceof BigNumber){return utils.comparators.bigNumber.desc(a,b)}return utils.comparators.desc(a,b)}},process:function process(processor){return{asc:function asc(a,b){return utils.comparators.asc(processor(a),processor(b))},desc:function desc(a,b){return utils.comparators.desc(processor(a),processor(b))},bigNumber:{asc:function asc(a,b){return utils.comparators.bigNumber.asc(processor(a),processor(b))},desc:function desc(a,b){return utils.comparators.bigNumber.desc(processor(a),processor(b))}},money:{asc:function asc(a,b){return utils.comparators.money.asc(processor(a),processor(b))},desc:function desc(a,b){return utils.comparators.money.desc(processor(a),processor(b))}},smart:{asc:function asc(a,b){return utils.comparators.smart.asc(processor(a),processor(b))},desc:function desc(a,b){return utils.comparators.smart.desc(processor(a),processor(b))}}}}},remapOldClientAccounts:function remapOldClientAccounts(account){return{name:account.name,address:account.address,encryptedSeed:account.cipher,settings:{encryptionRounds:1e3}}},isNotEqualValue:isNotEqualValue,parseError:function parseError(error){try{return typeof error==="string"?JSON.parse(error).message:error}catch(e){return error}}};function _hasExp(value){if(!value){return false}var openIndex=value.indexOf("{{");var closeIndex=value.indexOf("}}");return openIndex!==-1&&closeIndex!==-1&&openIndex<closeIndex}function _processDecimal(decimal,separator){var mute=[];decimal.split("").reverse().some(function(char){if(char==="0"){mute.push(0);return false}return true});var end=decimal.length-mute.length;if(end){return""+separator+decimal.substr(0,end)+'<span class="decimal-muted">'+mute.join("")+"</span>"}return'<span class="decimal-muted">'+separator+mute.join("")+"</span>"}function _getObserver(target){if(!target.__){var observer=Object.create(null);Object.defineProperty(target,"__",{writable:false,configurable:false,enumerable:false,value:observer})}return target.__}function _getSignal(observer,keys){if(Array.isArray(keys)){var event=keys.sort(utils.comparators.asc).join(",");if(!observer.__events){observer.__events=Object.create(null)}if(!observer.__events[event]){observer.__events[event]=new tsUtils.Signal;keys.forEach(function(key){observer[key].signal.on(function(){observer.__events[event].dispatch()})})}return observer.__events[event]}else{return observer[keys].signal}}function isNotEqualValue(oldValue,newValue){if((typeof oldValue==="undefined"?"undefined":_typeof(oldValue))===(typeof newValue==="undefined"?"undefined":_typeof(newValue))){if(oldValue instanceof dataEntities.Money&&newValue instanceof dataEntities.Money){return oldValue.asset.id!==newValue.asset.id||oldValue.toTokens()!==newValue.toTokens()}else if(oldValue instanceof BigNumber&&newValue instanceof BigNumber){return!oldValue.eq(newValue)}else if(Array.isArray(oldValue)&&Array.isArray(newValue)){return oldValue.length!==newValue.length||oldValue.some(function(item,i){return isNotEqualValue(item,newValue[i])})}else{return oldValue!==newValue}}else{return true}}function _getOriginalDescriptor(target,key){var descriptor=Object.getOwnPropertyDescriptor(target,key);if(descriptor){return descriptor}if(target.constructor&&target.constructor!==Object.constructor&&target.constructor.prototype){return Object.getOwnPropertyDescriptor(target.constructor.prototype,key)}return null}function _addObserverSignals(target,keys,options){var observer=_getObserver(target);options=options||Object.create(null);utils.toArray(keys).forEach(function(key){if(observer[key]){return null}var item=Object.create(null);item.signal=new tsUtils.Signal;item.timer=null;item.value=target[key];var originalDescriptor=_getOriginalDescriptor(target,key);observer[key]=item;if(originalDescriptor&&originalDescriptor.get){var descriptor={enumerable:originalDescriptor.enumerable,get:originalDescriptor.get};if(originalDescriptor.set){descriptor.set=function(value){var prev=originalDescriptor.get.call(target);if(isNotEqualValue(prev,value)){originalDescriptor.set.call(target,value);observer[key].signal.dispatch({value:value,prev:prev})}}}else{descriptor.set=function(){throw new Error("Original descriptor has't set property!")}}Object.defineProperty(target,key,descriptor)}else{Object.defineProperty(target,key,{enumerable:true,get:function get(){return observer[key].value},set:function set(value){value=options.set?options.set(value):value;var prev=observer[key].value;if(isNotEqualValue(prev,value)){observer[key].value=value;observer[key].signal.dispatch({value:value,prev:prev})}}})}});return _getSignal(observer,keys)}return utils};factory.$inject=["$q","Moment","$injector"];angular.module("app.utils").factory("utils",factory)})();(function(){"use strict";var factory=function factory(notification,user,migration,utils){var MIGRATION_LIST=["1.0.0","1.0.3","1.0.5","1.0.6","1.0.7","1.0.8","1.0.10","1.0.14","1.0.15","1.0.18","1.0.21","1.0.22","1.0.25","1.0.27","1.0.28","1.0.29","1.0.30","1.0.32","1.0.33"];function addVersions(version){var versions=user.getSetting("whatsNewList").slice();utils.toArray(version).forEach(function(version){versions.push(version)});user.setSetting("whatsNewList",versions)}function removeVersion(version){var versions=user.getSetting("whatsNewList").slice();var index=versions.indexOf(version);if(index!==-1){versions.splice(index,1);user.setSetting("whatsNewList",versions)}}function unique(list1,list2){var hash=Object.create(null);list1.concat(list2).forEach(function(version){hash[version]=true});return Object.keys(hash)}user.onLogin().then(function(){var notShownUpdates=user.getSetting("whatsNewList");var lastOpenVersion=user.getSetting("lastOpenVersion");var newVersionList=migration.migrateFrom(lastOpenVersion||WavesApp.version,MIGRATION_LIST);migration.sort(unique(newVersionList,notShownUpdates)).forEach(function(version){notification.info({ns:"app.utils",title:{literal:"utils.whatsNew.title",params:{version:version}},body:{literal:"utils.whatsNew.body."+version.replace(/\./g,"_")},onClose:function onClose(){removeVersion(version)}},-1)});addVersions(newVersionList);user.setSetting("lastOpenVersion",WavesApp.version)});return Object.create(null)};factory.$inject=["notification","user","migration","utils"];angular.module("app.utils").factory("whatsNew",factory)})();(function(){"use strict";var factory=function factory(user,utils){var tsUtils=require("ts-utils");var Base=function(){function Base($scope){var _this378=this;_classCallCheck(this,Base);this.wasDestroed=false;this.__emitterListeners=Object.create(null);if($scope){var stop=$scope.$on("$destroy",function(){_this378.$onDestroy();stop()})}this.signals={destroy:new tsUtils.Signal};this.cid=tsUtils.uniqueId("base")}_createClass(Base,[{key:"listenEventEmitter",value:function listenEventEmitter(emitter,event,handler,methods){methods=methods||Object.create(null);methods.on=methods.on||"on";methods.off=methods.off||"off";if(!this.__emitterListeners[event]){this.__emitterListeners[event]=[]}this.__emitterListeners[event].push({emitter:emitter,handler:handler,methods:methods});emitter[methods.on](event,handler,methods.capture)}},{key:"stopListenEventEmitter",value:function stopListenEventEmitter(){var _this379=this;var event=void 0,handler=void 0,emitter=void 0;if((arguments.length<=0?undefined:arguments[0])&&_typeof(arguments.length<=0?undefined:arguments[0])==="object"){event=null;handler=null;emitter=arguments.length<=0?undefined:arguments[0]}else if((arguments.length<=0?undefined:arguments[0])&&typeof(arguments.length<=0?undefined:arguments[0])==="function"){event=null;handler=arguments.length<=0?undefined:arguments[0];emitter=null}else{event=arguments.length<=0?undefined:arguments[0]}if((arguments.length<=1?undefined:arguments[1])&&_typeof(arguments.length<=1?undefined:arguments[1])==="object"){emitter=arguments.length<=1?undefined:arguments[1]}else{handler=arguments.length<=1?undefined:arguments[1]}if(arguments.length<=2?undefined:arguments[2]){emitter=arguments.length<=2?undefined:arguments[2]}if(!event){Object.keys(this.__emitterListeners).forEach(function(myEvent){_this379.stopListenEventEmitter(myEvent,handler,emitter)});return null}if(!handler){this.__emitterListeners[event].slice().forEach(function(data){_this379.stopListenEventEmitter(event,data.handler,emitter)});return null}this.__emitterListeners[event]=this.__emitterListeners[event].filter(function(data){if(emitter){if(data.emitter===emitter&&data.handler===handler){emitter[data.methods.off](event,handler);return false}else{return true}}else if(data.handler===handler){data.emitter[data.methods.off](event,handler);return false}else{return true}})}},{key:"observe",value:function observe(keys,callback,options){this.receive(utils.observe(this,keys,options),callback,this)}},{key:"observeOnce",value:function observeOnce(keys,callback,options){this.receiveOnce(utils.observe(this,keys,options),callback,this)}},{key:"stopObserve",value:function stopObserve(keys,handler){this.stopReceive(utils.observe(this,keys),handler)}},{key:"syncSettings",value:function syncSettings(syncObject){var _this380=this;return Object.keys(syncObject).forEach(function(name){var settingsPath=syncObject[name];_this380.observe(name,function(){user.setSetting(settingsPath,_this380[name])});if(user.changeSetting){_this380.receive(user.changeSetting,function(path){if(path===settingsPath){_this380[name]=user.getSetting(path)}})}_this380[name]=user.getSetting(settingsPath)})}},{key:"$onDestroy",value:function $onDestroy(){this.signals.destroy.dispatch();this.stopReceive();this.signals.destroy.off();this.stopListenEventEmitter();this.wasDestroed=true}}]);return Base}();Base.prototype.receive=tsUtils.Receiver.prototype.receive;Base.prototype.receiveOnce=tsUtils.Receiver.prototype.receiveOnce;Base.prototype.stopReceive=tsUtils.Receiver.prototype.stopReceive;return Base};factory.$inject=["user","utils"];angular.module("app.utils").factory("Base",factory)})();(function(){"use strict";var factory=function factory(Base){var BaseClassComponent=function(){function BaseClassComponent(parent){_classCallCheck(this,BaseClassComponent);if(!(parent instanceof Base)){throw new Error("Can't add component to controller, controller not instanceof Base!")}this.parent=parent;this.receiveOnce(parent.signals.destroy,this.remove,this)}_createClass(BaseClassComponent,[{key:"remove",value:function remove(){}}]);return BaseClassComponent}();BaseClassComponent.prototype.receive=tsUtils.Receiver.prototype.receive;BaseClassComponent.prototype.receiveOnce=tsUtils.Receiver.prototype.receiveOnce;BaseClassComponent.prototype.stopReceive=tsUtils.Receiver.prototype.stopReceive;return BaseClassComponent};factory.$inject=["Base"];angular.module("app.utils").factory("BaseClassComponent",factory)})();(function(){"use strict";var factory=function factory(BaseClassComponent,Poll,modalManager,eventManager){var pollComponents=Object.create(null);var tsUtils=require("ts-utils");var PollComponent=function(_BaseClassComponent){_inherits(PollComponent,_BaseClassComponent);function PollComponent(parent){_classCallCheck(this,PollComponent);var _this381=_possibleConstructorReturn(this,(PollComponent.__proto__||Object.getPrototypeOf(PollComponent)).call(this,parent));_this381._polls=Object.create(null);_this381.receive(modalManager.openModal,_this381._onOpenModal,_this381);return _this381}_createClass(PollComponent,[{key:"createPoll",value:function createPoll(getter,setter,time,options){var _this382=this;if(typeof setter==="string"){var name=setter;setter=PollComponent._getSetterHandler(name,this.parent,options)}else{setter=PollComponent._wrapSetterHandler(setter,this.parent,options)}var poll=new Poll(getter.bind(this.parent),setter,time);this._polls[poll.id]=poll;if(options&&options.isBalance){this.receive(eventManager.signals.changeBalanceEvent,function(){return poll.restart()})}this.receiveOnce(poll.signals.destroy,function(){delete _this382._polls[poll.id]});return poll}},{key:"remove",value:function remove(){_get(PollComponent.prototype.__proto__||Object.getPrototypeOf(PollComponent.prototype),"remove",this).call(this);delete pollComponents[this.parent.cid];tsUtils.each(this._polls,function(poll){if(poll){poll.destroy()}})}},{key:"_onOpenModal",value:function _onOpenModal(modal){tsUtils.each(this._polls,function(poll){poll.pause(modal)})}}],[{key:"create",value:function create(base,getter,setter,time,options){if(base.wasDestroed){return null}return PollComponent._getPoll(base).createPoll(getter,setter,time,options)}},{key:"_getSetterHandler",value:function _getSetterHandler(path,parent,options){if(options&&options.$scope){return function(data){tsUtils.set(parent,path,data);options.$scope.$apply()}}else{return function(data){tsUtils.set(parent,path,data)}}}},{key:"_wrapSetterHandler",value:function _wrapSetterHandler(handler,parent,options){if(options&&options.$scope){return function(data){handler.call(parent,data);options.$scope.$apply()}}else{return handler.bind(parent)}}},{key:"_getPoll",value:function _getPoll(base){if(pollComponents[base.cid]){return pollComponents[base.cid]}var poll=new PollComponent(base);pollComponents[base.cid]=poll;return poll}}]);return PollComponent}(BaseClassComponent);return PollComponent.create};factory.$inject=["BaseClassComponent","Poll","modalManager","eventManager"];angular.module("app.utils").factory("createPoll",factory)})();(function(){"use strict";var factory=function factory(BaseClassComponent,PromiseControl){var componentsHash=Object.create(null);var PromiseComponent=function(_BaseClassComponent2){_inherits(PromiseComponent,_BaseClassComponent2);function PromiseComponent(base){_classCallCheck(this,PromiseComponent);var _this383=_possibleConstructorReturn(this,(PromiseComponent.__proto__||Object.getPrototypeOf(PromiseComponent)).call(this,base));_this383._promiseList=[];return _this383}_createClass(PromiseComponent,[{key:"remove",value:function remove(){_get(PromiseComponent.prototype.__proto__||Object.getPrototypeOf(PromiseComponent.prototype),"remove",this).call(this);delete componentsHash[this.parent.cid];this._promiseList.forEach(function(promise){promise.drop()});this._promiseList=[]}},{key:"wrap",value:function wrap(promise){var _this384=this;var control=new PromiseControl(promise);this._promiseList.push(control);control.always(function(){var index=_this384._promiseList.indexOf(control);if(index!==-1){_this384._promiseList.splice(index,1)}});return control}}],[{key:"create",value:function create(base,promise){return PromiseComponent._getComponent(base).wrap(promise)}},{key:"_getComponent",value:function _getComponent(base){if(componentsHash[base.cid]){return componentsHash[base.cid]}else{componentsHash[base.cid]=new PromiseComponent(base);return componentsHash[base.cid]}}}]);return PromiseComponent}(BaseClassComponent);return PromiseComponent.create};factory.$inject=["BaseClassComponent","PromiseControl"];angular.module("app.utils").factory("createPromise",factory)})();(function(){"use strict";var CARD_GATEWAYS=_defineProperty({},WavesApp.defaultAssets.WAVES,"WAVES");var PATH=WavesApp.network.coinomat+"/api/v2/indacoin";var KEY_NAME_PREFIX="coinomat";var factory=function factory(){var CoinomatCardService=function(){function CoinomatCardService(){_classCallCheck(this,CoinomatCardService)}_createClass(CoinomatCardService,[{key:"getAll",value:function getAll(){return CARD_GATEWAYS}},{key:"getFiatWithLimits",value:function getFiatWithLimits(crypto,wavesAddress,fiatList){var _this385=this;CoinomatCardService._assertAsset(crypto);var to=CARD_GATEWAYS[crypto.id];return Promise.all(fiatList.map(function(fiat){return _this385._loadBuyLimits(to,fiat.fiatCode,wavesAddress).then(function(limits){return _extends({},fiat,limits)})}))}},{key:"getApproximateCryptoAmount",value:function getApproximateCryptoAmount(crypto,fiat,wavesAddress,fiatAmount){CoinomatCardService._assertAsset(crypto);return $.get(PATH+"/rate.php",{crypto:CARD_GATEWAYS[crypto.id],fiat:fiat,address:wavesAddress,amount:fiatAmount})}},{key:"getCardBuyLink",value:function getCardBuyLink(crypto,fiat,wavesAddress,fiatAmount){CoinomatCardService._assertAsset(crypto);var to=CARD_GATEWAYS[crypto.id];return PATH+"/buy.php?crypto="+to+"&fiat="+fiat+"&address="+wavesAddress+"&amount="+fiatAmount}},{key:"getSupportMap",value:function getSupportMap(asset){if(CARD_GATEWAYS[asset.id]){return{card:true}}}},{key:"getAssetKeyName",value:function getAssetKeyName(asset){return""+KEY_NAME_PREFIX+CARD_GATEWAYS[asset.id].gateway}},{key:"_loadBuyLimits",value:function _loadBuyLimits(to,from,recipientAddress){return $.get(PATH+"/limits.php",{crypto:to,fiat:from,address:recipientAddress}).then(function(res){try{return JSON.parse(res)}catch(e){return{}}})}}],[{key:"_assertAsset",value:function _assertAsset(assetId){if(!CARD_GATEWAYS[assetId]){throw new Error("Asset is not supported by Coinomat")}}}]);return CoinomatCardService}();return new CoinomatCardService};angular.module("app.utils").factory("coinomatCardService",factory)})();(function(){"use strict";var SEPA_GATEWAYS={};var KNOWLEDGE_BASE=WavesApp.network.support+"/forums/2-knowledge-base/topics";var SEPA_COUNTRIES_URL=KNOWLEDGE_BASE+"/1304-list-of-accepted-countries-and-documents-for-verification";var ID_NOW_SITE_URL="https://idnow.eu";var ID_NOW_PATH="https://go.idnow.de/coinomat/userdata";var KEY_NAME_PREFIX="coinomatSepa";var factory=function factory(){var CoinomatSepaService=function(){function CoinomatSepaService(){_classCallCheck(this,CoinomatSepaService)}_createClass(CoinomatSepaService,[{key:"getAll",value:function getAll(){return SEPA_GATEWAYS}},{key:"getSepaDetails",value:function getSepaDetails(asset,wavesAddress){CoinomatSepaService._assertAsset(asset.id);return Promise.resolve({listOfEligibleCountries:SEPA_COUNTRIES_URL,idNowSiteUrl:ID_NOW_SITE_URL,idNowUserLink:ID_NOW_PATH+"/"+wavesAddress})}},{key:"getSupportMap",value:function getSupportMap(asset){if(SEPA_GATEWAYS[asset.id]){return{sepa:true}}}},{key:"getAssetKeyName",value:function getAssetKeyName(asset){return""+KEY_NAME_PREFIX+SEPA_GATEWAYS[asset.id]}}],[{key:"_assertAsset",value:function _assertAsset(assetId){if(!SEPA_GATEWAYS[assetId]){throw new Error("Asset is not supported by Coinomat SEPA")}}}]);return CoinomatSepaService}();return new CoinomatSepaService};angular.module("app.utils").factory("coinomatSepaService",factory)})();(function(){"use strict";var GATEWAYS=_defineProperty({},WavesApp.defaultAssets.BTC,{waves:"WBTC",gateway:"BTC"});var PATH_V1=WavesApp.network.coinomat+"/api/v1";var PATH_V2=WavesApp.network.coinomat+"/api/v2";var LANGUAGE="ru_RU";var KEY_NAME_PREFIX="coinomat";var ds=require("data-service");var _require53=require("ramda"),prop=_require53.prop;var factory=function factory(){var CoinomatService=function(){function CoinomatService(){_classCallCheck(this,CoinomatService)}_createClass(CoinomatService,[{key:"getAll",value:function getAll(){return GATEWAYS}},{key:"getDepositDetails",value:function getDepositDetails(asset,wavesAddress){CoinomatService._assertAsset(asset.id);var from=GATEWAYS[asset.id].gateway;var to=GATEWAYS[asset.id].waves;return this._loadPaymentDetails(from,to,wavesAddress).then(function(details){return{address:details.tunnel.wallet_from}})}},{key:"getWithdrawDetails",value:function getWithdrawDetails(asset,targetAddress,paymentId){CoinomatService._assertAsset(asset.id);var from=GATEWAYS[asset.id].waves;var to=GATEWAYS[asset.id].gateway;return Promise.all([this._loadPaymentDetails(from,to,targetAddress,paymentId),this._loadWithdrawRate(from,to)]).then(function(_ref149){var _ref150=_slicedToArray(_ref149,2),details=_ref150[0],rate=_ref150[1];if(paymentId&&details.tunnel.monero_payment_id!==paymentId){throw new Error("Monero Payment ID is invalid or missing")}return{address:details.tunnel.wallet_from,attachment:details.tunnel.attachment,minimumAmount:new BigNumber(rate.in_min),maximumAmount:new BigNumber(rate.in_max),exchangeRate:new BigNumber(rate.xrate),gatewayFee:new BigNumber(rate.fee_in+rate.fee_out)}})}},{key:"getSupportMap",value:function getSupportMap(asset){if(GATEWAYS[asset.id]){return{deposit:true,withdraw:true}}}},{key:"getAssetKeyName",value:function getAssetKeyName(asset){return""+KEY_NAME_PREFIX+GATEWAYS[asset.id].gateway}},{key:"hasConfirmation",value:function hasConfirmation(address){return ds.fetch(PATH_V2+"/get_confirmation.php?address="+address).then(function(_ref151){var status=_ref151.status,is_confirmed=_ref151.is_confirmed;return!(status==="not found"||!is_confirmed)})}},{key:"isVerified",value:function isVerified(address){return ds.fetch(PATH_V2+"/get_verification_status.php?address="+address).then(prop("verified"))}},{key:"getCoinomatTimestamp",value:function getCoinomatTimestamp(){return ds.fetch(PATH_V2+"/get_ts.php").then(prop("ts"))}},{key:"setCoinomatTermsAccepted",value:function setCoinomatTermsAccepted(signature,timestamp,status){var confirmed=status?1:0;return ds.signature.getSignatureApi().getPublicKey().then(function(publicKey){var params={signature:signature,public_key:publicKey,ts:timestamp,is_confirmed:confirmed};var toGetParams=function toGetParams(params){return Object.keys(params).reduce(function(acc,item){var start=acc?"&":"";return""+acc+start+item+"="+params[item]},"")};return ds.fetch(PATH_V2+"/set_confirmation.php?"+toGetParams(params),{method:"POST"}).then(function(response){if(response.status==="error"){return Promise.reject("Error!")}})})}},{key:"_loadPaymentDetails",value:function _loadPaymentDetails(from,to,recipientAddress,paymentId){return $.get(PATH_V1+"/create_tunnel.php",_extends({currency_from:from,currency_to:to,wallet_to:recipientAddress},paymentId?{monero_payment_id:paymentId}:{})).then(function(res){CoinomatService._assertResponse(res,"ok");return $.get(PATH_V1+"/get_tunnel.php",{xt_id:res.tunnel_id,k1:res.k1,k2:res.k2,history:0,lang:LANGUAGE})}).then(function(res){CoinomatService._assertResponse(res,"tunnel");return res})}},{key:"_loadWithdrawRate",value:function _loadWithdrawRate(from,to){return $.get(PATH_V1+"/get_xrate.php",{f:from,t:to,lang:LANGUAGE})}}],[{key:"_assertResponse",value:function _assertResponse(response,fieldName){if(!response[fieldName]){throw new Error(response.error)}}},{key:"_assertAsset",value:function _assertAsset(assetId){if(!GATEWAYS[assetId]){throw new Error("Asset is not supported by Coinomat")}}}]);return CoinomatService}();return new CoinomatService};angular.module("app.utils").factory("coinomatService",factory)})();(function(){"use strict";var factory=function factory(coinomatService,coinomatCardService,coinomatSepaService){var GatewayService=function(){function GatewayService(){_classCallCheck(this,GatewayService);this.gateways=[coinomatService,coinomatCardService,coinomatSepaService]}_createClass(GatewayService,[{key:"getCryptocurrencies",value:function getCryptocurrencies(){return coinomatService.getAll()}},{key:"getPurchasableWithCards",value:function getPurchasableWithCards(){return coinomatCardService.getAll()}},{key:"getFiats",value:function getFiats(){return coinomatSepaService.getAll()}},{key:"getDepositDetails",value:function getDepositDetails(asset,wavesAddress){var gateway=this._findGatewayFor(asset,"deposit");if(gateway){return gateway.getDepositDetails(asset,wavesAddress)}return null}},{key:"getWithdrawDetails",value:function getWithdrawDetails(asset,targetAddress,paymentId){var gateway=this._findGatewayFor(asset,"withdraw");return gateway.getWithdrawDetails(asset,targetAddress,paymentId)}},{key:"getCardFiatWithLimits",value:function getCardFiatWithLimits(crypto,wavesAddress,fiatList){var gateway=this._findGatewayFor(crypto,"card");return gateway.getFiatWithLimits(crypto,wavesAddress,fiatList)}},{key:"getCardApproximateCryptoAmount",value:function getCardApproximateCryptoAmount(crypto,fiat,recipientAddress,fiatAmount){var gateway=this._findGatewayFor(crypto,"card");if(!gateway){return Promise.resolve(0)}else{return gateway.getApproximateCryptoAmount(crypto,fiat,recipientAddress,fiatAmount)}}},{key:"getCardBuyLink",value:function getCardBuyLink(crypto,fiat,recipientAddress,fiatAmount){var gateway=this._findGatewayFor(crypto,"card");if(!gateway){return""}else{return gateway.getCardBuyLink(crypto,fiat,recipientAddress,fiatAmount)}}},{key:"getSepaDetails",value:function getSepaDetails(asset,wavesAddress){var gateway=this._findGatewayFor(asset,"sepa");if(gateway){return gateway.getSepaDetails(asset,wavesAddress)}return null}},{key:"hasSupportOf",value:function hasSupportOf(asset,type){var gateway=this._findGatewayFor(asset,type);return!!gateway}},{key:"getAssetKeyName",value:function getAssetKeyName(asset,type){var gateway=this._findGatewayFor(asset,type);return gateway.getAssetKeyName(asset)}},{key:"hasConfirmation",value:function hasConfirmation(address){return coinomatService.hasConfirmation(address)}},{key:"_findGatewayFor",value:function _findGatewayFor(asset,type){var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=this.gateways[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var gateway=_step4.value;var supportMap=gateway.getSupportMap(asset);if(supportMap&&supportMap[type]){return gateway}}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}}]);return GatewayService}();return new GatewayService};factory.$inject=["coinomatService","coinomatCardService","coinomatSepaService"];angular.module("app.utils").factory("gatewayService",factory)})();(function(){"use strict";angular.module("app.wallet",["app.wallet.assets","app.wallet.portfolio","app.wallet.transactions","app.wallet.leasing"])})();(function(){"use strict";var controller=function controller(){};angular.module("app.wallet").controller("WalletHeaderCtrl",controller)})();(function(){"use strict";angular.module("app.wallet.assets",[])})();(function(){"use strict";var controller=function controller(waves,assetsData,$scope,utils,Base,user,modalManager,createPoll){var tsUtils=require("ts-utils");var Assets=function(_Base113){_inherits(Assets,_Base113);function Assets(){_classCallCheck(this,Assets);var _this386=_possibleConstructorReturn(this,(Assets.__proto__||Object.getPrototypeOf(Assets)).call(this,$scope));_this386.pinnedAssetIdList=null;_this386.pinnedAssetBalances=null;_this386.chartMode=null;_this386.total=null;_this386.interval=null;_this386.intervalCount=null;_this386.data=null;_this386.options=assetsData.getGraphOptions();_this386.mirrorId=null;_this386._startDate=null;_this386.activeChartAssetId=null;_this386.activeChartBalance=null;_this386.chartAssetIdList=null;_this386.chartBalanceList=null;_this386.change="0.00";_this386.changePercent="0.00";_this386.advancedMode=false;var hours=tsUtils.date("hh:mm");var dates=tsUtils.date("DD/MM");_this386.options.axes.x.tickFormat=function(date){if(_this386.chartMode==="hour"||_this386.chartMode==="day"){return hours(date)}else{return dates(date)}};_this386.observe("activeChartAssetId",_this386._onChangeChartAssetId);_this386.syncSettings({activeChartAssetId:"wallet.assets.activeChartAssetId",chartAssetIdList:"wallet.assets.chartAssetIdList",chartMode:"wallet.assets.chartMode",pinnedAssetIdList:"pinnedAssetIdList",advancedMode:"advancedMode"});_this386.mirrorId=user.getSetting("baseAssetId");_this386._onChangeMode();_this386.updateGraph=createPoll(_this386,_this386._getGraphData,"data",15e3,{$scope:$scope});var isBalance=true;createPoll(_this386,_this386._getChartBalances,"chartBalanceList",15e3,{isBalance:isBalance,$scope:$scope});var assetPoll=createPoll(_this386,_this386._getBalances,"pinnedAssetBalances",5e3,{isBalance:isBalance,$scope:$scope});_this386.observe("chartMode",_this386._onChangeMode);_this386.observe("_startDate",_this386._onChangeInterval);_this386.observe("pinnedAssetIdList",function(){assetPoll.restart()});_this386.observe(["interval","intervalCount","activeChartAssetId"],_this386._onChangeInterval);return _this386}_createClass(Assets,[{key:"openScriptModal",value:function openScriptModal(){return modalManager.showScriptModal()}},{key:"openAnyTxModal",value:function openAnyTxModal(){return modalManager.showAnyTx(null)}},{key:"abs",value:function abs(num){return Math.abs(num)}},{key:"onAssetActionClick",value:function onAssetActionClick(event,asset,action){event.preventDefault();if(action==="send"){return this.showSend(asset)}if(action==="info"){return this.showAsset(asset)}if(action==="receive"){return this.showReceivePopup(asset)}throw new Error("Wrong action")}},{key:"unpin",value:function unpin(asset){this.pinnedAssetIdList=this.pinnedAssetIdList.filter(function(fAsset){return fAsset!==asset.id})}},{key:"newAssetOnClick",value:function newAssetOnClick(){modalManager.showPinAsset().then(function(_ref152){var selected=_ref152.selected;if(selected){$scope.$digest()}})}},{key:"showReceivePopup",value:function showReceivePopup(asset){return modalManager.showReceiveModal(user,asset)}},{key:"showSeedBackupModals",value:function showSeedBackupModals(){return modalManager.showSeedBackupModal()}},{key:"showAsset",value:function showAsset(asset){return modalManager.showAssetInfo(asset)}},{key:"showSend",value:function showSend(asset){return modalManager.showSendAsset({assetId:asset&&asset.id||null})}},{key:"showDeposit",value:function showDeposit(asset){return modalManager.showDepositAsset(user,asset)}},{key:"showSepa",value:function showSepa(asset){return modalManager.showSepaAsset(user,asset)}},{key:"showQR",value:function showQR(){return modalManager.showAddressQrCode(user)}},{key:"_onChangeChartAssetId",value:function _onChangeChartAssetId(_ref153){var _this387=this;var value=_ref153.value;waves.node.assets.balance(value).then(function(asset){_this387.activeChartBalance=asset})}},{key:"_getChartBalances",value:function _getChartBalances(){return waves.node.assets.balanceList(this.chartAssetIdList).then(function(list){return list.map(function(_ref154){var available=_ref154.available;return available})})}},{key:"_getBalances",value:function _getBalances(){return waves.node.assets.balanceList(this.pinnedAssetIdList)}},{key:"_onChangeInterval",value:function _onChangeInterval(){this.updateGraph.restart()}},{key:"_getGraphData",value:function _getGraphData(){var _this388=this;var from=this.activeChartAssetId;var to=this.mirrorId;var precisionPromise=waves.node.assets.getAsset(this.mirrorId).then(function(_ref155){var precision=_ref155.precision;return precision});var valuesPromise=waves.utils.getRateHistory(from,to,this._startDate);return Promise.all([precisionPromise,valuesPromise]).then(function(_ref156){var _ref157=_slicedToArray(_ref156,2),precision=_ref157[0],values=_ref157[1];var first=values[0].rate;var last=values[values.length-1].rate;_this388.change=(last-first).toFixed(precision);_this388.changePercent=((last-first)/first*100).toFixed(precision);values=values.map(function(item){return _extends({},item,{rate:+item.rate.toFixed(precision)})});return{values:values}})}},{key:"_onChangeMode",value:function _onChangeMode(){switch(this.chartMode){case"hour":this._startDate=utils.moment().add().hour(-1);break;case"day":this._startDate=utils.moment().add().day(-1);break;case"week":this._startDate=utils.moment().add().day(-7);break;case"month":this._startDate=utils.moment().add().month(-1);break;case"year":this._startDate=utils.moment().add().year(-1);break;default:throw new Error("Wrong chart mode!")}}}]);return Assets}(Base);return new Assets};controller.$inject=["waves","assetsData","$scope","utils","Base","user","modalManager","createPoll"];angular.module("app.wallet.assets").controller("AssetsCtrl",controller)})();(function(){"use strict";var _require54=require("ramda"),path=_require54.path;var ds=require("data-service");var _require55=require("@waves/oracle-data"),STATUS_LIST=_require55.STATUS_LIST;var controller=function controller(){var Asset=function(){function Asset(){_classCallCheck(this,Asset);this.balance=null}_createClass(Asset,[{key:"$postLink",value:function $postLink(){var data=ds.dataManager.getOracleAssetData(this.balance.asset.id);this.isVerified=path(["status"],data)===STATUS_LIST.VERIFIED||this.balance.asset.id==="WAVES";this.isGateway=path(["status"],data)===3}},{key:"isUnpinned",value:function isUnpinned(){return!WavesApp.ALWAYS_PINNED_ASSETS.includes(this.balance.asset.id)}}]);return Asset}();return new Asset};controller.$inject=[];angular.module("app.wallet.assets").component("wAsset",{bindings:{balance:"<",onClick:"&",onUnpinClick:"&"},templateUrl:"modules/wallet/modules/assets/directives/asset/asset.html",controller:controller})})();(function(){"use strict";var factory=function factory(user,decorators){var _dec26,_desc14,_value14,_class45;var AssetsData=(_dec26=decorators.cachable(2),_class45=function(){function AssetsData(){_classCallCheck(this,AssetsData)}_createClass(AssetsData,[{key:"getGraphOptions",value:function getGraphOptions(){return{grid:{x:false,y:false},series:[{dataset:"values",key:"rate",label:"Rate",color:"#5a81ea",type:["line","area"]}],axes:{x:{key:"timestamp",type:"date",ticks:4},y:{ticks:4,padding:{max:4}}}}}},{key:"_loadData",value:function _loadData(){return ds.fetch("/api/assets-total/balance.json").then(function(r){return r.json()}).then(function(data){return data.map(function(item){return{x:new Date(item.x),y:item.y}})})}}]);return AssetsData}(),_applyDecoratedDescriptor(_class45.prototype,"_loadData",[_dec26],Object.getOwnPropertyDescriptor(_class45.prototype,"_loadData"),_class45.prototype),_class45);return new AssetsData};factory.$inject=["user","decorators","waves","utils"];angular.module("app.wallet.assets").factory("assetsData",factory)})();(function(){"use strict";angular.module("app.wallet.leasing",[])})();(function(){"use strict";var controller=function controller(Base,$scope,utils,waves,modalManager,createPoll){var LeasingCtrl=function(_Base114){_inherits(LeasingCtrl,_Base114);_createClass(LeasingCtrl,[{key:"pendingAllLeasing",get:function get(){return!this.pending&&this.allActiveLeasing==null}}]);function LeasingCtrl(){_classCallCheck(this,LeasingCtrl);var _this389=_possibleConstructorReturn(this,(LeasingCtrl.__proto__||Object.getPrototypeOf(LeasingCtrl)).call(this,$scope));_this389.pending=true;_this389.chartOptions={items:{available:{color:"#66bf00",radius:80},leased:{color:"#ffebc0",radius:64},leasedIn:{color:"#bacaf5",radius:75}},center:34,direction:true,startFrom:Math.PI/2};_this389.txList=null;_this389.allActiveLeasing=null;_this389.transactions=[];_this389.nodeListLink=WavesApp.network.nodeList;waves.node.transactions.getActiveLeasingTx().then(function(txList){_this389.allActiveLeasing=txList});createPoll(_this389,_this389._getBalances,_this389._setLeasingData,1e3,{isBalance:true});createPoll(_this389,_this389._getTransactions,_this389._setTxList,3e3,{isBalance:true});_this389.observe(["txList","allActiveLeasing"],_this389._currentLeasingList);return _this389}_createClass(LeasingCtrl,[{key:"startLeasing",value:function startLeasing(){return modalManager.showStartLeasing()}},{key:"_getBalances",value:function _getBalances(){return waves.node.assets.balance(WavesApp.defaultAssets.WAVES)}},{key:"_getTransactions",value:function _getTransactions(){return waves.node.transactions.list(1e4)}},{key:"_setLeasingData",value:function _setLeasingData(_ref158){var leasedOut=_ref158.leasedOut,leasedIn=_ref158.leasedIn,available=_ref158.available;this.available=available;this.leased=leasedOut;this.leasedIn=leasedIn;this.total=available.add(leasedOut);this.chartData=[{id:"available",value:available},{id:"leased",value:leasedOut},{id:"leasedIn",value:leasedIn}];$scope.$digest()}},{key:"_setTxList",value:function _setTxList(txList){var _AVAILABLE_TYPES_HASH;var AVAILABLE_TYPES_HASH=(_AVAILABLE_TYPES_HASH={},_defineProperty(_AVAILABLE_TYPES_HASH,waves.node.transactions.TYPES.LEASE_IN,true),_defineProperty(_AVAILABLE_TYPES_HASH,waves.node.transactions.TYPES.LEASE_OUT,true),_defineProperty(_AVAILABLE_TYPES_HASH,waves.node.transactions.TYPES.CANCEL_LEASING,true),_AVAILABLE_TYPES_HASH);this.txList=txList.filter(function(_ref159){var typeName=_ref159.typeName;return AVAILABLE_TYPES_HASH[typeName]});$scope.$digest()}},{key:"_currentLeasingList",value:function _currentLeasingList(){var txList=this.txList;var allActiveLeasing=this.allActiveLeasing;if(!txList){return null}this.pending=!txList.length&&!allActiveLeasing;if(!allActiveLeasing||!allActiveLeasing.length){this.transactions=txList.slice();return null}var idHash=utils.toHash(txList,"id");var result=txList.slice();allActiveLeasing.forEach(function(tx){if(!idHash[tx.id]){result.push(tx)}});this.transactions=result}}]);return LeasingCtrl}(Base);return new LeasingCtrl};controller.$inject=["Base","$scope","utils","waves","modalManager","createPoll"];angular.module("app.wallet.leasing").controller("LeasingCtrl",controller)})();(function(){"use strict";var controller=function controller(Base,i18n,$attrs,$element){var LeasingBlock=function(_Base115){_inherits(LeasingBlock,_Base115);function LeasingBlock(){_classCallCheck(this,LeasingBlock);var _this390=_possibleConstructorReturn(this,(LeasingBlock.__proto__||Object.getPrototypeOf(LeasingBlock)).call(this));_this390.titleLiteral=$attrs.titleLocale;i18n.translateField(_this390,"titleLiteral","title",i18n.getNs($element));return _this390}return LeasingBlock}(Base);return new LeasingBlock};controller.$inject=["Base","i18n","$attrs","$element"];angular.module("app.wallet.leasing").component("wLeasingBlock",{bindings:{titleLocale:"@"},templateUrl:"modules/wallet/modules/leasing/directives/leasingBlock/leasingBlock.html",transclude:true,controller:controller})})();(function(){"use strict";angular.module("app.wallet.portfolio",[])})();(function(){"use strict";var searchByNameAndId=function searchByNameAndId($scope,key,list){var query=$scope[key];if(!query){return list}return list.filter(function(item){var name=tsUtils.get({item:item},"item.asset.name");var id=tsUtils.get({item:item},"item.asset.id");return String(name).toLowerCase().indexOf(query.toLowerCase())!==-1||String(id)===query})};var ds=require("data-service");var controller=function controller(Base,$scope,waves,utils,modalManager,user,eventManager,createPoll,gatewayService,$state,stService,visibleService){var PortfolioCtrl=function(_Base116){_inherits(PortfolioCtrl,_Base116);function PortfolioCtrl(){_classCallCheck(this,PortfolioCtrl);var _this391=_possibleConstructorReturn(this,(PortfolioCtrl.__proto__||Object.getPrototypeOf(PortfolioCtrl)).call(this,$scope));_this391.mirrorId=user.getSetting("baseAssetId");_this391.mirror=null;_this391.pinned=[];_this391.address=user.address;_this391.spam=[];_this391.details=null;_this391.balanceList=[];_this391.filter=null;_this391.chartStartDate=utils.moment().add().day(-7);_this391.pending=true;waves.node.assets.getAsset(_this391.mirrorId).then(function(mirror){_this391.mirror=mirror;_this391.tableHeaders=[{id:"name",title:{literal:"list.name"},valuePath:"item.asset.name",sort:true,search:searchByNameAndId,placeholder:"portfolio.filter"},{id:"balance",title:{literal:"list.balance"},valuePath:"item.available",sort:true},{id:"inOrders",title:{literal:"list.inOrders"},valuePath:"item.inOrders",sort:true},{id:"mirror",title:{literal:"list.mirror",params:{currency:mirror.displayName}}},{id:"rate",title:{literal:"list.rate",params:{currency:mirror.displayName}}},{id:"change24",title:{literal:"list.change"}},{id:"controls"}];$scope.$digest()});_this391.syncSettings({pinned:"pinnedAssetIdList",spam:"wallet.portfolio.spam",filter:"wallet.portfolio.filter"});_this391.poll=createPoll(_this391,_this391._getPortfolio,"details",1e3,{isBalance:true,$scope:$scope});_this391.poll.ready.then(function(){_this391.pending=false;_this391.observe("details",_this391._onChangeDetails);_this391.observe("filter",_this391._onChangeDetails);_this391._onChangeDetails()});_this391.receive(stService.sort,function(){visibleService.updateSort()});return _this391}_createClass(PortfolioCtrl,[{key:"showAsset",value:function showAsset(asset){modalManager.showAssetInfo(asset)}},{key:"showSend",value:function showSend(asset){return modalManager.showSendAsset({assetId:asset&&asset.id})}},{key:"showReceivePopup",value:function showReceivePopup(asset){return modalManager.showReceiveModal(user,asset)}},{key:"showDeposit",value:function showDeposit(asset){return modalManager.showDepositAsset(user,asset)}},{key:"showSepa",value:function showSepa(asset){return modalManager.showSepaAsset(user,asset)}},{key:"showQR",value:function showQR(){return modalManager.showAddressQrCode(user)}},{key:"showBurn",value:function showBurn(assetId){return modalManager.showBurnModal(assetId)}},{key:"showReissue",value:function showReissue(assetId){return modalManager.showReissueModal(assetId)}},{key:"canShowDex",value:function canShowDex(balance){return balance.isPinned||balance.asset.isMyAsset||balance.asset.id===WavesApp.defaultAssets.WAVES||gatewayService.getPurchasableWithCards()[balance.asset.id]||gatewayService.getCryptocurrencies()[balance.asset.id]||gatewayService.getFiats()[balance.asset.id]}},{key:"openDex",value:function openDex(asset){$state.go("main.dex",this.getSrefParams(asset))}},{key:"getSrefParams",value:function getSrefParams(asset){utils.openDex(asset.id)}},{key:"togglePin",value:function togglePin(asset,state){user.togglePinAsset(asset.id,state);this.poll.restart()}},{key:"toggleSpam",value:function toggleSpam(asset,state){user.toggleSpamAsset(asset.id,state);this.poll.restart()}},{key:"isDepositSupported",value:function isDepositSupported(asset){var isWaves=asset.id===WavesApp.defaultAssets.WAVES;return gatewayService.hasSupportOf(asset,"deposit")||isWaves}},{key:"isSepaSupported",value:function isSepaSupported(asset){return gatewayService.hasSupportOf(asset,"sepa")}},{key:"_onChangeDetails",value:function _onChangeDetails(){var details=this.details;var balanceList=void 0;switch(this.filter){case"active":balanceList=details.active.slice();break;case"pinned":balanceList=details.pinned.slice();break;case"spam":balanceList=details.spam.slice();break;case"my":balanceList=details.my.slice();break;case"verified":balanceList=details.verified.slice();break;default:throw new Error("Wrong filter name!")}this.balanceList=balanceList}},{key:"_getPortfolio",value:function _getPortfolio(){var _this392=this;var remapBalances=function remapBalances(item){var isPinned=_this392._isPinned(item.asset.id);var isSpam=_this392._isSpam(item.asset.id);var isOnScamList=WavesApp.scam[item.asset.id];return Promise.resolve({available:item.available,asset:item.asset,inOrders:item.inOrders,isPinned:isPinned,isSpam:isSpam,isOnScamList:isOnScamList,minSponsoredAssetFee:item.minSponsoredAssetFee,sponsorBalance:item.sponsorBalance})};return Promise.all([waves.node.assets.userBalances().then(function(list){return Promise.all(list.map(remapBalances))})]).then(function(_ref160){var _ref161=_slicedToArray(_ref160,1),activeList=_ref161[0];var spam=[];var my=[];var active=[];var verified=[];activeList.forEach(function(item){var oracleData=ds.dataManager.getOracleAssetData(item.asset.id);if(item.asset.sender===user.address){my.push(item)}if(oracleData&&oracleData.status>0){verified.push(item)}if(item.isOnScamList||item.isSpam){spam.push(item)}else{active.push(item)}});return{active:active,spam:spam,my:my,verified:verified}})}},{key:"_isPinned",value:function _isPinned(assetId){return this.pinned.includes(assetId)}},{key:"_isSpam",value:function _isSpam(assetId){return this.spam.includes(assetId)}}]);return PortfolioCtrl}(Base);return new PortfolioCtrl};controller.$inject=["Base","$scope","waves","utils","modalManager","user","eventManager","createPoll","gatewayService","$state","stService","visibleService"];angular.module("app.wallet.portfolio").controller("PortfolioCtrl",controller)})();(function(){"use strict";var _ASSET_IMAGES_MAP2;var Handlebars=require("handlebars");var _require56=require("@waves/oracle-data"),STATUS_LIST=_require56.STATUS_LIST;var _require57=require("ramda"),path=_require57.path;var ASSET_IMAGES_MAP=(_ASSET_IMAGES_MAP2={},_defineProperty(_ASSET_IMAGES_MAP2,WavesApp.defaultAssets.WAVES,"img/assets/waves.svg"),_defineProperty(_ASSET_IMAGES_MAP2,WavesApp.defaultAssets.BTC,"img/assets/bitcoin.svg"),_ASSET_IMAGES_MAP2);var COLORS_MAP={A:"#39a12c",B:"#6a737b",C:"#e49616",D:"#008ca7",E:"#ff5b38",F:"#ff6a00",G:"#c74124",H:"#00a78e",I:"#b01e53",J:"#e0c61b",K:"#5a81ea",L:"#72b7d2",M:"#a5b5c3",N:"#81c926",O:"#86a3bd",P:"#c1d82f",Q:"#5c84a8",R:"#267e1b",S:"#fbb034",T:"#ff846a",U:"#47c1ff",V:"#00a0af",W:"#85d7c6",X:"#8a7967",Y:"#26c1c9",Z:"#72d28b"};var DEFAULT_COLOR="#96bca0";var TEMPLATE_PATH="modules/wallet/modules/portfolio/directives/portfolioRow/row.hbs";var SELECTORS={AVAILABLE:"js-balance-available",SPONSORED:"js-sponsored-asset",IN_ORDERS:"js-balance-in-orders",BASE_ASSET_BALANCE:"js-balance-in-base-asset",EXCHANGE_RATE:"js-exchange-rate",CHANGE_24:"js-change-24",CHART_CONTAINER:"js-chart-container",BUTTONS:{SEND:"js-button-send",RECEIVE:"js-button-receive",DEX:"js-button-open-in-dex",TOGGLE_SPAM:"js-button-toggle-spam"},ACTION_BUTTONS:{ASSET_INFO:"js-action-button-asset-info",SEND:"js-action-button-send",RECEIVE:"js-action-button-receive",BURN:"js-action-button-burn",REISSUE:"js-action-button-reissue",DEX:"js-action-button-dex",TOGGLE_SPAM:"js-action-button-toggle-spam",SPONSORSHIP_CREATE:"js-action-button-sponsorship_create",SPONSORSHIP_EDIT:"js-action-button-sponsorship_edit",SPONSORSHIP_STOP:"js-action-button-cancel-sponsorship"}};var ds=require("data-service");var PortfolioRow=function(){function PortfolioRow($templateRequest,$element,utils,waves,user,modalManager,$state,ChartFactory,i18n,$scope,gatewayService){var _this393=this;_classCallCheck(this,PortfolioRow);this.ChartFactory=null;this.$state=null;this.$scope=null;this.i18n=null;this.modalManager=null;this.$node=null;this.node=null;this.balance=null;this.utils=null;this.waves=null;this.user=null;this.canShowDex=null;this.gatewayService=null;this._isMyAsset=false;this.changeLanguageHandler=function(){return _this393._onChangeLanguage()};this.ChartFactory=ChartFactory;this.$state=$state;this.$scope=$scope;this.i18n=i18n;this.modalManager=modalManager;this.$node=$element;this.node=$element.get(0);this.utils=utils;this.waves=waves;this.user=user;this.gatewayService=gatewayService;if(!PortfolioRow.templatePromise){PortfolioRow.templatePromise=$templateRequest(TEMPLATE_PATH).then(function(html){return Handlebars.compile(html)})}this.chartOptions={charts:[{axisX:"timestamp",axisY:"rate",lineColor:"rgba(90, 129, 234)",fillColor:"rgba(90, 129, 234, .3)"}]}}_createClass(PortfolioRow,[{key:"$postLink",value:function $postLink(){var _this394=this;this._isWaves=this.balance.asset.id===WavesApp.defaultAssets.WAVES;this._isMyAsset=this.balance.asset.sender===this.user.address;this.canShowDex=this._getCanShowDex();var canStopSponsored=this._getCanStopSponsored();Promise.all([this.waves.node.getFeeList({type:"transfer"}),PortfolioRow.templatePromise]).then(function(_ref162){var _ref163=_slicedToArray(_ref162,2),list=_ref163[0],template=_ref163[1];var balance=_this394.balance;var firstAssetChar=_this394.balance.asset.name.slice(0,1);var canPayFee=list.find(function(item){return item.asset.id===_this394.balance.asset.id})&&!_this394._isWaves;var data=ds.dataManager.getOracleAssetData(_this394.balance.asset.id);var logo=data&&data.logo;var html=template({isVerified:data&&data.status===STATUS_LIST.VERIFIED,isGateway:data&&data.status===3,assetIconPath:logo||ASSET_IMAGES_MAP[_this394.balance.asset.id],firstAssetChar:firstAssetChar,canBurn:!_this394._isWaves,canReissue:_this394._isMyAsset&&_this394.balance.asset.reissuable,charColor:COLORS_MAP[firstAssetChar.toUpperCase()]||DEFAULT_COLOR,assetName:_this394.balance.asset.name,SELECTORS:_extends({},SELECTORS),canShowDex:_this394.canShowDex,canShowToggleSpam:_this394._canShowToggleSpam(),canSponsored:_this394._isMyAsset,canPayFee:canPayFee,canStopSponsored:canStopSponsored,isSpam:_this394.balance.isOnScamList});_this394.node.innerHTML=html;Object.defineProperty(_this394,"balance",{get:function get(){return balance},set:function set(value){if(_this394.balance.asset.id!==value.asset.id||!_this394.balance.available.getTokens().eq(value.available.getTokens())||!_this394.balance.inOrders.getTokens().eq(value.inOrders.getTokens())){balance=value;_this394._onUpdateBalance()}_this394._initSponsorShips()}});_this394._onUpdateBalance();_this394._initSponsorShips();_this394._setHandlers();_this394.changeLanguageHandler()})}},{key:"$onDestroy",value:function $onDestroy(){i18next.off("languageChanged",this.changeLanguageHandler);this.$node.off()}},{key:"_onChangeLanguage",value:function _onChangeLanguage(){var _this395=this;var nodeList=this.node.querySelectorAll("[w-i18n-literal]");Array.prototype.forEach.call(nodeList,function(element){element.innerHTML=_this395.i18n.translate(element.getAttribute("w-i18n-literal"),"app.wallet.portfolio")})}},{key:"_getCanStopSponsored",value:function _getCanStopSponsored(){var _this396=this;return this._isMyAsset&&ds.utils.getTransferFeeList().find(function(item){return item.asset.id===_this396.balance.asset.id})}},{key:"_getCanShowDex",value:function _getCanShowDex(){var statusPath=["assets",this.balance.asset.id,"status"];return this.balance.isPinned||this._isMyAsset||this.balance.asset.isMyAsset||this.balance.asset.id===WavesApp.defaultAssets.WAVES||this.gatewayService.getPurchasableWithCards()[this.balance.asset.id]||this.gatewayService.getCryptocurrencies()[this.balance.asset.id]||this.gatewayService.getFiats()[this.balance.asset.id]||path(statusPath,ds.dataManager.getOracleData())===STATUS_LIST.VERIFIED}},{key:"_onUpdateBalance",value:function _onUpdateBalance(){var _this397=this;this._updateBalances();this._initSpamState();var balance=this.balance;var baseAssetId=this.user.getSetting("baseAssetId");if(baseAssetId===balance.asset.id){var change24Node=this.node.querySelector("."+SELECTORS.CHANGE_24);change24Node.innerHTML="";change24Node.classList.remove("minus");change24Node.classList.remove("plus");this.node.querySelector("."+SELECTORS.EXCHANGE_RATE).innerHTML="";this.node.querySelector("."+SELECTORS.BASE_ASSET_BALANCE).innerHTML="";return null}this.waves.utils.getChange(balance.asset.id,baseAssetId).then(function(change24){var change24Node=_this397.node.querySelector("."+SELECTORS.CHANGE_24);var isMoreZero=typeof change24==="number"?change24>0:change24.gt(0);var isLessZero=typeof change24==="number"?change24<0:change24.lt(0);change24Node.classList.toggle("minus",isLessZero);change24Node.classList.toggle("plus",isMoreZero);change24Node.innerHTML=change24.toFixed(2)+"%"});this.waves.utils.getRate(balance.asset.id,baseAssetId).then(function(rate){var baseAssetBalance=balance.available.getTokens().times(rate).toFormat(2);_this397.node.querySelector("."+SELECTORS.EXCHANGE_RATE).innerHTML=rate.toFixed(2);_this397.node.querySelector("."+SELECTORS.BASE_ASSET_BALANCE).innerHTML=baseAssetBalance});var startDate=this.utils.moment().add().day(-7);this.waves.utils.getRateHistory(balance.asset.id,baseAssetId,startDate).then(function(values){_this397.chart=new _this397.ChartFactory(_this397.$node.find("."+SELECTORS.CHART_CONTAINER),_this397.chartOptions,values)})}},{key:"_initActions",value:function _initActions(){var _this398=this;var expanded=false;var $wrapper=this.$node.find(".actions-wrapper");var toggleExpanded=function toggleExpanded(){expanded=!expanded;var conteiner=_this398.$node.find(".actions-container");var conteinerNode=conteiner.get(0);conteiner.toggleClass("expanded",expanded);if(expanded){$(document).on("mousedown",_handler);var dropDownPosition=conteinerNode.getBoundingClientRect();var bodyPosition=document.body.getBoundingClientRect();conteinerNode.classList.toggle("to-up",dropDownPosition.bottom>bodyPosition.bottom);return}$(document).off("mousedown",_handler);conteinerNode.classList.remove("to-up")};var _handler=function _handler(e){if($(e.target).closest($wrapper).length===0){toggleExpanded()}};this.$node.find(".click-area").on("click",function(){toggleExpanded()});this.$scope.$on("$destroy",function(){$(document).off("mousedown",_handler)})}},{key:"_setHandlers",value:function _setHandlers(){var _this399=this;this._initActions();i18next.on("languageChanged",this.changeLanguageHandler);this.$node.on("click","."+SELECTORS.BUTTONS.SEND,function(){_this399.modalManager.showSendAsset({assetId:_this399.balance.asset.id})});this.$node.on("click","."+SELECTORS.BUTTONS.DEX,function(){_this399.$state.go("main.dex",_this399._getSrefParams(_this399.balance.asset))});this.$node.on("click","."+SELECTORS.BUTTONS.RECEIVE,function(){_this399.modalManager.showReceiveModal(_this399.user,_this399.balance.asset)});this.$node.on("click","."+SELECTORS.BUTTONS.TOGGLE_SPAM,function(){_this399.user.toggleSpamAsset(_this399.balance.asset.id);_this399._initSpamState()});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.ASSET_INFO,function(){_this399.modalManager.showAssetInfo(_this399.balance.asset)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.SEND,function(){_this399.modalManager.showSendAsset({assetId:_this399.balance.asset.id})});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.RECEIVE,function(){_this399.modalManager.showReceiveModal(_this399.user,_this399.balance.asset)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.BURN,function(){_this399.modalManager.showBurnModal(_this399.balance.asset.id)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.REISSUE,function(){_this399.modalManager.showReissueModal(_this399.balance.asset.id)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.DEX,function(){_this399.$state.go("main.dex",_this399._getSrefParams(_this399.balance.asset))});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.SPONSORSHIP_CREATE,function(){_this399.modalManager.showSponsorshipModal(_this399.balance.asset.id)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.SPONSORSHIP_EDIT,function(){_this399.modalManager.showSponsorshipModal(_this399.balance.asset.id,true)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.SPONSORSHIP_STOP,function(){_this399.modalManager.showSponsorshipStopModal(_this399.balance.asset.id)});this.$node.on("click","."+SELECTORS.ACTION_BUTTONS.TOGGLE_SPAM,function(){_this399.user.toggleSpamAsset(_this399.balance.asset.id);_this399._initSpamState()})}},{key:"_initSpamState",value:function _initSpamState(){if(!this._canShowToggleSpam()){return null}var spam=this.user.getSetting("wallet.portfolio.spam")||[];var isSpam=spam.includes(this.balance.asset.id);var elements=[this.node.querySelector("."+SELECTORS.BUTTONS.TOGGLE_SPAM),this.node.querySelector("."+SELECTORS.ACTION_BUTTONS.TOGGLE_SPAM)];elements.forEach(function(toggleSpam){toggleSpam.classList.toggle("icon-hide",!isSpam);toggleSpam.classList.toggle("icon-show",isSpam)})}},{key:"_initSponsorShips",value:function _initSponsorShips(list){var _this400=this;var canStopSponsored=!!this._getCanStopSponsored();var canSponsored=!!this._isMyAsset;var btnCreate=this.node.querySelector("."+SELECTORS.ACTION_BUTTONS.SPONSORSHIP_CREATE);var btnEdit=this.node.querySelector("."+SELECTORS.ACTION_BUTTONS.SPONSORSHIP_EDIT);var btnStop=this.node.querySelector("."+SELECTORS.ACTION_BUTTONS.SPONSORSHIP_STOP);var icon=this.node.querySelector("."+SELECTORS.SPONSORED);btnCreate.classList.toggle("hidden",!(canSponsored&&!canStopSponsored));btnEdit.classList.toggle("hidden",!(canSponsored&&canStopSponsored));btnStop.classList.toggle("hidden",!canStopSponsored);Promise.resolve(list||this.waves.node.getFeeList({type:"transfer",address:this.user.address})).then(function(list){var canPayFee=list.find(function(item){return item.asset.id===_this400.balance.asset.id})&&!_this400._isWaves;icon.classList.toggle("sponsored-asset",!!canPayFee)})}},{key:"_getSrefParams",value:function _getSrefParams(asset){this.utils.openDex(asset.id)}},{key:"_updateBalances",value:function _updateBalances(){var asset=this.balance.asset;var available=this.balance.available.getTokens();var inOrders=this.balance.inOrders.getTokens();var availableHtml=this.utils.getNiceNumberTemplate(available,asset.precision,true);var inOrdersHtml=this.utils.getNiceNumberTemplate(inOrders,asset.precision);this.node.querySelector("."+SELECTORS.AVAILABLE).innerHTML=availableHtml;this.node.querySelector("."+SELECTORS.IN_ORDERS).innerHTML=inOrdersHtml}},{key:"_canShowToggleSpam",value:function _canShowToggleSpam(){if(this._isMyAsset){return false}return!Object.values(WavesApp.defaultAssets).includes(this.balance.asset.id)&&!WavesApp.scam[this.balance.asset.id]}}]);return PortfolioRow}();PortfolioRow.$inject=["$templateRequest","$element","utils","waves","user","modalManager","$state","ChartFactory","i18n","$scope","gatewayService"];angular.module("app.wallet.portfolio").component("wPortfolioRow",{controller:PortfolioRow,bindings:{balance:"<",canShowDex:"<"},scope:false})})();(function(){"use strict";angular.module("app.wallet.transactions",[])})();(function(){"use strict";var controller=function controller(Base,$scope,transactionsCsvGen,waves,createPoll){var TransactionsCtrl=function(_Base117){_inherits(TransactionsCtrl,_Base117);function TransactionsCtrl(){_classCallCheck(this,TransactionsCtrl);var _this401=_possibleConstructorReturn(this,(TransactionsCtrl.__proto__||Object.getPrototypeOf(TransactionsCtrl)).call(this,$scope));_this401.transactions=[];_this401.pending=true;_this401.filter=null;_this401.txList=[];_this401.limit=100;_this401.syncSettings({filter:"wallet.transactions.filter"});var poll=createPoll(_this401,_this401._getTxList,_this401._setTxList,4e3,{isBalance:true});_this401.observe(["txList","filter"],_this401._applyTransactionList);_this401.observe("limit",function(){return poll.restart()});return _this401}_createClass(TransactionsCtrl,[{key:"exportTransactions",value:function exportTransactions(){analytics.push("TransactionsPage","TransactionsPage.CSV."+WavesApp.type,"download");transactionsCsvGen.generate(this.transactions)}},{key:"_getTxList",value:function _getTxList(){return waves.node.transactions.list(this.limit)}},{key:"_applyTransactionList",value:function _applyTransactionList(){var filter=this.filter;var list=this.txList;var availableTypes=filter.split(",").map(function(type){return type.trim()}).reduce(function(result,type){result[type]=true;return result},Object.create(null));if(filter==="all"){this.transactions=list.slice()}else{this.transactions=list.filter(function(_ref164){var typeName=_ref164.typeName;return availableTypes[typeName]})}}},{key:"_setTxList",value:function _setTxList(transactions){this.pending=false;this.txList=transactions;$scope.$digest()}}]);return TransactionsCtrl}(Base);return new TransactionsCtrl};controller.$inject=["Base","$scope","transactionsCsvGen","waves","createPoll"];angular.module("app.wallet.transactions").controller("TransactionsCtrl",controller)})();(function(){"use strict";var factory=function factory(i18n,utils){var Papa=require("papaparse");var HEADERS=[{name:"csv.date",id:"timestamp"},{name:"csv.id",id:"id"},{name:"csv.type",id:"typeName"},{name:"csv.transactionType",id:"type"},{name:"csv.price.ticker",id:"priceTicker"},{name:"csv.price.name",id:"priceName"},{name:"csv.price.value",id:"priceValue"},{name:"csv.price.id",id:"priceId"},{name:"csv.amount.ticker",id:"amountTicker"},{name:"csv.amount.name",id:"amountName"},{name:"csv.amount.value",id:"amountValue"},{name:"csv.amount.id",id:"amountId"},{name:"csv.fee.ticker",id:"feeTicker"},{name:"csv.fee.name",id:"feeName"},{name:"csv.fee.value",id:"feeValue"},{name:"csv.fee.id",id:"feeId"},{name:"csv.sender",id:"sender"},{name:"csv.recipient",id:"recipient"},{name:"csv.attachment",id:"attachment"},{name:"csv.height",id:"height"},{name:"csv.alias",id:"alias"},{name:"csv.description",id:"description"},{name:"csv.name",id:"name"},{name:"csv.reissuable.name",id:"reissuable"},{name:"csv.precision",id:"precision"}];var NS="app.wallet.transactions";var TransactionsCsvGen=function(){function TransactionsCsvGen(){_classCallCheck(this,TransactionsCsvGen)}_createClass(TransactionsCsvGen,[{key:"generate",value:function generate(transactionList){var fileName="transactions.csv";var fields=HEADERS.map(function(item){return i18n.translate(item.name,NS)});var data=transactionList.map(function(tx){return HEADERS.map(function(header){var id=header.id;var value=tx[id];try{switch(id){case"timestamp":return value&&utils.moment(value).format("DD.MM.YYYY hh:mm:ss")||value;case"reissuable":return value!=null&&i18n.translate("csv.reissuable."+value,NS)||value;case"priceTicker":return tx.price&&tx.price.asset.ticker||"";case"priceName":return tx.price&&tx.price.asset.name||"";case"priceValue":return tx.price&&tx.price.toFormat()||"";case"priceId":return tx.price&&tx.price.asset.id||"";case"amountTicker":return tx.amount&&tx.amount.asset.ticker||"";case"amountName":return tx.amount&&tx.amount.asset.name||"";case"amountValue":return tx.amount&&tx.amount.toFormat()||"";case"amountId":return tx.amount&&tx.amount.asset.id||"";case"feeTicker":return tx.fee&&tx.fee.asset.ticker||"";case"feeName":return tx.fee&&tx.fee.asset.name||"";case"feeValue":return tx.fee&&tx.fee.toFormat()||"";case"feeId":return tx.fee&&tx.fee.asset.id||"";default:return value==null?"":String(value)}}catch(e){return""}})});var csv=Papa.unparse({fields:fields,data:data});if(WavesApp.isDesktop()){transfer("download",{fileContent:csv,fileName:fileName})}else{TransactionsCsvGen._download(csv,fileName)}}}],[{key:"_download",value:function _download(csv,name){if(window.navigator&&typeof window.navigator.msSaveOrOpenBlob==="function"){this._downloadInMsEdge(csv,name)}else{var content=encodeURI("data:text/csv;charset=utf-8,"+csv);var link=document.createElement("a");link.setAttribute("href",content);link.setAttribute("download",name);link.setAttribute("target","_blank");link.style.position="absolute";link.style.opacity="0";document.body.appendChild(link);link.click();requestAnimationFrame(function(){document.body.removeChild(link)})}}},{key:"_downloadInMsEdge",value:function _downloadInMsEdge(csv,name){var blob=new Blob([csv],{type:"text/csv"});window.navigator.msSaveOrOpenBlob(blob,name)}}]);return TransactionsCsvGen}();return new TransactionsCsvGen};factory.$inject=["i18n","utils"];angular.module("app.wallet.transactions").factory("transactionsCsvGen",factory)})();(function(){"use strict";angular.module("app.welcome",[])})();(function(){"use strict";var PATH="modules/welcome/templates";var controller=function controller(Base,$scope,$state,user,modalManager){var ds=require("data-service");var WelcomeCtrl=function(_Base118){_inherits(WelcomeCtrl,_Base118);_createClass(WelcomeCtrl,[{key:"user",get:function get(){return this.userList[this._activeUserIndex]}},{key:"encryptedSeed",get:function get(){return this.user.encryptedSeed}}]);function WelcomeCtrl(){_classCallCheck(this,WelcomeCtrl);var _this402=_possibleConstructorReturn(this,(WelcomeCtrl.__proto__||Object.getPrototypeOf(WelcomeCtrl)).call(this,$scope));_this402.networkError=false;_this402.password="";_this402.loginForm=null;_this402.activeUserAddress=null;_this402.needPassword=true;_this402._activeUserIndex=null;_this402.observe("activeUserAddress",_this402._calculateActiveIndex);_this402.observe("password",_this402._updatePassword);_this402._initUserList();return _this402}_createClass(WelcomeCtrl,[{key:"showTutorialModals",value:function showTutorialModals(){return modalManager.showTutorialModals()}},{key:"_updatePassword",value:function _updatePassword(){if(this.password){this.showPasswordError=false;this.networkError=false}}},{key:"login",value:function login(){var _this403=this;try{this.networkError=false;this.showPasswordError=false;var userSettings=user.getSettingsByUser(this.user);var activeUser=_extends({},this.user,{password:this.password,settings:userSettings});var api=ds.signature.getDefaultSignatureApi(activeUser);var adapterAvailablePromise=api.isAvailable();var canLoginPromise=void 0;if(this._isSeedAdapter(api)){canLoginPromise=adapterAvailablePromise.then(function(){return api.getAddress()}).then(function(address){return address===activeUser.address?true:Promise.resolve("Wrong address!")})}else{canLoginPromise=modalManager.showSignByDevice({promise:adapterAvailablePromise,mode:"connect-"+api.type,userType:api.type}).then(function(){return adapterAvailablePromise})}return canLoginPromise.then(function(){return user.login({api:api,userType:api.type,password:_this403.password,address:activeUser.address})},function(){if(!_this403._isSeedAdapter(api)){var errorData={error:"load-user-error",userType:api.type,address:activeUser.address};return modalManager.showSignDeviceError(errorData).catch(function(){return Promise.resolve()})}else{_this403._showPasswordError()}})}catch(e){this._showPasswordError()}}},{key:"removeUser",value:function removeUser(address){var _this404=this;var user=this.userList.find(function(user){return user.address===address});modalManager.showConfirmDeleteUser(user).then(function(){_this404._deleteUser(address)})}},{key:"_isSeedAdapter",value:function _isSeedAdapter(api){return api.type&&api.type==="seed"}},{key:"_showPasswordError",value:function _showPasswordError(){this.password="";this.showPasswordError=true;this.networkError=this.user.networkError}},{key:"_deleteUser",value:function _deleteUser(address){user.removeUserByAddress(address);this.userList=this.userList.filter(function(user){return user.address!==address});this._updateActiveUserAddress()}},{key:"_initUserList",value:function _initUserList(){var _this405=this;user.getUserList().then(function(list){_this405.userList=list;_this405.pendingRestore=false;_this405._updateActiveUserAddress();setTimeout(function(){$scope.$apply()},100)})}},{key:"_updateActiveUserAddress",value:function _updateActiveUserAddress(){if(this.userList.length){this.activeUserAddress=this.userList[0].address;this.needPassword=!this.userList[0].userType||this.userList[0].userType==="seed"}else{this.activeUserAddress=null;this.needPassword=true}this._updatePageUrl()}},{key:"_updatePageUrl",value:function _updatePageUrl(){if(this.userList.length){this.pageUrl=PATH+"/userList.html"}else{this.pageUrl=PATH+"/welcomeNewUser.html"}}},{key:"_calculateActiveIndex",value:function _calculateActiveIndex(){var activeAddress=this.activeUserAddress;var index=null;if(!activeAddress){return null}this.userList.some(function(_ref165,i){var address=_ref165.address;if(address===activeAddress){index=i;return true}return false});this._activeUserIndex=index;this.needPassword=!this.userList[index].userType||this.userList[index].userType==="seed"}}]);return WelcomeCtrl}(Base);return new WelcomeCtrl};controller.$inject=["Base","$scope","$state","user","modalManager"];angular.module("app.welcome").controller("WelcomeCtrl",controller)})()})();
angular.module("app.templates").run(["$templateCache",function($templateCache){$templateCache.put("modules/app/templates/main.html",'<div class="main-content"><w-header></w-header><w-left-menu></w-left-menu><div class="content"><ui-view name="mainContent"></ui-view></div></div>');$templateCache.put("modules/create/templates/backupSeed.html",'<div class="backup-seed"><a class="waves-logo" ui-sref="welcome"></a><div class="headline-1"><span w-i18n="backupSeed.saveSecret"></span></div><div class="body-2 disabled-600"><span w-i18n="backupSeed.warn"></span> <a ng-click="$ctrl.next(-1)" w-i18n="backupSeed.back"></a></div><div class="body-2 basic-900"><span w-i18n="backupSeed.writeSeed"></span> <span>&nbsp;<span w-i18n="backupSeed.or"></span>&nbsp;<a w-copy="::$ctrl.seed" w-i18n="backupSeed.copySeed"></a></span></div><w-seed-read type="read" seed="{{::$ctrl.seed}}" class="no-user-select"></w-seed-read><div class="body-2 basic-900"><span w-i18n="backupSeed.needConfirm"></span></div><div class="margin-4"><w-button class="submit big long" on-click="$ctrl.next()"><span w-i18n="backupSeed.ok"></span></w-button></div></div>');$templateCache.put("modules/create/templates/confirmBackup.html",'<div class="confirm-backup"><a class="waves-logo" ui-sref="welcome"></a><div class="headline-1"><span w-i18n="confirmBackup.confirm"></span></div><div class="body-2 disabled-600 description"><span w-i18n="confirmBackup.description"></span> <a ng-click="$ctrl.next(-1)" w-i18n="confirmBackup.back"></a></div><w-seed-write class="margin-4" on-fulfilled="$ctrl.onSeedConfirmFulfilled(isValid)" on-touch="$ctrl.seedOnTouch()" seed="{{::$ctrl.seed}}"></w-seed-write><div class="body-2 basic-900"><span w-i18n="confirmBackup.enterCorrect"></span></div><w-seed-read type="random" class="margin-4" seed="{{::$ctrl.seed}}"></w-seed-read><div class="error-500 seed-error margin-3" ng-if="$ctrl.seedConfirmWasFilled && !$ctrl.seedIsValid" w-i18n="confirmBackup.error"></div><div class="margin-2"><w-button class="submit big long" disabled="!$ctrl.seedIsValid" on-click="$ctrl.create()"><span w-i18n="confirmBackup.ok"></span></w-button></div><div class="or margin-2"><span w-i18n="noBackupNoMoney.or"></span></div><div class="body-2 margin-2"><a class="submit-400" ng-click="$ctrl.clearSeedConfirm()" w-i18n="confirmBackup.clear"></a> <span class="basic-900" w-i18n="confirmBackup.again"></span></div></div>');$templateCache.put("modules/create/templates/create.html",'<i class="icon-information"></i> <span ng-click="$ctrl.showTutorialModals()" w-i18n-ns="app.welcome" w-i18n="infoTooltip" class="tooltip"></span><w-change-language></w-change-language><ng-include w-i18n-ns="app.create" src="$ctrl.getStepUrl()"></ng-include>');$templateCache.put("modules/create/templates/createAccount.html",'<div class="create-account"><a class="waves-logo" ui-sref="welcome"></a><div class="text-center"><div class="headline-1"><span w-i18n="createAccount.createNewAccount"></span></div><div class="body-2 disabled-600"><a ui-sref="welcome"><span w-i18n="createAccount.signIn"></span> </a><span w-i18n="createAccount.toWalet"></span> <a ui-sref="restore"><span w-i18n="createAccount.restore"></span> </a><span w-i18n="createAccount.from"></span></div><hr></div><div class="body-2"><span w-i18n="createAccount.choose"></span></div><div class="footnote-1 disabled-500"><span w-i18n="createAccount.avatarUnique"></span></div><div class="avatars-list"><div class="avatar-wrapper" ng-repeat="seed in $ctrl.seedList track by seed.address" ng-class="{active: seed.active}" ng-click="$ctrl.setActiveSeed(seed)"><w-avatar size="49" address="seed.address"></w-avatar></div></div><div class="body-2 basic-900" w-i18n="createAccount.address"></div><div class="input-like margin-2">{{$ctrl.address}}</div><div class="margin-3 flex"><w-checkbox-submit ng-model="$ctrl.saveUserData" id="save-user-data"></w-checkbox-submit><label for="save-user-data" class="footnote-1 basic-500"><span w-i18n="createAccount.saveUserData"></span></label></div><div class="margin-3"><w-button on-click="$ctrl.next($ctrl.stepIndex + $ctrl.saveUserData ? 1 : 2)" class="submit long big"><span w-i18n="button.continue"></span></w-button></div>\x3c!--TODO #wrap-in-component--\x3e<div class="text-center"><div class="or margin-2"><span w-i18n="noBackupNoMoney.or"></span></div><div class="text-center body-2 flex-column-center-min margin-2"><a ui-sref="import"><span w-i18n="createAccount.import"></span></a></div></div></div>');$templateCache.put("modules/create/templates/createAccountData.html",'<div class="create-account"><a class="waves-logo" ui-sref="welcome"></a><div class="text-center"><div class="headline-1"><span w-i18n="createAccount.protectYourAccount"></span></div><div class="body-2 disabled-600"><span w-i18n="createAccount.protect"></span> <a ng-click="$ctrl.next(-1)" w-i18n="backupSeed.back"></a></div></div><hr><w-password class="margin-2" name="$ctrl.name" password="$ctrl.password" on-submit="$ctrl.next()"><span w-i18n="button.continue"></span></w-password>\x3c!--TODO #wrap-in-component--\x3e<div class="or margin-2"><span w-i18n="noBackupNoMoney.or"></span></div><div class="text-center body-2 flex-column-center-min margin-2"><a ui-sref="welcome" w-i18n="createAccount.signIn"></a> <span w-i18n="createAccount.tosaved"></span></div></div>');$templateCache.put("modules/create/templates/noBackupNoMoney.html",'<div class="no-backup-no-money"><a class="waves-logo" ui-sref="welcome"></a><div class="icon"></div><div class="headline-1"><span w-i18n="noBackupNoMoney.title"></span></div><div class="body-2 disabled-600"><span w-i18n="noBackupNoMoney.description"></span></div><w-button class="submit big" on-click="$ctrl.next()"><span w-i18n="noBackupNoMoney.backup"></span></w-button><div class="or"><span w-i18n="noBackupNoMoney.or"></span></div><div class="margin-2"><a class="body-2" ng-click="$ctrl.createWithoutBackup()"><span w-i18n="noBackupNoMoney.skip"></span></a></div></div>');$templateCache.put("modules/create/templates/noBackupNoMoney.modal.html",'<md-dialog w-i18n-ns="app.create" class="no-backup-no-money-modal" aria-label="modal"><div><div class="icon"></div><div class="headline-1"><span w-i18n="noBackupNoMoney.modal.title"></span></div><div class="body-2 disabled-600"><div class="margin-1"><span w-i18n="noBackupNoMoney.modal.descriptionP1"></span></div><div class="margin-1"><span w-i18n="noBackupNoMoney.modal.descriptionP2"></span></div><div><span w-i18n="noBackupNoMoney.modal.descriptionP3"></span></div></div><w-button class="submit big" w-modal-hide><span w-i18n="noBackupNoMoney.modal.ok"></span></w-button></div></md-dialog>');$templateCache.put("modules/desktop/templates/desktop.html",'<div class="desktop-page" w-i18n-ns="app.desktop"><div class="desktop-page__controls"><i class="icon-information"></i> <span ng-click="$ctrl.showTutorialModals()" w-i18n-ns="app.welcome" w-i18n="infoTooltip" class="tooltip"></span><w-change-language></w-change-language></div><div class="desktop-page__waves-logo waves-logo"></div><div class="desktop-page__icon margin-3"></div><h3 class="desktop-page__text-center desktop-page__title basic-700 margin-2" w-i18n="title"></h3><div class="desktop-page__text-center desktop-page__message body-2 basic-500 margin-3" w-i18n="message"></div><w-button on-click="$ctrl.openMainPage()" class="big submit margin-4 headline-2 desktop-page__button"><span w-i18n="back"></span></w-button><div class="text-center basic-500"><w-checkbox-submit id="openLinkViaDesktop" ng-model="$ctrl.openLinkViaDesktop"></w-checkbox-submit><label for="openLinkViaDesktop" w-i18n-ns="app.welcome" w-i18n="openViaDesktop"></label></div></div>');$templateCache.put("modules/dex/templates/dex.html",'<div class="dex-wrapper" w-i18n-ns="app.dex"><w-layout ng-if="$ctrl.ready"><w-dex-block block="watchlist"><w-dex-watchlist></w-dex-watchlist></w-dex-block><w-dex-block block="candlechart"><w-dex-candle-chart></w-dex-candle-chart></w-dex-block><w-dex-block block="orderbook" title-name="directives.orderBook.title"><w-dex-order-book></w-dex-order-book></w-dex-block><w-dex-block block="tradevolume" can-collapse="true" title-name="directives.marketDepth"><w-dex-trade-graph></w-dex-trade-graph></w-dex-block><w-dex-block block="tradehistory"><w-tabs ng-model="$ctrl.tab"><w-tab title-name="::\'tabs.title.openOrders\'" id="::\'myOpenOrders\'"><w-dex-my-orders></w-dex-my-orders></w-tab><w-tab title-name="::\'tabs.title.myTradeHistory\'" id="::\'myTradeHistory\'"><w-dex-trade-history is-my="::true"></w-dex-trade-history></w-tab><w-tab title-name="::\'tabs.title.tradeHistory\'" id="::\'tradeHistory\'"><w-dex-trade-history is-my="::false"></w-dex-trade-history></w-tab><w-tab title-name="::\'tabs.title.myBalance\'" id="::\'myBalance\'"><w-dex-my-balance></w-dex-my-balance></w-tab></w-tabs></w-dex-block><w-dex-block block="createorder"><w-create-order></w-create-order></w-dex-block></w-layout></div>');$templateCache.put("modules/import/templates/import.html",'<div class="waves-logo"></div><w-change-language></w-change-language><div w-i18n-ns="app.import" class="import-content"><div class="headline-1 text-center" w-i18n="importAccount"></div><div class="body-2 text-center margin-5 basic-500" w-i18n="importAccountInfo"></div><div class="import-modal__blocks-wrapper text-center"><div class="import-modal__block" ui-sref="restore"><div class="import-modal__icon-beta"></div><div class="body-2 basic-700" w-i18n="wavesSeedClient"></div><div class="caption-1 basic-500 margin-2" w-i18n="wavesSeedClientDescription"></div></div>\x3c!--<div class="import-modal__block" ng-click="$ctrl.importFromOld()">--\x3e\x3c!--<div class="import-modal__icon-old"></div>--\x3e\x3c!--<div class="body-2 basic-700" w-i18n="wavesLiteClient"></div>--\x3e\x3c!--<div class="caption-1 basic-500 margin-2" w-i18n="wavesLiteClientDescription"></div>--\x3e\x3c!--</div>--\x3e\x3c!--<div ng-if="isDesktop" class="import-modal__block" ui-sref="ledger">--\x3e\x3c!--<div class="import-modal__icon-ledger"></div>--\x3e\x3c!--<div class="body-2 basic-700" w-i18n="LedgerClient"></div>--\x3e\x3c!--<div class="caption-1 basic-500 margin-2" w-i18n="ledgerDescription"></div>--\x3e\x3c!--</div>--\x3e\x3c!--<w-web-only ng-if="isNotPhone" w-web-only-class="import-modal__block" ui-sref="keeper">--\x3e\x3c!--<div class="import-modal__icon-keeper"></div>--\x3e\x3c!--<div class="body-2 basic-700" w-i18n="KeeperClient"></div>--\x3e\x3c!--<div class="caption-1 basic-500 margin-2" w-i18n="keeperDescription"></div>--\x3e\x3c!--</w-web-only>--\x3e</div><div class="import-footer"><div class="or margin-2 margin-top-4" w-i18n="or"></div><div class="center"><a ui-sref="welcome" w-i18n="back"></a></div></div></div>');$templateCache.put("modules/keeper/templates/keeper.html",'<div w-i18n-ns="app.utils" class="import-content"><w-change-language></w-change-language><div class="center"><a class="waves-logo" ui-sref="welcome"></a><div ng-if="$ctrl.isInit && !$ctrl.error" class="headline-1 margin-4" w-i18n="keeperForm.heading"></div></div><div class="center margin-2"><div ng-if="$ctrl.noKeeper"><i class="keeper-icon margin-3 block"></i><h3 class="basic-700" w-i18n="keeperForm.error.notInstalledHeader"></h3><div class="basic-500 footnote-1" w-i18n="keeperForm.error.notInstalledDescription"></div><a class="fake-button half margin-top-4" href="https://chrome.google.com/webstore/detail/waves-keeper/lpilbniiabackdjcionkobglmddfbcjo?hl"><span w-i18n="keeperForm.error.install" class="fake-button-content big long submit"></span></a><div class="or margin-top-4" w-i18n="keeperForm.or"></div><a ui-sref="import" class="block margin-top-2" w-i18n="keeperForm.back"></a></div><div class="text-center" ng-if="$ctrl.noKeeperAccounts || $ctrl.noKeeperPermission"><i class="error-icon margin-3 block"></i><h3 class="basic-700" w-i18n="keeperForm.error.hasNoUsersHeader"></h3><div class="basic-500"><span w-i18n="keeperForm.error.hasNoUsersDescription"></span> <a ui-sref="import" class="inline-link" w-i18n="keeperForm.back"></a></div></div><div class="text-center" ng-if="$ctrl.lockedKeeper"><i class="error-icon margin-3 block"></i><h3 class="basic-700" w-i18n="keeperForm.error.hasLockedKeeperHeader"></h3><div class="basic-500"><span w-i18n="keeperForm.error.hasLockedKeeperDescription"></span> <a ui-sref="import" class="inline-link" w-i18n="keeperForm.back"></a></div></div><div class="text-center" ng-if="$ctrl.incorrectKeeperNetwork"><i class="error-icon margin-3 block"></i><h3 class="basic-700" w-i18n="keeperForm.error.networkHeader"></h3><div class="basic-500"><span w-i18n="keeperForm.error.networkDescription"></span> <a ui-sref="import" class="inline-link" w-i18n="keeperForm.back"></a></div></div></div><div class="import-wrapper margin-3" ng-if="$ctrl.isInit && !$ctrl.error"><div class="body-2 basic-900" w-i18n="keeperForm.address"></div><div class="input-like address basic-900 mobile-caption-2 flex margin-2"><w-avatar address="$ctrl.selectedUser.address" size="30" type="keeper" class="margin-right-1"></w-avatar><div>{{$ctrl.selectedUser.address}}</div></div><div class="margin-2"><div class="body-2 basic-900" w-i18n="keeperForm.name"></div><w-input w-autofocus class="big no-validate no-icon flex" type="text" maxlength="20" ng-model="$ctrl.selectedUser.name"></w-input></div><div class="flex margin-2"><w-checkbox-submit ng-model="$ctrl.saveUserData" id="save-user-data"></w-checkbox-submit><label for="save-user-data" class="footnote-1 basic-500"><span w-i18n="keeperForm.saveUserData"></span></label></div><div class="margin-3 margin-top-3"><w-button class="submit big long" on-click="$ctrl.login()"><span w-i18n="keeperForm.login"></span></w-button></div><div class="or margin-2"><span w-i18n="keeperForm.or"></span></div><div class="text-center margin-2"><a w-i18n="keeperForm.back" ui-sref="import"></a></div></div></div>');$templateCache.put("modules/ledger/templates/ledger.html",'<div w-i18n-ns="app.ledger" class="import-content"><w-change-language></w-change-language><div class="waves-logo"></div><div class="loader-error-wrapper" ng-if="$ctrl.error"><div class="sign-error-icon ledger-icons"></div><h3 class="text-center basic-700" w-i18n="ledger.connectionError"></h3><div class="title-wrapper margin-4 body-2 basic-500"><div class="text-center basic-500"><span w-i18n="ledger.connectionText"></span></div><div class="text-center basic-500"><span w-i18n="ledger.referTo"></span> <a href="https://support.ledgerwallet.com/hc/en-us/articles/115005165269-Fix-connection-issues" w-i18n="ledger.article" target="_blank"></a></div></div><w-button class="submit big" on-click="$ctrl.retryGetUsers()"><span w-i18n="ledgerForm.retry"></span></w-button><div class="or margin-2" w-i18n="or"></div><a ui-sref="import" w-i18n="ledgerForm.back"></a></div><div class="import-wrapper margin-3" ng-if="$ctrl.isInit && !$ctrl.error"><div class="text-center"><div class="headline-1"><span w-i18n="ledgerForm.importAccount"></span></div><div class="body-2 basic-500"><span w-i18n="ledgerForm.ImportOrSignIn"></span> <a ui-sref="signIn" href="/signIn"><span w-i18n="ledgerForm.signIn"></span> </a><span w-i18n="ledgerForm.savedOne"></span></div><hr></div><div class="body-2 basic-900" w-i18n="ledgerForm.choose"></div><div class="footnote-1 basic-500" w-i18n="ledgerForm.avatarUnique"></div><div class="step-arrows-wrp"><div class="step-left" ng-click="$ctrl.stepLeft()" ng-class="{disabled: $ctrl.disabledLeft}"><div class="icon-left"></div></div><div class="step-right" ng-click="$ctrl.stepRight()" ng-class="{disabled: $ctrl.disabledRight}"><div class="icon-right"></div></div></div><div class="ledger-avatars-list"><div class="avatar-wrapper" ng-if="!$ctrl.loading" ng-class="{active: $ctrl.selectedUser === user, disabled: $ctrl.isUserDisable($index)}" ng-repeat="user in $ctrl.visibleUsers track by user.id" ng-click="$ctrl.selectUser(user)"><w-avatar address="user.address" size="49" type="ledger"></w-avatar></div><div class="loader-wrapper" ng-if="$ctrl.loading"><w-loader></w-loader></div></div><div class="body-2 basic-900" w-i18n="ledgerForm.address"></div><div class="input-like margin-2"><div ng-class="{empty: !$ctrl.selectedUser}" class="address basic-900 mobile-caption-2">{{$ctrl.selectedUser.address}}</div></div><div class="flex margin-2"><w-checkbox-submit ng-model="$ctrl.selectDefault" id="select-default"></w-checkbox-submit><label for="select-default" class="footnote-1 basic-500"><span w-i18n="ledgerForm.selectDefault"></span></label></div><div class="margin-2"><div class="body-2 basic-900" w-i18n="ledgerForm.name"></div><w-input w-autofocus class="big no-validate no-icon" type="text" maxlength="20" ng-model="$ctrl.name"></w-input></div><div class="flex margin-2"><w-checkbox-submit ng-model="$ctrl.saveUserData" id="save-user-data"></w-checkbox-submit><label for="save-user-data" class="footnote-1 basic-500"><span w-i18n="ledgerForm.saveUserData"></span></label></div><div class="margin-3"><w-button disabled="$ctrl.disabledLogin" class="submit big long" on-click="$ctrl.login()"><span w-i18n="ledgerForm.login"></span></w-button></div><div class="or margin-2"><span w-i18n="ledgerForm.or">or</span></div><div class="text-center margin-2"><a w-i18n="ledgerForm.back" ui-sref="import"></a></div></div></div>');$templateCache.put("modules/restore/templates/restore.html",'<div w-i18n-ns="app.restore" class="restore-content"><i class="icon-information"></i> <span ng-click="$ctrl.showTutorialModals()" w-i18n-ns="app.welcome" w-i18n="infoTooltip" class="tooltip"></span><w-change-language></w-change-language><a class="waves-logo" ui-sref="welcome"></a><w-step-by-step active-step="$ctrl.activeStep"><w-step><div class="headline-1 text-center" w-i18n="seedForm.title"></div><div class="body-2 text-center margin-5"><span class="disabled-600" w-i18n="seedForm.description"></span> <a ui-sref="create" w-i18n="seedForm.create"></a></div><div class="body-2 basic-900" w-i18n="seedForm.seedTitle"></div><form name="$ctrl.seedForm"><div class="seed-block margin-2"><w-input textarea w-autofocus class="embed no-icon big" ng-model="$ctrl.seed" placeholder="seedForm.placeholder" w-i18n-attr="placeholder" minlength="25" required></w-input><div class="address-block-info"><w-avatar ng-if="$ctrl.address" class="margin-right-1" address="$ctrl.address" size="40"></w-avatar><div ng-if="!$ctrl.address" class="avatar-fake margin-right-1"></div><div class="address-block"><div class="body-2 basic-900" w-i18n="seedForm.address"></div><div ng-class="{empty: !$ctrl.address}" class="address body-1 basic-500 mobile-caption-2">{{$ctrl.address}}</div></div></div></div><div class="flex margin-3"><w-checkbox-submit ng-model="$ctrl.saveUserData" id="save-user-data"></w-checkbox-submit><label for="save-user-data" w-i18n="seedForm.saveUserData" class="footnote-1 basic-500"></label></div><div class="margin-3"><w-button disabled="!$ctrl.address" class="submit big long" on-click="$ctrl.nextStep()"><span w-i18n="seedForm.continue"></span></w-button></div></form></w-step><w-step><div class="headline-1 text-center" w-i18n="passwordForm.title"></div><div class="body-2 text-center margin-5"><span class="disabled-600" w-i18n="passwordForm.description"></span> <a w-i18n="passwordForm.back" w-step-prev ng-click="$ctrl.resetNameAndPassword()"></a></div><w-password class="margin-2" name="$ctrl.name" password="$ctrl.password" on-submit="$ctrl.restore()"><span w-i18n-ns="app.restore"><span w-i18n="passwordForm.login"></span></span></w-password></w-step></w-step-by-step>\x3c!--TODO #wrap-in-component--\x3e<div class="or margin-2"><span w-i18n="seedForm.or"></span></div><div class="text-center body-2 flex-column-center-min margin-2"><a ui-sref="import" w-i18n="seedForm.back"></a></div></div>');$templateCache.put("modules/sessions/templates/sessions.html",'<div w-i18n-ns="app.sessions"><a class="waves-logo" ui-sref="welcome"></a><div class="headline-1"><span w-i18n="session.headline"></span></div><div class="margin-4 body-2 disabled-600"><span w-i18n="session.signIn"></span></div><ul class="sessions-holder" ng-if="$ctrl.session.address.length <= 3"><li class="input-like big margin-2" ng-repeat="session in $ctrl.sessions track by session.address" ng-click="$ctrl.chooseSession(session)"><w-avatar class="margin-right-1" size="30" address="session.address"></w-avatar><div class="mobile-caption-2" ng-class="::{\'has-name\': !!session.name}"><span class="session-name">{{::session.name}}</span> <span class="session-address">{{::session.address}}</span></div><i class="icon-remove-user icon-close"></i></li></ul><div class="sessions-holder"><w-select class="big" ng-if="$ctrl.session.address.length > 3" ng-model="$ctrl.activeSession"><w-option ng-repeat="session in $ctrl.sessions track by session.address" value="{{::session.address}}"><w-avatar class="margin-right-1" address="session.address" size="30"></w-avatar><div class="mobile-caption-2" ng-class="::{\'has-name\': !!user.name}"><span class="session-name">{{::session.name}}</span> <span class="session-address">{{::session.address}}</span></div><i class="icon-remove-user icon-close"></i>\x3c!-- TODO @tsigel remove session --\x3e</w-option></w-select></div><div class="or margin-3"><span w-i18n="session.or"></span></div><w-button class="big submit long"><span w-i18n="session.signInNew"></span></w-button></div>');$templateCache.put("modules/tokens/templates/tokens.html",'<div w-i18n-ns="app.tokens" class="token-page"><div class="page-title headline-4 basic-700" w-i18n="pageTitle"></div><div class="token-page__content"><form class="generate-form" name="$ctrl.createForm" novalidate><div class="row"><div class="body-2 basic-900"><span w-i18n="name"></span><div class="footnote-1 basic-500" w-i18n="help.name"></div></div><w-input-container><w-input type="text" name="name" ng-model="$ctrl.name" w-validate class="medium" w-validator-byte-gte="4" w-validator-byte-lte="16" required></w-input><w-input-error message="required"><span w-i18n="validators.required"></span></w-input-error><w-input-error message="byteLte"><span w-i18n="validators.byte.lte"></span></w-input-error><w-input-error message="byteGte"><span w-i18n="validators.byte.gte"></span></w-input-error></w-input-container></div><div class="row"><div class="body-2 basic-900" w-i18n="description"></div><w-input-container><w-input class="no-validate-icons" textarea name="description" ng-model="$ctrl.description" placeholder="placeholders.description" w-validate w-validator-byte-lte="1000" w-i18n-attr="placeholder"></w-input><w-input-error message="byteLte"><span w-i18n="validators.descriptionLen"></span></w-input-error></w-input-container></div><div class="row"><div class="body-2 basic-900 relative"><span w-i18n="count"></span><w-help-icon><div class="help-icon__row headline-3"><span w-i18n="helpIcon.totalTokens.headline"></span></div><div class="help-icon__row" w-i18n="helpIcon.totalTokens.reissuable"></div><div class="help-icon__row" w-i18n="helpIcon.totalTokens.notReissuable"></div></w-help-icon></div><w-input-container><div class="input-like medium"><w-input class="embed" class="medium" type="text" name="count" ng-model="$ctrl.count" w-validate w-validator-precision="{{$ctrl.precision.toString()}}" w-validator-gt="0" w-validator-lt="{{$ctrl.maxCoinsCount}}" w-validator-integer w-validator-number required></w-input><div class="select-wrap"><w-select class="issue-select tiny" ng-model="$ctrl.issue"><w-option value="::false"><span class="caption-1 mobile-caption-4 basic-700" w-i18n-ns="app.tokens" w-i18n="reissuable.false"></span></w-option><w-option value="::true"><span class="caption-1 mobile-caption-4 basic-700" w-i18n-ns="app.tokens" w-i18n="reissuable.true"></span></w-option></w-select></div></div><w-input-error message="required"><span w-i18n="validators.required"></span></w-input-error><w-input-error message="gt"><span w-i18n="validators.minValueCount"></span></w-input-error><w-input-error message="lt"><span w-i18n="validators.maxValueCount"></span></w-input-error><w-input-error message="precision"><span w-i18n="validators.precisionCount"></span></w-input-error></w-input-container></div><div class="row"><div class="body-2 basic-900 relative"><span w-i18n="precision"></span><w-help-icon><div class="help-icon__row headline-3"><span w-i18n="helpIcon.demicals"></span></div></w-help-icon></div><w-input-container><w-input type="text" class="medium" name="precision" ng-model="$ctrl.precision" required w-validate w-validator-lte="8" w-validator-gte="0" w-validator-integer w-validator-number placeholder="placeholders.precision" w-i18n-attr="placeholder"></w-input><w-input-error message="lte"><span w-i18n="validators.minValuePrecision"></span></w-input-error><w-input-error message="gte"><span w-i18n="validators.maxValuePrecision"></span></w-input-error><w-input-error message="required"><span w-i18n="validators.required"></span></w-input-error><w-input-error message="integer"><span w-i18n="validators.required"></span></w-input-error></w-input-container></div><div class="row"><div class="body-2 basic-900" w-i18n="preview"></div><div class="preview"><div class="avatar-wrap"><w-asset-logo ng-if="$ctrl.name" size="30" asset-name="$ctrl.name"></w-asset-logo></div><div class="token-info-wrap" ng-class="{empty: $ctrl.createForm.$invalid}"><div class="line token-name headline-3 basic-900"><span ng-if="$ctrl.name && $ctrl.createForm.$valid">{{$ctrl.name}}</span></div><div class="line token-value body-2 basic-700"><span ng-if="$ctrl.name && $ctrl.createForm.$valid" w-nice-number="$ctrl.count" precision="$ctrl.precision.toString()"></span></div></div></div></div><div class="row"><div ng-class="{\'error-400\': $ctrl.invalid}" class="footnote-1 basic-500" w-i18n="fee"></div><div ng-if="$ctrl.invalid" class="error-400" w-i18n="validators.noMoney"></div></div><div class="row"><w-sign-button disabled="$ctrl.createForm.$invalid || $ctrl.invalid" class="submit long margin-4" on-success="$ctrl.generate(signable)" on-click="$ctrl.createSignable()"><span w-i18n-ns="app.tokens" w-i18n="create"></span></w-sign-button></div></form></div></div>');$templateCache.put("modules/welcome/templates/userList.html",'<div class="user-list"><div class="center"><a class="waves-logo" ui-sref="welcome"></a><div class="headline-1" w-i18n="userList.title"></div></div><div class="body-2 basic-900" w-i18n="userList.address"></div><w-select ng-model="$ctrl.activeUserAddress" class="big margin-3"><w-option ng-repeat="user in $ctrl.userList track by user.address" value="::user.address"><div class="avatar-container margin-right-1"><w-avatar type="{{user.userType}}" class="margin-right-1" address="user.address" size="30"></w-avatar></div><div ng-class="::{\'has-name\': !!user.name}"><div class="name body-2 mobile-caption-2">{{::user.name}}</div><div class="address footnote-1 mobile-caption-2">{{::user.address}}</div></div><div class="icon-remove-user icon-close" ng-click="$ctrl.removeUser(user.address)"></div></w-option><div><a ui-sref="import" class="add-account" w-i18n="userList.import"></a></div></w-select><div class="password-placeholder" ng-if="$ctrl.needPassword"><div class="body-2 basic-900" w-i18n="userList.password"></div></div><form class="margin-2" name="$ctrl.loginForm" novalidate><w-input-container class="margin-3" ng-if="$ctrl.needPassword"><w-input w-autofocus name="password" type="password" ng-model="$ctrl.password" w-i18n-attr="placeholder" class="big no-icon" placeholder="userList.placeholders.password" required></w-input><div class="like-input-error" ng-if="$ctrl.showPasswordError && !$ctrl.networkError"><span class="error active" w-i18n="password.error"></span></div><div class="like-input-error" ng-if="$ctrl.showPasswordError && $ctrl.networkError"><span class="error active" w-i18n="network.error"></span></div></w-input-container><w-button disabled="$ctrl.loginForm.$invalid" on-click="$ctrl.login()" type="submit" class="submit big long"><span w-i18n="userList.buttons.login"></span></w-button></form><div class="or margin-2"><span w-i18n="newUser.or"></span></div><div class="text-center body-2 flex-column-center-min margin-2"><a ui-sref="create" w-i18n="userList.create"></a></div></div>');$templateCache.put("modules/welcome/templates/welcome.html",'<i class="icon-information"></i> <span ng-click="$ctrl.showTutorialModals()" w-i18n-ns="app.welcome" w-i18n="infoTooltip" class="tooltip"></span><w-change-language></w-change-language><ng-include w-i18n-ns="app.welcome" src="$ctrl.pageUrl"></ng-include><w-loader ng-if="$ctrl.pendingRestore"></w-loader>');$templateCache.put("modules/welcome/templates/welcomeNewUser.html",'<div class="new-user"><a class="waves-logo" ui-sref="welcome"></a><w-carousel class="margin-4" interval="7000"><div class="slide"><div class="slide-icon-0"></div><h2 class="slide-title headline-1"><span w-i18n="newUser.slides.0.title"></span></h2><div class="slide-description body-2 disabled-600"><span w-i18n="newUser.slides.0.description"></span></div></div><div class="slide"><div class="slide-icon-1"></div><h2 class="slide-title headline-1"><span w-i18n="newUser.slides.1.title"></span></h2><div class="slide-description body-2 disabled-600"><span w-i18n="newUser.slides.1.description"></span></div></div><div class="slide"><div class="slide-icon-2"></div><h2 class="slide-title headline-1"><span w-i18n="newUser.slides.2.title"></span></h2><div class="slide-description body-2 disabled-600"><span w-i18n="newUser.slides.2.description"></span></div></div><div class="slide"><div class="slide-icon-3"></div><h2 class="slide-title headline-1"><span w-i18n="newUser.slides.3.title"></span></h2><div class="slide-description body-2 disabled-600"><span w-i18n="newUser.slides.3.description"></span></div></div></w-carousel><w-carousel-dots class="square"></w-carousel-dots><w-button class="submit big" ui-sref="create"><span w-i18n="newUser.getStarted"></span></w-button><div class="or"><span w-i18n="newUser.or"></span></div><div class="restore margin-2 body-2 basic-900"><a ui-sref="import"><span w-i18n="newUser.import"></span></a></div></div>');$templateCache.put("modules/app/directives/componentError/componentError.html",'<div class="error_text" w-i18n="error.crashed"></div>');$templateCache.put("modules/create/directives/seed/seed.html",'<div class="seed-container {{$ctrl.type}}"><span ng-repeat="item in $ctrl.parts track by $index" ng-click="$ctrl._onClick($event, $index)" class="seed-item {{$ctrl.type}}" data-id="{{::item}}">{{::item}}</span></div>');$templateCache.put("modules/dex/directives/createOrder/createOrder.html",'<w-loader ng-if="!$ctrl.loaded"></w-loader><div class="create-order" w-i18n-ns="app.dex" ng-if="$ctrl.loaded"><div class="head"><div class="icon-drag margin-right-1"></div><div class="footnote-2 disabled-900">{{$ctrl.amountDisplayName}} / {{$ctrl.priceDisplayName}}</div><div class="icon-close" ng-if="$ctrl.step !== 0" ng-click="$ctrl.closeCreateOrder()"></div></div><div class="body"><div class="making-order" ng-class="$ctrl.type"><div class="areas"><div class="area buy" ng-click="$ctrl.expand(\'buy\')"><div class="name headline-4 basic-700" w-i18n="directives.createOrder.buy"></div></div><div class="area sell" ng-click="$ctrl.expand(\'sell\')"><div class="name headline-4 basic-700" w-i18n="directives.createOrder.sell"></div></div></div><div class="choice"><div class="choose buy" ng-click="$ctrl.expand(\'buy\')"><div class="name" w-i18n="directives.createOrder.buy"></div><div class="price" w-nice-number="$ctrl.ask.price" precision="$ctrl.priceBalance.asset.precision"></div></div><div class="middle caption-3 disabled-900"><div w-i18n="directives.createOrder.spread"></div><div>{{$ctrl.spreadPercent}}%</div></div><div class="choose sell" ng-click="$ctrl.expand(\'sell\')"><div class="name" w-i18n="directives.createOrder.sell"></div><div class="price" w-nice-number="$ctrl.bid.price" precision="$ctrl.priceBalance.asset.precision"></div></div></div><div class="create-order-notification js-order-notification"><div ng-if="$ctrl.createOrderFailed"><i class="icon"></i><span w-i18n="create.order.failed"></span></div><div ng-if="!$ctrl.createOrderFailed"><i class="icon"></i><span w-i18n="create.order.success"></span></div></div><div class="expandable"><form class="fields" novalidate name="$ctrl.order"><div class="amount"><div class="split-half field-label"><div class="caption-2 basic-600" w-i18n="directives.createOrder.amountField"></div><div ng-if="$ctrl.type === \'buy\'" ng-click="$ctrl.setMaxPrice()" class="caption-2 disabled-900 underline-dashed"><span w-i18n="money-currency" params="{money: $ctrl.maxPriceBalance}"></span></div><div ng-if="$ctrl.type === \'sell\'" ng-click="$ctrl.setMaxAmount()" class="caption-2 disabled-900 underline-dashed"><span w-i18n="money-currency" params="{money: $ctrl.maxAmountBalance}"></span></div></div><w-input-container ng-class="{\'invalid\': $ctrl.isAmountInvalid()}"><div class="input-like tiny"><w-input tabindex="1" class="tiny embed no-validate-icons" type="text" ng-focus="$ctrl.focusedInputName = \'amount\'" ng-blur="$ctrl.focusedInputName = null" w-validate w-validator-asset="{{$ctrl.amountBalance.asset}}" w-validator-lte="{{$ctrl.maxAmountBalance}}" w-validator-gt="0" name="amount" ng-model="$ctrl.amount" required></w-input><div class="asset-name-wrap"><div class="caption-1 basic-500">{{$ctrl.amountDisplayName}}</div></div></div><w-input-error message="required" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.required"></span></w-input-error><w-input-error message="gt" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.required"></span></w-input-error><w-input-error message="precision" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.precision" params="{precision: $ctrl.amountBalance.asset.precision}"></span></w-input-error><w-input-error message="lte" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.balance" params="{name: $ctrl.amountBalance.asset.displayName}"></span></w-input-error></w-input-container></div><div class="price"><div class="split-half field-label"><div class="basic-600" w-i18n="directives.createOrder.priceField"></div><div class="flex"><span ng-if="$ctrl.ask && $ctrl.ask.price && $ctrl.ask.price !== \'0\'" ng-class="{active: $ctrl.price.getTokens().toFixed() === $ctrl.ask.price}" ng-click="$ctrl.setAskPrice()" class="underline-dashed link"><span w-i18n="directives.createOrder.ask"></span> </span><span ng-if="$ctrl.bid && $ctrl.bid.price && $ctrl.bid.price !== \'0\'" ng-class="{active: $ctrl.price.getTokens().toFixed() === $ctrl.bid.price}" ng-click="$ctrl.setBidPrice()" class="underline-dashed link"><span w-i18n="directives.createOrder.bid"></span> </span><span ng-if="$ctrl.lastTradePrice" ng-class="{active: $ctrl.price.getTokens().toFixed() === $ctrl.lastTradePrice.getTokens().toFixed()}" ng-click="$ctrl.setLastPrice()" class="underline-dashed link"><span w-i18n="directives.createOrder.last"></span></span></div></div><w-input-container ng-class="{\'invalid\': $ctrl.isPriceInvalid()}"><div class="input-like tiny"><w-input class="tiny embed no-validate-icons" tabindex="2" type="text" ng-focus="$ctrl.focusedInputName = \'price\'" ng-blur="$ctrl.focusedInputName = null" w-validate w-validator-asset="{{$ctrl.priceBalance.asset}}" w-validator-gt="0" name="price" ng-model="$ctrl.price" required></w-input><div class="asset-name-wrap"><div class="caption-1 basic-500">{{$ctrl.priceDisplayName}}</div></div></div><w-input-error message="precision" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.precision" params="{precision: $ctrl.priceBalance.asset.precision}"></span></w-input-error><w-input-error message="gt" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.required"></span></w-input-error><w-input-error message="required" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.required"></span></w-input-error></w-input-container></div><div class="total"><div class="field-label caption-2 basic-600" w-i18n="directives.createOrder.total"></div><w-input-container ng-class="{ \'invalid\': $ctrl.isTotalInvalid() }"><div class="input-like tiny"><w-input class="tiny embed no-validate-icons" tabindex="3" type="text" name="total" ng-model="$ctrl.totalPrice" w-validate ng-focus="$ctrl.focusedInputName = \'total\'" ng-blur="$ctrl.focusedInputName = null" w-validator-asset="{{$ctrl.priceBalance.asset}}" w-validator-custom="{{$ctrl.canBuyOrder}}" w-validator-gt="0" required></w-input><div class="asset-name-wrap"><div class="caption-1 basic-500">{{$ctrl.priceDisplayName}}</div></div></div><w-input-error message="custom" hide-within="$ctrl.ERROR_DISPLAY_INTERVAL"><span w-i18n="directives.createOrder.errors.balance" params="{name: $ctrl.priceBalance.asset.displayName}"></span></w-input-error></w-input-container></div><div class="expiration"><div params="{fee: $ctrl.fee.toFormat()}" w-i18n="directives.createOrder.fee"></div><div w-i18n="directives.createOrder.expiration"></div><w-select ng-model="$ctrl.expiration" up-direction="true"><w-option ng-repeat="option in $ctrl.expirationValues track by option.name" value="::option.value"><span w-i18n="directives.createOrder.{{::option.name}}" w-i18n-ns="app.dex"></span></w-option></w-select></div><w-button ng-if="$ctrl.hasScript" class="inactive-order-button footnote-1"><span w-i18n="directives.createOrder.hasScript" params="{name: $ctrl.amountBalance.asset.displayName}"></span></w-button><w-permit name="CAN_CREATE_ORDER" mode="on"><w-button ng-if="!$ctrl.hasScript" disabled="$ctrl.order.$invalid || $ctrl.order.$pristine" class="place-order small footnote-3" on-click="$ctrl.createOrder($event, order)"><span ng-if="$ctrl.type === \'sell\'" w-i18n="directives.createOrder.placeSellOrder" params="{name: $ctrl.amountBalance.asset.displayName}"></span> <span ng-if="$ctrl.type === \'buy\'" w-i18n="directives.createOrder.placeBuyOrder" params="{name: $ctrl.amountBalance.asset.displayName}"></span></w-button></w-permit><w-permit name="CAN_CREATE_ORDER" mode="off"><div class="note-plate body-3 basic-700 margin-top-1"><w-permit-message literal="directives.createOrder.createOrderNotPermitted"></w-permit-message></div></w-permit></form></div></div></div></div>');$templateCache.put("modules/dex/directives/dexBlock/dexBlock.html",'<div class="block-wrapper"><div class="block-title"><div ng-if="$ctrl.hasSearch" class="has-search"><w-input placeholder="directives.watchlist.placeholders.coin" ng-model="$ctrl.search" ng-focus="$ctrl.focused = true" ng-blur="$ctrl.focused = false" w-i18n-attr="placeholder"></w-input></div><div class="basic-700 footnote-2 dex-block-title" ng-click="$ctrl.onClickTitle()">{{$ctrl.title}}</div><div ng-if="$ctrl.canCollapse" ng-click="$ctrl.toggleCollapse()" class="dex-block-top-btn"><i class="collapse"></i></div><div ng-click="$ctrl.scrollToSpread()" class="dex-block-top-btn"><i class="tospread"></i></div></div><div ng-if="!$ctrl.collapsed" class="dex-block-content" ng-transclude></div></div>');$templateCache.put("modules/dex/directives/dexCandleChart/dex-candle-chart.html",'<div class="toggler collapse-dex-block" w-toggle-class="collapsed"><i></i></div><div class="dex-loader" ng-class="{loading: $ctrl.loadingTradingView}"><w-loader></w-loader></div><div ng-class="{error: $ctrl.notLoaded, loading: $ctrl.loadingTradingView}" class="candle-chart-wrapper" id="{{::$ctrl.elementId}}"><div ng-if="$ctrl.notLoaded"><span w-i18n="directives.candleChart.error"></span></div></div>');$templateCache.put("modules/dex/directives/dexMyOrders/header-control-cell.html",'<w-table-cell><div class="cell" ng-class="{disabled: $ctrl.orders.length === 0}" w-i18n-ns="app.dex"><w-confirm-action action="cancelAllOrdersClick()" literal-confirm="::\'directives.myOrders.cancelAllConfirm\'" literal-text="::\'directives.myOrders.cancelAll\'" literal-back="::\'directives.myOrders.back\'" literal-header="::\'directives.myOrders.confirm.header\'" literal-description="::\'directives.myOrders.confirm.literalDescription\'"></w-confirm-action></div></w-table-cell>');$templateCache.put("modules/dex/directives/dexMyOrders/myOrders.html",'<w-loader ng-if="$ctrl.pending"></w-loader><w-smart-table ng-if="!$ctrl.pending" class="smart-table" data="$ctrl.orders" header-info="$ctrl.headers"><div class="order-permission-error error js-order-notification"><i class="icon"></i><span w-i18n="directives.myOrders.noPermissionCancelOrder"></span></div><div ng-if="$ctrl.hasScript" w-i18n="directives.myOrders.withScript" class="centered"></div><w-empty-block ng-if="!$ctrl.orders.length && !$ctrl.isDemo && !$ctrl.loadingError && !$ctrl.hasScript && $ctrl.hasScript"></w-empty-block><w-error-block ng-if="$ctrl.loadingError"></w-error-block><div class="sign-in-message" ng-if="$ctrl.isDemo"><a ui-sref="welcome" class="link" w-i18n="directives.demo.signIn"></a> <span w-i18n="directives.demo.or"></span> <a ui-sref="create" class="link" w-i18n="directives.demo.createAccount"></a> <span w-i18n="directives.demo.to.openorders"></span></div><div class="order-row" ng-if="!$ctrl.loadingError && !$ctrl.hasScript" ng-repeat="order in $data track by order.id"><w-table-row class="{{::order.type}}" ng-class="{\'new-order\': order.isNew, \'can-expand\': !!order.exchange.length}"><w-table-cell><span ng-class="{underline: !$ctrl.isSelected(order)}" ng-click="$ctrl.setPair(order)"><a href="#">{{::order.pair}}</a></span></w-table-cell><w-table-cell><span w-i18n="directives.myOrders.orderType.{{::order.type}}"></span></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.time"></span></span> {{ ::order.timestamp | date:\'MM-dd HH:mm:ss\' }}</w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.price"></span></span><w-balance short-mode="::true" money="::order.price"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.amount"></span></span><w-balance short-mode="::true" money="::order.amount"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.total"></span></span><w-balance short-mode="::true" money="::order.total"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.fee"></span></span> 0.003</w-table-cell><w-table-cell ng-click="$ctrl.toggleDetails(order)"><div class="status"><div class="progress-precents">{{$ctrl.round(order.percent)}}%</div><div class="progress-bar"><div class="progress-fill" style="width: {{order.percent}}%"></div></div><div class="circle-holder"><div class="circle-loader" ng-class="{over50: order.progress > 0.5}"><span>{{$ctrl.round(order.percent)}}%</span><div class="left-half-clipper"><div class="first50-bar"></div><div class="value-bar" style="transform: rotate({{order.progress * 360}}deg)"></div></div></div></div></div></w-table-cell><w-table-cell ng-if="$ctrl.orders.length"><div ng-click="$ctrl.dropOrder(order)" w-i18n="directives.myOrders.cancel" class="stop"></div></w-table-cell></w-table-row><w-table-row class="order-details" ng-if="order.exchange.length && $ctrl.shownOrderDetails[order.id]" ng-repeat="tx in order.exchange track by tx.id"><w-table-cell></w-table-cell><w-table-cell></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.time"></span>:</span> {{ ::tx.timestamp | date:\'MM-dd HH:mm:ss\' }}</w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.price"></span>:</span><w-balance short-mode="::true" money="::tx.price"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.amount"></span>:</span><w-balance short-mode="::true" money="::tx.amount"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.total"></span>:</span><w-balance short-mode="::true" money="::tx.total"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.myOrders.fee"></span>:</span><w-balance short-mode="::true" money="::tx.userFee"></w-balance></w-table-cell><w-table-cell></w-table-cell><w-table-cell ng-if="$ctrl.orders.length"></w-table-cell></w-table-row></div></w-smart-table>');$templateCache.put("modules/dex/directives/dexWatchlist/DexWatchlist.html",'<div class="wrapper"><div class="titles-wrap"><div ng-repeat="tab in $ctrl.tabs track by tab.value" class="title" ng-class="{\'active\': $ctrl.activeTab === tab.value}" ng-click="$ctrl.chooseTab(tab.value)"><span w-i18n="{{::tab.name}}"></span></div><w-select ng-model="$ctrl.dropDownId" ng-class="{\'active\': $ctrl.isActiveSelect}"><w-option ng-repeat="option in $ctrl.dropDown track by option.id" value="::option.id">{{::option.name}}</w-option></w-select><div class="select-hover" ng-if="!$ctrl.isActiveSelect" ng-click="$ctrl.chooseSelect()"></div></div><div class="input-container"><w-input placeholder="directives.watchlist.placeholders.coin" ng-model="$ctrl.search" ng-model-options="{updateOn: \'input blur\', debounce: { \'input\': 500, \'blur\': 0 }}" ng-class="{\'searching\': $ctrl.searchInProgress }" w-i18n-attr="placeholder"></w-input><i ng-if="$ctrl.search.length > 0" class="input-clear" ng-click="$ctrl.search = \'\'"></i><w-help-icon ng-if="!$ctrl.search.length"><div class="help-icon__row bold caption-2 basic-700" w-i18n="directives.watchlist.helpIcon.header"></div><div ng-if="$ctrl.activeTab === \'all\'" class="help-icon__row caption-2 basic-700"><div><span class="label-background" w-i18n="directives.watchlist.helpIcon.name"></span> <span class="label-background" w-i18n="directives.watchlist.helpIcon.name1Name2"></span></div><div><span class="label-background" w-i18n="directives.watchlist.helpIcon.assetId"></span> <span class="label-background" w-i18n="directives.watchlist.helpIcon.AssetId1AssetId2"></span></div></div><div ng-if="$ctrl.activeTab !== \'all\'" class="help-icon__row caption-2 basic-700"><span class="label-background" w-i18n="directives.watchlist.helpIcon.name"></span>/ <span class="label-background" w-i18n="directives.watchlist.helpIcon.assetId"></span></div><div class="help-icon__row caption-2 basic-700" w-i18n="directives.watchlist.helpIcon.description"></div></w-help-icon></div><w-loader ng-if="$ctrl.pending"></w-loader><w-smart-table ng-if="!$ctrl.pending" name="watchlist" options="$ctrl.tableOptions" data="$ctrl.pairDataList" header-info="$ctrl.headers" class="smart-table"><div class="not-found basic-500" ng-if="$data && !$data.length"><span w-i18n="directives.watchlist.placeholders.noMarkets"></span></div><w-table-row ng-repeat="pair in $data track by pair.id" ng-cloak ng-click="$ctrl.choosePair(pair)" ng-class="{\'selected\': $ctrl.isChosen(pair)}"><w-table-cell><i class="icon-fav" ng-class="{\'active\': $ctrl.isFavourite(pair)}" ng-click="$ctrl.toggleFavourite($event, pair)"></i></w-table-cell><w-table-cell><span>{{::pair.pairNames}}</span>\x3c!--div class="tooltip-dex left">{{::pair.pairNames || \'\'}}</div--\x3e</w-table-cell><w-table-cell><span>{{pair.lastPrice.toFormat() || \'\'}}</span>\x3c!--div class="tooltip-dex center">{{pair.price.toFormat() || \'\'}}</div--\x3e</w-table-cell><w-table-cell ng-class="{\'plus\': pair.change24.gt(0),\'minus\': pair.change24.lt(0)}"><span>{{ pair.change24.toFormat() }}</span>{{ pair.change24 ? \'%\' : \'\' }}</w-table-cell><w-table-cell><span ng-if="pair.volume" w-nice-number="pair.currentVolume" short-mode="::true"></span> <span ng-if="!pair.volume"></span><div ng-if="pair.volume" class="tooltip-dex right"><span ng-if="pair.volume" w-nice-number="pair.currentVolume"></span> {{$ctrl.volumeAsset.displayName}}</div></w-table-cell><w-table-cell ng-if="$ctrl.isChosen(pair)" class="chosen"><div ng-if="pair.pairNamesAmount === \'WAVES\'"><a href="#" ng-click="$ctrl.showAssetInfo($event, pair.amountAsset)" class="basic-700">ACRYL</a> <span>/</span></div><div ng-if="pair.pairNamesAmount !== \'WAVES\'"><a href="#" ng-click="$ctrl.showAssetInfo($event, pair.amountAsset)" class="basic-700">{{::pair.pairNamesAmount}}</a> <span>/</span></div><a href="#" ng-click="$ctrl.showAssetInfo($event, pair.priceAsset)" class="basic-700">{{::pair.pairNamesPrice}}</a></w-table-cell></w-table-row></w-smart-table></div>');$templateCache.put("modules/dex/directives/dexWatchlist/FavouritesColumnHeader.html",'<w-table-cell><i class="icon-fav" ng-class="{\'active\': $ctrl.showOnlyFavorite}" ng-click="toggleOnlyFavourite()"></i></w-table-cell>');$templateCache.put("modules/dex/directives/layout/DexLayoutSideBarToggle.html",'<div class="dex-layout__sidebar-toggle dex-layout__sidebar-toggle-{{::$ctrl.side}}" ng-class="{\n         \'active\': $ctrl.isHovered\n     }"><div data-slider ng-click="$ctrl.handleClick()" ng-mouseenter="$ctrl.setHovered()" ng-mouseleave="$ctrl.setNotHovered()"></div></div>');$templateCache.put("modules/dex/directives/layout/layout.html",'<div class="dex-layout" w-toggle-class-container><div class="dex-layout__column dex-layout__watchlist"><div data-block="watchlist" class="dex-layout__block dex-layout__block-top"></div></div><div class="dex-layout__column dex-layout__candlechart"><w-dex-layout-side-bar-toggle handle-click="$ctrl.toggleColumn(\'watchlist\')" side="left"></w-dex-layout-side-bar-toggle><div data-block="candlechart" class="dex-layout__block dex-layout__block-top"></div><w-dex-layout-side-bar-toggle handle-click="$ctrl.toggleColumn(\'orderbook\')" side="right"></w-dex-layout-side-bar-toggle></div><div class="dex-layout__column dex-layout__orderbook" w-toggle-class-container><w-dex-layout-side-bar-toggle handle-click="$ctrl.toggleColumn(\'orderbook\')" side="left"></w-dex-layout-side-bar-toggle><div data-block="orderbook" class="dex-layout__block"></div><div data-block="tradevolume" class="dex-layout__block"></div></div><div class="dex-layout__column dex-layout__tradehistory"><div data-block="tradehistory" class="dex-layout__block dex-layout__block-bottom"></div><div class="tradehistory-fullscreen-toggler" w-toggle-class="tradehistory-fullscreen"></div></div><div class="dex-layout__column dex-layout__createorder"><div class="mask" ng-click="$ctrl.closeCreateOrder($event)"></div><div data-block="createorder" class="dex-layout__block dex-layout__block-bottom"></div></div><div class="hidden" ng-transclude></div></div>');$templateCache.put("modules/dex/directives/myBalance/header-control-cell.html",'<w-table-cell><div class="cell" w-toggle-class></div></w-table-cell>');$templateCache.put("modules/dex/directives/myBalance/myBalance.html",'<w-loader ng-if="$ctrl.pending"></w-loader><w-smart-table ng-if="!$ctrl.pending" class="smart-table" data="$ctrl.balanceList" header-info="$ctrl.headers"><div class="sign-in-message" ng-if="$ctrl.isDemo"><a ui-sref="welcome" class="link" w-i18n="directives.demo.signIn"></a> <span w-i18n="directives.demo.or"></span> <a ui-sref="create" class="link" w-i18n="directives.demo.createAccount"></a> <span w-i18n="directives.demo.to.mybalance"></span></div><w-table-row ng-repeat="balance in $data track by balance.asset.id" w-toggle-class-container><w-table-cell ng-click="$ctrl.setPair(balance.asset.id)"><w-asset-logo class="marker-hide" size="20" asset-id="{{::balance.asset.id}}"></w-asset-logo><span ng-class="{underline: !$ctrl.isSelected(balance.asset)}"><a href="#">{{::balance.asset.name}}</a></span></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.balance.assetId"></span></span><w-copy-wrap info="::balance.asset.id"><span ng-if="balance.asset.id === \'WAVES\'" class="underline"><a ng-click="$ctrl.showAssetInfo(balance.asset)" href="#">ACRYL</a> </span><span ng-if="balance.asset.id !== \'WAVES\'" class="underline"><a ng-click="$ctrl.showAssetInfo(balance.asset)" href="#">{{::balance.asset.id}}</a></span></w-copy-wrap></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.balance.available"></span></span><w-balance short-mode="::true" money="balance.available"></w-balance><div class="dropdown" w-toggle-class></div></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.balance.inOrders"></span></span><w-balance short-mode="::true" money="balance.inOrders"></w-balance></w-table-cell><w-table-cell><span class="cell-label"><span w-i18n="directives.balance.total"></span></span><w-balance short-mode="::true" money="balance.regular"></w-balance></w-table-cell></w-table-row></w-smart-table>');$templateCache.put("modules/dex/directives/orderBook/emptyRow.html",'<w-row class="no-market-price"><div class="table-row"><w-cell class="cell-0"></w-cell><w-cell class="cell-1"></w-cell><w-cell class="cell-2"></w-cell></div></w-row>');$templateCache.put("modules/dex/directives/orderBook/orderBook.html",'<div class="wrapper"><w-loader ng-show="$ctrl.pending"></w-loader><w-empty-block ng-show="$ctrl.nothingFound()"></w-empty-block><w-error-block ng-show="$ctrl.loadingError"></w-error-block><w-table class="orderbook-table"><w-thead><w-row><w-cell><span w-i18n="directives.orderBook.amount" params="{assetName: $ctrl.amountAsset.displayName}"></span></w-cell><w-cell><span w-i18n="directives.orderBook.price" params="{assetName: $ctrl.priceAsset.displayName}"></span></w-cell><w-cell><span w-i18n="directives.orderBook.sum" params="{assetName: $ctrl.priceAsset.displayName}"></span></w-cell></w-row></w-thead><w-tbody><w-scroll-box><div class="asks"></div><div class="info"><div w-i18n="directives.orderBook.lastprice"></div><div class="last-price body-2"></div><div><span w-i18n="directives.orderBook.spread"></span> <span class="spread"></span></div></div><div class="bids"></div></w-scroll-box></w-tbody></w-table></div>');$templateCache.put("modules/dex/directives/tradeGraph/tradeGraph.html",'<div class="graph-wrapper"><w-loader ng-if="$ctrl.pending"></w-loader><linechart ng-if="!$ctrl.pending && $ctrl.canShowGraph && !$ctrl.loadingError" options="$ctrl.options" data="$ctrl.data"></linechart><w-empty-block ng-if="!$ctrl.pending && !$ctrl.canShowGraph && !$ctrl.loadingError"></w-empty-block><w-error-block ng-if="!$ctrl.pending && $ctrl.loadingError"></w-error-block></div>');$templateCache.put("modules/dex/directives/tradeHistory/tradeHistory.html",'<w-loader ng-if="$ctrl.pending && !$ctrl.isDemo"></w-loader><w-smart-table ng-if="!$ctrl.pending || $ctrl.isDemo" class="smart-table" ng-class="{\'my-trade-history\': $ctrl.isMy}" data="$ctrl.history" header-info="$ctrl.headers"><w-empty-block ng-if="!$ctrl.history.length && !$ctrl.isDemo"></w-empty-block><div class="sign-in-message" ng-if="$ctrl.isMy && $ctrl.isDemo"><a ui-sref="welcome" class="link" w-i18n="directives.demo.signIn"></a> <span w-i18n="directives.demo.or"></span> <a ui-sref="create" class="link" w-i18n="directives.demo.createAccount"></a> <span w-i18n="directives.demo.to.tradehistory"></span></div><w-table-row ng-repeat="tx in $data track by tx.id" class="footnote-1 basic-900 {{::tx.exchangeType}}"><w-table-cell ng-if="::$ctrl.isMy"><span ng-click="$ctrl.setPair(tx)" ng-class="{underline: !$ctrl.isSelected(tx)}"><a href="#">{{::tx.pair}}</a></span></w-table-cell><w-table-cell><span class="cell-label" w-i18n="directives.tradeHistory.tableTitle.exchangeType"></span> <span class="order-side {{::tx.exchangeType}}" w-i18n="directives.tradeHistory.orderType.{{::tx.exchangeType}}"></span></w-table-cell><w-table-cell><span class="cell-label" w-i18n="directives.tradeHistory.tableTitle.date"></span> {{::tx.timestamp | date:\'MM-dd HH:mm:ss\'}}</w-table-cell><w-table-cell><span class="cell-label" w-i18n="directives.tradeHistory.tableTitle.price"></span><w-balance money="::tx.price" short-mode="::true"></w-balance></w-table-cell><w-table-cell><span class="cell-label" w-i18n="directives.tradeHistory.tableTitle.size"></span><w-balance money="::tx.amount" short-mode="::true"></w-balance></w-table-cell><w-table-cell><span class="cell-label" w-i18n="directives.tradeHistory.tableTitle.total"></span><w-balance money="::tx.total" short-mode="::true"></w-balance></w-table-cell><w-table-cell ng-if="$ctrl.isMy"><span class="cell-label" w-i18n="directives.tradeHistory.tableTitle.fee"></span><w-balance money="::tx.userFee" short-mode="::true"></w-balance></w-table-cell></w-table-row></w-smart-table>');$templateCache.put("modules/utils/modals/accountInfo/account-info.modal.html",'<div><span class="body-2 basic-900 margin-top-4 block" w-i18n="modal.account.address"></span><w-copy-wrap info="::$ctrl.address" ng-click="$ctrl.onCopyAddress()"><w-avatar size="30" address="$ctrl.address"></w-avatar><div class="body-1 basic-900 mobile-low-fsize">{{::$ctrl.address}}</div></w-copy-wrap><div class="row"><span class="body-2 basic-900 modal-header" w-i18n="modal.account.aliases"></span><w-help-icon><div class="help-icon__row headline-3" w-i18n="modal.accountInfo.alias.helpIcon.row1"></div><div class="help-icon__row" w-i18n="modal.accountInfo.alias.helpIcon.row2"></div><div class="help-icon__row" w-i18n="modal.accountInfo.alias.helpIcon.row3"></div></w-help-icon><div class="alias-list"><w-copy-wrap class="body-1 basic-900" ng-repeat="alias in $ctrl.aliases" ng-click="$ctrl.onCopyAlias()" info="::alias">{{::alias}}</w-copy-wrap><w-step-by-step active-step="$ctrl.createAliasStep"><w-step><w-permit name="CAN_CREATE_ALIAS_TRANSACTION" mode="on"><div class="create-alias-wrap"><w-button class="tiny margin-right-1" w-step-next><span w-i18n="modal.account.create"></span></w-button><span class="caption-1 basic-700" params="{price: $ctrl.fee.toFormat(), name: $ctrl.fee.asset.name}" w-i18n="modal.account.fee"></span></div></w-permit><w-permit name="CAN_CREATE_ALIAS_TRANSACTION" mode="off"><div class="warning-plate warning-400 body-1 margin-top-2"><w-permit-message literal="modal.account.createAliasNotPermitted"></w-permit-message></div></w-permit></w-step><w-step><form name="form" novalidate ng-submit="form.$valid && $ctrl.createAlias()"><div class="closable-input-wrapper"><w-input-container><w-input name="newAlias" ng-model="$ctrl.newAlias" class="embed no-icon new-alias" type="text" placeholder="modal.account.placeholder" ng-model-options="{updateOn: \'input blur\', debounce: { \'input\': 500, \'blur\': 0 }}" pending="$ctrl.pendingAlias || $ctrl.signLoader" w-i18n-attr="placeholder" required w-validate w-validator-custom="{{!$ctrl.invalid && !$ctrl.pendingAlias}}"></w-input><w-loader ng-if="$ctrl.pendingAlias"></w-loader><div class="create-alias-wrap"><w-button disabled="$ctrl.signLoader || $ctrl.invalid || $ctrl.pendingAlias || !$ctrl.newAlias" class="tiny submit margin-right-1" type="submit"><span w-i18n="modal.account.create"></span></w-button><span class="caption-1 basic-700" params="{price: $ctrl.fee.toFormat(), name: $ctrl.fee.asset.name}" w-i18n="modal.account.fee"></span></div><div class="flex-row split-half data margin-top-2" ng-if="$ctrl.signLoader"><div class="basic-500" w-i18n-ns="app.ui" w-i18n="directives.sign.txId"></div><div>{{$ctrl.transactionId}}</div></div><div class="errors-margin text-center footnote-1 basic-500" w-i18n="modal.sign.signByLedger" w-i18n-ns="app.ui" ng-if="$ctrl.signLoader && $ctrl.isLedger"></div><div class="errors-margin text-center footnote-1 basic-500" w-i18n-ns="app.ui" w-i18n="directives.sign.confirmRequestKeeper.waiting" ng-if="$ctrl.signLoader && $ctrl.isKeeper"></div><div class="sign-loader" ng-if="$ctrl.signLoader"><w-loader></w-loader></div><div class="errors-margin"><div class="bottom-warning margin-3" ng-if="!!$ctrl.errorCreateAliasMsg"><div class="body-2 error-400">{{$ctrl.errorCreateAliasMsg}}</div></div><div class="bottom-warning margin-3" ng-if="$ctrl.signDeviceFail"><div class="warning-plate warning-plate-red"><div class="body-2 error-400" w-i18n-ns="app.ui" w-i18n="confirmTransaction.{{::$ctrl.userType}}Unconfirmed.header"></div><div class="footnote-1 basic-500" w-i18n-ns="app.ui" w-i18n="confirmTransaction.{{::$ctrl.userType}}Unconfirmed.description"></div></div></div><w-input-error message="custom"><div ng-if="$ctrl.noMoneyForFee" w-i18n="modal.account.noMoney"></div><div ng-if="$ctrl.invalidMinLength" w-i18n="modal.account.minLength"></div><div ng-if="$ctrl.invalidMaxLength" w-i18n="modal.account.maxLength"></div><div ng-if="$ctrl.invalidPattern" w-i18n="modal.account.invalidSymbols"></div><div ng-if="$ctrl.invalidExist" w-i18n="modal.account.hasAlias"></div></w-input-error></div></w-input-container></div></form></w-step></w-step-by-step></div></div></div>');$templateCache.put("modules/utils/modals/anyTxModal/any-tx-modal.html",'<w-permit name="CAN_ANY_TRANSACTION" mode="on"><w-step-by-step active-step="$ctrl.step"><w-step><w-any-transaction-form state="$ctrl.state" on-success="$ctrl.onFillTxForm(signable)"></w-any-transaction-form></w-step><w-step><w-confirm-transaction on-click-back="$ctrl.onConfirmBack()" signable="$ctrl.signable"></w-confirm-transaction></w-step></w-step-by-step></w-permit><w-permit name="CAN_ANY_TRANSACTION" mode="off"><div class="center"><svg width="80px" height="80px" viewBox="0 0 80 80" version="1.1" class="margin-3 margin-top-6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/80/error-80-error500</title><g id="Icon/80/error-80-error500" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M40,77 C60.4345357,77 77,60.4345357 77,40 C77,19.5654643 60.4345357,3 40,3 C19.5654643,3 3,19.5654643 3,40 C3,60.4345357 19.5654643,77 40,77 Z M40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 Z" id="Oval" fill="#EF4829" fill-rule="nonzero"></path><path d="M42.1213203,40 L55.5563492,53.4350288 C56.1421356,54.0208153 56.1421356,54.9705627 55.5563492,55.5563492 C54.9705627,56.1421356 54.0208153,56.1421356 53.4350288,55.5563492 L40,42.1213203 L26.5649712,55.5563492 C25.9791847,56.1421356 25.0294373,56.1421356 24.4436508,55.5563492 C23.8578644,54.9705627 23.8578644,54.0208153 24.4436508,53.4350288 L37.8786797,40 L24.4436508,26.5649712 C23.8578644,25.9791847 23.8578644,25.0294373 24.4436508,24.4436508 C25.0294373,23.8578644 25.9791847,23.8578644 26.5649712,24.4436508 L40,37.8786797 L53.4350288,24.4436508 C54.0208153,23.8578644 54.9705627,23.8578644 55.5563492,24.4436508 C56.1421356,25.0294373 56.1421356,25.9791847 55.5563492,26.5649712 L42.1213203,40 Z" id="Combined-Shape" fill="#EF4829"></path></g></svg></div><h3 class="basic-700 margin-3 center" w-i18n="modals.anyTx.title"></h3><div class="warning-plate warning-500"><span w-i18n="modal.disabledFeature.anyTransaction" class="body-1"></span></div></w-permit>');$templateCache.put("modules/utils/modals/assetInfo/assetInfo.html",'<div ng-cloak class="asset-modal"><div class="asset-modal__head"><div class="asset-modal__head-content"><w-asset-logo ng-cloak asset-id="{{::$ctrl.asset.id}}" size="65" class="asset-modal__logo"></w-asset-logo><div class="asset-modal__data"><h2 ng-cloak class="asset-modal__name basic-900">{{::$ctrl.asset.name}} <span class="asset__label" ng-if="$ctrl.isVerified" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.qualified"></span> <span class="asset__label" ng-if="$ctrl.isGateway" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.gateway"></span></h2><div ng-if="$ctrl.ticker" class="body-2 basic-500">{{::$ctrl.ticker}}</div></div><div class="chart-wrapper"><w-asset-rate-chart no-update="::true" asset-id="::$ctrl.asset.id"></w-asset-rate-chart><div class="interactive-stop"></div></div></div></div><w-tabs class="inner" ng-model="$ctrl.tab"><w-tab id="::\'info\'" title-name="::\'modal.assetInfo.details\'" class="padding-content tab-details"><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.issuer"></div><div class="basic-900 break-all fs-mobile">{{::$ctrl.asset.sender}}</div></div><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.identifier"></div><div class="basic-900 break-all fs-mobile">{{::$ctrl.idName}}</div></div><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.name"></div><div class="basic-900">{{::$ctrl.asset.name}}</div></div><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.quantity"></div><div class="basic-900">{{::$ctrl.quantity}}</div></div><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.decimals"></div><div class="basic-900">{{::$ctrl.asset.precision}}</div></div><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.type"></div><div class="basic-900"><span w-i18n="modal.assetInfo.reissue.{{::$ctrl.asset.reissuable ? \'yes\' : \'no\'}}"></span></div></div><div class="line" ng-if="::$ctrl.minFee"><div class="basic-500" w-i18n="modal.assetInfo.sponsorshipFee"></div><div class="basic-900"><span w-i18n="fee" params="{money: $ctrl.minFee}"></span></div></div><div class="line"><div class="basic-500" w-i18n="modal.assetInfo.date"></div><div class="basic-900">{{::$ctrl.asset.timestamp | date:\'dd.MM.yyyy HH:mm\'}}</div></div><div class="line" ng-if="::$ctrl.link"><div class="basic-500" w-i18n="modal.assetInfo.site"></div><a target="_blank" href="{{::$ctrl.link}}">{{::$ctrl.link}}</a></div><div class="line" ng-if="::$ctrl.email"><div class="basic-500" w-i18n="modal.assetInfo.email"></div><a target="_blank" href="mailto:{{::$ctrl.email}}">{{::$ctrl.email}}</a></div><div class="line" ng-if="::$ctrl.provider"><span class="basic-500" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.qualified"></span> <span class="basic-900">{{::$ctrl.provider}}</span></div><div ng-if="$ctrl.description" class="line margin-top-2 basic-900">{{::$ctrl.description}}</div></w-tab><w-tab ng-if="!$ctrl.isDemo" id="::\'balance\'" title-name="::\'modal.assetInfo.balance\'" class="padding-content tab-balance"><div class="line chart-container"><div><w-circle-chart options="$ctrl.chartOptions" data="$ctrl.circleChartData"></w-circle-chart></div><div class="chart-legend"><div ng-repeat="legend in $ctrl.circleChartData track by legend.id" ng-if="!legend.value.getTokens().eq(0)" class="legend-item"><div class="part basic-500"><div class="legend-color margin-right-1" style="background-color: {{::$ctrl.chartOptions.items[legend.id].color}}"></div><span w-i18n="modal.assetInfo.{{::legend.id}}"></span></div><div class="part"><w-balance money="legend.value"></w-balance></div></div><div class="legend-item total"><div w-i18n="modal.assetInfo.total"></div><div class="part"><w-balance money="$ctrl.totalBalance"></w-balance></div></div></div></div></w-tab><w-tab ng-if="!$ctrl.isDemo" id="::\'tx\'" title-name="::\'modal.assetInfo.transactions\'"><w-transaction-list transactions="$ctrl.transactions" parent-selector=".tab-tem" pending="$ctrl.transactionsPending"></w-transaction-list></w-tab></w-tabs></div>');$templateCache.put("modules/utils/modals/changeToken/change-token-modal.html",'<w-step-by-step active-step="$ctrl.step"><w-step><div class="asset-modal"><div class="asset-modal__head"><div class="asset-modal__head-content"><w-asset-logo ng-cloak asset-id="{{::$ctrl.asset.id}}" size="65" class="asset-modal__logo"></w-asset-logo><div class="asset-modal__data"><h2 ng-cloak class="asset-modal__name basic-900">{{::$ctrl.asset.name}} <span class="asset__label" ng-if="$ctrl.isVerified" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.qualified"></span> <span class="asset__label" ng-if="$ctrl.isGateway" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.gateway"></span></h2><div ng-if="$ctrl.ticker" class="body-2 basic-500">{{::$ctrl.ticker}}</div></div><div class="chart-wrapper"><w-asset-rate-chart no-update="::true" asset-id="::$ctrl.asset.id"></w-asset-rate-chart><div class="interactive-stop"></div></div></div></div></div><div class="asset-info margin-top-4"><div class="rows"><div class="row row-style flex-row token-burn__info-line"><div class="footnote-1 basic-500" w-i18n="modal.token.id"></div><div class="footnote-1 basic-900">{{::$ctrl.asset.id}}</div></div><div class="margin-top-1 footnote-1 basic-500" w-i18n="modal.token.description"></div><div class="row row-style flex-row token-burn__info-line description"><div class="footnote-1 basic-900">{{::$ctrl.description}}</div></div><div class="row row-style flex-row token-burn__info-line"><div class="footnote-1 basic-500" w-i18n="modal.token.quantity"></div><div class="footnote-1 basic-900">{{::$ctrl.quantity.toFormat($ctrl.asset.precision)}}</div></div><div class="row row-style flex-row margin-2 token-burn__info-line"><div class="footnote-1 basic-500" w-i18n="modal.token.balance"></div><div class="bold footnote-1 basic-900"><w-balance money="$ctrl.balance"></w-balance></div></div></div><form name="burn"><div class="body-2 basic-900"><span w-i18n="modal.token.{{::$ctrl.txType}}.label"></span></div><w-input-container class="margin-2"><div ng-if="$ctrl.txType === \'reissue\'" class="input-like"><w-input class="embed" type="text" name="input" ng-model="$ctrl.input" w-validate w-validator-asset="{{::$ctrl.asset}}" w-validator-gt="0" w-validator-lt="{{::$ctrl.maxCoinsCount}}" required></w-input><div class="select-wrap"><w-select class="issue-select tiny" ng-model="$ctrl.issue"><w-option option-type="boolean" value="false"><span class="caption-1 basic-900" w-i18n-ns="app.tokens" w-i18n="reissuable.false"></span></w-option><w-option option-type="boolean" value="true"><span class="caption-1 basic-900" w-i18n-ns="app.tokens" w-i18n="reissuable.true"></span></w-option></w-select></div></div><w-balance-input ng-if="$ctrl.txType === \'burn\'" input-classes="big" asset-id="$ctrl.asset.id" name="input" amount="$ctrl.input" min="\'0\'" max-balance="$ctrl.balance"></w-balance-input><w-input-error message="required"><span w-i18n="modal.token.validation.required"></span></w-input-error><w-input-error message="gt"><span w-i18n="modal.token.validation.gt0"></span></w-input-error><w-input-error message="lt"><span w-i18n="modal.token.validation.maxValueCount"></span></w-input-error><w-input-error message="lte"><span w-i18n="modal.token.validation.lteMaxBalance"></span></w-input-error><w-input-error message="asset"><span w-i18n="modal.token.validation.invalidPrecision" params="{precision: $ctrl.precision}"></span></w-input-error></w-input-container><div class="footnote-1 margin-2"><div ng-class="{\'error-400\': $ctrl.noFee}" w-i18n="modal.token.fee" params="{fee: $ctrl.fee}" class="basic-500"></div><div ng-if="$ctrl.noFee" w-i18n="modal.token.validation.noMoney" class="error-400"></div></div><w-sign-button disabled="burn.$invalid || $ctrl.noFee" on-click="$ctrl.getSignable()" on-success="$ctrl.next()"><span w-i18n="button.continue"></span></w-sign-button></form></div></w-step><w-step><w-confirm-transaction signable="$ctrl.signable" on-click-back="$ctrl.step = $ctrl.step - 1"></w-confirm-transaction></w-step></w-step-by-step>');$templateCache.put("modules/utils/modals/confirmDeleteUser/confirmDeleteUser.modal.html",'<md-dialog w-i18n-ns="app.utils" class="confirm-delete-user" aria-label="modal"><div class="btn icon-close" w-modal-close></div><md-dialog-content><div class="modal-content"><i class="icon-remove margin-3"></i><h3 ng-if="$ctrl.isSeed" w-i18n="modal.removeAccount.heading" class="basic-700"></h3><h3 ng-if="$ctrl.isLedger" w-i18n="modal.removeLedgerAccount.heading" class="basic-700"></h3><h3 ng-if="$ctrl.isKeeper" w-i18n="modal.removeKeeperAccount.heading" class="basic-700"></h3><div class="warning-500 body-2 margin-1" ng-if="!$ctrl.hasBackup"><i class="icon-warning footnote-1"></i> <span w-i18n="modal.removeAccount.warning"></span></div><div ng-if="$ctrl.isSeed" class="margin-3 basic-500 body-2" w-i18n="modal.removeAccount.text"></div><div ng-if="$ctrl.isLedger" class="margin-3 basic-500 body-2" w-i18n="modal.removeLedgerAccount.text"></div><div ng-if="$ctrl.isKeeper" class="margin-3 basic-500 body-2" w-i18n="modal.removeKeeperAccount.text"></div><div class="buttons-wrapper"><w-button w-modal-close class="big long"><span w-i18n="modal.removeAccount.cancel"></span></w-button><w-button w-modal-hide class="big long submit"><span w-i18n="modal.removeAccount.remove"></span></w-button></div></div></md-dialog-content></md-dialog>');$templateCache.put("modules/utils/modals/confirmOrder/confirmOrder.html",'<div class="confirm-order"><div class="btn icon-close" ng-click="$ctrl.close()"></div><div class="center"><i class="confirm-order__icon margin-3 margin-top-6"></i><h2 class="margin-1 basic-700" ng-if="$ctrl.isSell" params="{ orderLimit: $ctrl.orderLimit }" w-i18n="modal.confirmOrder.headerSell"></h2><h2 class="margin-1 basic-700" ng-if="!$ctrl.isSell" params="{ orderLimit: $ctrl.orderLimit }" w-i18n="modal.confirmOrder.headerBuy"></h2><div class="body-2 basic-500" w-i18n="modal.confirmOrder.description"></div><div class="buttons-wrapper margin-top-3"><w-button on-click="$ctrl.close()" class="big long"><span w-i18n="modal.confirmOrder.cancel"></span></w-button><w-button on-click="$ctrl.agree()" class="big long submit"><span w-i18n="modal.confirmOrder.continue"></span></w-button></div></div></div>');$templateCache.put("modules/utils/modals/confirmTx/confirmTx.modal.html",'<div class="btn icon-close" w-modal-close></div><div class="confirm-tx"><w-confirm-transaction on-click-back="$ctrl.back()" show-validation-errors="$ctrl.showValidationErrors" signable="$ctrl.signable"></w-confirm-transaction></div>');$templateCache.put("modules/utils/modals/gateway/gatewaySign.html",'<div class="gateway"><div ng-if="!$ctrl.hasError"><div class="content" ng-if="!$ctrl.signAdapterError || ($ctrl.signAdapterError && $ctrl.signPending)"><div class="text-center gateway-icon"><img ng-if="$ctrl.imageSrc !== \'\'" src="{{::$ctrl.imageSrc}}"></div><div ng-if="$ctrl.imageSrc == \'\'" class="text-center icon-connected"></div><h3 class="text-center margin-2 basic-700"><span w-i18n="modal.gatewaySign.headline" params="{url: $ctrl.referrer, name: $ctrl.name}"></span></h3><div class="content margin-2 caption-1 basic-500 flex-caption"><i class="icon-lock"></i> <span params="{name: $ctrl.name}" w-i18n="modal.gatewaySign.description"></span></div><div ng-if="$ctrl.isDesktop" class="content margin-2 body-3 basic-500 flex-caption"><i class="icon-grey-warning"></i> <span><span w-i18n="modal.gatewaySign.descriptionDesktop1"></span> <span w-i18n="modal.gatewaySign.descriptionDesktop2" class="link body-3" w-copy="$ctrl.successUrl"></span> <span w-i18n="modal.gatewaySign.descriptionDesktop3"></span></span></div></div><div ng-if="$ctrl.signPending"><div class="row bordered margin-1"><div ng-if="!$ctrl.isSeed" class="caption-1 basic-500 flex-caption" w-i18n="modal.gatewaySign.txHash"></div><div class="ellipsis" ng-if="!$ctrl.isSeed">{{$ctrl.id}}</div></div><div class="relative row"><w-loader></w-loader></div></div><div class="center" ng-if="$ctrl.signAdapterError  && !$ctrl.signPending && !$ctrl.isSeed"><div class="sign-error-icon ledger-icons"></div><h3 class="text-center basic-700" w-i18n="modal.sign.signError"></h3><p class="body-2 basic-500" w-i18n="modal.sign.signErrorText"></p></div><div class="buttons-wrapper margin-top-3" ng-if="$ctrl.isSeed || !$ctrl.signPending"><w-button class="big" w-modal-close><span w-i18n="modal.gatewaySign.cancel"></span></w-button><w-button ng-if="!$ctrl.signAdapterError" class="big submit" w-modal-close on-click="$ctrl.send()"><span w-i18n="modal.gatewaySign.continue"></span></w-button><w-button ng-if="$ctrl.signAdapterError" class="big submit" w-modal-close on-click="$ctrl.sign()"><span w-i18n="modal.gatewaySign.retrySign"></span></w-button></div></div><div ng-if="$ctrl.hasError"><div class="icon-disconnected"></div><h3 class="text-center margin-4 basic-700"><span w-i18n="modal.gatewaySign.error.headline"></span></h3><div class="note-plate margin-4" ng-if="$ctrl.debug"><pre class="body-2">{{::$ctrl.errorMessage}}</pre></div><w-button class="big long white" w-modal-close><span w-i18n="modal.gatewaySign.error.button"></span></w-button></div></div>');$templateCache.put("modules/utils/modals/importAccounts/importAccounts.html",'<w-loader ng-if="$ctrl.pending"></w-loader><div ng-if="!$ctrl.pending" class="import-modal"><div class="btn icon-close" w-modal-close ng-class="{\'error-modal\': $ctrl.wasImportBeta && $ctrl.wasImportOld && !$ctrl.userList.length}"></div><div ng-if="$ctrl.userList.length"><h3 class="text-center basic-700" w-i18n="modal.import.selectAccountToImport"></h3><ul class="import-modal__select"><li ng-repeat="user in $ctrl.userList track by user.address"><w-avatar class="margin-right-1" size="30" address="::user.address"></w-avatar><div class="mobile-caption-2" ng-class="{\'has-name\': !!user.name}"><span ng-if="::user.name" class="name basic-700">{{::user.name}}</span> <span class="address basic-500">{{::user.address}}</span><w-checkbox-submit ng-model="$ctrl.checkedHash[user.address]"></w-checkbox-submit></div></li></ul><div class="import-modal__buttons-wrapper"><w-button w-modal-close class="big"><span w-i18n="modal.import.importCancel"></span></w-button><w-button disabled="!$ctrl.hasSelected" on-click="$ctrl.importAccounts()" class="big submit"><span w-i18n="modal.import.importButton"></span></w-button></div></div><div ng-if="!$ctrl.userList.length"><div ng-if="$ctrl.wasImportBeta && $ctrl.wasImportOld"><i class="import-modal__icon-error"></i><h3 class="text-center basic-700" w-i18n="modal.import.errorHeader"></h3><div class="basic-500 body-2 text-center margin-4" ng-if="!$ctrl.wasImportBeta" w-i18n="modal.import.errorBeta"></div><div class="basic-500 body-2 text-center margin-4" ng-if="!$ctrl.wasImportOld" w-i18n="modal.import.errorLite"></div><div class="basic-500 body-2 text-center margin-4" w-i18n="modal.import.errorUnable"></div><w-button w-modal-close class="big long submit"><span w-i18n="modal.import.iUnderstandButton"></span></w-button></div><div ng-if="!$ctrl.wasImportBeta || !$ctrl.wasImportOld"><h3 class="text-center basic-700" w-i18n="modal.import.selectAccountToImportFrom"></h3><div class="text-center"><span class="body-2 basic-500" w-i18n="modal.import.selectAccountDescription"></span><w-help-icon><div class="help-icon__row headline-3"><span w-i18n="modal.import.helpIcon.title"></span></div><div class="help-icon__row"><span w-i18n="modal.import.helpIcon.description"></span></div></w-help-icon></div><div class="import-modal__blocks-wrapper text-center"><div ng-if="!$ctrl.wasImportBeta" class="import-modal__block import-modal__block-beta"><div class="import-modal__icon-beta"></div><div class="body-2 basic-700" w-i18n="modal.import.wavesBetaClient"></div><div class="caption-1 basic-500 margin-2" w-i18n="modal.import.wavesBetaClientDescription"></div><w-button on-click="$ctrl.importFromBeta()" class="submit tiny"><span w-i18n="modal.import.selectButton"></span></w-button></div><div ng-if="!$ctrl.wasImportOld" class="import-modal__block import-modal__block-old"><div class="import-modal__icon-old"></div><div class="body-2 basic-700" w-i18n="modal.import.wavesLiteClient"></div><div class="caption-1 basic-500 margin-2" w-i18n="modal.import.wavesLiteClientDescription"></div><w-button on-click="$ctrl.importFromOld()" class="submit tiny"><span w-i18n="modal.import.selectButton"></span></w-button></div></div></div></div></div>');$templateCache.put("modules/utils/modals/pairingWithMobile/pairingWithMobile.html",'<div class="btn icon-close ng-scope" w-modal-close></div><div ng-if="$ctrl.canShowPairing" class="center"><div class="center qr-wrapper" w-toggle-class-container><w-qr-code size="200" w-toggle-class="zoomed-in" url="$ctrl.exportUrl"></w-qr-code><div class="hide-qr-block flex relative"><w-button class="interface" w-toggle-class="show-qr"><span w-i18n="modal.pairing.showQr"></span></w-button></div><div class="pointer zoom-in-link center footnote-1 margin-top-1 basic-500" w-toggle-class="zoomed-in" w-i18n-ns="app.ui" w-i18n="directives.transactionExport.qrZoomBtn"></div></div><h3 class="basic-700 margin-top-3 margin-1" w-i18n="modal.settings.pairing.header"></h3><div class="basic-500 margin-2 body-2" w-i18n="modal.pairing.scanCodeDescription"></div>\x3c!--<div class="basic-500 margin-1 body-2" w-i18n="modal.pairing.downloadAppDescription"></div>\n\n    <div class="flex buttons-wrapper mobile-logos">\n        <a href="https://itunes.apple.com/us/app/waves-wallet/id1233158971?mt=8"\n           target="_blank"\n           class="apple-store-btn margin-right-1"></a>\n        <a href="https://play.google.com/store/apps/details?id=com.wavesplatform.wallet"\n           target="_blank"\n           class="google-play-btn"></a>\n    </div> --\x3e</div><div ng-if="!$ctrl.canShowPairing" class="center unavailable"><div class="icon pairing-unavailable"></div><h3 class="basic-700 margin-top-3 margin-1" w-i18n="modal.settings.pairing.unavailable.header.{{$ctrl.userType}}"></h3><div class="basic-500 margin-2 body-2" w-i18n="modal.settings.pairing.unavailable.description.{{$ctrl.userType}}"></div><w-button class="submit big" w-modal-close><span w-i18n="modal.settings.pairing.unavailable.ok"></span></w-button></div>');$templateCache.put("modules/utils/modals/pinAsset/pinAsset.html",'<md-dialog w-i18n-ns="app.utils" class="add-asset" aria-label="modal"><md-dialog-content><div class="margin-4 add-asset__wrapper"><div class="add-asset__header"><h3 class="text-center basic-700" w-i18n="modal.pinAsset.title"></h3><div class="btn icon-close" w-modal-close></div></div><w-input class="add-asset__search" w-i18n-ns="app.utils" w-i18n-attr="placeholder" placeholder="modal.pinAsset.placeholder" ng-model="$ctrl.search"></w-input><ul class="add-asset__select"><li ng-repeat="asset in $ctrl.pinnedAssetNewList track by asset.id"><label class="mobile-caption-2"><w-checkbox-submit ng-model="asset.pinned"></w-checkbox-submit><w-asset-logo class="marker-hide" size="24" asset-id="{{::asset.id}}"></w-asset-logo><div class="name basic-700">{{::asset.name}}</div><div class="asset-id basic-500">{{::asset.id}}</div></label></li></ul></div><div><div class="add-asset__buttons-wrapper"><w-button class="big long" w-modal-close><span w-i18n="modal.pinAsset.cancel"></span></w-button><w-button class="big long submit" on-click="$ctrl.onSubmit()" disabled="!$ctrl.selected"><span w-i18n="modal.pinAsset.submit"></span></w-button></div></div></md-dialog-content></md-dialog>');$templateCache.put("modules/utils/modals/receive/Receive.html",'<md-dialog class="modal-receive" w-i18n-ns="app.utils" aria-label="modal"><md-dialog-content><div class="modal-content"><div class="btn icon-close ng-scope" w-modal-close></div><w-step-by-step active-step="$ctrl.step"><w-step><w-tabs class="header" ng-model="$ctrl.activeTab"><w-tab ng-if="$ctrl.showCryptocurrencyTab" title-name="::\'modal.receive.cryptocurrency.title\'" id="::\'cryptocurrency\'"><div class="receive-crypto"><div class="row margin-2"><div class="body-2 basic-900" w-i18n="modal.receive.asset"></div><div ng-if="$ctrl.singleAsset" class="input-like big flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::$ctrl.asset.id}}"></w-asset-logo><div class="asset-name">{{::$ctrl.asset.name}}</div></div></div><w-select class="big" ng-if="!$ctrl.singleAsset" ng-model="$ctrl.chosenAssetId"><w-option ng-repeat="cryptocurrency in $ctrl.cryptocurrencies track by $index" value="::cryptocurrency.id"><div class="flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::cryptocurrency.id}}"></w-asset-logo><div class="asset-name">{{::cryptocurrency.name}}</div></div></div></w-option></w-select></div><div class="warning-plate margin-1" ng-if="!$ctrl.gatewayServerError"><div class="body-2 warning-500" w-i18n="modal.deposit.{{$ctrl.assetKeyName}}.warningTitle"></div><div class="footnote-1 basic-500" w-i18n="modal.deposit.{{$ctrl.assetKeyName}}.warningText"></div></div><div class="warning-plate" ng-if="!$ctrl.gatewayServerError"><div class="body-2 warning-500" w-i18n="modal.deposit.{{$ctrl.assetKeyName}}.warningMinAmountTitle"></div><div class="footnote-1 basic-500" w-i18n="modal.deposit.{{$ctrl.assetKeyName}}.warningMinAmountText"></div></div><div class="body-2 basic-900" ng-if="!$ctrl.gatewayServerError"><span w-i18n="modal.deposit.copyAndShare"></span><w-help-icon><div class="help-icon__row headline-3"><span w-i18n="modal.deposit.{{$ctrl.assetKeyName}}.helpDescrTitle"></span></div><div class="help-icon__row"><span w-i18n="modal.deposit.{{$ctrl.assetKeyName}}.helpDescrText"></span></div><div class="help-icon__row"><span w-i18n="modal.deposit.pleaseNote"></span></div></w-help-icon></div><w-copy-wrap class="body-1 basic-900 mobile-low-fsize" info="$ctrl.gatewayAddress" ng-if="!$ctrl.gatewayServerError">{{$ctrl.gatewayAddress}}<w-loader ng-if="!$ctrl.gatewayAddress"></w-loader></w-copy-wrap><div class="or" ng-if="!$ctrl.gatewayServerError"><span w-i18n="modal.deposit.or"></span></div><div class="qr-wrapper margin-2" ng-if="!$ctrl.gatewayServerError" w-toggle-class-container><div class="scan body-2 basic-900" w-i18n="modal.deposit.scanQrCode"></div><w-qr-code size="200" url="$ctrl.gatewayAddress" w-toggle-class="zoomed-in"></w-qr-code><div class="pointer center footnote-1 margin-top-1 basic-500" w-toggle-class="zoomed-in" w-i18n-ns="app.ui" w-i18n="directives.transactionExport.qrZoomBtn"></div><w-loader ng-if="!$ctrl.gatewayAddress"></w-loader></div><div class="warning-plate server-error" ng-if="$ctrl.gatewayServerError"><div class="body-2 warning-500" w-i18n="modal.receive.serverError"></div></div><w-button ng-if="$ctrl.gatewayServerError" on-click="$ctrl.updateGatewayAddress()" type="submit" class="big submit long"><span w-i18n="modal.receive.coinomat.tryAgain"></span></w-button></div></w-tab><w-tab ng-if="$ctrl.showInvoiceTab" title-name="::\'modal.receive.invoice.title\'" id="::\'invoice\'"><form novalidate name="invoice"><div class="receive-invoice"><div class="row margin-2"><div class="body-2 basic-900" w-i18n="modal.receive.asset"></div><div class="input-like big flex-row split-half" ng-if="$ctrl.singleAsset"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::$ctrl.asset.id}}"></w-asset-logo><div class="asset-name">{{::$ctrl.asset.name}}</div></div></div><w-select class="big" ng-if="!$ctrl.singleAsset" ng-model="$ctrl.chosenAssetId"><w-option ng-repeat="invoice in $ctrl.invoicables track by $index" value="::invoice.id"><div class="flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::invoice.id}}"></w-asset-logo><div class="asset-name">{{::invoice.name}}</div></div></div></w-option></w-select></div><div class="row margin-2"><div class="body-2 basic-900" w-i18n="modal.receive.addressOrAlias"></div><w-select class="big" ng-model="$ctrl.chosenAlias"><w-option ng-repeat="alias in $ctrl.addressAndAliases track by $index" value="::alias">{{::alias}}</w-option></w-select></div><div class="row margin-2"><w-input-container><div class="body-2" w-i18n="modal.send.amount"></div><div class="amount-wrap"><w-input name="amount" type="text" class="big long" ng-model="$ctrl.invoiceAmount" w-validate w-validator-asset="{{$ctrl.asset.id || $ctrl.chosenAssetId}}" required></w-input></div></w-input-container></div><div class="row margin-2"><div class="body-2 basic-900" w-i18n="modal.receive.shareInvoiceLink"></div><w-copy-wrap class="body-1 basic-900 mobile-low-fsize" info="$ctrl.sendLink" ng-click="$ctrl.onCopyAddress()"><span>{{$ctrl.sendLink}}</span></w-copy-wrap></div><div class="or" w-i18n="modal.send.or"></div><div class="center qr-wrapper" w-toggle-class-container><div class="scan body-2 basic-900" w-i18n="modal.qr.scanQrCode"></div><w-qr-code w-toggle-class="zoomed-in" size="200" url="$ctrl.sendLink"></w-qr-code><div class="pointer center footnote-1 margin-top-1 basic-500" w-toggle-class="zoomed-in" w-i18n-ns="app.ui" w-i18n="directives.transactionExport.qrZoomBtn"></div></div></div></form></w-tab><w-tab ng-if="$ctrl.showCardTab" title-name="::\'modal.receive.card.title\'" id="::\'card\'"><div class="receive-card"><form novalidate name="card"><div class="row margin-2"><div class="body-2 basic-900" w-i18n="modal.receive.asset"></div><div ng-if="$ctrl.singleAsset" class="input-like big flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::$ctrl.asset.id}}"></w-asset-logo><div class="asset-name">{{::$ctrl.asset.name}}</div></div></div><w-select class="big" ng-if="!$ctrl.singleAsset" ng-model="$ctrl.chosenAssetId"><w-option ng-repeat="purchasableByCard in $ctrl.purchasablesByCards track by $index" value="::purchasableByCard.id"><div class="flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::purchasableByCard.id}}"></w-asset-logo><div class="asset-name">{{::purchasableByCard.name}}</div></div></div></w-option></w-select></div><div class="row margin-1 relative"><div class="body-2 basic-900" w-i18n="modal.receive.amountYouPay"></div><div class="basic-500 footnote-1"><span w-i18n="modal.receive.minimumIs"></span>&nbsp;{{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].min}} {{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].name}},&nbsp; <span w-i18n="modal.receive.maximumIs"></span>&nbsp;{{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].max}} {{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].name}}</div><div class="card-icons"><i class="visa-icon"></i> <i class="mastercard-icon"></i></div></div><div class="row margin-2"><w-input-container><div class="amount-wrap"><w-input name="amount" type="text" class="big" ng-model="$ctrl.cardPayment" w-validate w-validator-gte="{{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].min}}" w-validator-lte="{{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].max}}" w-validator-asset="{{$ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].assetId}}" required></w-input><w-select class="big" ng-model="$ctrl.chosenCurrencyIndex"><w-option ng-repeat="currency in $ctrl.cardFiatList track by $index" value="$index"><span>{{::currency.name}}</span></w-option></w-select></div><w-input-error message="gte"><span w-i18n="modal.receive.error.cardAmount.gte" params="{gte: $ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].min,currency: $ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].name}"></span></w-input-error><w-input-error message="lte"><span w-i18n="modal.receive.error.cardAmount.lte" params="{lte: $ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].max,currency: $ctrl.cardFiatList[$ctrl.chosenCurrencyIndex].name}"></span></w-input-error><w-input-error message="precision"><span w-i18n="modal.receive.error.cardAmount.precision"></span></w-input-error></w-input-container></div><div class="row margin-3"><div class="body-2 basic-900"><span w-i18n="modal.receive.youWillGet"></span></div><div class="note-plate body-2"><span ng-if="$ctrl.approximateAmount" w-i18n="money-currency" params="{money: $ctrl.approximateAmount}"></span><w-loader ng-if="!$ctrl.approximateAmount"></w-loader></div></div></form><a href="{{$ctrl.indacoinLink}}" target="_blank"><w-button disabled="card.$invalid" class="big submit long" on-click="$ctrl.confirmIndacoin()"><span w-i18n="modal.receive.card.continue"></span></w-button></a></div></w-tab><w-tab ng-if="$ctrl.showBankTab" title-name="::\'modal.receive.bank.title\'" id="::\'bank\'"><w-receive-bank fiats="$ctrl.fiats" asset="$ctrl.asset" list-of-eligible-countries="$ctrl.listOfEligibleCountries" single-asset="$ctrl.singleAsset"></w-receive-bank></w-tab></w-tabs></w-step><w-step><div class="text-center receive-confirm" ng-if="$ctrl.showIndacoinRedirectionDescription"><i class="card-success-icon margin-1"></i><h3 class="basic-700" w-i18n="modal.receive.cardSuccessHeader"></h3><div class="body-2 basic-500" w-i18n="modal.receive.cardSuccessText"></div></div></w-step></w-step-by-step></div></md-dialog-content></md-dialog>');$templateCache.put("modules/utils/modals/script/script.html",'<w-step-by-step active-step="$ctrl.step"><w-step><div class="text-center"><div class="icon-script-warning"></div><h2 class="basic-700" w-i18n="directives.scriptForm.warningHeader"></h2><div class="basic-500 margin-4 body-2 margin-4" w-i18n="directives.scriptForm.warningDescription"></div><w-button class="submit big long" on-click="$ctrl.nextStep()"><span w-i18n="directives.scriptForm.acceptAndContinue"></span></w-button></div></w-step><w-step><w-script-tx-form on-success="$ctrl.nextStep(signable)" state="$ctrl.activeState"></w-script-tx-form></w-step><w-step><w-confirm-transaction signable="$ctrl.signable" on-click-back="$ctrl.onClickBack()"></w-confirm-transaction></w-step></w-step-by-step>');$templateCache.put("modules/utils/modals/seedBackup/seedBackupModals.html",'<w-step-by-step w-i18n-ns="app.create" active-step="$ctrl.step"><w-step><div class="backup-seed"><div class="body-2"><span w-i18n="backupSeed.writeSeed"></span> <span>&nbsp;<span w-i18n="backupSeed.or"></span>&nbsp;<a w-copy="::$ctrl.seed.phrase" w-i18n="backupSeed.copySeed"></a></span></div><w-seed-read type="read" seed="{{::$ctrl.seed.phrase}}" class="no-user-select"></w-seed-read><div class="body-2 basic-900"><span w-i18n="backupSeed.needConfirm"></span></div><w-button class="submit big long" w-step-next><span w-i18n="backupSeed.ok"></span></w-button></div></w-step><w-step><div class="confirm-backup"><div class="body-2"><span w-i18n="modal.confirmBackupDescription"></span></div><w-seed-write class="margin-4" on-fulfilled="$ctrl.onSeedConfirmFulfilled(isValid)" on-touch="$ctrl.seedOnTouch()" seed="{{::$ctrl.seed.phrase}}"></w-seed-write><div class="body-2 basic-900"><span w-i18n="confirmBackup.enterCorrect"></span></div><w-seed-read class="margin-4" type="random" seed="{{::$ctrl.seed.phrase}}"></w-seed-read><div class="error-500 body-2" ng-if="$ctrl.seedConfirmWasFilled && !$ctrl.seedIsValid" w-i18n="confirmBackup.error"></div><w-delegate class="body-2 margin-3" selector="\'span.clear\'" handler="$ctrl.clear()"><span w-i18n="modal.backup.clearSeed" w-i18n-ns="app.utils"></span></w-delegate><div class="buttons-wrapper"><w-button class="big long" w-step-prev><span w-i18n="modal.prev"></span></w-button><w-button disabled="!$ctrl.seedIsValid" class="big long submit" w-step-next><span w-i18n="modal.next"></span></w-button></div></div></w-step><w-step><div class="text-center overflow-h"><div class="icon-tx-success"></div><h2 class="basic-700" w-i18n="modal.successHeadline"></h2><div class="basic-500 margin-4 body-2 text-center" w-i18n="modal.successContent"></div><w-button class="submit half big" w-modal-hide><span w-i18n="modal.understand"></span></w-button></div></w-step></w-step-by-step>');$templateCache.put("modules/utils/modals/sendAsset/send-header.html",'<div class="margin-2"><div class="body-2" w-i18n="modal.send.currency"></div><div ng-if="!$ctrl.canChooseAsset || $ctrl.choosableMoneyList.length === 1" class="input-like big flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::$ctrl.state.assetId}}"></w-asset-logo><div class="asset-name">{{$ctrl.balance.asset.name}}</div></div><div class="flex-row"><w-balance money="$ctrl.balance"></w-balance><span class="mobile-ellipsis ellipsis">&nbsp; {{($ctrl.balance.asset.displayName === \'WAVES\') ? \'ACRYL\' : $ctrl.balance.asset.displayName}}</span></div></div><w-select class="big" ng-if="$ctrl.canChooseAsset && $ctrl.choosableMoneyList.length > 1" ng-model="$ctrl.state.assetId"><w-option ng-repeat="option in $ctrl.choosableMoneyList track by option.asset.id" value="::option.asset.id"><div class="flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::option.asset.id}}"></w-asset-logo><div class="asset-name">{{::option.asset.name}}</div></div><div><w-balance money="option"></w-balance><span class="mobile-ellipsis ellipsis" ng-if="::option.asset.displayName === \'WAVES\'">&nbsp; {{\'ACRYL\'}}</span> <span class="mobile-ellipsis ellipsis" ng-if="::option.asset.displayName != \'WAVES\'">&nbsp; {{::option.asset.displayName}}</span></div></div></w-option></w-select></div>');$templateCache.put("modules/utils/modals/sendAsset/send.modal.html",'<md-dialog class="modal-send" w-i18n-ns="app.utils" aria-label="modal"><md-dialog-content><div class="modal-content"><div class="btn icon-close ng-scope" w-modal-close></div><w-step-by-step active-step="$ctrl.step" ng-if="!$ctrl.errorOccured"><w-step class="send-form"><w-tabs class="header" ng-model="$ctrl.tab"><w-tab title-name="::\'modal.send.sendTitle\'" id="::\'singleSend\'"><w-permit name="CAN_TRANSFER_TRANSACTION" mode="on"><w-single-send state="$ctrl.state" on-continue="$ctrl.nextStep(signable)"><ng-include src="::$ctrl.headerPath"></ng-include></w-single-send></w-permit><w-permit name="CAN_TRANSFER_TRANSACTION" mode="off"><div class="center"><svg width="80px" height="80px" viewBox="0 0 80 80" version="1.1" class="margin-3 margin-top-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/80/error-80-error500</title><g id="Icon/80/error-80-error500" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M40,77 C60.4345357,77 77,60.4345357 77,40 C77,19.5654643 60.4345357,3 40,3 C19.5654643,3 3,19.5654643 3,40 C3,60.4345357 19.5654643,77 40,77 Z M40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 Z" id="Oval" fill="#EF4829" fill-rule="nonzero"></path><path d="M42.1213203,40 L55.5563492,53.4350288 C56.1421356,54.0208153 56.1421356,54.9705627 55.5563492,55.5563492 C54.9705627,56.1421356 54.0208153,56.1421356 53.4350288,55.5563492 L40,42.1213203 L26.5649712,55.5563492 C25.9791847,56.1421356 25.0294373,56.1421356 24.4436508,55.5563492 C23.8578644,54.9705627 23.8578644,54.0208153 24.4436508,53.4350288 L37.8786797,40 L24.4436508,26.5649712 C23.8578644,25.9791847 23.8578644,25.0294373 24.4436508,24.4436508 C25.0294373,23.8578644 25.9791847,23.8578644 26.5649712,24.4436508 L40,37.8786797 L53.4350288,24.4436508 C54.0208153,23.8578644 54.9705627,23.8578644 55.5563492,24.4436508 C56.1421356,25.0294373 56.1421356,25.9791847 55.5563492,26.5649712 L42.1213203,40 Z" id="Combined-Shape" fill="#EF4829"></path></g></svg></div><h3 class="basic-700 margin-3 center" w-i18n="confirmTransaction.notPermitted.sendTitle"></h3><div class="warning-plate body-1 warning-500 margin-4" w-i18n="modal.disabledFeatures.transfer"></div></w-permit></w-tab><w-tab title-name="::\'modal.send.massSendTitle\'" id="::\'massSend\'"><w-permit name="CAN_MASS_TRANSFER_TRANSACTION" mode="on"><w-mass-send state="$ctrl.state" on-continue="$ctrl.nextStep(signable)"><ng-include src="::$ctrl.headerPath"></ng-include></w-mass-send></w-permit><w-permit name="CAN_MASS_TRANSFER_TRANSACTION" mode="off"><div class="center"><svg width="80px" height="80px" viewBox="0 0 80 80" version="1.1" class="margin-3 margin-top-2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/80/error-80-error500</title><g id="Icon/80/error-80-error500" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M40,77 C60.4345357,77 77,60.4345357 77,40 C77,19.5654643 60.4345357,3 40,3 C19.5654643,3 3,19.5654643 3,40 C3,60.4345357 19.5654643,77 40,77 Z M40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 Z" id="Oval" fill="#EF4829" fill-rule="nonzero"></path><path d="M42.1213203,40 L55.5563492,53.4350288 C56.1421356,54.0208153 56.1421356,54.9705627 55.5563492,55.5563492 C54.9705627,56.1421356 54.0208153,56.1421356 53.4350288,55.5563492 L40,42.1213203 L26.5649712,55.5563492 C25.9791847,56.1421356 25.0294373,56.1421356 24.4436508,55.5563492 C23.8578644,54.9705627 23.8578644,54.0208153 24.4436508,53.4350288 L37.8786797,40 L24.4436508,26.5649712 C23.8578644,25.9791847 23.8578644,25.0294373 24.4436508,24.4436508 C25.0294373,23.8578644 25.9791847,23.8578644 26.5649712,24.4436508 L40,37.8786797 L53.4350288,24.4436508 C54.0208153,23.8578644 54.9705627,23.8578644 55.5563492,24.4436508 C56.1421356,25.0294373 56.1421356,25.9791847 55.5563492,26.5649712 L42.1213203,40 Z" id="Combined-Shape" fill="#EF4829"></path></g></svg></div><h3 class="basic-700 margin-3 center" w-i18n="confirmTransaction.notPermitted.massSendTitle"></h3><div class="warning-plate body-1 warning-500 margin-4" w-i18n="modal.disabledFeatures.massTransfer"></div></w-permit></w-tab></w-tabs></w-step><w-step><w-confirm-transaction ng-if="!$ctrl.outerSendMode" on-click-back="$ctrl.back()" no-back-button="$ctrl.strict" on-tx-sent="$ctrl.onTxSent(id)" referrer="$ctrl.referrer" warning="$ctrl.state.warning || \'\'" show-validation-errors="$ctrl.strict" signable="$ctrl.signable"></w-confirm-transaction><w-confirm-gateway-transaction ng-if="$ctrl.outerSendMode" on-click-back="$ctrl.back()" gateway-details="$ctrl.state.gatewayDetails" target-recipient="$ctrl.state.singleSend.recipient" signable="$ctrl.signable"></w-confirm-gateway-transaction></w-step></w-step-by-step><div class="error-content" ng-if="$ctrl.errorOccured"><div class="error-title headline-2"><span w-i18n="modal.send.errors.title"></span></div><div class="icon-browser-warning"></div><h3 class="text-center margin-4 basic-700"><span w-i18n="modal.send.errors.headline"></span></h3><w-button class="big long white" w-modal-close><span w-i18n="modal.send.errors.button"></span></w-button></div></div></md-dialog-content></md-dialog>');$templateCache.put("modules/utils/modals/settings/loader.html",'<div class="app-loader app-loader-transition" style="background: {{bgColor}}!important;"><div class="loader-wrapper"><div class="loader"><span class="leaf1"></span> <span class="leaf2"></span> <span class="leaf3"></span> <span class="leaf4"></span></div></div></div>');$templateCache.put("modules/utils/modals/settings/settings.html",'<div class="modal-content settings-modal"><w-responsive-menu active-menu="$ctrl.tab"><w-responsive-menu-item value="general"><div class="menu-item general icon-settings-general"><i></i> <span w-i18n="modal.settings.general.title" class="icon"></span></div></w-responsive-menu-item><w-responsive-menu-item value="security"><div class="menu-item security icon-settings-security"><i></i> <span w-i18n="modal.settings.security.title"></span></div></w-responsive-menu-item><w-responsive-menu-item value="network"><div class="menu-item network icon-settings-network"><i></i> <span w-i18n="modal.settings.network.title" class="icon"></span></div></w-responsive-menu-item><w-responsive-menu-item value="info"><div class="menu-item info icon-settings-info"><i></i> <span w-i18n="modal.settings.info.title" class="icon"></span></div></w-responsive-menu-item></w-responsive-menu><div class="settings-content"><w-step-by-step active-step="$ctrl.tab"><w-step step-id="general" class="general"><div class="row flex-row row-style unit-checkbox no-border"><w-checkbox-submit id="shareStat" ng-model="$ctrl.shareStat"></w-checkbox-submit><label for="shareStat" w-i18n="modal.termsAccept.body.analytics"></label></div><w-web-only><div class="row flex-row row-style unit-checkbox no-border"><w-checkbox-submit id="openLinkViaWeb" ng-model="$ctrl.openLinkViaWeb"></w-checkbox-submit><label for="openLinkViaWeb" w-i18n="modal.settings.general.openLinkViaWeb"></label></div></w-web-only><div class="row flex-row row-style unit-checkbox no-border"><w-checkbox-submit id="advancedMode" ng-model="$ctrl.advancedMode"></w-checkbox-submit><label for="advancedMode" w-i18n="modal.termsAccept.body.advancedMode"></label></div><div class="row flex-row row-style unit-select"><div class="footnote-1 basic-500" w-i18n="modal.settings.general.language"></div><w-change-language on-change="$ctrl.onChangeLanguage(language)"></w-change-language></div><div class="row flex-row row-style unit-select"><div class="footnote-1 basic-500" w-i18n="modal.settings.general.timeout"></div><div><w-select class="with-scroll" ng-model="$ctrl.logoutAfterMin"><w-option value="::5"><span w-i18n="modal.settings.general.minutes" w-i18n-ns="app.utils" params="{minutes: 5}"></span></w-option><w-option value="::10"><span w-i18n="modal.settings.general.minutes" w-i18n-ns="app.utils" params="{minutes: 10}"></span></w-option><w-option value="::20"><span w-i18n="modal.settings.general.minutes" w-i18n-ns="app.utils" params="{minutes: 20}"></span></w-option><w-option value="::40"><span w-i18n="modal.settings.general.minutes" w-i18n-ns="app.utils" params="{minutes: 40}"></span></w-option><w-option value="::60"><span w-i18n="modal.settings.general.hours" w-i18n-ns="app.utils" params="{hours: 1}"></span></w-option></w-select></div></div><div class="row flex-row row-style unit-select"><div class="footnote-1 basic-500" w-i18n="modal.settings.general.theme"></div><div><span w-i18n-ns="app.utils" w-i18n="modal.settings.general.dark"></span></div></div>\x3c!--div class="row flex-row row-style unit-select">\n                    <div class="footnote-1 basic-500" w-i18n="modal.settings.general.color"></div>\n                    <div>\n                        <w-select ng-model="$ctrl.candle">\n                            <w-option value="::\'blue\'"><i class="blue"></i><span w-i18n="modal.settings.general.blue"></span></w-option>\n                            <w-option value="::\'green\'"><i class="green"></i><span w-i18n="modal.settings.general.green"></span></w-option>\n                        </w-select>\n                    </div>\n                </div--\x3e<w-permit name="CAN_PAIRING_WITH_MOBILE" mode="on"><div class="row flex-row row-style unit-selectgit stat"><div class="footnote-1 basic-500" w-i18n="modal.settings.pairing.devicePairing"></div><div><a class="label link" w-i18n="modal.settings.pairing.showCodeLink" w-modal-close ng-click="$ctrl.showPairingWithMobile()"></a></div></div></w-permit><div class="row flex-row row-style solid-border"><div class="footnote-1 basic-500" w-i18n="modal.settings.general.blockHeight"></div><div><span class="label">{{$ctrl.blockHeight}}</span></div></div></w-step><w-step step-id="security" class="security"><div class="row margin-1" ng-if="$ctrl.phrase"><div class="footnote-1 basic-500 label"><span w-i18n="modal.settings.security.backupPhrase"></span> <a class="settings-copy" w-copy="::$ctrl.phrase" w-i18n="modal.settings.network.copy"></a></div><div class="data-field"><w-button ng-if="!$ctrl.shownSeed" class="tiny" on-click="$ctrl.shownSeed = true"><span w-i18n="modal.settings.security.show"></span></w-button><pre class="footnote-1" ng-if="$ctrl.shownSeed">{{::$ctrl.phrase}}</pre></div></div><div class="row margin-1" ng-if="$ctrl.privateKey"><div class="footnote-1 basic-500 label"><span w-i18n="modal.settings.security.privateKey"></span> <a class="settings-copy" w-copy="::$ctrl.privateKey" w-i18n="modal.settings.network.copy"></a></div><div class="data-field"><w-button ng-if="!$ctrl.shownKey" class="tiny" on-click="$ctrl.shownKey = true"><span w-i18n="modal.settings.security.show"></span></w-button><div class="mobile-low-fsize" ng-if="$ctrl.shownKey">{{::$ctrl.privateKey}}</div></div></div><div class="row flex-row row-style row-mobile"><div class="footnote basic-500" w-i18n="modal.settings.security.publicKey"></div><div class="mobile-low-fsize">{{::$ctrl.publicKey}}</div></div><div class="row flex-row row-style row-mobile" ng-class="{\'solid-border\': !$ctrl.advancedMode}"><div class="footnote basic-500" w-i18n="modal.settings.security.address"></div><div class="mobile-low-fsize">{{::$ctrl.address}}</div></div><div ng-if="$ctrl.advancedMode" class="row flex-row row-style solid-border text-right"><div class="footnote basic-500" w-i18n="modal.settings.security.script"></div><div><w-button on-click="$ctrl.showScriptModal()" class="tiny submit" w-modal-close><span ng-if="$ctrl.isScript" w-i18n="modal.settings.security.scriptButtonUpdate"></span> <span ng-if="!$ctrl.isScript" w-i18n="modal.settings.security.scriptButton"></span></w-button></div></div></w-step><w-step step-id="network" class="network"><div class="row margin-1"><div class="footnote-1 basic-500 label"><span w-i18n="modal.settings.network.nodeAddress"></span> <a class="settings-copy" w-copy="$ctrl.node" w-i18n="modal.settings.network.copy"></a></div><div class="data-field"><w-input ng-model="$ctrl.node"></w-input></div></div><div class="row margin-1"><div class="footnote-1 basic-500 label"><span w-i18n="modal.settings.network.matcherAddress"></span> <a class="settings-copy" w-copy="$ctrl.matcher" w-i18n="modal.settings.network.copy"></a></div><div class="data-field"><w-input ng-model="$ctrl.matcher"></w-input></div></div><div class="row margin-1"><div class="footnote-1 basic-500 label"><span w-i18n="modal.settings.network.dataProvider"></span> <a class="settings-copy" w-copy="$ctrl.assetsOracleTmp" w-i18n="modal.settings.network.copy"></a></div><div class="data-field has-helper"><form novalidate name="dataProvider"><w-input-container class="relative"><w-input name="dataProviderInput" w-validate w-validator-custom="{{!$ctrl.oracleError}}" ng-model="$ctrl.assetsOracleTmp"></w-input><div class="input-state" ng-class="{pending: $ctrl.oraclePending, success: $ctrl.oracleSuccess}"><div class="input-state__icon"><svg class="animate" width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icon/10/check-submit300" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><polyline id="Path" stroke="#1F5AF6" stroke-width="1.5" points="2.38 5.16363636 4.01636364 6.8 7.61636364 3.2"></polyline></g></svg></div><w-help-icon class="info" ng-if="!$ctrl.oracleError && $ctrl.oracleData"><div class="flex"><div><div class="data-provider-name basic-700">{{$ctrl.oracleData.name}}</div><div class="data-provider-id basic-500">{{$ctrl.assetsOracle}}</div></div></div><div class="data-provider-info help-icon__row"><span>{{$ctrl.oracleData.description.en}}</span></div><div class="help-icon__row"><a target="_blank" href="{{$ctrl.oracleData.link}}" w-i18n="modal.settings.network.showMore"></a></div></w-help-icon></div><w-input-error message="custom"><span w-i18n="modal.settings.network.dataProviderInvalid"></span></w-input-error></w-input-container></form></div></div><div class="row margin-1"><div class="footnote-1 basic-500 label"><span w-i18n="modal.settings.network.spamFilter"></span> <a class="settings-copy" w-copy="$ctrl.scamListUrl" w-i18n="modal.settings.network.copy"></a></div><div class="data-field"><w-input ng-model="$ctrl.scamListUrl"></w-input></div></div><div class="margin-3 margin-top-2"><div class="row flex-row row-style unit-checkbox"><w-checkbox-submit id="spamFilterToggle" ng-model="$ctrl.withScam"></w-checkbox-submit><label for="spamFilterToggle" w-i18n="modal.settings.network.spamFilterInputDescr"></label></div></div><div class="margin-4"><w-button class="interface bordered" on-click="$ctrl.setNetworkDefault()"><span w-i18n="modal.settings.setDefault"></span></w-button></div></w-step><w-step step-id="info" class="info"><div class="row flex-row row-style"><div class="footnote-1 basic-500" w-i18n="modal.settings.info.version"></div><div>{{::$ctrl.appName}} {{::$ctrl.appVersion}}</div></div><div class="row flex-row row-style"><div class="footnote-1 basic-500" w-i18n="modal.settings.info.support"></div><div><a href="{{::$ctrl.supportLink}}" target="_blank">{{::$ctrl.supportLinkName}}</a></div></div><div class="row flex-row row-style solid-border"><div class="footnote-1 basic-500">&copy; 2018 Acryl Platform</div><div><span class="waves-logo"></span></div></div></w-step></w-step-by-step></div></div>');$templateCache.put("modules/utils/modals/signByDevice/signByDevice.html",'<div class="ledger-modal"><div class="btn icon-close" ng-click="$ctrl.onClose()"></div><div class="connect-mode" ng-if="$ctrl.mode === \'connect-ledger\'"><div class="ledger"><div class="device-img"><div class="display display1 animate-show"><div class="dot dot1 animate-show"></div><div class="dot dot2 animate-show"></div><div class="dot dot3 animate-show"></div><div class="dot dot4 animate-show"></div><div class="dot dot5 animate-show"></div></div><div class="display display2 animate-show">PIN code</div><div class="display display3 animate-show">Acryl</div></div></div><h3 class="text-center basic-700" w-i18n="modal.sign.connecting"></h3><div class="texts-wrapper"><div class="info-text text1 animate-show body-2 basic-500" w-i18n="modal.sign.connectLedger"></div><div class="info-text text2 animate-show body-2 basic-500" w-i18n="modal.sign.enterPin"></div><div class="info-text text3 animate-show body-2 basic-500" w-i18n="modal.sign.openApp"></div></div><w-loader></w-loader></div><div class="matcher-mode" ng-if="$ctrl.mode === \'sign-matcher\'"><div class="ledger" ng-if="$ctrl.isLedger"><div class="device-img"><div class="display"><div w-i18n="modal.sign.confirm"></div><div w-i18n="modal.sign.request"></div></div></div></div><div class="keeper" ng-if="$ctrl.isKeeper"><div class="device-img margin-3 keeper-icon"></div></div><h3 class="text-center basic-700" w-i18n="modal.sign.confirmRequest"></h3><div ng-if="$ctrl.isLedger" class="text-center info-text body-2 basic-500" w-i18n="modal.sign.confirmRequestLedger"></div><div ng-if="$ctrl.isKeeper" class="text-center info-text body-2 basic-500" w-i18n="modal.sign.confirmRequestKeeper"></div><div class="txinfo__row one-line-border"><div class="txinfo__key" w-i18n="modal.sign.requestId"></div><div class="txinfo__value">{{$ctrl.txId}}</div></div><w-loader></w-loader></div><div class="create-order-mode" ng-if="$ctrl.mode === \'create-order\'"><div class="create-order-icon ledger-icons"></div><div class="create-order-amounts"><h3 class="basic-700 text-center"><span ng-if="$ctrl.txData.type === \'buy\'">+{{::$ctrl.txData.amount}} {{::$ctrl.txData.amountAsset.name}} </span><span ng-if="$ctrl.txData.type === \'sell\'">+{{::$ctrl.txData.total}} {{::$ctrl.txData.totalAsset.name}}</span></h3><div class="text-center body-2 basic-500"><span ng-if="$ctrl.txData.type === \'sell\'">-{{::$ctrl.txData.amount}} {{::$ctrl.txData.amountAsset.name}} </span><span ng-if="$ctrl.txData.type === \'buy\'">-{{::$ctrl.txData.total}} {{::$ctrl.txData.totalAsset.name}}</span></div></div><div class="create-order-cont"><div class="txinfo__row"><div class="txinfo__key"><span>{{::$ctrl.txData.priceAsset.name}}</span> <span w-i18n="modal.sign.price"></span></div><div class="txinfo__value nowrap">{{::$ctrl.txData.price}}</div></div><div class="txinfo__row"><div class="txinfo__key" w-i18n="modal.sign.txId"></div><div class="txinfo__value nowrap">{{::$ctrl.txId}}</div></div><div class="txinfo__row"><div class="txinfo__key" w-i18n="modal.sign.fee"></div><div class="txinfo__value nowrap">{{::$ctrl.txData.fee}} {{::$ctrl.txData.feeAsset.name}}</div></div></div><div class="bottom-wrapper"><div ng-if="$ctrl.isLedger" class="loading-text text-center body-2 caption-1 margin-3" w-i18n="modal.sign.signByLedger"></div><div ng-if="$ctrl.isKeeper" class="loading-text text-center body-2 caption-1 margin-3" w-i18n="modal.sign.signByKeeper"></div><w-loader></w-loader></div></div><div class="cancel-order-mode" ng-if="$ctrl.mode === \'cancel-order\'"><div class="cancel-order-icon ledger-icons"></div><div class="create-order-amounts"><h3 class="basic-700 text-center" w-i18n="modal.sign.cancelOrder"></h3></div><div class="create-order-cont"><div class="txinfo__row"><div class="txinfo__key" w-i18n="modal.sign.txId"></div><div class="txinfo__value nowrap">{{::$ctrl.txId}}</div></div></div><div class="bottom-wrapper"><div ng-if="$ctrl.isLedger" class="loading-text text-center body-2 caption-1 margin-3" w-i18n="modal.sign.signByLedger"></div><div ng-if="$ctrl.isKeeper" class="loading-text text-center body-2 caption-1 margin-3" w-i18n="modal.sign.signByKeeper"></div><w-loader></w-loader></div></div></div>');$templateCache.put("modules/utils/modals/signDeviceError/signDeviceError.html",'<div class="sign-error-modal"><div class="btn icon-close" w-modal-close></div><div class="connect-mode" ng-if="$ctrl.mode === \'sign-error\' && $ctrl.isLedger"><div class="sign-error-icon ledger-icons"></div><h3 class="text-center basic-700" w-i18n="modal.sign.signError"></h3><p class="body-2 basic-500" w-i18n="modal.sign.signErrorText"></p><div class="buttons-wrapper"><w-button class="big" w-modal-close><span w-i18n="modal.sign.cancel"></span></w-button><w-button class="submit big" w-modal-hide><span w-i18n="modal.sign.retry"></span></w-button></div></div><div class="connect-mode" ng-if="$ctrl.mode === \'load-user-error\' && $ctrl.isLedger"><div class="sign-error-icon ledger-icons"></div><h3 class="text-center basic-700" w-i18n="modal.sign.connectionError"></h3><div class="title-wrapper margin-4 body-2 basic-500"><div class="text-center basic-500"><span w-i18n="modal.sign.signErrorText"></span></div><div class="text-center basic-500"><span w-i18n="modal.sign.referTo"></span> <a href="https://support.ledgerwallet.com/hc/en-us/articles/115005165269-Fix-connection-issues" w-i18n="modal.sign.article" target="_blank"></a></div></div><w-button class="submit big" w-modal-close><span w-i18n="modal.sign.close"></span></w-button></div><div class="connect-mode" ng-if="$ctrl.mode === \'sign-error\' && $ctrl.isKeeper"><div class="sign-error-icon ledger-icons"></div><h3 class="text-center basic-700" w-i18n="modal.sign.signErrorKeeper"></h3><p class="body-2 basic-500" w-i18n="modal.sign.signErrorTextKeeper"></p><div class="buttons-wrapper"><w-button class="big" w-modal-close><span w-i18n="modal.sign.cancel"></span></w-button><w-button class="submit big" w-modal-hide><span w-i18n="modal.sign.retry"></span></w-button></div></div><div class="connect-mode" ng-if="$ctrl.mode === \'load-user-error\' && $ctrl.isKeeper"><div class="sign-error-icon ledger-icons"></div><h3 class="text-center basic-700" w-i18n="modal.sign.connectionErrorKeeper"></h3><div class="title-wrapper margin-4 body-2 basic-500"><div class="text-center basic-500"><span w-i18n="modal.sign.signErrorTextImportKeeper" params="{address: $ctrl.userAddress}"></span></div></div><w-button class="submit big" w-modal-close><span w-i18n="modal.sign.close"></span></w-button></div></div>');$templateCache.put("modules/utils/modals/sponsored/sponsored.html",'<w-step-by-step active-step="$ctrl.step"><w-step><div class="asset-modal"><div class="asset-modal__head"><div class="asset-modal__head-content"><w-asset-logo ng-cloak asset-id="{{::$ctrl.asset.id}}" size="65" class="asset-modal__logo"></w-asset-logo><div class="asset-modal__data"><h2 ng-cloak class="asset-modal__name basic-900">{{::$ctrl.asset.name}} <span class="asset__label" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.qualified"></span> <span class="asset__label" ng-if="$ctrl.isGateway" w-i18n-ns="app.utils" w-i18n="modal.assetInfo.gateway"></span></h2><div class="body-2 basic-500">asd{{::$ctrl.ticker}}</div></div><div class="chart-wrapper"><w-asset-rate-chart no-update="::true" asset-id="::$ctrl.asset.id"></w-asset-rate-chart><div class="interactive-stop"></div></div></div></div></div><form novalidate name="sponsored"><div class="sponsorship__content margin-top-4"><div class="sponsorship__line"><div class="basic-500" w-i18n="modal.sponsorship.assetId"></div><div class="basic-900 fs-mobile ng-binding">{{::$ctrl.asset.id}}</div></div><div class="basic-500 margin-top-1" w-i18n="modal.token.description"></div><div class="sponsorship__line description margin-3"><div class="basic-900 fs-mobile ng-binding">{{::$ctrl.description}}</div></div><div class="warning-plate margin-3 body-1"><div class="body-2 warning-500" w-i18n="modal.sponsorship.warningHeader" params="{name: $ctrl.asset.name}"></div><div class="footnote-1 basic-500" w-i18n="modal.sponsorship.warningText" params="{name: $ctrl.asset.name}"></div></div><div class="body-2 basic-900" w-i18n="modal.sponsorship.amountPerTx"></div><w-input-container class="margin-1"><w-input ng-model="$ctrl.minSponsoredAssetFee" name="minSponsoredAssetFee" w-validate type="text" required w-validator-gt="0" w-validator-custom="{{$ctrl.canSendTransaction}}" w-validator-asset="{{::$ctrl.asset.id}}" class="big"></w-input><div title="{{$ctrl.asset.name}}" class="currency basic-500 caption-2">{{$ctrl.asset.displayName}}</div><w-input-error message="required"><span w-i18n="modal.sponsorship.errors.feeRequired"></span></w-input-error><w-input-error message="gt"><span w-i18n="modal.sponsorship.errors.notZero"></span></w-input-error><w-input-error message="precision"><span w-i18n="modal.sponsorship.errors.minSponsoredAssetFee.precision"></span></w-input-error></w-input-container><div class="basic-500 margin-top-1" w-i18n="modal.sponsorship.fee" params="{fee: $ctrl.fee}"></div><div class="row commission-error margin-top-1 footnote error-500" ng-if="!$ctrl.canSendTransaction"><span params="{fee: $ctrl.fee, currency: $ctrl.fee.asset}" w-i18n="modal.sponsorship.errors.noMoney"></span></div><div class="margin-top-3"><w-sign-button class="big submit long" disabled="sponsored.$invalid" on-click="$ctrl.getSignable()" on-success="$ctrl.onConfirm()"><span w-i18n-ns="app.utils" w-i18n="modal.sponsorship.continue"></span></w-sign-button></div></div></form></w-step><w-step><w-confirm-transaction on-click-back="$ctrl.onBack()" signable="$ctrl.signable"></w-confirm-transaction></w-step></w-step-by-step>');$templateCache.put("modules/utils/modals/startLeasing/startLeasing.html",'<w-permit name="CAN_LEASE_TRANSACTION" mode="on"><w-step-by-step active-step="$ctrl.step"><w-step><div class="margin-top-4"><form name="lease" novalidate><div class="row"><div class="body-2 basic-900" w-i18n="modal.startLease.balance"></div><div class="input-like flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::$ctrl.assetId}}"></w-asset-logo><div class="asset-name">{{$ctrl.balance.asset.name}}</div></div><div><w-balance money="$ctrl.balance"></w-balance><span>&nbsp {{($ctrl.balance.asset.displayName === "WAVES") ? "ACRYL" : $ctrl.balance.asset.displayName}}</span></div></div></div><div class="row"><div class="flex-row-title"><div class="body-2 basic-900" w-i18n="modal.startLease.recipient"></div><a class="link" target="_blank" rel="noopener noreferrer" ng-href="{{::$ctrl.nodeListLink}}"><span></span></a></div><w-input-container><w-input class="big" type="text" w-validate w-validator-waves-address="no-self" name="recipient" ng-model="$ctrl.recipient" required></w-input><w-input-error message="wavesAddress"><span w-i18n="modal.send.errors.address"></span></w-input-error><w-input-error message="required"><span w-i18n="modal.send.errors.required"></span></w-input-error></w-input-container></div><div class="row"><div class="body-2 basic-900" w-i18n="modal.startLease.amount"></div><w-input-container><w-balance-input name="amount" asset-id="$ctrl.assetId" max-balance="$ctrl.balance" min="0" fee="$ctrl.fee" input-classes="big" amount="$ctrl.amount"></w-balance-input><w-input-error name="amount" message="required"><span w-i18n="inputs.errors.required"></span></w-input-error><w-input-error name="amount" message="gt"><span ng-if="$ctrl.tx.amount.getTokens().eq(0)" w-i18n="inputs.errors.required"></span> <span ng-if="$ctrl.tx.amount.getTokens().gt(0)" w-i18n="inputs.errors.gtGatewayMin" params="{min: $ctrl.minimumAmount, assetName: $ctrl.tx.amount.asset.displayName}"></span></w-input-error><w-input-error name="amount" message="precision"><span w-i18n="modal.send.errors.precision" params="{precision: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.precision}"></span></w-input-error><w-input-error name="amount" message="lte"><span ng-if="!$ctrl.tx.amount.getTokens().gte($ctrl.gatewayDetails.maximumAmount)" w-i18n="modal.send.errors.max"></span> <span ng-if="$ctrl.tx.amount.getTokens().gte($ctrl.gatewayDetails.maximumAmount)" params="{money: $ctrl.maxGatewayAmount}" w-i18n="modal.send.errors.maxCoinomat"></span></w-input-error></w-input-container></div><div class="row basic-500 margin-2"><span w-i18n="modal.startLease.fee"></span>&nbsp;0.001 ACRYL</div><w-sign-button disabled="lease.$invalid" on-click="$ctrl.sign()" on-success="$ctrl.next(signable)" class="submit big long"><span w-i18n-ns="app.utils" w-i18n="modal.startLease.start"></span></w-sign-button></form></div></w-step><w-step><w-confirm-transaction on-click-back="$ctrl.back()" signable="$ctrl.signable"></w-confirm-transaction></w-step></w-step-by-step></w-permit><w-permit name="CAN_LEASE_TRANSACTION" mode="off"><div class="center"><svg width="80px" height="80px" viewBox="0 0 80 80" version="1.1" class="margin-3 margin-top-6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/80/error-80-error500</title><g id="Icon/80/error-80-error500" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M40,77 C60.4345357,77 77,60.4345357 77,40 C77,19.5654643 60.4345357,3 40,3 C19.5654643,3 3,19.5654643 3,40 C3,60.4345357 19.5654643,77 40,77 Z M40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 Z" id="Oval" fill="#EF4829" fill-rule="nonzero"></path><path d="M42.1213203,40 L55.5563492,53.4350288 C56.1421356,54.0208153 56.1421356,54.9705627 55.5563492,55.5563492 C54.9705627,56.1421356 54.0208153,56.1421356 53.4350288,55.5563492 L40,42.1213203 L26.5649712,55.5563492 C25.9791847,56.1421356 25.0294373,56.1421356 24.4436508,55.5563492 C23.8578644,54.9705627 23.8578644,54.0208153 24.4436508,53.4350288 L37.8786797,40 L24.4436508,26.5649712 C23.8578644,25.9791847 23.8578644,25.0294373 24.4436508,24.4436508 C25.0294373,23.8578644 25.9791847,23.8578644 26.5649712,24.4436508 L40,37.8786797 L53.4350288,24.4436508 C54.0208153,23.8578644 54.9705627,23.8578644 55.5563492,24.4436508 C56.1421356,25.0294373 56.1421356,25.9791847 55.5563492,26.5649712 L42.1213203,40 Z" id="Combined-Shape" fill="#EF4829"></path></g></svg></div><h3 class="basic-700 margin-3 center" w-i18n="modal.startLease.title"></h3><div class="warning-plate warning-500"><span w-i18n="modal.disabledFeature.lease" class="body-1"></span></div></w-permit>');$templateCache.put("modules/utils/modals/templates/dialog-content.html",'<div class="dialog-content"><div class="dialog-content__close icon-close" w-modal-close></div><div class="dialog-content__icon {{::iconClass}}" ng-if="iconClass"></div><h3 class="dialog-content__message" w-i18n="{{::message.literal}}" params="::message.params" w-i18n-ns="{{::message.ns}}"></h3><div class="buttons-wrapper"><w-button ng-repeat="button in buttons track by $index" class="{{::button.classes}}" on-click="$ctrl.applyClick(button)"><div class="dialog-content__button" w-i18n="{{::button.text.literal}}" w-i18n-ns="{{::button.text.ns}}" params="{{::button.text.params}}"></div></w-button></div></div>');$templateCache.put("modules/utils/modals/templates/header.modal.html",'<div class="md-toolbar-tools"><div class="headline-2 basic-700">{{title}}</div><span flex></span><div ng-if="::!$ctrl.noCloseIcon" class="btn icon-close" w-modal-close></div></div>');$templateCache.put("modules/utils/modals/templates/modal.wrapper.html",'<md-dialog class="modal-send" aria-label="asset_send"></md-dialog>');$templateCache.put("modules/utils/modals/termsAccept/terms-accept.html",'<md-dialog w-i18n-ns="app.utils" class="terms-accept" aria-label="modal"><w-step-by-step active-step="0"><w-step class="step-1"><md-dialog-content><div class="header-texts"><h1 w-i18n="modal.termsAccept.header.title"></h1><div class="body-2 disabled-600" w-i18n="modal.termsAccept.header.description"></div></div><hr><div class="row"><w-checkbox-submit id="security" ng-model="$ctrl.security"></w-checkbox-submit><label for="security" w-i18n="modal.termsAccept.body.security"></label></div><div class="row"><w-checkbox-submit id="backup" ng-model="$ctrl.backup"></w-checkbox-submit><label for="backup" w-i18n="modal.termsAccept.body.backup"></label></div><div class="row"><w-checkbox-submit id="shareAnalytics" ng-model="$ctrl.shareAnalytics"></w-checkbox-submit><label for="shareAnalytics" w-i18n="modal.termsAccept.body.analytics"></label></div><w-button class="submit long big" on-click="$ctrl.confirm()" disabled="!$ctrl.security || !$ctrl.backup"><span w-i18n="modal.termsAccept.body.ok"></span></w-button></md-dialog-content></w-step></w-step-by-step></md-dialog>');$templateCache.put("modules/utils/modals/transactionInfo/transaction-info.modal.html",'<md-dialog w-i18n-ns="app.ui" class="txinfo" aria-label="modal"><div class="btn icon-close" w-modal-close></div><md-dialog-content><div class="modal-content"><div ng-if="!$ctrl.signable"><w-loader></w-loader></div><div ng-if="$ctrl.signable" class="txinfo__wrapper"><w-transaction-info signable="::$ctrl.signable"></w-transaction-info><div class="txinfo__row" ng-if="$ctrl.confirmed"><div class="txinfo__key" w-i18n="transaction.modals.confirmations"></div><div class="txinfo__value">{{$ctrl.confirmations}}</div></div><div class="txinfo__row"><div class="txinfo__key" w-i18n="transaction.modals.viewTransactionKey"></div><div class="txinfo__value nowrap"><a w-i18n="transaction.modals.viewTransactionValue" href="{{::$ctrl.explorerLink}}" target="_blank"></a></div></div><div class="txinfo__row txinfo__row-border-ts"><time>{{::$ctrl.transaction.timestamp | date: \'dd.MM.yyyy, HH:mm\'}}</time><div class="status" ng-class="{confirmed: $ctrl.confirmed, unconfirmed: !$ctrl.confirmed}" w-i18n="transaction.confirmed.{{$ctrl.confirmed}}"></div></div></div></div></md-dialog-content></md-dialog>');$templateCache.put("modules/utils/modals/tryDesktop/tryDesktop.html",'<div class="try-desktop-modal__icon margin-top-2 margin-3"></div><h3 class="basic-700 try-desktop-modal__title try-desktop-modal__center" w-i18n="modal.tryDesktop.title"></h3><div class="body-2 basic-500 try-desktop-modal__message margin-3 try-desktop-modal__center" w-i18n="modal.tryDesktop.message"></div><div class="try-desktop-modal__buttons-wrapper headline-2 margin-4"><w-button class="try-desktop-modal__button big" on-click="$ctrl.tryWeb()" w-modal-close><span w-i18n="modal.tryDesktop.cancel"></span></w-button><a class="try-desktop-modal__button fake-button" target="_blank" ng-click="$ctrl.tryDesktop()" w-modal-hide><span w-i18n="modal.tryDesktop.try" class="big submit fake-button-content"></span></a></div><div class="try-desktop-modal__flex"><w-checkbox-submit id="save" ng-model="$ctrl.save"></w-checkbox-submit><label for="save" class="basic-400 body-2 try-desktop-modal__label" w-i18n="modal.tryDesktop.label"></label></div>');$templateCache.put("modules/utils/modals/tutorialModals/tutorialModals.html",'<md-dialog w-i18n-ns="app.utils" class="tutorial-modals" aria-label="modal"><div class="btn icon-close" w-modal-close></div><w-step-by-step active-step="0"><w-step class="step-1"><md-dialog-content><div class="content-wrapper disabled-600 body-2"><h1><span w-i18n="modal.tutorialModals.step1.title"></span></h1><div class="flex-cols"><div class="relative"><img class="computer" src="img/icons/tutorial-modals/tutorial-computer.svg"></div><div><div class="margin-2"><span w-i18n="modal.tutorialModals.step1.p1"></span></div><div class="margin-2"><span w-i18n="modal.tutorialModals.step1.p2"></span></div><div class="margin-2"><span w-i18n="modal.tutorialModals.step1.p3"></span></div></div></div></div><div class="buttons-wrapper"><w-button class="big long submit desktop-only" w-step-next><span w-i18n="modal.tutorialModals.step1.button"></span></w-button><w-button class="big long submit mobile-only" w-step-next><span w-i18n="modal.tutorialModals.step1.buttonMobile"></span></w-button></div></md-dialog-content></w-step><w-step class="step-2"><md-dialog-content><div class="content-wrapper disabled-600 body-2"><h1><span w-i18n="modal.tutorialModals.step2.title"></span></h1><div class="margin-4"><span w-i18n="modal.tutorialModals.step2.p1"></span></div><div class="flex-cols"><div class="cell cell-001 margin-4"><div w-i18n="modal.tutorialModals.step2.cell1"></div></div><div class="cell cell-002 margin-4"><div w-i18n="modal.tutorialModals.step2.cell2"></div></div><div class="cell cell-003 margin-4"><div w-i18n="modal.tutorialModals.step2.cell3"></div></div><div class="cell cell-004 margin-4"><div w-i18n="modal.tutorialModals.step2.cell4"></div></div></div></div><div class="flex-cols buttons-wrapper"><div><w-button class="big long" w-step-prev><span w-i18n="modal.tutorialModals.step2.backButton"></span></w-button></div><div><w-button class="big long submit" w-step-next><span w-i18n="modal.tutorialModals.step2.nextButton"></span></w-button></div></div></md-dialog-content></w-step><w-step class="step-3"><md-dialog-content><div class="content-wrapper disabled-600 body-2"><h1><span w-i18n="modal.tutorialModals.step3.title"></span></h1><div class="margin-4"><span w-i18n="modal.tutorialModals.step3.p1"></span></div><div class="flex-cols"><div class="cell cell-005 margin-4" ng-if="$ctrl.isWeb"><div w-i18n="modal.tutorialModals.step3.cell1"></div></div><div class="cell cell-006 margin-4" ng-if="$ctrl.isWeb"><div w-i18n="modal.tutorialModals.step3.cell2"></div></div><div class="cell cell-007 margin-4"><div w-i18n="modal.tutorialModals.step3.cell3"></div></div><div class="cell cell-008 margin-4"><div ng-if="$ctrl.isDesktop"><span w-i18n="modal.tutorialModals.step3.cell4"></span></div><div ng-if="$ctrl.isWeb"><span w-i18n="modal.tutorialModals.step3.cell4Web"></span></div></div><div class="cell cell-009 margin-4"><div w-i18n="modal.tutorialModals.step3.cell5"></div></div><div class="cell cell-010 margin-4"><div w-i18n="modal.tutorialModals.step3.cell6"></div></div></div></div><div class="flex-cols buttons-wrapper"><div><w-button class="big long" w-step-prev><span w-i18n="modal.tutorialModals.step3.backButton"></span></w-button></div><div><w-button class="big long submit" w-modal-hide><span w-i18n="modal.tutorialModals.step3.nextButton"></span></w-button></div></div></md-dialog-content></w-step></w-step-by-step></md-dialog>');$templateCache.put("modules/ui/directives/actions/actions.html",'<div ng-click="$ctrl.toggleActions()" class="click-area"><div class="dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div><div ng-if="$ctrl.expanded" class="{{::$ctrl.DROP_DOWN_CLASS}}" ng-class="{\n        \'to-up\': $ctrl.openUp,\n        \'expanded\': $ctrl.expanded\n     }" ng-mouseleave="$ctrl.onMouseLeave()" ng-mouseenter="$ctrl.onMouseEnter()" ng-transclude></div>');$templateCache.put("modules/ui/directives/anyTransactionForm/any-tx-form.html",'<form novalidate name="anyTx"><div class="flex flex-between body-2 margin-top-4"><div w-i18n="directives.anyTransaction.textAreaTitle"></div><div ng-if="!!$ctrl.json"><span class="link" w-copy="$ctrl.json" w-i18n-ns="app.ui" w-i18n="directives.anyTransaction.copy"></span></div></div><w-input-container><w-input ng-model="$ctrl.json" w-validate w-validator-custom="{{$ctrl.isValidJSON}}" name="script" textarea="true" required class="large"></w-input><w-input-error message="required"><span w-i18n="directives.anyTransaction.errors.required"></span></w-input-error><w-input-error message="custom"><span w-i18n="directives.anyTransaction.errors.invalidScript"></span></w-input-error></w-input-container><div class="margin-top-2 warning-plate"><div class="body-2 warning-400" w-i18n="directives.anyTransaction.warning.title"></div><div class="footnote-1 basic-500" w-i18n="directives.anyTransaction.warning.body"></div></div><div class="margin-top-2 basic-500 footnote-1"><span ng-if="$ctrl.fee" w-i18n="directives.anyTransaction.fee" params="{fee: $ctrl.fee}"></span> <span ng-if="!$ctrl.fee || !!$ctrl.anyTx.$invalid" w-i18n="directives.anyTransaction.calculatingFee"></span></div><div class="margin-top-3"><w-button class="big long submit" disabled="anyTx.$invalid" on-click="$ctrl.next()"><span w-i18n="directives.anyTransaction.ok"></span></w-button></div></form>');$templateCache.put("modules/ui/directives/avatar/avatar.html",'<div ng-class="{scripted: $ctrl.hasScript}" class="avatar-wrap" ng-style="$ctrl.style"><img width="{{$ctrl.size}}" height="{{$ctrl.size}}" ng-src="{{$ctrl.src}}"><div class="avatar-label-wrapper"></div></div>');$templateCache.put("modules/ui/directives/balanceInput/balanceInput.html",'<div w-i18n-ns="app.ui" class="input-wrap" ng-if="$ctrl.name"><w-input type="text" w-validate class="no-validate-icons {{::$ctrl.inputClasses}}" w-validator-gt="{{$ctrl.min}}" w-validator-lte="{{$ctrl.realMaxBalance}}" w-validator-asset="{{$ctrl.asset}}" ng-focus="$ctrl.focus = true" ng-blur="$ctrl.focus = false" name="{{::$ctrl.name}}" ng-disabled="$ctrl.disabled" ng-model="$ctrl.amount" required></w-input><div ng-if="!$ctrl.focus" title="{{$ctrl.asset.ticker || $ctrl.asset.name}}" class="currency basic-500 caption-2">{{($ctrl.asset.displayName === "WAVES") ? "ACRYL" :$ctrl.asset.displayName}}</div><div ng-mousedown="$ctrl.fillMaxClick()" ng-touchstart="$ctrl.fillMaxClick()" class="send-all" ng-if="$ctrl.focus"><span w-i18n="balanceInput.max"></span></div></div>');$templateCache.put("modules/ui/directives/button/button.html",'<button type="submit"><div class="button__content" ng-transclude></div><w-loader></w-loader></button>');$templateCache.put("modules/ui/directives/carousel/carousel.html",'<div class="slider"><div class="slide-window"></div><div ng-style="$ctrl._getLeft()" class="slider-content" ng-transclude></div></div>');$templateCache.put("modules/ui/directives/carouselDots/dots.html",'<div ng-repeat="dot in $ctrl.dots track by $index" class="dot" ng-click="$ctrl.onClick(dot)" ng-class="$ctrl.getClass(dot)"></div>');$templateCache.put("modules/ui/directives/changeLanguage/changeLanguage.html",'<w-select ng-model="$ctrl.active"><w-option ng-repeat="lng in $ctrl.list" value="::lng.code"><div class="lng-item lng-{{ ::lng.code }}"><span>{{ ::lng.name }}</span></div></w-option></w-select>');$templateCache.put("modules/ui/directives/coinomatTerms/coinomat-terms.html",'<div ng-if="!$ctrl.termsPending"><div ng-if="$ctrl.canShowCheckBox && $ctrl.canShowTerms" class="note-plate transparent margin-2 basic-700"><div class="margin-1 footnote-3" w-i18n="modal.receive.providedByCoinomat.header"></div><div class="footnote-1" w-i18n="modal.receive.providedByCoinomat.descriprion"></div></div><div ng-if="$ctrl.canShowCheckBox" class="unit-checkbox margin-1 basic-700"><w-checkbox-submit id="coinomat-terms-accept" ng-model="$ctrl.userModelTerms" disabled="$ctrl.signPending"></w-checkbox-submit><label for="coinomat-terms-accept" class="footnote-1"><span w-i18n="modal.receive.providedByCoinomat.termsReadedInputLabel"></span></label></div><div class="row margin-top-2 caption-1 basic-500 info-block"><i class="icon-info"></i><div w-i18n="modal.sepa.warning"></div></div><w-sign w-i18n-ns="app.ui" signable="$ctrl.signable" on-success="$ctrl.onSignSuccess(signature)" on-cancel="$ctrl.onSignCancel()" ng-class="{\'margin-top-3\': !$ctrl.isVerified}" class="block"></w-sign></div>');$templateCache.put("modules/ui/directives/complexityMeter/complexityMeter.html",'<div ng-class="$ctrl.state" class="complexity-meter"><div class="step-list"><div class="step" ng-repeat="step in $ctrl.steps track by $index" ng-class="{active: step.active}"></div></div><div class="messages-container" ng-transclude></div></div>');$templateCache.put("modules/ui/directives/confirmAction/confirmAction.html",'<div class="relative"><span w-i18n="{{$ctrl.literalText}}" ng-click="$ctrl.onClickAction()"></span><w-click-outside ng-if="$ctrl.clicked" on-click-outside="$ctrl.removeClicked();"><div class="confirm-tooltip"><div class="title basic-900 margin-1" w-i18n="{{$ctrl.literalHeader}}"></div><div class="descr basic-500 margin-1" w-i18n="{{$ctrl.literalDescription}}"></div><div class="buttons-wrapper"><w-button class="submit tiny" on-click="$ctrl.removeClicked()"><span w-i18n="{{$ctrl.literalBack}}"></span></w-button><w-button class="warning tiny" on-click="$ctrl.runAction()"><span w-i18n="{{$ctrl.literalConfirm}}"></span></w-button></div></div></w-click-outside></div>');$templateCache.put("modules/ui/directives/confirmTransaction/confirmTransaction.html",'<div w-i18n-ns="{{::$ctrl.locale}}" class="transaction-confirm txinfo"><w-step-by-step active-step="$ctrl.step"><w-step><w-permit name="{{::$ctrl.permissionName}}" mode="on"><w-transaction-info is-confirm="::true" signable="$ctrl.signable"></w-transaction-info><w-sign-button on-success="$ctrl.nextStep()" class="margin-top-3 block" on-click="$ctrl.getSignable()"><span w-i18n="confirmTransaction.sign"></span></w-sign-button></w-permit><w-permit name="{{::$ctrl.permissionName}}" mode="off"><div class="center"><svg width="80px" height="80px" viewBox="0 0 80 80" version="1.1" class="margin-3 margin-top-6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/80/error-80-error500</title><defs></defs><g id="Icon/80/error-80-error500" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M40,77 C60.4345357,77 77,60.4345357 77,40 C77,19.5654643 60.4345357,3 40,3 C19.5654643,3 3,19.5654643 3,40 C3,60.4345357 19.5654643,77 40,77 Z M40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 Z" id="Oval" fill="#EF4829" fill-rule="nonzero"></path><path d="M42.1213203,40 L55.5563492,53.4350288 C56.1421356,54.0208153 56.1421356,54.9705627 55.5563492,55.5563492 C54.9705627,56.1421356 54.0208153,56.1421356 53.4350288,55.5563492 L40,42.1213203 L26.5649712,55.5563492 C25.9791847,56.1421356 25.0294373,56.1421356 24.4436508,55.5563492 C23.8578644,54.9705627 23.8578644,54.0208153 24.4436508,53.4350288 L37.8786797,40 L24.4436508,26.5649712 C23.8578644,25.9791847 23.8578644,25.0294373 24.4436508,24.4436508 C25.0294373,23.8578644 25.9791847,23.8578644 26.5649712,24.4436508 L40,37.8786797 L53.4350288,24.4436508 C54.0208153,23.8578644 54.9705627,23.8578644 55.5563492,24.4436508 C56.1421356,25.0294373 56.1421356,25.9791847 55.5563492,26.5649712 L42.1213203,40 Z" id="Combined-Shape" fill="#EF4829"></path></g></svg></div><h3 class="basic-700 margin-3 center" w-i18n="confirmTransaction.notPermitted.{{::$ctrl.tx.typeName}}-title"></h3><div class="warning-plate warning-400 body-1"><w-permit-message literal="confirmTransaction.notPermitted.{{::$ctrl.tx.typeName}}"></w-permit-message></div></w-permit></w-step><w-step><w-permit name="{{::$ctrl.permissionName}}" mode="on"><div class="txinfo__wrapper"><w-transaction-info-header signable="$ctrl.signable"></w-transaction-info-header><w-tabs class="inner" ng-model="$ctrl.activeTab" ng-if="::$ctrl.advancedMode"><w-tab title-name="::\'confirmTransaction.details\'" id="::\'details\'"><w-transaction-info-content is-confirm="::true" class="margin-top-4" signable="$ctrl.signable"></w-transaction-info-content></w-tab><w-tab title-name="::\'confirmTransaction.JSON\'" id="::\'JSON\'"><w-transaction-info-json class="margin-top-4" signable="$ctrl.signable"></w-transaction-info-json></w-tab><w-tab ng-if="$ctrl.canCreateLink" title-name="::\'confirmTransaction.export\'" id="::\'export\'"><w-transaction-export class="margin-top-4" link="$ctrl.exportLink"></w-transaction-export></w-tab></w-tabs><w-transaction-info-content ng-if="::!$ctrl.advancedMode" is-confirm="::true" signable="$ctrl.signable"></w-transaction-info-content><div class="bottom-warning" ng-if="::$ctrl.isSetScript"><div class="warning-plate"><div class="body-2 warning-500" w-i18n-ns="app.utils" w-i18n="directives.scriptForm.warning.title"></div><div class="footnote-1 basic-500" w-i18n-ns="app.utils" w-i18n="directives.scriptForm.warning.body"></div></div></div><div class="bottom-warning" ng-if="::$ctrl.isTockenIssue"><div class="warning-plate"><div class="body-2 warning-500" w-i18n="modal.token.warning.header"></div><div class="footnote-1 basic-500" w-i18n="modal.token.warning.text"></div><div class="body-2 warning-500" w-i18n="modal.token.warning.textWarning"></div></div></div><h3 class="info margin-4 basic-700" ng-if="$ctrl.referrer"><span w-i18n="confirmTransaction.redirect" params="{referrer: $ctrl.referrer}"></span></h3><div class="error-500 margin-2 footnote-1" ng-repeat="error in $ctrl.errors" w-i18n="{{::error.literal}}"></div><div class="bottom-wrapper"><div ng-if="$ctrl.errorMessage" class="error-500 margin-2 margin-top-2">{{$ctrl.errorMessage}}</div><div class="buttons-wrapper margin-top-3" ng-if="!$ctrl.loadingSignFromDevice"><w-button ng-if="!$ctrl.noBackButton" class="big" on-click="$ctrl.onClickBack()"><span w-i18n="confirmTransaction.back"></span></w-button><w-button class="big submit" disabled="$ctrl.errors.length > 0 || !$ctrl.txId" ng-class="{long: $ctrl.noBackButton}" w-next-step on-click="$ctrl.confirm()"><span w-i18n="confirmTransaction.confirm"></span></w-button></div></div></div></w-permit><w-permit name="{{::$ctrl.permissionName}}" mode="off"><div class="center"><svg width="80px" height="80px" viewBox="0 0 80 80" version="1.1" class="margin-3 margin-top-6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Icon/80/error-80-error500</title><defs></defs><g id="Icon/80/error-80-error500" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M40,77 C60.4345357,77 77,60.4345357 77,40 C77,19.5654643 60.4345357,3 40,3 C19.5654643,3 3,19.5654643 3,40 C3,60.4345357 19.5654643,77 40,77 Z M40,80 C17.90861,80 0,62.09139 0,40 C0,17.90861 17.90861,0 40,0 C62.09139,0 80,17.90861 80,40 C80,62.09139 62.09139,80 40,80 Z" id="Oval" fill="#EF4829" fill-rule="nonzero"></path><path d="M42.1213203,40 L55.5563492,53.4350288 C56.1421356,54.0208153 56.1421356,54.9705627 55.5563492,55.5563492 C54.9705627,56.1421356 54.0208153,56.1421356 53.4350288,55.5563492 L40,42.1213203 L26.5649712,55.5563492 C25.9791847,56.1421356 25.0294373,56.1421356 24.4436508,55.5563492 C23.8578644,54.9705627 23.8578644,54.0208153 24.4436508,53.4350288 L37.8786797,40 L24.4436508,26.5649712 C23.8578644,25.9791847 23.8578644,25.0294373 24.4436508,24.4436508 C25.0294373,23.8578644 25.9791847,23.8578644 26.5649712,24.4436508 L40,37.8786797 L53.4350288,24.4436508 C54.0208153,23.8578644 54.9705627,23.8578644 55.5563492,24.4436508 C56.1421356,25.0294373 56.1421356,25.9791847 55.5563492,26.5649712 L42.1213203,40 Z" id="Combined-Shape" fill="#EF4829"></path></g></svg></div><h3 class="basic-700 margin-3 center" w-i18n="confirmTransaction.notPermitted.{{::$ctrl.tx.typeName}}-title"></h3><div class="warning-plate warning-400 body-1"><w-permit-message literal="confirmTransaction.notPermitted.{{::$ctrl.tx.typeName}}"></w-permit-message></div></w-permit></w-step><w-step><div class="text-center overflow-h"><div class="icon-tx-success"></div><h2 class="text-center basic-900" w-i18n="confirmTransaction.success"></h2><div class="disabled-600 margin-4 body-2 text-center" w-i18n="confirmTransaction.description.{{::$ctrl.tx.typeName}}" params="$ctrl.tx"></div><div class=""><w-button class="submit half big" on-click="$ctrl.showTxInfo()"><span w-i18n="confirmTransaction.details"></span></w-button></div></div></w-step></w-step-by-step></div>');$templateCache.put("modules/ui/directives/emptyBlock/emptyBlock.html",'<div class="empty-block-container" w-i18n-ns="app.ui"><div class="icon"></div><div class="footnote-1 basic-500" w-i18n="emptyBlocks.title"></div></div>');$templateCache.put("modules/ui/directives/errorBlock/errorBlock.html",'<div class="empty-block-container error" w-i18n-ns="app.ui"><div class="icon"></div><div class="footnote-1 basic-500" w-i18n="errorBlocks.title"></div></div>');$templateCache.put("modules/ui/directives/feeList/feeList.html",'<div ng-if="$ctrl.type" class="fee-list"><div ng-if="$ctrl.feeList.length > 1" class="body-2 fee-title margin-top-2" w-i18n="modal.send.txFee"></div><w-select disabled="$ctrl.disabled" ng-if="$ctrl.feeList.length > 1" ng-model="$ctrl.fee" class="big"><w-option ng-repeat="fee in $ctrl.feeList track by fee.asset.id" value="fee"><span>{{(fee.asset.displayName === \'WAVES\') ? \'ACRYL\' : fee.asset.displayName}}</span> <span w-i18n="money-currency" class="money-currency" params="{money: fee}"></span></w-option></w-select><div class="margin-top-1" ng-if="$ctrl.feeList.length === 1"><span w-i18n="modal.send.notSponsorship.fee" params="{fee: $ctrl.fee}" class="body basic-500"></span></div></div>');$templateCache.put("modules/ui/directives/header/header.html",'<w-navigation type="row"><a ng-repeat="state in $ctrl.stateList track by state.name" class="{{::state.name}} margin-right-1" ui-sref="{{::state.path}}" ui-sref-active="active"><span w-i18n="header.{{::state.name}}"></span></a></w-navigation><w-search><input type="w-search" placeholder="Search transaction or assets"></w-search><w-profile></w-profile>');$templateCache.put("modules/ui/directives/helpIcon/helpIcon.html",'<i class="help-icon__icon" ng-class="{hovered: $ctrl.hovered}"></i><div class="help-icon__content footnote-1 body-1" ng-transclude></div>');$templateCache.put("modules/ui/directives/leftMenu/leftMenu.html",'<div class="avatar-container has-helper"><w-avatar type="{{$ctrl.userType}}" ng-click="$ctrl.avatarClick()" size="40" address="$ctrl.address"></w-avatar><w-help-icon class="avatar-options-list" ng-if="($ctrl.hasTypeHelp)"><div class="help-icon__row row-keeper" ng-if="$ctrl.isKeeper"><span class="acount-option-icon"></span> <span w-i18n="leftmenu.keeperAccount"></span></div><div class="help-icon__row row-ledger" ng-if="$ctrl.isLedger"><span class="acount-option-icon"></span> <span w-i18n="leftmenu.ledgerAccount"></span></div><div class="help-icon__row row-script" ng-if="$ctrl.isScript"><span class="acount-option-icon"></span> <span w-i18n="leftmenu.scriptAccount"></span></div></w-help-icon></div><w-responsive-menu w-toggle-class-container active-menu="$ctrl.activeState"><i class="wallet-toggler" w-toggle-class="wallet-items-hide"></i><div class="menu-list" ng-repeat="menu in $ctrl.menuList track by menu.id" ng-include="\'modules/ui/directives/leftMenu/reqursiveMenuItem.html\'"></div><w-responsive-menu-item class="settings" ng-click="$ctrl.settings()"><div class="menu-item settings"><span w-i18n="leftmenu.settings"></span></div></w-responsive-menu-item><w-responsive-menu-item ng-if="$ctrl.isLogined" class="logout" ng-click="$ctrl.logout()"><div class="menu-item logout"><span w-i18n="leftmenu.logout"></span></div></w-responsive-menu-item><w-responsive-menu-item ng-if="!$ctrl.isLogined" class="login"><a class="menu-item login" ui-sref="welcome"><span w-i18n="leftmenu.login"></span></a></w-responsive-menu-item></w-responsive-menu>');$templateCache.put("modules/ui/directives/leftMenu/reqursiveMenuItem.html",'<w-responsive-menu-item value="{{::menu.id}}" active-by-state="true"><a ng-click="$ctrl.open(menu.sref)" class="menu-item {{::menu.id}}"><span w-i18n="header.{{::menu.id}}"></span></a><div ng-if="menu.list.length" class="child-menu-list"><div class="child-menu-item" ng-repeat="menu in menu.list track by menu.id" ng-include="\'modules/ui/directives/leftMenu/reqursiveMenuItem.html\'"></div></div></w-responsive-menu-item>');$templateCache.put("modules/ui/directives/loader/loader.html",'<div class="preloader"></div>');$templateCache.put("modules/ui/directives/password/password.html",'<form name="$ctrl.create" ng-submit="$ctrl.create.$valid && $ctrl.onSubmit()" w-i18n-ns="app.ui" novalidate><div class="left body-2"><span w-i18n="password.name"></span></div><w-input-container class="margin-3"><w-input w-autofocus class="big no-validate no-icon" type="text" maxlength="20" ng-model="$ctrl.name"></w-input></w-input-container><div class="left body-2"><span w-i18n="password.title"></span></div><w-input-container><w-input name="password" type="password" class="big no-validate no-icon" ng-model="$ctrl.password" minlength="8" required></w-input><w-complexity-meter field="password"><complexity-message message="minlength, required"><span w-i18n="password.minLength" params="{minLength: 8}"></span></complexity-message><complexity-message type="warn"><span w-i18n="password.warn"></span></complexity-message><complexity-message type="success"><span w-i18n="password.secure"></span></complexity-message></w-complexity-meter></w-input-container><w-input-container class="margin-3"><div class="left body-2"><span w-i18n="password.repeat"></span></div><w-input type="password" class="no-icon big" name="confirm" required w-validate w-validator-compare="password" ng-model="$ctrl.confirmPassword"></w-input></w-input-container><w-button disabled="$ctrl.create.$invalid" class="submit long big"><div class="full-width" ng-transclude></div></w-button></form>');$templateCache.put("modules/ui/directives/qrCodeRead/cameraPopup.html",'<div class="camera-popup" w-i18n-ns="app.ui"><div ng-class="{pending: $ctrl.videoPending, error: $ctrl.videoError}" class="camera-popup__video-wrapper js-camera-wrapper"><w-loader ng-if="$ctrl.videoPending"></w-loader><div ng-if="!$ctrl.videoError && !$ctrl.videoPending" class="camera-popup__target-square"></div><w-button class="transparent" on-click="$ctrl.stopWatchQrCode()"><span w-i18n="qrCodeRead.closeRead"></span></w-button></div></div>');$templateCache.put("modules/ui/directives/qrCodeRead/qrCodeRead.html",'<div ng-class="{active: $ctrl.isWatched}" class="btn" ng-click="$ctrl.toggleWatchQrCode()"></div>');$templateCache.put("modules/ui/directives/radio/radio.html",'<input type="radio" id="{{$ctrl.name}}-{{$ctrl.value}}" name="{{$ctrl.name}}"><label class="{{$ctrl.class}}" for="{{$ctrl.name}}-{{$ctrl.value}}" ng-transclude></label>');$templateCache.put("modules/ui/directives/responsiveMenu/responsiveMenu.html",'<div class="navigation-menu" ng-transclude></div><w-button class="nav-toggler" on-click="$ctrl.menuToggle()"><div class="dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></w-button><div class="navigation-menu-overlay" ng-click="$ctrl.menuToggle()"></div>');$templateCache.put("modules/ui/directives/scriptTxForm/script-form.html",'<form w-i18n-ns="app.utils" novalidate name="setScript"><div class="body-2 margin-top-4" w-i18n="directives.scriptForm.textAreaTitle"></div><w-input-container class="margin-2"><w-input ng-model="$ctrl.script" ng-model-options="{updateOn: \'input blur\', debounce: { \'input\': 500, \'blur\': 0 }}" placeholder="directives.scriptForm.{{::$ctrl.placeHolderLiteral}}Placeholder" w-i18n-attr="placeholder" w-validate w-validator-custom="{{$ctrl.isValid}}" name="script" textarea="true" class="large"></w-input><w-input-error ng-if="$ctrl.requiredError" message="custom"><span w-i18n="directives.scriptForm.errors.required"></span></w-input-error><w-input-error ng-if="$ctrl.validationError" message="custom"><span w-i18n="directives.scriptForm.errors.invalidScript"></span></w-input-error></w-input-container><div class="note-plate flex transparent margin-1 body-2"><span w-i18n="directives.scriptForm.ideLink"></span></div><div class="warning-plate margin-2"><div class="body-2 warning-500" w-i18n="directives.scriptForm.warning.title"></div><div class="footnote-1 basic-500" w-i18n="directives.scriptForm.warning.body"></div></div><div class="basic-500 footnote-1 margin-1" w-i18n="directives.scriptForm.fee" params="{fee: $ctrl.state.tx.fee}"></div><div class="error-500" ng-if="!$ctrl.hasFee" params="{fee: $ctrl.state.tx.fee}" w-i18n="directives.scriptForm.errors.fee"></div><w-sign-button class="big long submit margin-top-3" disabled="setScript.$invalid || $ctrl.validationPending || !$ctrl.hasFee" on-click="$ctrl.getSignable()" on-success="$ctrl.next(signable)"><span w-i18n-ns="app.utils" w-i18n="directives.scriptForm.ok"></span></w-sign-button></form>');$templateCache.put("modules/ui/directives/select/select.html",'<div class="select" ng-class="$ctrl.upDirection ? \'to-up\' : \'\'"><div class="title"></div><div class="select-list" ng-transclude></div></div>');$templateCache.put("modules/ui/directives/sign/sign.html",'<div class="flex-row split-half data margin-top-2" ng-if="$ctrl.signPending"><div w-i18n="directives.sign.txId"></div><div>{{$ctrl.id}}</div></div><div ng-if="!$ctrl.signPending && $ctrl.signError" class="warning-plate warning-plate-red margin-3"><div ng-if="::$ctrl.isLedger" w-i18n="directives.sign.confirmRequestLedger.errorHeader" class="error-400 body-2"></div><div ng-if="::$ctrl.isLedger" w-i18n="directives.sign.confirmRequestLedger.errorDescription" class="basic-500"></div><div ng-if="::$ctrl.isKeeper" w-i18n="directives.sign.confirmRequestKeeper.errorHeader" class="error-400 body-2"></div><div ng-if="::$ctrl.isKeeper" w-i18n="directives.sign.confirmRequestKeeper.errorDescription" class="basic-500"></div></div><div ng-if="!$ctrl.signPending && $ctrl.signError" class="buttons-wrapper"><w-button class="big" on-click="$ctrl.cancel()"><span ng-if="::$ctrl.isLedger" w-i18n="directives.sign.confirmRequestLedger.cancel"></span> <span ng-if="::$ctrl.isKeeper" w-i18n="directives.sign.confirmRequestKeeper.cancel"></span></w-button><w-button class="big submit" on-click="$ctrl.trySign()"><span ng-if="::$ctrl.isLedger" w-i18n="directives.sign.confirmRequestLedger.sign"></span> <span ng-if="::$ctrl.isKeeper" w-i18n="directives.sign.confirmRequestKeeper.sign"></span></w-button></div><div ng-if="$ctrl.signPending" class="relative sign-loader"><div ng-if="::$ctrl.isLedger" w-i18n="directives.sign.confirmRequestLedger.waiting" class="center basic-500"></div><div ng-if="::$ctrl.isKeeper" w-i18n="directives.sign.confirmRequestKeeper.waiting" class="center basic-500"></div><w-loader></w-loader></div>');$templateCache.put("modules/ui/directives/signButton/sign-button.html",'<w-sign signable="$ctrl.signable" on-success="$ctrl.onSignSuccess()" on-cancel="$ctrl.onSignCancel()"></w-sign><w-button ng-if="!$ctrl.signPending" on-click="$ctrl.onClickButton()" disabled="$ctrl.disabled" class="big long submit"><ng-transclude></ng-transclude></w-button>');$templateCache.put("modules/ui/directives/tabs/tabs.html",'<div class="tab-container" ng-class="$ctrl.mod"><div class="titles-wrap"><a ng-repeat="tab in $ctrl.tabs.components track by tab.id" ng-class="{active: tab.selected}" ng-click="$ctrl.select(tab)" w-i18n="{{tab.title}}" class="title"></a></div><div class="tab-body-wrap"><ng-transclude></ng-transclude></div></div>');$templateCache.put("modules/ui/directives/transaction/transaction.html",'<div w-i18n-ns="app.ui" class="transaction" ng-class="{\'spam\': $ctrl.isScam}"><div class="icon {{::$ctrl.transaction.typeName}}"></div><div class="transaction-info"><ng-include class="full-width" src="$ctrl.templateUrl"></ng-include></div><w-actions class="actions"><w-action ng-click="$ctrl.showTransaction()"><span w-i18n="transaction.actions.showTx"></span></w-action><div w-copy="::$ctrl.transaction.id"><w-action><span w-i18n="transaction.actions.copyTxId"></span></w-action></div><div w-copy="::$ctrl.getCopyAllData()"><w-action><span w-i18n="transaction.actions.copyTxData"></span></w-action></div><w-action ng-if="$ctrl.typeName === \'lease-out\' && $ctrl.transaction.isActive" ng-click="$ctrl.cancelLeasing()"><span w-i18n="transaction.actions.cancelLeasing"></span></w-action></w-actions></div>');$templateCache.put("modules/ui/directives/transactionExport/transaction-export.html",'<div w-i18n="directives.transactionExport.linkTitle" class="body-2"></div><w-copy-wrap info="$ctrl.link" on-copy="$ctrl.copyLink()"><div class="ellipsis">{{$ctrl.link}}</div></w-copy-wrap><div class="or margin-3 margin-top-3" w-i18n="directives.transactionExport.or"></div><div class="margin-top-2 margin-3 qr-wrapper" w-toggle-class-container><div class="center margin-2 body-2" w-i18n="directives.transactionExport.scanQrCode"></div><w-qr-code size="400" url="$ctrl.link" w-toggle-class="zoomed-in"></w-qr-code><div class="pointer center footnote-1 margin-top-1 basic-500 margin-3" w-toggle-class="zoomed-in" w-i18n="directives.transactionExport.qrZoomBtn"></div></div>');$templateCache.put("modules/ui/directives/transactionInfo/transaction-info-content.html",'<div ng-if="$ctrl.transaction" class="txinfo__content" ng-class="::{\'spam\': $ctrl.isScam}"><ng-include src="$ctrl.templateUrl"></ng-include><div class="txinfo__row" ng-if="$ctrl.transaction.height"><div class="txinfo__key" w-i18n="transaction.modals.height"></div><div class="txinfo__value">{{::$ctrl.transaction.height}}</div></div><div class="txinfo__row" ng-if="$ctrl.txId"><div class="txinfo__key" w-i18n="transaction.modals.txId"></div><div class="txinfo__value">{{$ctrl.txId}}</div></div><div class="txinfo__row" ng-if="$ctrl.calculatedFee"><div class="txinfo__key" w-i18n="transaction.modals.fee"></div><div class="txinfo__value"><span w-i18n="fee" params="{money: $ctrl.calculatedFee}"></span></div></div></div>');$templateCache.put("modules/ui/directives/transactionInfo/transaction-info-header.html",'<div class="txinfo__content" ng-class="::{\'spam\': $ctrl.isScam}"><div class="txinfo__icon" ng-class="$ctrl.typeName"></div><ng-include src="$ctrl.templateUrl"></ng-include></div>');$templateCache.put("modules/ui/directives/transactionInfo/transaction-info-json.html",'<div class="flex flex-between body-2"><div w-i18n="directives.anyTransaction.textAreaTitle"></div><div><span class="link" ng-click="$ctrl.addAnalytic()" w-copy="$ctrl.json" w-i18n="directives.anyTransaction.copy"></span></div></div><div class="code-wrapper"><pre>{{$ctrl.json}}</pre></div>');$templateCache.put("modules/ui/directives/transactionInfo/transaction-info.html",'<w-transaction-info-header is-confirm="$ctrl.isConfirm" signable="$ctrl.signable"></w-transaction-info-header><w-transaction-info-content is-confirm="$ctrl.isConfirm" signable="$ctrl.signable"></w-transaction-info-content>');$templateCache.put("modules/ui/directives/transactionList/transactionList.html",'<div w-i18n-ns="app.ui" ng-class="{\'no-transactions\': !$ctrl.transactions.length}" class="w-transaction-list"><ul ng-if="!$ctrl.pending && $ctrl.transactions.length"><li class="transaction-item" ng-repeat="data in $ctrl.transactions track by data.date"><div class="date tag-2 info-400">{{ ::data.timestamp | date:\'MMM, d, yyyy\' }}</div><div class="row" ng-repeat="transaction in data.transactions track by transaction.id"><w-visible scroll-root-selector="{{::$ctrl.parentSelector}}"><w-transaction date-pattern="{{::$ctrl.transactionDatePattern}}" transaction="transaction"></w-transaction></w-visible></div></li></ul><w-empty-block ng-if="!$ctrl.pending && !$ctrl.transactions.length"></w-empty-block><w-loader ng-if="$ctrl.pending"></w-loader></div>');$templateCache.put("modules/ui/directives/confirmGatewayTransaction/confirmGatewayTransaction.html",'<div w-i18n-ns="app.ui" class="transaction-confirm"><w-step-by-step active-step="$ctrl.step"><w-step><div ng-if="$ctrl.tx" class="row margin-2 plate-wrapper"><div class="warning-plate"><div class="body-2 warning-500" w-i18n="confirmGatewayTransaction.warningTitle"></div><div class="footnote-1 basic-500" w-i18n="confirmGatewayTransaction.warningText" params="{name: $ctrl.tx.amount.asset.name}"></div></div></div><w-tabs class="inner" ng-model="$ctrl.activeTab" ng-if="::$ctrl.advancedMode"><w-tab title-name="::\'confirmTransaction.details\'" id="::\'details\'"><div ng-if="$ctrl.tx && $ctrl.gatewayDetails && $ctrl.targetRecipient" class="row margin-2"><div class="margin-top-4"><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldAddress"></div><div class="value">{{::$ctrl.targetRecipient}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldAmount"></div><div class="value">{{::$ctrl.tx.amount.toFormat()}} {{::$ctrl.tx.amount.asset.displayName}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldFee"></div><div class="value">{{::$ctrl.tx.fee.toFormat()}} {{::$ctrl.tx.fee.asset.displayName}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldGatewayAddress"></div><div class="value">{{::$ctrl.gatewayDetails.address}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldGatewayFee"></div><div class="value">{{::$ctrl.gatewayDetails.gatewayFee}} {{::$ctrl.tx.amount.asset.displayName}}</div></div></div></div></w-tab><w-tab title-name="::\'confirmTransaction.JSON\'" id="::\'JSON\'"><w-transaction-info-json signable="$ctrl.signable" class="margin-top-4"></w-transaction-info-json></w-tab><w-tab ng-if="$ctrl.canCreateLink" title-name="::\'confirmTransaction.export\'" id="::\'export\'"><w-transaction-export class="margin-top-4" link="$ctrl.exportLink"></w-transaction-export></w-tab></w-tabs><div ng-if="!$ctrl.advancedMode && $ctrl.tx && $ctrl.gatewayDetails && $ctrl.targetRecipient" class="row margin-2"><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldAddress"></div><div class="value">{{::$ctrl.targetRecipient}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldAmount"></div><div class="value">{{::$ctrl.tx.amount.toFormat()}} {{::$ctrl.tx.amount.asset.displayName}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldFee"></div><div class="value">{{::$ctrl.tx.fee.toFormat()}} {{::$ctrl.tx.fee.asset.displayName}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldGatewayAddress"></div><div class="value">{{::$ctrl.gatewayDetails.address}}</div></div><div class="section"><div class="key" w-i18n="confirmGatewayTransaction.fieldGatewayFee"></div><div class="value">{{::$ctrl.gatewayDetails.gatewayFee}} {{::$ctrl.tx.amount.asset.displayName}}</div></div></div><div ng-if="$ctrl.errorMessage" class="error-400 margin-top-1 margin-2">{{$ctrl.errorMessage}}</div><div class="bottom-wrapper"><div class="buttons-wrapper"><w-button class="big" on-click="$ctrl.onClickBack()"><span w-i18n="confirmGatewayTransaction.back"></span></w-button><w-button class="big submit" w-next-step on-click="$ctrl.confirm()"><span w-i18n="confirmGatewayTransaction.confirm"></span></w-button></div></div></w-step><w-step><div class="icon icon-tx-success margin-2"></div><h2 class="text-center basic-900 margin-4" w-i18n="confirmGatewayTransaction.success"></h2><div class="text-center"><w-button class="submit half big" on-click="$ctrl.showTxInfo()"><span w-i18n="confirmTransaction.details"></span></w-button></div></w-step></w-step-by-step></div>');$templateCache.put("modules/app/services/notification/templates/notification.html",'<div w-i18n-ns="{{::ns}}" class="notification {{::type}}"><div class="icon-close" ng-if="::!noCloseIcon" w-notification-close></div><div class="header"><span ng-if="::!!title" class="headline-3 basic-900" w-i18n="{{::title.literal}}" params="::title.params"></span></div><div class="content-wrapper"><span ng-if="::!!body" w-i18n="{{::body.literal}}" class="footnote-1 basic-700 content-body" params="::body.params"></span></div><div class="action"><span ng-if="::!!action" w-i18n="{{::action.literal}}" w-notification-action class="footnote-1 basic-700" params="::action.params"></span></div></div>');$templateCache.put("modules/utils/modals/receive/receiveBank/receive-bank.html",'<div class="receive-bank"><w-step-by-step active-step="$ctrl.step"><w-step><div class="row margin-2"><div class="body-2 basic-900" w-i18n="modal.receive.asset"></div><div class="input-like big flex-row split-half" ng-if="$ctrl.singleAsset"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::$ctrl.asset.id}}"></w-asset-logo><div class="asset-name">{{::$ctrl.asset.name}}</div></div></div><w-select class="big" ng-if="!$ctrl.singleAsset" ng-model="$ctrl.asset"><w-option ng-repeat="fiat in $ctrl.fiats track by $index" value="::fiat"><div class="flex-row split-half"><div class="flex-row"><w-asset-logo class="marker-hide" size="24" asset-id="{{::fiat.id}}"></w-asset-logo><div class="asset-name">{{::fiat.name}}</div></div></div></w-option></w-select></div><div ng-if="$ctrl.pending || $ctrl.error" class="receive-user-status" ng-class="{pending: $ctrl.pending}"><w-loader ng-if="$ctrl.pending"></w-loader><w-error-block ng-if="$ctrl.error"></w-error-block></div><div ng-if="!$ctrl.isLira && !$ctrl.error" class="get-verified"><div class="input-like verified-input margin-2" ng-if="$ctrl.isVerified && !$ctrl.pending"><i></i><span w-i18n="modal.receive.verified"></span></div><div ng-if="!$ctrl.isVerified && !$ctrl.pending" class="body-2 warning-500 warning-plate margin-1" w-i18n="modal.sepa.warningTitle"></div><div ng-if="$ctrl.isVerified && !$ctrl.pending" class="warning-plate"><div class="body-2 warning-500" w-i18n="modal.receive.bankVerifiedPlateHeader"></div><div class="basic-500" w-i18n="modal.receive.bankVerifiedPlateDescription"></div></div><div ng-if="!$ctrl.isVerified && !$ctrl.pending" class="country-list-link"><a class="caption-1 submit-300" w-i18n="modal.sepa.countryList" ng-href="{{$ctrl.listOfEligibleCountries}}" target="_blank"></a></div><table ng-if="!$ctrl.isVerified && !$ctrl.pending" class="steps"><tr><td class="step headline-3 basic-900" w-i18n="modal.sepa.step1"></td><td class="description body-2 basic-900" w-i18n="modal.sepa.step1Description" params="{assetName: $ctrl.asset.name, url: $ctrl.idNowSiteUrl}"></td></tr><tr><td class="step headline-3 basic-900" w-i18n="modal.sepa.step2"></td><td class="description body-2 basic-900" w-i18n="modal.sepa.step2Description"></td></tr></table><w-coinomat-terms show-accepted-checkbox="::true" is-verified="$ctrl.isVerified" terms-accepted="$ctrl.termsAccepted" terms-pending="$ctrl.pending" load-error="$ctrl.error" on-sign-start="$ctrl.onSignStart()" on-sign-end="$ctrl.onSignEnd()" force-show-terms="!$ctrl.isVerified"></w-coinomat-terms><div ng-if="!$ctrl.isVerified" class="margin-top-3 relative button-wrapper-height"><a ng-if="!$ctrl.signInProgress && !$ctrl.pending" href="{{$ctrl.idNowUserLink}}" target="_blank" class="flex"><w-button class="big submit long" disabled="!$ctrl.termsAccepted"><span w-i18n="modal.sepa.proceed"></span></w-button></a></div></div><div ng-if="$ctrl.isLira && !$ctrl.error" class="bank-account"><div class="warning-plate"><div class="body-2 warning-500" w-i18n="modal.receive.wtryPlate1Header"></div><div class="footnote-1 basic-500" w-i18n="modal.receive.wtryPlate1Text"></div></div><div class="row margin-3 caption-1 info-block"><i class="icon-info"></i><div w-i18n="modal.receive.wtry.info"></div></div><a href="{{$ctrl.digiLiraUserLink}}" ng-click="$ctrl.nextStep()" target="_blank" class="fake-button long"><span class="fake-button-content big submit long" w-i18n="modal.receive.card.continue"></span></a></div></w-step><w-step><div class="text-center receive-confirm" ng-if="!$ctrl.isLira"><i class="bank-success-icon margin-1"></i>\x3c!-- if bank --\x3e<h3 class="basic-700" w-i18n="modal.receive.bankSuccessHeader"></h3><div class="body-2 basic-500" w-i18n="modal.receive.bankSuccessText"></div></div><div class="text-center receive-confirm" ng-if="$ctrl.isLira"><i class="bank-building-success-icon margin-1"></i><h3 class="basic-700" w-i18n="modal.receive.wtrySuccessHeader"></h3></div></w-step></w-step-by-step></div>');$templateCache.put("modules/ui/directives/smartTable/templates/headerCell.html",'<w-table-cell ng-class="{sorting: sorting, asc: sorting && isAsc, desc: sorting && !isAsc}"><div class="cell" w-i18n-ns="{{::title.ns}}"><div ng-if="::search" class="smart-table__search-container"><input placeholder="{{::placeholder}}" attr-params="searchLocale.params" w-i18n-attr="placeholder" ng-model="searchQuery" ng-class="{\'not-empty\': searchQuery != \'\'}"> <i class="input-clear" ng-if="searchQuery" ng-click="searchQuery = \'\'"></i></div><div ng-if="::title.literal" class="smart-table__header" ng-class="::{\'sort-by\': sort}" w-i18n="{{title.literal}}" params="title.params"></div></div></w-table-cell>');$templateCache.put("modules/ui/directives/smartTable/templates/table.html",'<div data-cid="{{::$ctrl.cid}}" class="smart-table__w-table"><div class="smart-table__w-thead"><div class="smart-table__row"></div></div><div class="smart-table__w-tbody" ng-transclude></div></div>');$templateCache.put("modules/ui/directives/transaction/types/cancel-leasing.html",'<div class="line-wrapper grow"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time, transactionId: $ctrl.transaction.leaseId}"></span></div></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n                    amount: $ctrl.transaction.lease.amount.toFormat(),\n                    name: $ctrl.transaction.lease.amount.asset.name\n                  }"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/create-alias.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time, alias: $ctrl.transaction.alias}"></span></div></div><div class="line"></div></div>');$templateCache.put("modules/ui/directives/transaction/types/data.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.data"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.data" params="{time: $ctrl.time}"></span></div></div><div class="line"></div></div>');$templateCache.put("modules/ui/directives/transaction/types/exchange.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}" params="{\n                    amountAsset: $ctrl.getAssetName($ctrl.transaction.amount.asset),\n                    priceAsset: $ctrl.getAssetName($ctrl.transaction.price.asset)\n                  }"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time}"></span></div></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n                    sign: $ctrl.typeName === \'exchange-buy\' ? \'+\' : \'\',\n                    amount: $ctrl.transaction.amount.toFormat(),\n                    name: $ctrl.transaction.amount.asset.name\n                  }"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n                    sign: $ctrl.typeName === \'exchange-buy\' ? \'\' : \'+\',\n                    amount: $ctrl.totalPrice,\n                    name: $ctrl.transaction.price.asset.name\n                  }"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/lease.html",'<div class="line-wrapper grow"><div class="status active" ng-if="$ctrl.transaction.isActive" w-i18n="transaction.headers.activeLeasing"></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time, address: $ctrl.shownAddress}"></span></div></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{amount: $ctrl.transaction.amount.toFormat(), name: $ctrl.transaction.amount.asset.name}"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/set-script-cancel.html",'<div class="line-wrapper grow"><div class="line"><div class="body-2 fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/set-script.html",'<div class="line-wrapper grow"><div class="line"><div class="body-2 fs-mobile"><span w-i18n="transaction.headers.set-script"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/sponsorship.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}" params="{name: $ctrl.titleAssetName}"></span><div class="footnote-1 bottom fs-mobile"><span>{{::$ctrl.time}}</span></div></div></div><div class="line"></div></div>');$templateCache.put("modules/ui/directives/transaction/types/sponsorship_fee.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}" params="{\n                    name: $ctrl.getAssetName($ctrl.transaction.fee.asset)\n                  }"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time, address: $ctrl.shownAddress}"></span></div></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n                    sign: \'+\',\n                    amount: $ctrl.transaction.fee.toFormat(),\n                    name: $ctrl.getAssetName($ctrl.transaction.fee.asset)\n                  }"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/tokens.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}" params="{name: $ctrl.titleAssetName}"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time}"></span></div></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n                amount: $ctrl.amount\n              }"></span> <span class="nowrap">{{$ctrl.name}}</span></div><div class="footnote-1 bottom fs-mobile" ng-if="$ctrl.typeName === \'issue\' || $ctrl.typeName === \'reissue\'"><span w-i18n="transaction.reissuable.{{::$ctrl.transaction.reissuable}}"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/transfer.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}" params="{name: $ctrl.getAssetName($ctrl.transaction.amount.asset)}"></span> <span class="spam-label" w-i18n="transaction.headers.spam"></span></div><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time, address: $ctrl.shownAddress}"></span></div></div><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{amount: $ctrl.transaction.amount.toFormat(), name: $ctrl.transaction.amount.asset.name}"></span></div><div ng-if="$ctrl.mirrorBalance" class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{amount: $ctrl.mirrorBalance.toFormat(), name: $ctrl.mirrorBalance.asset.name}"></span></div></div></div>');$templateCache.put("modules/ui/directives/transaction/types/unknown.html",'<div class="line-wrapper"><div class="line"><div class="body-2 top fs-mobile"><span w-i18n="transaction.headers.{{::$ctrl.typeName}}"></span></div></div><div class="line"><div class="footnote-1 bottom fs-mobile"><span w-i18n="transaction.subheaders.{{::$ctrl.typeName}}" params="{time: $ctrl.time}"></span></div></div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/cancel-leasing-header.html",'<div class="txinfo__lead"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n          amount: $ctrl.transaction.lease.amount.toFormat(),\n          name: $ctrl.transaction.lease.amount.asset.name\n        }"></h3><div class="body-2 basic-500"> {{::$ctrl.mirrorBalance.toFormat()}} {{::$ctrl.mirrorBalance.asset.name}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/cancel-leasing.html",'<div class="txinfo__row"><div class="txinfo__key" w-i18n="transaction.modals.cancelTx"></div><div class="txinfo__value">{{::$ctrl.transaction.leaseId}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/create-alias.html",'<div class="txinfo__lead"><h3 class="basic-700">{{::$ctrl.transaction.alias}}</h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/data-header.html",'<div class="txinfo__lead"><h3 class="basic-700" w-i18n="transaction.headers.data">Data Transaction</h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/data.html",'<div class="txinfo__row txinfo__row-contains-text" ng-if="::$ctrl.transaction.stringifiedData"><div class="txinfo__key" w-i18n="transaction.modals.data"></div><pre class="txinfo__value txinfo__text txinfo__data">{{::$ctrl.transaction.stringifiedData}}</pre></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/exchange-header.html",'<div class="txinfo__lead"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n          sign: $ctrl.typeName === \'exchange-buy\' ? \'+\' : \'\',\n          amount: $ctrl.transaction.amount.toFormat(),\n          name: $ctrl.transaction.amount.asset.name\n        }"></h3><div class="body-2 basic-500" w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n           sign: $ctrl.typeName === \'exchange-buy\' ? \'\' : \'+\',\n           amount: $ctrl.totalPrice,\n           name: $ctrl.transaction.price.asset.name\n         }"></div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/exchange.html",'<div class="txinfo__row"><div class="txinfo__key" w-i18n="transaction.modals.price" params="{name: $ctrl.transaction.price.asset.name}"></div><div class="txinfo__value">{{::$ctrl.transaction.price.toFormat()}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/lease-header.html",'<div class="txinfo__lead"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{amount: $ctrl.transaction.amount.toFormat(), name: $ctrl.transaction.amount.asset.name}"></h3><div class="body-2 basic-500"> {{::$ctrl.mirrorBalance.toFormat()}} {{::$ctrl.mirrorBalance.asset.name}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/lease.html",'<div class="txinfo__row"><div class="txinfo__key" w-i18n="transaction.modals.to" ng-if="::$ctrl.typeName === \'lease-out\'"></div><div class="txinfo__key" w-i18n="transaction.modals.from" ng-if="::$ctrl.typeName === \'lease-in\'"></div><div class="txinfo__value">{{::$ctrl.shownAddress}}</div></div>\x3c!--TODO : isActive--\x3e');$templateCache.put("modules/ui/directives/transactionInfo/types/set-script-cancel-header.html",'<div class="txinfo__lead margin-2 noborder"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.typeName}}"></h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/set-script-cancel.html","");$templateCache.put("modules/ui/directives/transactionInfo/types/set-script-header.html",'<div class="txinfo__lead margin-2 noborder"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.typeName}}"></h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/set-script.html",'<div class="body-2" w-i18n="transactions.script.txJson"></div><div class="note-plate break-all">{{$ctrl.transaction.script}}</div>');$templateCache.put("modules/ui/directives/transactionInfo/types/sponsorship-header.html",'<div class="txinfo__lead"><h3 w-i18n="transaction.amounts.{{::$ctrl.typeName}}" class="basic-700"></h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/sponsorship.html",'<div class="txinfo__row" ng-if="$ctrl.transaction.minSponsoredAssetFee.asset.id"><div class="txinfo__key" w-i18n="transaction.modals.assetId"></div><div class="txinfo__value">{{$ctrl.transaction.minSponsoredAssetFee.asset.id}}</div></div><div class="txinfo__row" ng-if="$ctrl.isSponsoredFee"><div class="txinfo__key" w-i18n="transaction.amounts.perTransaction"></div><div class="txinfo__value"><span w-i18n="fee" params="{money: $ctrl.transaction.minSponsoredAssetFee}"></span></div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/sponsorship_fee-header.html",'<div class="txinfo__lead"><h3 w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{\n            amount: $ctrl.transaction.fee.toFormat(),\n            name: $ctrl.transaction.fee.asset.name,\n            sign: \'+\'\n        }" class="basic-700"></h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/sponsorship_fee.html",'<div class="txinfo__row" ng-if="$ctrl.transaction.fee.asset.id"><div class="txinfo__key" w-i18n="transaction.modals.assetId"></div><div class="txinfo__value">{{$ctrl.transaction.fee.asset.id}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/tokens-header.html",'<div class="txinfo__lead"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.transaction.typeName}}" params="{amount: $ctrl.quantity.toFormat($ctrl.precision), name: $ctrl.name}"></h3></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/tokens.html",'<div class="txinfo__row" ng-if="::$ctrl.transaction.assetId"><div class="txinfo__key" w-i18n="transaction.modals.assetId"></div><div class="txinfo__value">{{::$ctrl.transaction.assetId}}</div></div><div class="txinfo__row" ng-if="::$ctrl.transaction.reissuable != null"><div class="txinfo__key" w-i18n="transaction.modals.type"></div><div class="txinfo__value" w-i18n="transaction.reissuable.{{::$ctrl.transaction.reissuable}}"></div></div><div class="txinfo__row txinfo__row-contains-text" ng-if="::$ctrl.transaction.description"><div class="txinfo__key" w-i18n="transaction.modals.description"></div><div class="txinfo__value txinfo__text">{{$ctrl.transaction.description}}</div></div><div class="txinfo__row" ng-if="::$ctrl.isConfirm && $ctrl.isReissueModal"><div class="txinfo__key" w-i18n="transaction.modals.toBeReissued"></div><div class="txinfo__value">{{::$ctrl.toReissue.toTokens()}}</div></div><div class="txinfo__row" ng-if="::$ctrl.isConfirm && $ctrl.isReissueModal"><div class="txinfo__key" w-i18n="transaction.modals.toRemainOnBalance"></div><div class="txinfo__value">{{::$ctrl.toRemainOnBalance.toTokens()}}</div></div><div class="txinfo__row" ng-if="::$ctrl.isConfirm && $ctrl.isReissueModal"><div class="txinfo__key" w-i18n="transaction.modals.totalAfterReissue"></div><div class="txinfo__value">{{::$ctrl.totalAfterIssueTokens.toTokens()}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/transfer-header.html",'<div class="txinfo__lead"><h3 class="basic-700" w-i18n="transaction.amounts.{{::$ctrl.typeName}}" params="{amount: $ctrl.transaction.amount.toFormat(), name: $ctrl.transaction.amount.asset.name}"></h3><div ng-if="$ctrl.needShowMirror" class="body-2 basic-500"> {{::$ctrl.mirrorBalance.toFormat()}} {{::$ctrl.mirrorBalance.asset.name}}</div></div>');$templateCache.put("modules/ui/directives/transactionInfo/types/transfer.html",'<div ng-if="$ctrl.warning" w-i18n="{{$ctrl.warning}}"></div><div class="txinfo__row txinfo__row-header" ng-if="::$ctrl.typeName === \'mass-send\'"><div w-i18n="recipient"></div><div w-i18n="amount"></div></div><div ng-if="::!($ctrl.typeName === \'circular\' || $ctrl.typeName === \'mass-send\')" class="txinfo__data"><div class="txinfo__row"><div class="txinfo__key" w-i18n="transaction.modals.to" ng-if="::$ctrl.typeName === \'send\'"></div><div class="txinfo__key" w-i18n="transaction.modals.from" ng-if="::$ctrl.typeName === \'receive\' || $ctrl.typeName === \'mass-receive\'"></div><div class="txinfo__value" ng-if="::$ctrl.typeName !== \'mass-send\'">{{::$ctrl.shownAddress}}</div></div></div><div ng-if="::$ctrl.typeName !== \'circular\'" class="txinfo__data"><div ng-if="::$ctrl.typeName === \'mass-send\'" ng-init="$ctrl.showAllTX = false"><div ng-if="$ctrl.showAllTX"><div class="txinfo__row" ng-repeat="transfer in $ctrl.transaction.transfers track by transfer.recipient"><div class="txinfo__key-mass">{{::transfer.recipient}}</div><div class="txinfo__value"><w-balance money="::transfer.amount"></w-balance></div></div></div><div ng-if="!$ctrl.showAllTX"><div class="txinfo__row" ng-if="::$ctrl.transaction.transfers[0]"><div class="txinfo__key-mass">{{::$ctrl.transaction.transfers[0].recipient}}</div><div class="txinfo__value"><w-balance money="::$ctrl.transaction.transfers[0].amount"></w-balance></div></div><div class="txinfo__row" ng-if="::$ctrl.transaction.transfers[1]"><div class="txinfo__key-mass">{{::$ctrl.transaction.transfers[1].recipient}}</div><div class="txinfo__value"><w-balance money="::$ctrl.transaction.transfers[1].amount"></w-balance></div></div><div class="txinfo__row" ng-if="::$ctrl.transaction.transfers[2]"><div class="txinfo__key-mass">{{::$ctrl.transaction.transfers[2].recipient}}</div><div class="txinfo__value"><w-balance money="::$ctrl.transaction.transfers[2].amount"></w-balance></div></div></div><div class="txinfo__row txinfo__row-padder" ng-if="$ctrl.transaction.transfers.length && $ctrl.transaction.transfers.length > 3"><span class="link" ng-click="$ctrl.showAllTX = !$ctrl.showAllTX" params="{count: $ctrl.transaction.transfers.length}" w-i18n="transaction.modals.massSend.showAll.{{$ctrl.showAllTX}}"></span></div><div class="txinfo__row"><div class="txinfo__key" w-i18n="transaction.modals.massSend.totalAmount"></div><div class="txinfo__value"><span w-i18n="money-currency" params="{money: $ctrl.transaction.totalAmount}"></span></div></div></div></div><div class="txinfo__row txinfo__row-contains-text" ng-if="$ctrl.transaction.attachment"><div class="txinfo__key" w-i18n="transaction.modals.description"></div><div class="txinfo__value txinfo__text">{{::$ctrl.transaction.attachment}}</div></div>');$templateCache.put("modules/wallet/modules/assets/templates/assets.html",'<div w-i18n-ns="app.wallet.assets" class="toolbar"><w-button class="interface btn-send" on-click="$ctrl.showSend()"><svg width="15px" height="14px" viewBox="0 0 15 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span class="btn-icon" w-i18n="send"></span></w-button><w-button class="interface btn-receive" on-click="$ctrl.showReceivePopup()"><svg width="15px" height="14px" viewBox="0 0 15 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span class="btn-icon" w-i18n="directives.asset.receive"></span></w-button>\x3c!--<w-button ng-if="$ctrl.advancedMode" on-click="$ctrl.openScriptModal()" class="interface btn-script">--\x3e\x3c!--<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">--\x3e\x3c!--<path d="M9.158 3.615a.5.5 0 1 1 .684-.73l4 3.75a.5.5 0 0 1 0 .73l-4 3.75a.5.5 0 0 1-.684-.73L12.768 7l-3.61-3.385zM4.842 10.385a.5.5 0 0 1-.684.73l-4-3.75a.5.5 0 0 1 0-.73l4-3.75a.5.5 0 1 1 .684.73L1.232 7l3.61 3.385z"/>--\x3e\x3c!--</svg>--\x3e\x3c!--<span w-i18n="directives.asset.script"></span>--\x3e\x3c!--</w-button>--\x3e<w-button ng-if="$ctrl.advancedMode" on-click="$ctrl.openAnyTxModal()" class="interface btn-json"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><path d="M4.394 1.7a.591.591 0 1 1 0 1.182c-.665 0-1.182.517-1.182 1.182v1.182a2.35 2.35 0 0 1-.82 1.772c.498.435.82 1.066.82 1.773v1.182c0 .665.517 1.182 1.182 1.182a.591.591 0 1 1 0 1.181A2.372 2.372 0 0 1 2.03 9.973V8.79A1.167 1.167 0 0 0 .807 7.609a.591.591 0 0 1-.115-.02.591.591 0 0 1-.257-.141.591.591 0 0 1 .413-1.018c.666 0 1.182-.517 1.182-1.182V4.066c0-1.3 1.065-2.364 2.364-2.364V1.7zm5.15.002a2.372 2.372 0 0 1 2.424 2.364v1.182c0 .665.517 1.182 1.182 1.182a.591.591 0 1 1 0 1.181c-.665 0-1.182.517-1.182 1.182v1.182c0 1.3-1.064 2.364-2.364 2.364a.591.591 0 1 1 0-1.182c.665 0 1.182-.517 1.182-1.182V8.793c0-.707.323-1.338.82-1.772a2.35 2.35 0 0 1-.82-1.773V4.066c0-.665-.517-1.182-1.182-1.182a.592.592 0 0 1-.06-1.182z"/></svg> <span class="btn-icon" w-i18n="directives.asset.anyTx"></span></w-button></div><div w-i18n-ns="app.wallet.assets" class="assets-wrapper"><div class="chart-content" w-toggle-class-container><div class="toolbar"><div><w-radio-wrap class="toolbar-balance-radio" mode="tab-mode" ng-model="$ctrl.activeChartAssetId"><w-radio ng-repeat="balance in $ctrl.chartBalanceList track by balance.asset.id" value="balance.asset.id"><span class="radio-name">{{::balance.asset.name}}<span class="radio-dot"></span></span> <span class="radio-symb">&#x0e3f;&nbsp;</span><w-change-rate asset-id="balance.asset.id"></w-change-rate></w-radio></w-radio-wrap><w-select class="toolbar-balance-select" ng-model="$ctrl.activeChartAssetId"><w-option w-add-class ng-repeat="balance in $ctrl.chartBalanceList track by balance.asset.id" value="::balance.asset.id"><span class="radio-name">{{::balance.asset.name}}</span></w-option></w-select></div></div><i class="toggler" w-toggle-class></i><div class="chart-rate"><div class="price-field"><h1>&#x0e3f;&nbsp;<w-change-rate asset-id="$ctrl.activeChartAssetId"></w-change-rate></h1><div class="tag-1 info-500"><span w-i18n="price" params="{currency: $ctrl.activeChartBalance.asset.name.toUpperCase()}"></span></div></div><div class="miner-img"></div></div></div><div class="assets-list"><w-asset ng-repeat="balance in $ctrl.pinnedAssetBalances track by balance.asset.id" on-click="$ctrl.onAssetActionClick(event, balance.asset, action)" on-unpin-click="$ctrl.unpin(balance.asset)" balance="balance"></w-asset><div class="new-asset" ng-click="$ctrl.newAssetOnClick()" role="button"><span></span></div></div></div>');$templateCache.put("modules/wallet/modules/leasing/templates/leasing.html",'<div w-i18n-ns="app.wallet.leasing" class="leasing-page"><div class="left-panel"><w-leasing-block class="noheader margin-1"><div class="leasing-block-title headline-4"><span w-i18n="chart.title"></span></div><div class="balance-container text-center margin-4"><w-balance money="$ctrl.total"></w-balance></div><div class="chart-wrapper margin-3"><w-circle-chart options="$ctrl.chartOptions" data="$ctrl.chartData"></w-circle-chart></div><div class="legend-container margin-2"><div ng-repeat="legend in $ctrl.chartData track by legend.id" ng-if="!legend.value.getTokens().eq(0)" class="legend-item"><div class="part disabled-600 footnote-1"><div class="legend-color margin-right-1" style="background-color: {{::$ctrl.chartOptions.items[legend.id].color}}"></div><span w-i18n="{{::legend.id}}"></span></div><div class="part"><w-balance money="legend.value"></w-balance></div></div></div><w-button class="submit long" on-click="$ctrl.startLeasing()"><span w-i18n="chart.create"></span></w-button></w-leasing-block><w-leasing-block class="leasingNote" w-toggle-class-container><div class="transactions-title headline-4 basic-700"><span w-i18n="description.title"></span></div><i class="collapse-trigger" w-toggle-class></i><div class="collapse-container" class="collapseable"><div class="footnote-1 basic-500" w-i18n="description.text1"></div><div class="description-split"></div><div class="icon-description footnote-1 basic-500" w-i18n="description.text2"></div><div class="description-split"></div><div class="footnote-1 basic-500 margin-1" w-i18n="description.text3"></div><a class="link" target="_blank" rel="noopener noreferrer" ng-href="{{::$ctrl.nodeListLink}}"><span></span></a></div></w-leasing-block></div><div class="transactions-container"><div class="transactions-title headline-4 basic-700" w-i18n="title"></div><w-scroll-box><div class="scroll-list"><w-transaction-list transaction-date-pattern="dd.MM.yyyy HH:mm" pending="$ctrl.pending" parent-selector="w-scroll-box" transactions="$ctrl.transactions"></w-transaction-list><div class="fake-transaction-line" ng-if="$ctrl.pendingAllLeasing"><w-loader></w-loader></div></div></w-scroll-box></div></div>');$templateCache.put("modules/wallet/modules/portfolio/templates/portfolio.html",'<div class="portfolio-wrapper" w-i18n-ns="app.wallet.portfolio"><div class="toolbar"><w-button class="interface btn-send" on-click="$ctrl.showSend()"><svg width="17px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span class="btn-icon" w-i18n="send"></span></w-button><w-button class="interface btn-receive" on-click="$ctrl.showReceivePopup()"><svg width="17px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span class="btn-icon" w-i18n="receive"></span></w-button><w-select ng-model="$ctrl.filter" class="interface"><w-option value="::\'active\'"><span w-i18n="allactive" w-i18n-ns="app.wallet.portfolio" params="{count: $ctrl.details.active.length || 0}"></span></w-option>\x3c!--<w-option value="pinned">--\x3e\x3c!--Favorites ({{$ctrl.details.pinned.length}})--\x3e\x3c!--</w-option>--\x3e<w-option value="::\'verified\'"><span w-i18n="qualifieds" w-i18n-ns="app.wallet.portfolio" params="{count: $ctrl.details.verified.length || 0}"></span></w-option><w-option value="::\'spam\'"><span w-i18n="spamselect" w-i18n-ns="app.wallet.portfolio" params="{count: $ctrl.details.spam.length || 0}"></span></w-option><w-option value="::\'my\'"><span w-i18n="myassets" w-i18n-ns="app.wallet.portfolio" params="{count: $ctrl.details.my.length || 0}"></span></w-option></w-select></div><w-smart-table class="smart-table smart-table__mode-large" name="portfolio-balance-list" data="$ctrl.balanceList" header-info="$ctrl.tableHeaders"><w-loader ng-if="$ctrl.pending"></w-loader><w-visible ng-repeat="balance in $data track by balance.asset.id" once><w-table-row><w-portfolio-row balance="balance"></w-portfolio-row></w-table-row></w-visible></w-smart-table></div>');$templateCache.put("modules/wallet/modules/transactions/templates/transactions.html",'<div w-i18n-ns="app.wallet.transactions" class="transactions-content"><div class="controls margin-1"><w-radio-wrap class="split-mode interface" ng-model="$ctrl.filter"><w-radio value="\'all\'"><span w-i18n="all"></span></w-radio><w-radio value="\'send,mass-send\'"><span w-i18n="sent"></span></w-radio><w-radio value="\'receive,mass-receive,sponsorship-fee\'"><span w-i18n="received"></span></w-radio><w-radio value="\'exchange-buy,exchange-sell\'"><span w-i18n="exchanged"></span></w-radio><w-radio value="\'lease-in,lease-out,cancel-leasing\'"><span w-i18n="leased"></span></w-radio><w-radio value="\'issue,reissue,burn,sponsorship-stop,sponsorship-start\'"><span w-i18n="issued"></span></w-radio></w-radio-wrap><w-select class="split-mode interface" ng-model="$ctrl.filter"><w-option value="::\'all\'"><span w-i18n="all" w-i18n-ns="app.wallet.transactions"></span></w-option><w-option value="::\'send,mass-send\'"><span w-i18n="sent" w-i18n-ns="app.wallet.transactions"></span></w-option><w-option value="::\'receive,mass-receive,sponsorship-fee\'"><span w-i18n="received" w-i18n-ns="app.wallet.transactions"></span></w-option><w-option value="::\'exchange-buy,exchange-sell\'"><span w-i18n="exchanged" w-i18n-ns="app.wallet.transactions"></span></w-option><w-option value="::\'lease-in,lease-out,cancel-leasing\'"><span w-i18n="leased" w-i18n-ns="app.wallet.transactions"></span></w-option><w-option value="::\'issue,reissue,burn,sponsorship-stop,sponsorship-start\'"><span w-i18n="issued" w-i18n-ns="app.wallet.transactions"></span></w-option></w-select><w-select ng-model="$ctrl.limit" class="tx-filter interface"><w-option value="::100"><span w-i18n="filter.value1" w-i18n-ns="app.wallet.transactions" params="{count: 100}"></span></w-option><w-option value="::500"><span w-i18n="filter.value2" w-i18n-ns="app.wallet.transactions" params="{count: 500}"></span></w-option><w-option value="::1000"><span w-i18n="filter.value3" w-i18n-ns="app.wallet.transactions" params="{count: 1000}"></span></w-option></w-select><w-button disabled="$ctrl.pending" class="download interface" on-click="$ctrl.exportTransactions()"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14px" height="14px" viewBox="0 0 14 14" version="1.1"><path d="M13,14 L1,14 L0,14 L0,9 L1,9 L1,13 L13,13 L13,9 L14,9 L14,14 L13,14 Z" id="Combined-Shape" fill-rule="nonzero"/><path d="M6.5,8.29289322 L6.5,0 L7.5,0 L7.5,8.29289322 L9.41421356,6.37867966 L10.1213203,7.08578644 L6.99975548,10.2073513 L6.64027359,9.84738037 L3.87867966,7.08578644 L4.58578644,6.37867966 L6.5,8.29289322 Z" id="Combined-Shape"/></svg> <span w-i18n="export"></span></w-button></div><w-scroll-box><div class="scroll-list"><w-transaction-list transactions="$ctrl.transactions" pending="$ctrl.pending" parent-selector="w-scroll-box"></w-transaction-list></div></w-scroll-box></div>');$templateCache.put("modules/utils/modals/sendAsset/components/massSend/mass-send.html",'<form novalidate name="$ctrl.massSend"><div class="margin-2"><ng-transclude></ng-transclude></div><div class="flex-row-title body-2"><div><span w-i18n="modal.send.massSend.recipient" params="{count: $ctrl.validTxCount, max: $ctrl.maxTransfersCount}"></span></div><w-import-file ng-if="$ctrl.transfers.length === 0" extension-list="::\'csv\'" on-change="$ctrl.importFile(data)"><a class="link"><span w-i18n="modal.send.massSend.importFile"></span></a></w-import-file><a ng-if="$ctrl.transfers.length > 0" class="link" ng-click="$ctrl.clear()" w-i18n="modal.send.massSend.clear"></a></div><w-input-container class="margin-2"><w-input textarea="true" class="tall" name="recipientCsv" w-validate required w-validator-custom="{{$ctrl.isValidAmounts && !$ctrl.errors.length}}" ng-model="$ctrl.recipientCsv" ng-model-options="{updateOn: \'input blur\', debounce: { \'input\': 5000, \'blur\': 0 }}" w-i18n-attr="placeholder" placeholder="modal.send.massSend.recipientsAmountsPlaceholder"></w-input><div class="error active"><w-input-error name="recipientCsv" ng-if="$ctrl.tx.transfers.length || $ctrl.transfers.length" message="custom" class="multiline multiline-error-input-padding"><span w-i18n="modal.send.errors.max" ng-if="!$ctrl.isValidAmounts && $ctrl.tx.transfers.length"></span> <span ng-if="$ctrl.transfers.length && !$ctrl.tx.transfers.length" w-i18n="modal.send.errors.allAddressesInvalid"></span> <span ng-if="$ctrl.errors.length" w-i18n="modal.send.massSend.errors.invalidAddress" class="error-list-row"></span> <span ng-repeat="error in $ctrl.errors|limitTo: ($ctrl.view.errors.showAll && $ctrl.errors.length || 2) track by error.recipient" class="error-list-row">{{::error.recipient}}</span> <span ng-if="$ctrl.errors.length > 2" class="error-list-row show-all-errors-link link" w-i18n="modal.send.massSend.showAllErrors.{{$ctrl.view.errors.showAll}}" params="{count: $ctrl.errors.length}" ng-click="$ctrl.view.errors.showAll = !$ctrl.view.errors.showAll"></span></w-input-error></div><w-input-error name="recipientCsv" message="required"><span w-i18n="modal.receive.errors.required"></span></w-input-error></w-input-container><div class="warning-plate margin-1"><div class="body-2 warning-500" w-i18n="modal.send.massSend.warningPlate2Header"></div></div><div class="warning-plate margin-2" ng-if="$ctrl.transfers.length > $ctrl.maxTransfersCount"><div class="body-2 warning-500" w-i18n="modal.send.massSend.warningPlate1Header"></div><div class="footnote-1 basic-500" w-i18n="modal.send.massSend.warningPlate1Text"></div></div><div class="warning-plate margin-2"><div class="body-2 warning-500" w-i18n="modal.send.massSend.warningPlate3Header"></div><div class="footnote-1 basic-500" w-i18n="modal.send.massSend.warningPlate3Text"></div></div><div class="body-2" w-i18n="modal.send.massSend.description"></div><w-input-container class="margin-2"><w-input textarea="true" class="normal" name="attachment" ng-model="$ctrl.tx.attachment" w-i18n-attr="placeholder" w-validate w-validator-byte-lte="140" placeholder="modal.send.descriptionPlaceholder"></w-input><w-input-error message="byteLte"><span w-i18n="modal.send.attachmentLength"></span></w-input-error></w-input-container><div class="body-2" w-i18n="modal.send.massSend.totalAmount"></div><div class="input-like total-amount margin-1"><w-balance money="$ctrl.totalAmount"></w-balance></div><div params="{fee: $ctrl.tx.fee}" w-i18n="modal.send.fee" class="fee row margin-1 basic-500"></div><div ng-if="!$ctrl.hasFee" params="{fee: $ctrl.tx.fee}" w-i18n="modal.send.validationError.notEnoughFunds" class="commission-error margin-2 footnote error-500"></div><div class="margin-top-3"><w-sign-button disabled="!$ctrl.isValidAmounts || !$ctrl.tx.transfers.length || !$ctrl.hasFee" on-success="$ctrl.onTxSign(signable)" on-click="$ctrl.nextStep()"><span w-i18n="button.continue"></span></w-sign-button></div></form>');$templateCache.put("modules/utils/modals/sendAsset/components/singleSend/single-send.html",'<form class="send-form" name="$ctrl.send" novalidate><ng-transclude></ng-transclude><div class="row" ng-if="!$ctrl.isLira"><div ng-if="$ctrl.toBankMode && !$ctrl.isVerified && !$ctrl.isBankPendingOrError" class="warning-plate warning-plate-red"><div class="body-2 error-500" w-i18n="modal.send.notVerifiedHeader"></div><div class="footnote-1 basic-500" w-i18n="modal.send.notVerifiedText"></div></div></div><div class="row"><div class="flex-row-title"><div class="body-2" w-i18n="modal.send.recipient"></div><div ng-if="$ctrl.hasSendToBank" class="toggle-mode-container"><span class="link" ng-click="$ctrl.toBankMode = !$ctrl.toBankMode" ng-if="!$ctrl.toBankMode" w-i18n="modal.send.toBank"></span> <span class="link" ng-click="$ctrl.toBankMode = !$ctrl.toBankMode" ng-if="$ctrl.toBankMode" w-i18n="modal.send.toWaves"></span></div></div><div class="input-like big disabled" ng-if="$ctrl.toBankMode"><span w-i18n="modal.send.bankAccount" ng-if="!$ctrl.isLira"></span> <span w-i18n="modal.send.liraBankAccount" ng-if="$ctrl.isLira"></span></div><w-input-container ng-if="!$ctrl.toBankMode"><div class="read-address-wrap"><w-input type="text" name="recipient" ng-model="$ctrl.state.singleSend.recipient" placeholder="modal.send.placeholderRecipient" w-i18n-attr="placeholder" w-validate w-validator-any-address="{{$ctrl.state.assetId}}" required></w-input><w-qr-code-read on-read="$ctrl.onReadQrCode(text)" max-width="415" max-height="310"></w-qr-code-read></div><w-input-error message="anyAddress"><span w-i18n="modal.send.errors.address"></span></w-input-error><w-input-error message="required"><span w-i18n="modal.send.errors.required"></span></w-input-error></w-input-container></div><div class="row relative" style="min-height: 60px;" ng-if="$ctrl.toBankMode && $ctrl.termsIsPending && !$ctrl.isLira"><w-loader class="asd"></w-loader></div><div ng-if="$ctrl.toBankMode && !$ctrl.isBankPendingOrError && $ctrl.isVerified" class="margin-1"><div class="warning-plate"><div class="body-2 warning-500" w-i18n="modal.send.coinomatWarningHeader"></div><div class="footnote-1 basic-500" w-i18n="modal.send.coinomatWarningText"></div></div></div><div ng-if="$ctrl.toBankMode && !$ctrl.isBankPendingOrError && $ctrl.isVerified" class="row"><div class="warning-plate"><div class="body-2 warning-500" w-i18n="modal.send.coinomatLimits"></div></div></div><div ng-if="$ctrl.outerSendMode && !$ctrl.gatewayDetailsError" class="row"><div class="warning-plate margin-2"><div class="body-2 warning-500" w-i18n="modal.send.coinomat.feeTitle" params="{\n                               fee: $ctrl.gatewayDetails.gatewayFee,\n                               assetTicker: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.displayName\n                             }"></div><div class="footnote-1 basic-500" w-i18n="modal.send.coinomat.feeExplanation" params="{\n                               min: $ctrl.gatewayDetails.minimumAmount,\n                               max: $ctrl.gatewayDetails.maximumAmount,\n                               assetTicker: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.displayName,\n                               assetName: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.name\n                             }"></div></div><div class="warning-plate basic-500"><span w-i18n="modal.send.icoWarning" params="{assetName: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.name}"></span></div></div><div ng-if="$ctrl.outerSendMode && $ctrl.gatewayDetailsError" class="row"><div class="warning-plate server-error"><div class="body-2 warning-500" w-i18n="modal.receive.serverError"></div></div><w-button on-click="$ctrl.getGatewayDetails()" type="submit" class="big submit long"><span w-i18n="modal.receive.coinomat.tryAgain"></span></w-button></div><div ng-if="$ctrl.outerSendMode && $ctrl.isMoneroAddress() && !$ctrl.gatewayDetailsError"><div class="body-2" w-i18n="modal.send.moneroPaymentId"></div><w-input-container class="row"><div><w-input type="text" name="payment-id" ng-model="$ctrl.state.paymentId" placeholder="modal.send.moneroPaymentIdPlaceholder" w-i18n-attr="placeholder" ng-minlength="64" ng-maxlength="64" w-validate w-validator-pattern="^[0-9a-fA-F]+$" required></w-input></div><w-input-error message="minlength"><span w-i18n="modal.send.errors.paymentIdLength"></span></w-input-error><w-input-error message="maxlength"><span w-i18n="modal.send.errors.paymentIdLength"></span></w-input-error><w-input-error message="pattern"><span w-i18n="modal.send.errors.paymentIdPattern"></span></w-input-error><w-input-error message="required"><span w-i18n="modal.send.errors.required"></span></w-input-error></w-input-container></div><w-input-container ng-if="!$ctrl.hasOuterError && !$ctrl.isBankPending" class="margin-top-2"><div class="body-2" w-i18n="modal.send.amount"></div><div class="amount-wrap" ng-class="{\'no-mirror\': $ctrl.noMirror}"><w-balance-input name="amount" asset-id="$ctrl.state.assetId" max-balance="$ctrl.maxAmount" fee="$ctrl.feeList" input-classes="big" disabled="$ctrl.toBankMode && (!$ctrl.isVerified || !$ctrl.termsAccepted)" min="$ctrl.minAmount" on-focus="$ctrl.focus = \'amount\'" on-blur="$ctrl.focus = \'\'" amount="$ctrl.state.singleSend.amount"></w-balance-input><div class="amount-modal-icon"></div><w-balance-input ng-if="!$ctrl.noMirror" on-focus="$ctrl.focus = \'mirror\'" on-blur="$ctrl.onBlurMirror()" name="amountMirror" asset-id="$ctrl.mirrorId" fill-max="$ctrl.fillMax()" fee="$ctrl.tx.fee" input-classes="big" disabled="$ctrl.toBankMode && (!$ctrl.isVerified || !$ctrl.termsAccepted)" amount="$ctrl.mirror"></w-balance-input></div><div class="like-input-error multiline" ng-if="$ctrl.send.amount.$touched && $ctrl.send.amount.$invalid && $ctrl.focus !== \'amount\'"><div class="error"><span ng-if="$ctrl.send.amount.$error.required" class="error-list-row" w-i18n="inputs.errors.required"></span> <span ng-if="$ctrl.send.amount.$error.gt && $ctrl.tx.amount.getTokens().eq(0)" class="error-list-row" w-i18n="inputs.errors.required"></span> <span ng-if="$ctrl.send.amount.$error.gt && $ctrl.tx.amount.getTokens().gt(0)" class="error-list-row" w-i18n="inputs.errors.gtGatewayMin" params="{min: $ctrl.minimumAmount, assetName: $ctrl.tx.amount.asset.displayName}"></span> <span ng-if="$ctrl.send.amount.$error.precision" class="error-list-row" w-i18n="modal.send.errors.precision" params="{precision: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.precision}"></span> <span ng-if="$ctrl.send.amount.$error.lte && !$ctrl.tx.amount.getTokens().gte($ctrl.gatewayDetails.maximumAmount)" class="error-list-row" w-i18n="modal.send.errors.max"></span> <span ng-if="$ctrl.send.amount.$error.lte && $ctrl.tx.amount.getTokens().gte($ctrl.gatewayDetails.maximumAmount)" params="{money: $ctrl.maxGatewayAmount}" class="error-list-row" w-i18n="modal.send.errors.maxCoinomat"></span></div></div></w-input-container><w-input-container ng-if="$ctrl.toBankMode && !$ctrl.isBankPendingOrError" class="margin-top-2"><div class="body-2"><span w-i18n="modal.send.idNumberTitle"></span><w-help-icon><div w-i18n="modal.send.idNumber.helpIcon.title" class="help-icon__row headline-3"></div><div w-i18n="modal.send.idNumber.helpIcon.description" class="help-icon__row"></div></w-help-icon></div><w-input required w-validate ng-disabled="!$ctrl.termsAccepted" w-validator-pattern="\\d*" ng-model="$ctrl.state.singleSend.attachment" name="id-number" type="text"></w-input><w-input-error name="idNumber" message="required"><span w-i18n="inputs.errors.required"></span></w-input-error></w-input-container><div ng-if="!$ctrl.toBankMode && !$ctrl.hasOuterError" class="margin-top-2"><div class="body-2" w-i18n="modal.send.description"></div><w-input-container><w-input textarea="true" name="attachment" ng-model="$ctrl.state.singleSend.attachment" w-i18n-attr="placeholder" w-validate w-validator-byte-lte="140" placeholder="modal.send.descriptionPlaceholder"></w-input><w-input-error message="byteLte"><span w-i18n="modal.send.attachmentLength"></span></w-input-error></w-input-container></div><div class="fee margin-1" ng-if="!$ctrl.hasOuterError && !$ctrl.isBankPending"><w-fee-list type="::$ctrl.txType" disabled="$ctrl.toBankMode && (!$ctrl.isVerified || !$ctrl.termsAccepted)" balance-hash="$ctrl.state.moneyHash" fee="$ctrl.tx.fee"></w-fee-list></div><div class="commission-error margin-top-1 margin-2 footnote error-500" ng-if="!$ctrl.hasComission && !$ctrl.gatewayDetailsError"><span w-i18n="modal.send.validationError.notEnoughFundsWithdraw" ng-show="$ctrl.outerSendMode" params="{\n                fee: $ctrl.state.singleSend.fee,\n                getawayFee: $ctrl.gatewayDetails.gatewayFee,\n                currency: $ctrl.state.moneyHash[$ctrl.state.assetId].asset.displayName,\n                minGatewayAmount: $ctrl.gatewayDetails.minimumAmount\n              }"></span> <span w-i18n="modal.send.validationError.notEnoughFunds" ng-hide="$ctrl.outerSendMode" params="{fee: $ctrl.state.singleSend.fee}"></span></div><div ng-if="$ctrl.toBankMode && !$ctrl.isLira" class="margin-top-2"><w-coinomat-terms force-show-terms="::false" terms-pending="$ctrl.termsIsPending" load-error="$ctrl.termsLoadError" show-accepted-checkbox="::false" is-verified="$ctrl.isVerified" terms-accepted="$ctrl.termsAccepted" on-sign-start="$ctrl.onSignCoinomatStart()" on-sign-end="$ctrl.onSignCoinomatEnd()"></w-coinomat-terms></div><div ng-if="$ctrl.toBankMode && $ctrl.isLira" class="margin-top-2"><div class="warning-plate margin-2"><div class="body-2 warning-500" w-i18n="modal.receive.wtryPlate1Header"></div><div class="footnote-1 basic-500" w-i18n="modal.receive.wtryPlate1Text"></div></div><div class="row margin-3 caption-1 info-block"><i class="icon-info"></i><div w-i18n="modal.receive.wtry.info"></div></div></div><div class="margin-top-3"><a href="{{$ctrl.digiLiraUserLink}}" target="_blank" ng-if="$ctrl.toBankMode && $ctrl.isLira" class="fake-button long margin-4"><span class="fake-button-content big submit long" w-i18n="button.continue"></span></a><w-sign-button ng-if="!$ctrl.hasOuterError && !$ctrl.isBankPending && !($ctrl.toBankMode && $ctrl.isLira)" on-click="$ctrl.createTx()" on-success="$ctrl.onSignTx(signable)" disabled="$ctrl.send.$invalid || (!$ctrl.send.$invalid && !$ctrl.hasComission) || ($ctrl.toBankMode && !$ctrl.termsAccepted)"><span w-i18n="button.continue"></span></w-sign-button></div></form>');$templateCache.put("modules/wallet/modules/assets/directives/asset/asset.html",'<div w-i18n-ns="app.wallet.assets"><div class="asset"><div class="asset__top"><div class="asset__wrapper" ng-click="$ctrl.onClick({event: $event, asset: $ctrl.balance.asset, action: \'info\'})"><w-asset-logo asset-id="{{::$ctrl.balance.asset.id}}" size="30"></w-asset-logo><span class="asset__name">{{::$ctrl.balance.asset.name}}</span><div ng-if="$ctrl.isVerified" class="asset__label"><span w-i18n="modal.assetInfo.qualified" w-i18n-ns="app.utils"></span></div><div ng-if="$ctrl.isGateway" class="asset__label"><span w-i18n="modal.assetInfo.gateway" w-i18n-ns="app.utils"></span></div></div><div ng-click="$ctrl.onUnpinClick($ctrl.balance.asset)" ng-if="$ctrl.isUnpinned()" class="unpin"><div class="tooltip-holder"><span></span><div class="tooltip unpin-tooltip"><div w-i18n="Unpin"></div></div></div></div></div><div class="asset__middle" ng-click="$ctrl.onClick({event: $event, asset: $ctrl.balance.asset, action: \'info\'})"><h2 class="asset__balance"><w-balance money="$ctrl.balance.available"></w-balance></h2><div ng-if="!$ctrl.balance.regular.eq($ctrl.balance.available)" class="body-2 disabled-500 asset__balance-leasing" w-i18n="directives.asset.ofTotalBalance" params="{totalBalance: $ctrl.balance.regular.toFormat()}"></div></div></div><hr><div class="asset__footer"><div class="btn-icon icon-send" ng-click="$ctrl.onClick({event: $event, asset: $ctrl.balance.asset, action: \'send\'})"><svg width="17px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span w-i18n="directives.asset.send"></span></div><div class="btn-icon icon-receive" ng-click="$ctrl.onClick({event: $event, asset: $ctrl.balance.asset, action: \'receive\'})"><svg width="17px" height="15px" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span w-i18n="directives.asset.receive"></span></div></div></div>');$templateCache.put("modules/wallet/modules/leasing/directives/leasingBlock/leasingBlock.html",'<div class="leasing-block-title headline-4">{{::$ctrl.title}}</div><div class="leasing-block-content" ng-transclude></div>');$templateCache.put("themeConfig/candle-style.hbs","body.dex .dex-layout__tradehistory w-tabs .smart-table__row.sell .smart-table__cell[data-column-id='type' { color: red; } body.dex-demo .dex-layout__tradehistory w-tabs .smart-table__row.sell .smart-table__cell[data-column-id='type', body.dex .dex-layout__tradehistory w-tabs .smart-table__row.sell .smart-table__cell[data-column-id='status'], body.dex-demo .dex-layout__tradehistory w-tabs .smart-table__row.sell .smart-table__cell[data-column-id='status'], w-dex-trade-history .order-side.sell, w-dex-order-book .asks .cell-1, w-dex-order-book .info .last-price.sell, w-dex-order-book .info .last-price.sell:after, w-dex-order-book w-scroll-box .asks w-row .dex-layout__line-graph-fill, w-create-order .create-order .body .making-order.sell .areas .area.sell");$templateCache.put("modules/dex/directives/orderBook/orderbook.row.hbs",'<w-row class="{{#if hasOrder}}active{{/if}} {{#unless inRange}}no-market-price{{/unless}}" data-price="{{priceNum}}" data-type="{{type}}" data-amount="{{totalAmountNum}}"><div class="tooltip-dex"><span class="tooltip-ask" w-i18n="orderbook.ask.tooltipText">{{buyTooltip}}</span> <span class="tooltip-bid" w-i18n="orderbook.bid.tooltipText">{{sellTooltip}}</span></div><div class="table-row"><div class="dex-layout__line-graph"><div style="width: {{{width}}}%" class="dex-layout__line-graph-fill"></div></div><w-cell class="cell-0"><div class="table-cell">{{{amount}}}</div></w-cell><w-cell class="cell-1"><div class="table-cell">{{{price}}}</div></w-cell><w-cell class="cell-2"><div class="table-cell">{{{total}}}</div></w-cell></div></w-row>');$templateCache.put("modules/wallet/modules/portfolio/directives/portfolioRow/row.hbs",'<div class="smart-table__name smart-table__cell" data-column-id="name"><div class="cell {{SELECTORS.SPONSORED}}">{{#if assetIconPath}}<div class="asset__logo asset__logo-custom margin-right-1 footnote-3" style="width: 30px; height: 30px; background-image: url({{assetIconPath}});"><div class="marker"></div></div>{{else}}<div class="asset__logo margin-right-1 footnote-3" style="width: 30px; height: 30px; background-color: {{charColor}}; font-size: 13px;">{{firstAssetChar}}<div class="marker" style="background-color: {{charColor}}"></div></div>{{/if}}<div class="asset-name-desktop asset__wrapper"><div>{{assetName}}</div>{{#if isVerified}} <span class="asset__label" w-i18n-literal="qualified"></span> {{/if}} {{#if isGateway}} <span class="asset__label" w-i18n-literal="gateway"></span> {{/if}}</div></div></div><div class="smart-table__available smart-table__cell" data-column-id="balance"><div class="cell"><div class="asset-wrapper mobiles-only"><div><span class="basic-500 footnote-3">{{assetName}}</span></div>{{#if isVerified}} <span class="asset__label" w-i18n-literal="qualified"></span> {{/if}}</div><span class="{{SELECTORS.AVAILABLE}}"></span></div></div><div class="smart-table__in-orders smart-table__cell" data-column-id="inOrders"><div class="cell"><span class="{{SELECTORS.IN_ORDERS}}"></span></div></div><div class="smart-table__available-value smart-table__cell" data-column-id="mirror"><div class="cell"><span class="{{SELECTORS.BASE_ASSET_BALANCE}}"></span></div></div><div class="smart-table__chart-wrap smart-table__cell" data-column-id="rate"><div class="cell"><span class="{{SELECTORS.EXCHANGE_RATE}}"></span><div class="{{SELECTORS.CHART_CONTAINER}} chart-asset-rate"></div></div></div><div class="smart-table__change smart-table__cell" data-column-id="change24"><div class="cell"><span class="{{SELECTORS.CHANGE_24}}"></span></div></div><div class="smart-table__control-cell smart-table__cell" data-column-id="controls"><div class="cell"><span class="icon icon-send {{SELECTORS.BUTTONS.SEND}}" role="button" tabindex="0"><svg width="17px" height="14px" viewBox="0 0 15 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span w-i18n-literal="send"></span> </span><span class="icon icon-receive {{SELECTORS.BUTTONS.RECEIVE}}" role="button" tabindex="0"><svg width="17px" height="14px" viewBox="0 0 15 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M15.7261538,5.95734828 L15.7261538,5.95734828 C15.9214159,6.15261042 15.9214159,6.46919291 15.7261538,6.66445506 L8.50013244,13.8904765 L1.3118034,6.70753193 C1.1164681,6.51234296 1.11634949,6.19576049 1.31153846,6.0004252 L1.31153846,6.0004252 C1.50672743,5.80508991 1.8233099,5.8049713 2.01864519,6.00016027 L8.49986756,12.4765278 L15.019047,5.95734828 C15.2143092,5.76208613 15.5308917,5.76208613 15.7261538,5.95734828 Z" id="Shape-Copy-2" transform="translate(8.518912, 9.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -9.747136) "></path><path d="M8.49986756,7.47652778 L15.019047,0.957348251 C15.2143092,0.762086104 15.5308917,0.762086102 15.7261538,0.957348247 L15.7261538,0.957348247 C15.9214159,1.15261039 15.9214159,1.46919288 15.7261538,1.66445503 L8.50013244,8.89047647 L1.31180339,1.70753191 C1.1164681,1.51234293 1.11634949,1.19576047 1.31153846,1.00042518 L1.31153846,1.00042518 C1.50672744,0.805089886 1.8233099,0.804971272 2.01864519,1.00016024 L8.49986756,7.47652778 Z" id="Shape-Copy-3" transform="translate(8.518912, 4.747136) scale(-1, 1) rotate(-180.000000) translate(-8.518912, -4.747136) "></path></svg> <span w-i18n-literal="receive"></span> </span>{{#if canShowDex}} <span class="icon icon-dex {{SELECTORS.BUTTONS.DEX}}" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path d="M2 6.48v5.68h2.48V6.48H2zm.75-1V2a.5.5 0 0 1 1 0v3.48h.73a1 1 0 0 1 1 1v5.68a1 1 0 0 1-1 1h-.73V16a.5.5 0 1 1-1 0v-2.84H2a1 1 0 0 1-1-1V6.48a1 1 0 0 1 1-1h.75zM7.76 4.56v3.12h2.48V4.56H7.76zm.74-1V1.5a.5.5 0 0 1 1 0v2.06h.74a1 1 0 0 1 1 1v3.12a1 1 0 0 1-1 1H9.5v1.82a.5.5 0 0 1-1 0V8.68h-.74a1 1 0 0 1-1-1V4.56a1 1 0 0 1 1-1h.74zM13.52 4.56v6.32H16V4.56h-2.48zm.73-1V1.5a.5.5 0 1 1 1 0v2.06H16a1 1 0 0 1 1 1v6.32a1 1 0 0 1-1 1h-.75v3.62a.5.5 0 1 1-1 0v-3.62h-.73a1 1 0 0 1-1-1V4.56a1 1 0 0 1 1-1h.73z"/></svg> <span w-i18n-literal="dex"></span> </span>{{/if}} {{#if canShowToggleSpam}} <span class="icon spam-icons {{SELECTORS.BUTTONS.TOGGLE_SPAM}}"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill-rule="nonzero" d="M15.581 2.956L3.206 15.331a.544.544 0 0 1-.787 0 .544.544 0 0 1 0-.787L14.794 2.169a.544.544 0 0 1 .787 0 .544.544 0 0 1 0 .787zM5.625 8.75c0 .31.056.59.112.872L6.75 8.609a2.238 2.238 0 0 1 2.081-2.08l1.013-1.013a2.967 2.967 0 0 0-.872-.113c-1.828-.028-3.347 1.49-3.347 3.347zm3.516 2.222l-1.013 1.012c.281.085.563.113.872.113a3.385 3.385 0 0 0 3.375-3.375c0-.31-.056-.59-.113-.872L11.25 8.863c-.084 1.153-.984 2.053-2.11 2.109zm-5.232.478c-1.04-.703-1.968-1.603-2.671-2.7A9.214 9.214 0 0 1 9 4.531c.563 0 1.125.057 1.688.14l.956-.955a10.108 10.108 0 0 0-2.616-.338c-3.684 0-7.031 1.885-8.915 5.063a.558.558 0 0 0 0 .59c.787 1.322 1.828 2.39 3.009 3.235l.787-.816zm14.007-2.981c-.788-1.322-1.829-2.39-3.01-3.235l-.815.816c1.04.703 1.968 1.603 2.671 2.7A9.178 9.178 0 0 1 9 12.969c-.563 0-1.125-.056-1.688-.14l-.956.955c.844.225 1.716.338 2.616.338 3.684 0 7.031-1.884 8.915-5.063a.51.51 0 0 0 .029-.59z"/></svg> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path fill-rule="nonzero" d="M9 5.619a3.385 3.385 0 0 0-3.375 3.375A3.385 3.385 0 0 0 9 12.369a3.385 3.385 0 0 0 3.375-3.375A3.385 3.385 0 0 0 9 5.619zm0 5.625a2.257 2.257 0 0 1-2.25-2.25A2.257 2.257 0 0 1 9 6.744a2.257 2.257 0 0 1 2.25 2.25A2.257 2.257 0 0 1 9 11.244zm8.916-2.532C16.03 5.534 12.684 3.65 9 3.65S1.969 5.534.084 8.712a.558.558 0 0 0 0 .591C1.97 12.453 5.316 14.337 9 14.337s7.031-1.884 8.916-5.062a.51.51 0 0 0 0-.563zM9 13.212a9.178 9.178 0 0 1-7.763-4.218A9.214 9.214 0 0 1 9 4.775a9.214 9.214 0 0 1 7.762 4.219A9.178 9.178 0 0 1 9 13.212z"/></svg> <span w-i18n-literal="tospam" class="tospam"></span> <span w-i18n-literal="unspam" class="unspam"></span> </span>{{/if}}<div class="w-actions"><div class="actions-wrapper"><div class="click-area" role="button" tabindex="0"><div class="dots"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><div class="actions-container"><div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.ASSET_INFO}}" role="button" tabindex="0"><span w-i18n-literal="info"></span></div><div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.SEND}}" role="button" tabindex="0"><span w-i18n-literal="send"></span></div><div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.RECEIVE}}" role="button" tabindex="0"><span w-i18n-literal="receive"></span></div>{{#if canBurn}}<div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.BURN}}" role="button" tabindex="0"><span w-i18n-literal="burn"></span></div>{{/if}} {{#if canReissue}}<div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.REISSUE}}" role="button" tabindex="0"><span w-i18n-literal="reissue"></span></div>{{/if}}<div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.SPONSORSHIP_CREATE}}" role="button" tabindex="0"><span w-i18n-literal="sponsorship"></span></div><div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.SPONSORSHIP_EDIT}}" role="button" tabindex="0"><span w-i18n-literal="sponsorshipChange"></span></div><div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.SPONSORSHIP_STOP}}" role="button" tabindex="0"><span w-i18n-literal="sponsorshipStop"></span></div>{{#if canShowDex}}<div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.DEX}}" role="button" tabindex="0"><span w-i18n-literal="dex"></span></div>{{/if}} {{#if canShowToggleSpam}}<div class="action disabled-900 body-2 {{SELECTORS.ACTION_BUTTONS.TOGGLE_SPAM}}" role="button" tabindex="0"><span w-i18n-literal="tospam" class="tospam"></span> <span w-i18n-literal="unspam" class="unspam"></span></div>{{/if}}</div></div></div></div></div></div>')}]);